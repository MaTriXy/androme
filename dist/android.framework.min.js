var android=function(){"use strict";var L=Math.round,w=Math.abs,B=Math.min,P=String.fromCharCode,C=Math.ceil,k=Math.max,X=Math.floor;function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0,a;n<t.length;n++)a=t[n],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}function a(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return t&&("object"==typeof t||"function"==typeof t)?t:d(e)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=r(e),null!==e););return e}function p(e,t,n){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=c(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(n):o.value}},p(e,t,n||e)}function h(e,t){return m(e)||A(e,t)||_()}function u(e){return g(e)||f(e)||T()}function g(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function m(e){if(Array.isArray(e))return e}function f(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function A(e,t){var n=[],a=!0,o=!1,i=void 0;try{for(var r=e[Symbol.iterator](),l;!(a=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));a=!0);}catch(e){o=!0,i=e}finally{try{a||null==r["return"]||r["return"]()}finally{if(o)throw i}}return n}function T(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function y(){Jt={android:["parent"]}}function b(e,t){var n=t,a=1,o=t.match(/^(\w+)_([0-9]+)$/);o&&(n=o[1],a=parseInt(o[2])),null==Jt[e]&&(Jt[e]=[]);do if(!Jt[e].includes(t)){Jt[e].push(t);break}else t="".concat(n,"_").concat(a++);while(!0);return t}function N(e){return e?e.replace(/@\+?id\//,""):""}function D(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:160,n=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];return e&&(e=parseFloat(e),!isNaN(e))?(e/=t/160,e=1<=e||0===e?X(e):e.toFixed(2),e+(n?"sp":"dp")):"0dp"}function E(e,t,n,a){var o=a.dimensResourceValue;return!(void 0!==o)||o?"{%".concat(e.toLowerCase(),",").concat(t,",").concat(n,"}"):n}function R(e,t){var n=t.density,a=void 0===n?160:n,o=t.convertPixels,i=void 0===o?"dp":o,r=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];return"dp"===i?e.replace(/("|>)(-)?([0-9]+(?:\.[0-9]+)?px)("|<)/g,function(){return(1>=arguments.length?void 0:arguments[1])+((2>=arguments.length?void 0:arguments[2])||"")+D(3>=arguments.length?void 0:arguments[3],a,r)+(4>=arguments.length?void 0:arguments[4])}):e}function I(e,t,n){return parseFloat(k(0===e?0:0===t?1:e/(e+t),0).toFixed(n))}function O(e,t){var n=t.supportRTL,a=t.targetAPI,o=void 0===a?M.JELLYBEAN_1:a;return(void 0===n||n)&&o>=M.JELLYBEAN_1&&(e=e.replace(/left/g,"start").replace(/right/g,"end"),e=e.replace(/Left/g,"Start").replace(/Right/g,"End")),e}function v(e,t){return e.toString().toLowerCase()>=t.toString().toLowerCase()?1:-1}function S(){var e=Qt.application;return!(!e.settings.autoCloseOnWrite||e.loading||e.closed)&&(e.finalize(),!0)}var M;(function(e){e[e.PIE=28]="PIE",e[e.OREO_1=27]="OREO_1",e[e.OREO=26]="OREO",e[e.NOUGAT_1=25]="NOUGAT_1",e[e.NOUGAT=24]="NOUGAT",e[e.MARSHMALLOW=23]="MARSHMALLOW",e[e.LOLLIPOP_1=22]="LOLLIPOP_1",e[e.LOLLIPOP=21]="LOLLIPOP",e[e.KITKAT_1=20]="KITKAT_1",e[e.KITKAT=19]="KITKAT",e[e.JELLYBEAN_2=18]="JELLYBEAN_2",e[e.JELLYBEAN_1=17]="JELLYBEAN_1",e[e.JELLYBEAN=16]="JELLYBEAN",e[e.ICE_CREAM_SANDWICH_1=15]="ICE_CREAM_SANDWICH_1",e[e.ICE_CREAM_SANDWICH=14]="ICE_CREAM_SANDWICH",e[e.ALL=0]="ALL",e[e.LATEST=28]="LATEST"})(M||(M={}));var G;(function(e){e[e.LDPI=120]="LDPI",e[e.MDPI=160]="MDPI",e[e.HDPI=240]="HDPI",e[e.XHDPI=320]="XHDPI",e[e.XXHDPI=480]="XXHDPI",e[e.XXXHDPI=640]="XXXHDPI"})(G||(G={}));var H={CHECKBOX:"CheckBox",RADIO:"RadioButton",EDIT:"EditText",SELECT:"Spinner",RANGE:"SeekBar",TEXT:"TextView",IMAGE:"ImageView",BUTTON:"Button",LINE:"View",SPACE:"Space",WEB_VIEW:"WebView",FRAME:"FrameLayout",LINEAR:"LinearLayout",RADIO_GROUP:"RadioGroup",GRID:"android.support.v7.widget.GridLayout",RELATIVE:"RelativeLayout",CONSTRAINT:"android.support.constraint.ConstraintLayout",SCROLL_HORIZONTAL:"HorizontalScrollView",SCROLL_VERTICAL:"android.support.v4.widget.NestedScrollView",GUIDELINE:"android.support.constraint.Guideline"},W={MARGIN:"layout_margin",MARGIN_VERTICAL:"layout_marginVertical",MARGIN_HORIZONTAL:"layout_marginHorizontal",MARGIN_TOP:"layout_marginTop",MARGIN_RIGHT:"layout_marginRight",MARGIN_BOTTOM:"layout_marginBottom",MARGIN_LEFT:"layout_marginLeft",PADDING:"padding",PADDING_VERTICAL:"paddingVertical",PADDING_HORIZONTAL:"paddingHorizontal",PADDING_TOP:"paddingTop",PADDING_RIGHT:"paddingRight",PADDING_BOTTOM:"paddingBottom",PADDING_LEFT:"paddingLeft"},V={HORIZONTAL:"horizontal",VERTICAL:"vertical"},z={android:"http://schemas.android.com/apk/res/android",app:"http://schemas.android.com/apk/res-auto",tools:"http://schemas.android.com/tools"},F={"sans-serif":M.ICE_CREAM_SANDWICH,"sans-serif-thin":M.JELLYBEAN,"sans-serif-light":M.JELLYBEAN,"sans-serif-condensed":M.JELLYBEAN,"sans-serif-condensed-light":M.JELLYBEAN,"sans-serif-medium":M.LOLLIPOP,"sans-serif-black":M.LOLLIPOP,"sans-serif-smallcaps":M.LOLLIPOP,"serif-monospace":M.LOLLIPOP,serif:M.LOLLIPOP,casual:M.LOLLIPOP,cursive:M.LOLLIPOP,monospace:M.LOLLIPOP,"sans-serif-condensed-medium":M.OREO},U={arial:"sans-serif",helvetica:"sans-serif",tahoma:"sans-serif",verdana:"sans-serif",times:"serif","times new roman":"serif",palatino:"serif",georgia:"serif",baskerville:"serif",goudy:"serif",fantasy:"serif","itc stone serif":"serif","sans-serif-monospace":"monospace",monaco:"monospace",courier:"serif-monospace","courier new":"serif-monospace"},j={"ms shell dlg \\32":"sans-serif","system-ui":"sans-serif","-apple-system":"sans-serif"},Y={100:"thin",200:"extra_light",300:"light",400:"normal",500:"medium",600:"semi_bold",700:"bold",800:"extra_bold",900:"black"},Z=["STRONG","B","EM","CITE","DFN","I","BIG","SMALL","FONT","BLOCKQUOTE","TT","A","U","SUP","SUB","STRIKE","H1","H2","H3","H4","H5","H6","DEL","LABEL","BR","PLAINTEXT"],K=["abstract","assert","boolean","break","byte","case","catch","char","class","const","continue","default","double","do","else","enum","extends","false","final","finally","float","for","goto","if","implements","import","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","void","volatile","while"],J=(Kt={},o(Kt,M.PIE,{android:[],app:[],customizations:{}}),o(Kt,M.OREO_1,{android:[],app:[],customizations:{}}),o(Kt,M.OREO,{android:["fontWeight","layout_marginHorizontal","layout_marginVertical","paddingHorizontal","paddingVertical"],app:[],customizations:{}}),o(Kt,M.NOUGAT_1,{android:[],app:[],customizations:{}}),o(Kt,M.NOUGAT,{android:[],app:[],customizations:{}}),o(Kt,M.MARSHMALLOW,{android:[],app:[],customizations:{}}),o(Kt,M.LOLLIPOP_1,{android:[],app:[],customizations:{}}),o(Kt,M.LOLLIPOP,{android:["layout_columnWeight"],app:[],customizations:{}}),o(Kt,M.KITKAT_1,{android:[],app:[],customizations:{}}),o(Kt,M.KITKAT,{android:[],app:[],customizations:{}}),o(Kt,M.JELLYBEAN_2,{android:[],app:[],customizations:{}}),o(Kt,M.JELLYBEAN_1,{android:["labelFor"],app:[],customizations:{}}),o(Kt,M.JELLYBEAN,{android:[],app:[],customizations:{}}),o(Kt,M.ICE_CREAM_SANDWICH_1,{android:[],app:[],customizations:{}}),o(Kt,M.ICE_CREAM_SANDWICH,{android:[],app:[],customizations:{}}),o(Kt,M.ALL,{android:[],app:[],customizations:{SUB:{android:{layout_marginTop:"6px"}},SUP:{android:{layout_marginTop:"-4px"}},Button:{android:{textAllCaps:"false"}}}}),Kt),Q=[androme.lib.enumeration,androme.lib.constant,androme.lib.util,androme.lib.dom,androme.lib.base.NodeList],q=Q[0],$=Q[1],ee=Q[2],te=Q[3],ne=Q[4],ae=function(e){return(/*#__PURE__*/function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=1<arguments.length?arguments[1]:void 0,o;return t(this,n),o=s(this,r(n).call(this,e,a)),o.api=0,o.children=[],o.renderChildren=[],o._namespaces=new Set(["android","app"]),o._boxAdjustment=te.getBoxModel(),o._boxReset=te.getBoxModel(),o._android={},o._app={},o.constraint={current:{}},o}return i(n,e),a(n,[{key:"attr",value:function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return this.supported(e,t)?p(r(n.prototype),"attr",this).call(this,e,t,a,o):""}},{key:"android",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return this.attr("android",e,t,n),this._android[e]||""}},{key:"app",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return this.attr("app",e,t,n),this._app[e]||""}},{key:"apply",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);for(var a in p(r(n.prototype),"apply",this).call(this,t),t)this.formatted("".concat(a,"=\"").concat(t[a],"\""))}},{key:"formatted",value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=e.match(/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/);n&&this.attr(n[1]||"_",n[2],n[3],t)}},{key:"anchor",value:function(e,t,n,a){1!==arguments.length&&null!=this.constraint.current[e]&&this.constraint.current[e].overwrite&&(!n||this.constraint[n])||(null==a&&(a="parent"===t||"true"===t),this[this.renderParent.controlName===H.RELATIVE?"android":"app"](e,t,a),n&&(this.constraint[n]=!0),this.constraint.current[e]={adjacent:t,orientation:n,overwrite:a})}},{key:"alignParent",value:function(e,t){if(this.renderParent.is(q.NODE_STANDARD.CONSTRAINT,q.NODE_STANDARD.RELATIVE)){var n=this.renderParent.controlName===H.CONSTRAINT,a=ee.capitalize(O(e,t)),o=n?"layout_constraint".concat(a,"_to").concat(a,"Of"):"layout_alignParent".concat(a);return this[n?"app":"android"](o)===(n?"parent":"true")}return!1}},{key:"horizontalBias",value:function(e){var t=e.constraintPercentAccuracy,n=void 0===t?4:t,a=this.documentParent;if(a!==this){var o=k(0,this.linear.left-a.box.left),i=k(0,a.box.right-this.linear.right);return I(o,i,n)}return .5}},{key:"verticalBias",value:function(e){var t=e.constraintPercentAccuracy,n=void 0===t?4:t,a=this.documentParent;if(a!==this){var o=k(0,this.linear.top-a.box.top),i=k(0,a.box.bottom-this.linear.bottom);return I(o,i,n)}return .5}},{key:"modifyBox",value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],a="number"==typeof e?ee.convertEnum(e,q.BOX_STANDARD,W):"";if(0!==t&&(""!==a||ee.isString(e))){var o=ee.isString(e)?e:a.replace("layout_","");null!=this._boxReset[o]&&(null==t?this._boxReset[o]=1:(this._boxAdjustment[o]+=t,!n&&(this._boxAdjustment[o]=k(0,this._boxAdjustment[o]))))}}},{key:"valueBox",value:function(e){var t=ee.convertEnum(e,q.BOX_STANDARD,W);if(""!==t){var n=t.replace("layout_","");return[this._boxReset[n]||0,this._boxAdjustment[n]||0]}return[0,0]}},{key:"supported",value:function(e,t){if(0<this.api)for(var n=this.api+1,a;n<=M.LATEST;n++)if(a=J[n],a&&a[e]&&a[e].includes(t))return!1;return!0}},{key:"combine",value:function(){for(var e=[],t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];var o=!0,i=!1,r=void 0;try{for(var l=this._namespaces.values()[Symbol.iterator](),d;!(o=(d=l.next()).done);o=!0){var s=d.value,c=this["_".concat(s)];if(0===n.length||n.includes(s))for(var p in c)"_"===s?e.push("".concat(p,"=\"").concat(c[p],"\"")):e.push("".concat(s,":").concat(p,"=\"").concat(c[p],"\""))}}catch(e){i=!0,r=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw r}}return e.sort(function(e,t){return e.startsWith("android:id=")?-1:t.startsWith("android:id=")?1:e>t?1:-1})}},{key:"clone",value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],a=new n(e||this.id,this.element);return a.api=this.api,a.nodeId=this.nodeId,a.nodeType=this.nodeType,a.controlName=this.controlName,a.alignmentType=this.alignmentType,a.depth=this.depth,a.rendered=this.rendered,a.renderDepth=this.renderDepth,a.renderParent=this.renderParent,a.renderExtension=this.renderExtension,a.documentRoot=this.documentRoot,a.documentParent=this.documentParent,t&&(a.children=this.children.slice()),a.inherit(this,"initial","base","style","styleMap"),a}},{key:"setNodeType",value:function(e){for(var t in H)if(H[t]===e&&null!=q.NODE_STANDARD[t]){this.nodeType=q.NODE_STANDARD[t];break}if(this.controlName=e,""!==this.android("id")&&(this.nodeId=N(this.android("id"))),!this.nodeId){var n=this.element,a=ee.trimNull(n.id||n.name);K.includes(a)&&(a+="_1"),this.nodeId=ee.convertWord(b("android",a||"".concat(ee.lastIndexOf(this.controlName,".").toLowerCase(),"_1"))),this.android("id",this.stringId)}}},{key:"setLayout",value:function(){var e=this;if(this.nodeType>=q.NODE_STANDARD.SCROLL_HORIZONTAL)this.android("layout_width",this.nodeType===q.NODE_STANDARD.SCROLL_HORIZONTAL&&this.has("width",q.CSS_STANDARD.UNIT)?this.css("width"):"wrap_content"),this.android("layout_height",this.nodeType===q.NODE_STANDARD.SCROLL_VERTICAL&&this.has("height",q.CSS_STANDARD.UNIT)?this.css("height"):"wrap_content");else if(this.renderParent.nodeType>=q.NODE_STANDARD.SCROLL_HORIZONTAL)this.renderParent.is(q.NODE_STANDARD.SCROLL_HORIZONTAL)?(this.android("layout_width","wrap_content",!1),this.android("layout_height","match_parent",!1)):(this.android("layout_width","match_parent",!1),this.android("layout_height","wrap_content",!1));else{var t=this.documentParent,n=this.renderParent,a=this.renderChildren,o=this.linear?this.linear.width:this.hasElement?this.element.clientWidth+this.borderLeftWidth+this.borderRightWidth+this.marginLeft+this.marginRight:0,i=this.linear?this.linear.height:this.hasElement?this.element.clientHeight+this.borderTopWidth+this.borderBottomWidth+this.marginTop+this.marginBottom:0,r=t.initial.box?t.initial.box.width:t.element instanceof HTMLElement?t.element.offsetWidth-(t.paddingLeft+t.paddingRight+t.borderLeftWidth+t.borderRightWidth):0,l=t.initial.box?t.initial.box.height:t.element instanceof HTMLElement?t.element.offsetHeight-(t.paddingTop+t.paddingBottom+t.borderTopWidth+t.borderBottomWidth):0,d=this.styleMap,s=this.constraint,c="TABLE"===this.tagName;if((this.documentBody||this.documentRoot&&!this.flex.enabled&&this.is(q.NODE_STANDARD.FRAME,q.NODE_STANDARD.CONSTRAINT,q.NODE_STANDARD.RELATIVE))&&(!this.hasWidth&&this.block&&!s.layoutHorizontal&&this.android("layout_width","match_parent",!1),!this.hasHeight&&this.cascade().some(function(e){return!e.pageflow})&&!s.layoutHeight&&!s.layoutVertical&&this.android("layout_height","match_parent",!1)),this.of(q.NODE_STANDARD.GRID,q.NODE_ALIGNMENT.PERCENT))this.android("layout_width","match_parent");else{if("0px"!==this.android("layout_width")){if(0<this.toInt("width")&&(!this.inlineStatic||n.is(q.NODE_STANDARD.GRID)||!this.has("width",0,{map:"initial"})))if(!this.has("width",q.CSS_STANDARD.PERCENT))this.android("layout_width",0<ee.convertInt(t.android("layout_width"))&&0<t.viewWidth&&this.viewWidth>=t.viewWidth?"match_parent":d.width,"TABLE"!==n.tagName);else if("100%"===d.width)this.android("layout_width","match_parent",!1);else if(n.of(q.NODE_STANDARD.GRID,q.NODE_ALIGNMENT.PERCENT))this.android("layout_width","0px"),this.app("layout_columnWeight",(parseInt(d.width)/100).toFixed(2));else{var p=C(this.bounds.width)-(c?0:this.paddingLeft+this.paddingRight+this.borderLeftWidth+this.borderRightWidth);this.android("layout_width",ee.formatPX(p),!1)}if(s.layoutWidth&&(s.layoutHorizontal?this.android("layout_width",t.hasWidth?"match_parent":"wrap_content",!1):this.android("layout_width",this.bounds.width>=r?"match_parent":ee.formatPX(this.bounds.width),!1)),this.has("minWidth",q.CSS_STANDARD.UNIT)&&(this.android("layout_width","wrap_content",!1),this.android("minWidth",d.minWidth,!1)),!this.documentBody&&this.has("maxWidth",q.CSS_STANDARD.UNIT)&&this.layoutVertical){var h=this.css("maxWidth"),u=!0,g=!1,m=void 0;try{for(var f=a[Symbol.iterator](),A,T;!(u=(A=f.next()).done);u=!0)T=A.value,T.is(q.NODE_STANDARD.TEXT)&&!T.has("maxWidth")&&T.android("maxWidth",h)}catch(e){g=!0,m=e}finally{try{u||null==f.return||f.return()}finally{if(g)throw m}}}}if(""===this.android("layout_width")){var _=a.filter(function(e){return!e.autoMargin&&e.has("width",q.CSS_STANDARD.UNIT,{map:"initial"})});if(0<ee.convertFloat(this.app("layout_columnWeight")))this.android("layout_width","0px");else if(0<_.length&&_.some(function(t){return t.bounds.width>=e.box.width}))this.android("layout_width","wrap_content");else if(this.blockStatic&&this.hasAlign(q.NODE_ALIGNMENT.VERTICAL)||!this.documentRoot&&a.some(function(e){return e.hasAlign(q.NODE_ALIGNMENT.VERTICAL)&&!e.has("width")}))this.android("layout_width","match_parent");else{var y=k.apply(null,a.filter(function(e){return e.inlineElement&&"right"!==e.float}).map(function(e){return e.linear.right}))||0,b=this.nodeType<q.NODE_STANDARD.INLINE||this.inlineElement||!this.pageflow||!this.siblingflow||"table"===this.display||t.flex.enabled||n.inlineElement&&!n.hasWidth&&!this.inlineElement&&this.nodeType>q.NODE_STANDARD.BLOCK||n.is(q.NODE_STANDARD.GRID);if(this.is(q.NODE_STANDARD.GRID)&&ee.withinFraction(y,this.box.right))this.android("layout_width","wrap_content");else if(!b||this.blockStatic&&!this.has("maxWidth")){var N=this.previousSibling(),D=this.nextSibling();(o>=r||this.linearVertical&&!this.floating&&!this.autoMargin||this.hasElement&&this.blockStatic&&(this.documentParent.documentBody||this.ascend().every(function(e){return e.blockStatic})||this.documentParent.blockStatic&&this.nodeType<=q.NODE_STANDARD.LINEAR&&(!N||!N.floating)&&(!D||!D.floating))||this.is(q.NODE_STANDARD.FRAME)&&a.some(function(e){return e.blockStatic&&(e.autoMarginHorizontal||e.autoMarginLeft)})||!this.hasElement&&0<this.length&&a.some(function(t){return t.linear.width>=e.documentParent.box.width})&&!a.some(function(e){return e.plainText&&e.multiLine}))&&this.android("layout_width","match_parent")}this.android("layout_width","wrap_content",!1)}}}if("0px"!==this.android("layout_height")){if(0<this.toInt("height")&&(!this.inlineStatic||!this.has("height",0,{map:"initial"})))if(!this.has("height",q.CSS_STANDARD.PERCENT))this.android("layout_height","hidden"===this.css("overflow")&&this.toInt("height")<this.box.height?"wrap_content":d.height);else if("100%"===d.height)this.android("layout_height","match_parent",!1);else{var E=C(this.bounds.height);c||(E-=this.paddingTop+this.paddingBottom+this.borderTopWidth+this.borderBottomWidth),this.android("layout_height",ee.formatPX(E),!1)}if(s.layoutHeight)if(s.layoutVertical)this.android("layout_height","wrap_content",!1);else if(this.documentRoot){var R=k.apply(null,a.filter(function(e){return e.pageflow}).map(function(e){return e.linear.bottom}))||0;this.android("layout_height",0<R?ee.formatPX(R+this.paddingBottom+this.borderBottomWidth):"match_parent",!1)}else this.android("layout_height",this.actualHeight<l?ee.formatPX(this.actualHeight):"match_parent",!1);if(this.has("minHeight",q.CSS_STANDARD.UNIT)&&(this.android("layout_height","wrap_content",!1),this.android("minHeight",d.minHeight,!1)),!this.documentBody&&this.has("maxHeight",q.CSS_STANDARD.UNIT)&&this.layoutHorizontal){var I=this.css("maxHeight"),O=!0,v=!1,S=void 0;try{for(var x=a[Symbol.iterator](),L,w;!(O=(L=x.next()).done);O=!0)w=L.value,w.is(q.NODE_STANDARD.TEXT)&&!w.has("maxWidth")&&w.android("maxWidth",I)}catch(e){v=!0,S=e}finally{try{O||null==x.return||x.return()}finally{if(v)throw S}}}}if(""===this.android("layout_height"))if(i>=l&&t.hasHeight&&!(this.inlineElement&&this.nodeType<q.NODE_STANDARD.INLINE)&&!(n.is(q.NODE_STANDARD.RELATIVE)&&n.inlineHeight))this.android("layout_height","match_parent");else{if(0<this.lineHeight&&!this.plainText&&!n.linearHorizontal){var B=this.actualHeight+n.paddingTop+n.paddingBottom;this.inlineElement&&0<B&&this.lineHeight>=B?(this.android("layout_height",ee.formatPX(B)),this.modifyBox(q.BOX_STANDARD.PADDING_TOP,null),this.modifyBox(q.BOX_STANDARD.PADDING_BOTTOM,null)):this.block&&0<this.box.height&&this.lineHeight===this.box.height&&this.android("layout_height",ee.formatPX(B))}this.android("layout_height","wrap_content",!1)}}"hidden"===this.cssParent("visibility",!0)&&this.android("visibility","invisible")}},{key:"setAlignment",value:function(e){function t(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var o=u(ee.trimNull(e).split("|")).concat(n).filter(function(e){return e});switch(o.length){case 0:return"";case 1:return o[0];default:for(var r="",l="",d="",s=0,c;s<o.length;s++)switch(c=o[s],c){case"center":r="center_horizontal",l="center_vertical";break;case"left":case"start":case"right":case"end":case"center_horizontal":r=c;break;case"top":case"bottom":case"center_vertical":l=c;break;default:d+=(""===d?"":"|")+c;}var p=[r,l].filter(function(e){return e}),h=2===p.filter(function(e){return-1!==e.indexOf("center")}).length?"center":p.join("|");return""===h?d:""===d?h:"".concat(h,"|").concat(d);}}function n(e){if(!e.blockWidth){var n=[],a="auto"===e.css("marginLeft"),o="auto"===e.css("marginRight"),i="auto"===e.css("marginTop"),r="auto"===e.css("marginBottom");if(a&&o?n.push("center_horizontal"):a&&!o?n.push(s):!a&&o&&n.push(d),i&&r?n.push("center_vertical"):i&&!r?n.push("bottom"):!i&&r&&n.push("top"),0<n.length){var c=e.blockWidth?"gravity":"layout_gravity";return e[l](c,t.apply(void 0,[e[l](c)].concat(n))),!0}}return!1}function a(e){return"left"===e||"start"===e?d:"right"===e||"end"===e?s:"center"===e?"center_horizontal":""}function o(e){return""===c||e===s?e:c}var i=this.renderParent,r=this.cssParent("textAlign"),l=i.is(q.NODE_STANDARD.GRID)?"app":"android",d=O("left",e),s=O("right",e),c=this.styleMap.textAlign||"",p="",h="";if(!(this.floating||i.of(q.NODE_STANDARD.RELATIVE,q.NODE_ALIGNMENT.MULTILINE)))switch(this.styleMap.verticalAlign){case"top":case"text-top":p="top",i.linearHorizontal&&this.inlineHeight&&this.android("layout_height","match_parent");break;case"middle":(this.inline||"table-cell"===this.documentParent.css("display")||this.inlineStatic&&0<this.documentParent.lineHeight)&&(p="center_vertical");break;case"bottom":case"text-bottom":p="bottom";}""===p&&0<this.lineHeight&&!this.blockHeight&&(p="center_vertical"),(i.linearVertical||this.documentRoot&&this.linearVertical)&&("right"===this.float?this[l]("layout_gravity",s):n(this)),this.hasAlign(q.NODE_ALIGNMENT.FLOAT)&&(this.hasAlign(q.NODE_ALIGNMENT.RIGHT)||this.renderChildren.some(function(e){return e.hasAlign(q.NODE_ALIGNMENT.RIGHT)})?h=s:(this.hasAlign(q.NODE_ALIGNMENT.LEFT)||this.renderChildren.some(function(e){return e.hasAlign(q.NODE_ALIGNMENT.LEFT)}))&&(h=d)),"TABLE"===i.tagName&&(this[l]("layout_gravity",t(this[l]("layout_gravity"),"fill")),""===c&&"TH"===this.tagName&&(c="center"),""===p&&(p="center_vertical")),i.is(q.NODE_STANDARD.FRAME)?!n(this)&&(h=h||this.float,"none"!==h&&(i.inlineWidth||this.singleChild&&!i.documentRoot?i.android("layout_gravity",t(i.android("layout_gravity"),O(h,e))):this.blockWidth?c=o(h):this.android("layout_gravity",t(this.android("layout_gravity"),O(h,e))))):""!==h&&(this.is(q.NODE_STANDARD.LINEAR)?this.blockWidth?c=o(h):this[l]("layout_gravity",t(this[l]("layout_gravity"),h)):i.hasAlign(q.NODE_ALIGNMENT.VERTICAL)&&(c=o(h))),""!==r&&O(r,e)!==d&&(i.is(q.NODE_STANDARD.FRAME)&&this.singleChild&&!this.floating&&!this.autoMargin&&this[l]("layout_gravity",t(this[l]("layout_gravity"),a(r))),""===c&&(c=r)),""!==p&&i.linearHorizontal&&(this[l]("layout_gravity",t(this[l]("layout_gravity"),p)),p=""),this.documentRoot&&(this.blockWidth||this.is(q.NODE_STANDARD.FRAME))&&this.delete(l,"layout_gravity"),this.android("gravity",t(this.android("gravity"),a(c),p))}},{key:"setBoxSpacing",value:function(e){var t=this;this.hasBit("excludeResource",q.NODE_RESOURCE.BOX_SPACING)||(["padding","margin"].forEach(function(n){["Top","Left","Right","Bottom"].forEach(function(a){var o=n+a,i=(0===t._boxReset[o]?t[o]:0)+t._boxAdjustment[o];if(0!==i){var r=O(W["".concat(n.toUpperCase(),"_").concat(a.toUpperCase())],e);t.android(r,ee.formatPX(i))}})}),this.api>=M.OREO&&["layout_margin","padding"].forEach(function(n,a){var o=ee.convertInt(t.android("".concat(n,"Top"))),i=ee.convertInt(t.android(O("".concat(n,"Right"),e))),r=ee.convertInt(t.android("".concat(n,"Bottom"))),l=ee.convertInt(t.android(O("".concat(n,"Left"),e)));0!==o&&o===r&&r===l&&l===i?(t.delete("android","".concat(n,"*")),t.android(n,ee.formatPX(o))):!(t.renderParent.is(q.NODE_STANDARD.GRID)&&0===a)&&(0!==o&&o===r&&(t.delete("android","".concat(n,"Top"),"".concat(n,"Bottom")),t.android("".concat(n,"Vertical"),ee.formatPX(o))),0!==l&&l===i&&(t.delete("android",O("".concat(n,"Left"),e),O("".concat(n,"Right"),e)),t.android("".concat(n,"Horizontal"),ee.formatPX(l))))}))}},{key:"applyOptimizations",value:function(e){function t(e){return e.paddingTop+e.paddingBottom+e.borderTopWidth+e.borderBottomWidth}var a=this,o=this.renderParent,r=this.renderChildren;if(this.is(q.NODE_STANDARD.LINEAR,q.NODE_STANDARD.RADIO_GROUP)){var l=this.linearHorizontal;if(this.blockWidth&&!this.blockStatic&&[[l,this.inlineElement,"width"],[!l,!0,"height"]].forEach(function(e){var t="inline".concat(ee.capitalize(e[2]));e[0]&&e[1]&&!a[t]&&r.every(function(e){return e[t]})&&a.android("layout_".concat(e[2]),"wrap_content")}),l){if(!r.some(function(e){return e.imageElement&&e.baseline})&&(this.hasAlign(q.NODE_ALIGNMENT.FLOAT)||r.some(function(e){return e.floating||!e.siblingflow})))this.android("baselineAligned","false");else{var d=o.android("baselineAlignedChildIndex");if(r.some(function(e){return!e.alignOrigin||!e.baseline})||""!==d&&this.renderParent.renderChildren.findIndex(function(e){return e===a})===parseInt(d)||r.some(function(e){return e.nodeType<q.NODE_STANDARD.TEXT})&&r.some(function(e){return e.textElement&&e.baseline})||o.is(q.NODE_STANDARD.GRID)&&!r.some(function(e){return e.textElement&&e.baseline})){var s=ne.textBaseline(r);0<s.length&&this.android("baselineAlignedChildIndex",r.indexOf(s[0]).toString())}}if(e.ellipsisOnTextOverflow&&1<this.length&&r.every(function(e){return e.textElement&&!e.floating})){var c=r[r.length-1];c.textElement&&!c.multiLine&&1<c.textContent.trim().split(P(32)).length&&c.android("singleLine","true")}}}if(this.pageflow&&(!o.documentBody&&o.blockStatic&&this.documentParent===o&&[["firstElementChild","Top",q.BOX_STANDARD.MARGIN_TOP,q.BOX_STANDARD.PADDING_TOP],["lastElementChild","Bottom",q.BOX_STANDARD.MARGIN_BOTTOM,q.BOX_STANDARD.PADDING_BOTTOM]].forEach(function(e,t){var n=te.getNodeFromElement(o[e[0]]);if(n&&!n.lineBreak&&(n===a||n===a.renderChildren[0===t?0:a.renderChildren.length-1])){var i=o["margin".concat(e[1])];0<i&&0===o["padding".concat(e[1])]&&0===o["border".concat(e[1],"Width")]&&n.modifyBox(e[2],null)}}),this.hasElement&&this.blockStatic))for(var p=function(e){var t=a.element.children[e],n=te.getNodeFromElement(t);if(n&&n.pageflow&&n.blockStatic&&!n.lineBreak){var o=n.previousSibling();if(o&&o.pageflow&&!o.lineBreak){var i=ee.convertInt(n.cssInitial("marginTop",!0)),r=ee.convertInt(o.cssInitial("marginBottom",!0));0<r&&0<i&&(i<=r?n.modifyBox(q.BOX_STANDARD.MARGIN_TOP,null):o.modifyBox(q.BOX_STANDARD.MARGIN_BOTTOM,null))}[t.previousElementSibling,t.nextElementSibling].forEach(function(e,t){var a=te.getNodeFromElement(e);if(a&&a.excluded){var o=B(a.marginTop,a.marginBottom);0>o&&(0===t?n.modifyBox(q.BOX_STANDARD.MARGIN_TOP,o,!0):n.modifyBox(q.BOX_STANDARD.MARGIN_BOTTOM,o,!0))}})}},h=0;h<this.element.children.length;h++)p(h);if(this.bindWhiteSpace(e),e.autoSizePaddingAndBorderWidth&&!this.hasBit("excludeProcedure",q.NODE_PROCEDURE.AUTOFIT)){var u=ee.convertInt(this.android("layout_width")),g=ee.convertInt(this.android("layout_height")),m=!1;if(this.imageElement){var f=this.borderTopWidth,A=this.borderRightWidth,T=this.borderBottomWidth,_=this.borderLeftWidth,y=0,b=0;0<f&&(this.modifyBox(q.BOX_STANDARD.PADDING_TOP,f),b+=f),0<A&&(this.modifyBox(q.BOX_STANDARD.PADDING_RIGHT,A),y+=A),0<T&&(this.modifyBox(q.BOX_STANDARD.PADDING_BOTTOM,T),b+=T),0<_&&(this.modifyBox(q.BOX_STANDARD.PADDING_LEFT,_),y+=_),b+=this.paddingTop+this.paddingBottom,y+=this.paddingLeft+this.paddingRight,0<y&&(0<u?this.android("layout_width",ee.formatPX(u+y)):(u=ee.convertInt(o.android("layout_width")),0<u&&this.singleChild&&o.android("layout_width",ee.formatPX(u+this.marginLeft+y)))),0<b&&(0<g?this.android("layout_height",ee.formatPX(g+b)):(g=ee.convertInt(o.android("layout_height")),0<g&&this.singleChild&&o.android("layout_height",ee.formatPX(g+this.marginTop+b))))}else if(this.is(q.NODE_STANDARD.BUTTON)&&0===g)this.android("layout_height",ee.formatPX(this.bounds.height+("outset"===this.css("borderStyle")?ee.convertInt(this.css("borderWidth")):0)));else if(this.is(q.NODE_STANDARD.LINE))0<g&&this.has("height",0,{map:"initial"})&&"HR"!==this.tagName&&this.android("layout_height",ee.formatPX(g+this.borderTopWidth+this.borderBottomWidth));else if("TABLE"===this.tagName){var N=ee.convertInt(this.android("layout_width"));if(0<N&&(this.bounds.width>N&&this.android("layout_width",ee.formatPX(this.bounds.width)),this.has("width",q.CSS_STANDARD.AUTO,{map:"initial"})&&r.every(function(e){return e.inlineWidth}))){var D=!0,E=!1,R=void 0;try{for(var I=r[Symbol.iterator](),O,v;!(D=(O=I.next()).done);D=!0)v=O.value,v.android("layout_width","0px"),v.app("layout_columnWeight","1")}catch(e){E=!0,R=e}finally{try{D||null==I.return||I.return()}finally{if(E)throw R}}}m="content-box"===this.css("boxSizing")}else if(this.hasElement&&!this.hasBit("excludeResource",q.NODE_RESOURCE.BOX_SPACING)){if("TABLE"!==o.tagName&&"border-box"!==this.css("boxSizing")){var S=ee.convertInt(this.android("minWidth")),x=ee.convertInt(this.android("minHeight")),L=this.paddingLeft+this.paddingRight+this.borderLeftWidth+this.borderRightWidth,M=t(this);0<u&&0<this.toInt("width",0,{map:"initial"})&&0<L&&this.android("layout_width",ee.formatPX(u+L)),0<g&&0<this.toInt("height",0,{map:"initial"})&&0<M&&(0===this.lineHeight||this.lineHeight<this.box.height||this.lineHeight===this.toInt("height"))&&this.android("layout_height",ee.formatPX(g+M)),0<S&&0<L&&this.android("minWidth",ee.formatPX(S+L)),0<x&&0<M&&this.android("minHeight",ee.formatPX(x+M))}m=!0}m&&(this.modifyBox(q.BOX_STANDARD.PADDING_TOP,this.borderTopWidth),this.modifyBox(q.BOX_STANDARD.PADDING_RIGHT,this.borderRightWidth),this.modifyBox(q.BOX_STANDARD.PADDING_BOTTOM,this.borderBottomWidth),this.modifyBox(q.BOX_STANDARD.PADDING_LEFT,this.borderLeftWidth))}if(this.linearHorizontal||this.of(q.NODE_STANDARD.RELATIVE,q.NODE_ALIGNMENT.HORIZONTAL)){var G=r.filter(function(e){return!e.floating&&(e.hasElement||0===e.renderChildren.length)});if(0<G.length&&G.every(function(e){return e.baseline||e.has("verticalAlign",q.CSS_STANDARD.UNIT)})&&(G.some(function(e){return e.imageElement&&0!==e.toInt("verticalAlign")})||G.some(function(e){return 0>e.toInt("verticalAlign")})&&G.some(function(e){return 0<e.toInt("verticalAlign")}))){var H=k.apply(null,G.map(function(e){return e.toInt("verticalAlign")})),W=[],V=0;0<H&&(G.forEach(function(e){var t=e.toInt("verticalAlign"),n=(e.imageElement?e.bounds.height:0)+(0<t?t:0);n>=V&&(n>V&&(W.length=0),W.push(e),V=n)}),W.sort(function(e){return e.imageElement?-1:1}),G.forEach(function(e){if(!W.includes(e)){var t=e.toInt("verticalAlign");0<H&&e.modifyBox(q.BOX_STANDARD.MARGIN_TOP,V-(W[0].imageElement?e.bounds.height:0)),0!==t&&(e.modifyBox(q.BOX_STANDARD.MARGIN_TOP,-1*t,!0),e.css("verticalAlign","0px"))}}),W.forEach(function(e){return e.css("verticalAlign","0px")}))}if(r.some(function(e){return"SUB"===e.tagName})&&this.inlineHeight){var z=ee.convertInt(n.getCustomizationValue(this.api,"SUB","android","layout_marginTop"));0<z&&this.android("layout_height",ee.formatPX(this.bounds.height+z+t(this)))}}if(this.inline&&!this.floating){var F=this.toInt("verticalAlign");0!==F&&(this.modifyBox(q.BOX_STANDARD.MARGIN_TOP,-1*F,!0),0>F&&o.layoutHorizontal&&o.inlineHeight&&o.android("layout_height",ee.formatPX(o.bounds.height+t(o))))}if("relative"===this.position||o.is(q.NODE_STANDARD.FRAME)){var U=this.toInt("top"),j=this.toInt("bottom"),Y=this.toInt("left");if(0===U)0!==j&&this.modifyBox(q.BOX_STANDARD.MARGIN_TOP,-1*j,!0);else if(0>U&&o.is(q.NODE_STANDARD.RELATIVE,q.NODE_STANDARD.LINEAR)&&this.floating&&!!this.data("RESOURCE","backgroundImage")){var Z=!1;o.renderChildren.some(function(e){if(e===a)Z=!0;else{if(""!==e.android("layout_below"))return!0;Z&&e.modifyBox(q.BOX_STANDARD.MARGIN_TOP,w(U))}return!1})}else this.modifyBox(q.BOX_STANDARD.MARGIN_TOP,U,!0);0!==Y&&("right"===this.float||"relative"===this.position&&this.autoMarginLeft?this.modifyBox(q.BOX_STANDARD.MARGIN_RIGHT,-1*Y,!0):this.modifyBox(q.BOX_STANDARD.MARGIN_LEFT,Y,!0))}if(!this.plainText&&!o.linearHorizontal){var K=this.lineHeight+this.toInt("verticalAlign")-this.actualHeight;0<K&&(this.modifyBox(q.BOX_STANDARD.MARGIN_TOP,X(K/2)),this.modifyBox(q.BOX_STANDARD.MARGIN_BOTTOM,C(K/2)))}}},{key:"applyCustomizations",value:function(e){for(var t=[J[0],J[this.api]],n=0,a;n<t.length;n++)if(a=t[n],a&&a.customizations)for(var o=[this.tagName,this.controlName],i=0;i<o.length;i++){var r=o[i],l=a.customizations[r];if(l)for(var d in l)for(var s in l[d])this.attr(d,s,l[d][s],e.customizationsOverwritePrivilege)}}},{key:"bindWhiteSpace",value:function(e){var t=this;if(!this.hasAlign(q.NODE_ALIGNMENT.FLOAT)&&(this.linearHorizontal||this.of(q.NODE_STANDARD.RELATIVE,q.NODE_ALIGNMENT.HORIZONTAL,q.NODE_ALIGNMENT.MULTILINE)||this.of(q.NODE_STANDARD.CONSTRAINT,q.NODE_ALIGNMENT.HORIZONTAL))){var n=this.css("textAlign"),a=this.toInt("textIndent"),o=this.valueBox(q.BOX_STANDARD.PADDING_LEFT),i=this.is(q.NODE_STANDARD.RELATIVE),r=this.box.left+(0<a?this.toInt("textIndent"):0>a&&1===o[0]?o[0]:0);this.each(function(t,a){if(!(t.floating||i&&t.alignParent("left",e)||0===a&&("left"!==n||t.plainText)||["SUP","SUB"].includes(t.tagName))){var o=L(t.actualLeft()-r);1<=o&&t.modifyBox(q.BOX_STANDARD.MARGIN_LEFT,o)}r=t.actualRight()},!0)}else this.linearVertical&&this.each(function(e){var n=function(){var n=e;do n=n.previousSibling(!0,!1,!1);while(n&&!t.initial.children.includes(n));return n}(),a=te.getElementsBetweenSiblings(n?0<n.length&&!n.hasElement?n.lastElementChild:n.baseElement:null,e.baseElement).filter(function(e){var t=te.getNodeFromElement(e);return!!(t&&(t.lineBreak||t.excluded&&t.blockStatic))});if(0<a.length){var o;if(o=n?function(){return n.layoutHorizontal&&0<n.length&&n.renderChildren.some(function(e){return!e.floating})?n.renderChildren.filter(function(e){return!e.floating}).sort(function(e,t){return e.linear.bottom<t.linear.bottom?1:-1})[0].linear.bottom:n.linear.bottom}():t.box.top,1===a.length&&"BR"===a[0].tagName&&n&&n.inline&&e.inline)return;var i=L(e.linear.top-o);1<=i&&e.modifyBox(q.BOX_STANDARD.MARGIN_TOP,i)}},!0)}},{key:"stringId",get:function(){return this.nodeId?"@+id/".concat(this.nodeId):""}},{key:"controlName",set:function(e){this._controlName=e},get:function(){if(this._controlName)return this._controlName;var e=$.MAP_ELEMENT[this.nodeName];return null==e?"":n.getControlName(e)}},{key:"documentParent",set:function(e){this._documentParent=e},get:function(){return this._documentParent?this._documentParent:0===this.id?this:this.getParentElementAsNode(!1)||n.documentBody()}},{key:"renderParent",set:function(e){e!==this&&e.renderAppend(this),this._renderParent=e},get:function(){return this._renderParent||n.documentBody()}},{key:"anchored",get:function(){return this.constraint.horizontal&&this.constraint.vertical}},{key:"layoutHorizontal",get:function(){return this.linearHorizontal||this.hasAlign(q.NODE_ALIGNMENT.HORIZONTAL)||this.is(q.NODE_STANDARD.FRAME)&&this.nodes.every(function(e){return e.domElement})||1<this.nodes.filter(function(e){return e.pageflow}).length&&ne.linearX(this.nodes)}},{key:"layoutVertical",get:function(){return this.linearVertical||this.hasAlign(q.NODE_ALIGNMENT.VERTICAL)||this.is(q.NODE_STANDARD.FRAME)&&this.nodes.some(function(e){return e.linearVertical})||1<this.nodes.filter(function(e){return e.pageflow}).length&&ne.linearY(this.nodes)}},{key:"linearHorizontal",get:function(){return this._android.orientation===V.HORIZONTAL&&this.is(q.NODE_STANDARD.LINEAR,q.NODE_STANDARD.RADIO_GROUP)}},{key:"linearVertical",get:function(){return this._android.orientation===V.VERTICAL&&this.is(q.NODE_STANDARD.LINEAR,q.NODE_STANDARD.RADIO_GROUP)}},{key:"inlineWidth",get:function(){return"wrap_content"===this._android.layout_width}},{key:"inlineHeight",get:function(){return"wrap_content"===this._android.layout_height}},{key:"blockWidth",get:function(){return"match_parent"===this._android.layout_width}},{key:"blockHeight",get:function(){return"match_parent"===this._android.layout_height}}],[{key:"documentBody",value:function(){if(null==n._documentBody){var e=new n(0,document.body);e.hide(),e.setBounds(),n._documentBody=e}return n._documentBody}},{key:"getCustomizationValue",value:function(e,t,n,a){for(var o=[J[e],J[0]],i=0,r;i<o.length;i++)if(r=o[i],r&&r.customizations&&r.customizations[t]&&r.customizations[t][n]&&ee.isString(r.customizations[t][n][a]))return r.customizations[t][n][a];return""}},{key:"getControlName",value:function(e){return H[q.NODE_STANDARD[e]]}}]),n}(e))},oe=/*#__PURE__*/function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=1<arguments.length?arguments[1]:void 0;return t(this,n),s(this,r(n).call(this,e,a))}return i(n,e),n}(ae(androme.lib.base.Node)),ie=/*#__PURE__*/function(e){function n(e,a,o,i){var l;return t(this,n),l=s(this,r(n).call(this,e)),l.api=a.api,l.parent=o,l.children=i,l.depth=a.depth,l.nodeName="".concat(a.nodeName,"_GROUP"),l.documentParent=a.documentParent,0<i.length&&l.init(),l}return i(n,e),n}(ae(androme.lib.base.NodeGroup)),re=["!0","<?xml version=\"1.0\" encoding=\"utf-8\"?>","<shape xmlns:android=\"http://schemas.android.com/apk/res/android\" android:shape=\"rectangle\">","!1","\t<stroke android:width=\"{&width}\" {borderStyle} />","!1","!2","\t<solid android:color=\"@color/{&color}\" />","!2","!3","\t<corners android:radius=\"{&radius}\" />","!3","</shape>","!0"].join("\n"),le=["!0","<?xml version=\"1.0\" encoding=\"utf-8\"?>","<layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\">","!1","\t<item>","\t\t<shape android:shape=\"rectangle\">","\t\t\t<solid android:color=\"@color/{&color}\" />","\t\t</shape>","\t</item>","!1","!2","\t<item android:top=\"{@top}\" android:right=\"{@right}\" android:bottom=\"{@bottom}\" android:left=\"{@left}\" android:drawable=\"@drawable/{image}\" width=\"{@width}\" height=\"{@height}\" />","!2","!3","\t<item android:top=\"{@top}\" android:right=\"{@right}\" android:bottom=\"{@bottom}\" android:left=\"{@left}\">","\t\t<bitmap android:src=\"@drawable/{image}\" android:gravity=\"{@gravity}\" android:tileMode=\"{@tileMode}\" android:tileModeX=\"{@tileModeX}\" android:tileModeY=\"{@tileModeY}\" />","\t</item>","!3","!7","\t<item android:top=\"{@top}\" android:right=\"{@right}\" android:bottom=\"{@bottom}\" android:left=\"{@left}\">","\t\t<shape android:shape=\"rectangle\">","!8","\t\t\t<stroke android:width=\"{&width}\" {borderStyle} />","!8","\t\t</shape>","\t</item>","!7","!4","\t<item android:top=\"{@top}\" android:right=\"{@right}\" android:bottom=\"{@bottom}\" android:left=\"{@left}\">","\t\t<shape android:shape=\"rectangle\">","!5","\t\t\t<stroke android:width=\"{&width}\" {borderStyle} />","!5","!6","\t\t\t<corners android:radius=\"{@radius}\" android:topLeftRadius=\"{@topLeftRadius}\" android:topRightRadius=\"{@topRightRadius}\" android:bottomRightRadius=\"{@bottomRightRadius}\" android:bottomLeftRadius=\"{@bottomLeftRadius}\" />","!6","\t\t</shape>","\t</item>","!4","</layer-list>","!0"].join("\n"),de=[androme.lib.enumeration,androme.lib.util,androme.lib.dom,androme.lib.xml,androme.lib.color,androme.lib.base.Resource],se=de[0],ce=de[1],pe=de[2],he=de[3],ue=de[4],ge=de[5],me={boxStyle:{background:"android:background=\"@drawable/{0}\"",backgroundColor:"android:background=\"@color/{0}\""},fontStyle:{fontFamily:"android:fontFamily=\"{0}\"",fontStyle:"android:textStyle=\"{0}\"",fontWeight:"android:fontWeight=\"{0}\"",fontSize:"android:textSize=\"{0}\"",color:"android:textColor=\"@color/{0}\"",backgroundColor:"android:background=\"@color/{0}\""},valueString:{text:"android:text=\"{0}\""},optionArray:{entries:"android:entries=\"@array/{0}\""},imageSource:{src:"android:src=\"@drawable/{0}\""}},fe=/*#__PURE__*/function(n){function o(e){var n;return t(this,o),n=s(this,r(o).call(this,e)),n.tagStyle={},n.tagCount={},n.file.stored=ge.STORED,n}return i(o,n),a(o,[{key:"reset",value:function(){p(r(o.prototype),"reset",this).call(this),this.file.reset(),this.tagStyle={},this.tagCount={}}},{key:"finalize",value:function(e){this.processFontStyle(e);var t={},n=!0,a=!1,o=void 0;try{for(var i=e.cache[Symbol.iterator](),r;!(n=(r=i.next()).done);n=!0){var l=r.value,d=l.renderChildren.filter(function(e){return e.auto&&e.visible});1<d.length&&function(){for(var e=new Map,n="",a=!0,o=function(t){var o=!1;if(d[t].combine("_","android").some(function(i){if(i.startsWith("style=")){if(0===t)n=i;else if(""===n||i!==n)return a=!1,!0;o=!0}else e.has(i)||e.set(i,0),e.set(i,e.get(i)+1);return!1}),!a||""!==n&&!o)return a=!1,"break"},r=0,s;r<d.length&&(s=o(r),"break"!==s);r++);if(a){var c=!0,p=!1,h=void 0;try{for(var u=e.keys()[Symbol.iterator](),g,m;!(c=(g=u.next()).done);c=!0)m=g.value,e.get(m)!==d.length&&e.delete(m)}catch(e){p=!0,h=e}finally{try{c||null==u.return||u.return()}finally{if(p)throw h}}if(1<e.size){""!==n&&(n=ce.trimString(n.substring(n.indexOf("/")+1),"\""));var f=[],A=!0,T=!1,_=void 0;try{for(var y=function(){var e=N.value,t=e.match(/(\w+):(\w+)="(.*?)"/);t&&(d.forEach(function(e){return e.delete(t[1],t[2])}),f.push(t[0]))},b=e.keys()[Symbol.iterator](),N;!(A=(N=b.next()).done);A=!0)y()}catch(e){T=!0,_=e}finally{try{A||null==b.return||b.return()}finally{if(T)throw _}}f.sort();var D="";for(var E in t)if(t[E].join(";")===f.join(";")){D=E;break}""!=D&&""!==n&&D.startsWith("".concat(n,"."))||(D=(""===n?"":"".concat(n,"."))+ce.capitalize(l.nodeId),t[D]=f),d.forEach(function(e){return e.attr("_","style","@style/".concat(D))})}}}()}}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}for(var s in t)ge.STORED.styles.set(s,{attributes:t[s].join(";")})}},{key:"setBoxSpacing",value:function(){var e=this;p(r(o.prototype),"setBoxSpacing",this).call(this),this.cache.elements.filter(function(e){return!e.hasBit("excludeResource",se.NODE_RESOURCE.BOX_SPACING)}).each(function(t){var n=pe.getElementCache(t.element,"boxSpacing");n&&(n.marginLeft===n.marginRight&&t.alignParent("left",e.settings)&&t.alignParent("right",e.settings)&&!t.blockWidth&&!("relative"===t.position&&t.alignNegative)&&(t.modifyBox(se.BOX_STANDARD.MARGIN_LEFT,null),t.modifyBox(se.BOX_STANDARD.MARGIN_RIGHT,null)),"auto"===t.css("marginLeft")&&t.modifyBox(se.BOX_STANDARD.MARGIN_LEFT,null),"auto"===t.css("marginRight")&&t.modifyBox(se.BOX_STANDARD.MARGIN_RIGHT,null))})}},{key:"setBoxStyle",value:function(){var t=this;p(r(o.prototype),"setBoxStyle",this).call(this),this.cache.elements.filter(function(e){return!e.hasBit("excludeResource",se.NODE_RESOURCE.BOX_STYLE)}).each(function(n){var a=pe.getElementCache(n.element,"boxStyle");if(a){Array.isArray(a.backgroundColor)&&0<a.backgroundColor.length&&(a.backgroundColor=o.addColor(a.backgroundColor[0],a.backgroundColor[2]));for(var r=a.backgroundImage.split(",").map(function(e){return e.trim()}),l=a.backgroundRepeat.split(",").map(function(e){return e.trim()}),d=a.backgroundPosition.split(",").map(function(e){return e.trim()}),s=[],c=[],p=0;p<r.length;p++)if(""!==r[p]&&"none"!==r[p]){s.push(r[p]);var u=t.imageDimensions.get(pe.parseBackgroundUrl(r[p]));c.push(u),r[p]=o.addImageURL(r[p])}else r[p]="",l[p]="",d[p]="";r=r.filter(function(e){return""!==e}),l=l.filter(function(e){return""!==e}),d=d.filter(function(e){return""!==e});var g=me.boxStyle,m=n.companion;if(m&&m.hasElement&&!pe.cssFromParent(m.element,"backgroundColor")){var f=pe.getElementCache(m.element,"boxStyle");Array.isArray(f.backgroundColor)&&0<f.backgroundColor.length&&(a.backgroundColor=o.addColor(f.backgroundColor[0],f.backgroundColor[2]))}var A=t.borderVisible(a.borderTop)||t.borderVisible(a.borderRight)||t.borderVisible(a.borderBottom)||t.borderVisible(a.borderLeft)||0<a.borderRadius.length;if(A||0<r.length){var T=function(e,t,n,a,o,i){var r=parseInt(t.width),l=X(r/3),d=r%3,s=l+(2===d?1:0),c=l+(2===d?1:0),p="-".concat(ce.formatPX(s+1)),h="-".concat(ce.formatPX(s));e[4].push({top:n?"":h,right:a?"":p,bottom:o?"":h,left:i?"":p,5:[{width:ce.formatPX(s),borderStyle:this.getBorderStyle(t)}],6:S}),p="-".concat(ce.formatPX(r+1)),h="-".concat(ce.formatPX(r));var u="".concat(ce.formatPX(r-l));e[4].push({top:n?u:p,right:a?u:h,bottom:o?u:h,left:i?u:p,5:[{width:ce.formatPX(c),borderStyle:this.getBorderStyle(t)}],6:S})},_=[a.borderTop,a.borderRight,a.borderBottom,a.borderLeft];_.forEach(function(e){Array.isArray(e.color)&&0<e.color.length&&(e.color=o.addColor(e.color[0],e.color[2]))});for(var y=[],b=[],N=null,D="",E=function(e){var i="",s="",p="",u="",g=o.parseBackgroundPosition(d[e],n.css("fontSize")),m=h(g,2),f=m[0],T=m[1],_="",N="",D=c[e];switch(l[e]){case"repeat-x":(null==D||D.width<n.bounds.width)&&(p="repeat");break;case"repeat-y":(null==D||D.height<n.bounds.height)&&(u="repeat");break;case"no-repeat":s="disabled";break;case"repeat":(null==D||D.width<n.bounds.width||D.height<n.bounds.height)&&(s="repeat");}if(""===f){switch(d[e]){case"left top":case"0% 0%":i="left|top";break;case"left center":case"0% 50%":i="left|center_vertical";break;case"left bottom":case"0% 100%":i="left|bottom";break;case"right top":case"100% 0%":i="right|top";break;case"right center":case"100% 50%":i="right|center_vertical";break;case"right bottom":case"100% 100%":i="right|bottom";break;case"center top":case"50% 0%":i="center_horizontal|top";break;case"center bottom":case"50% 100%":i="center_horizontal|bottom";break;case"center center":case"50% 50%":i="center";break;default:var E=d[e].split(" ");if(2===E.length){var R=function(e,t){return e+(""===e?"":"|")+t};E.forEach(function(e,t){if(ce.isPercent(e))0===t?"0%"===e?i=R(i,"left"):"100%"===e?i=R(i,"right"):f=ce.formatPX(n.bounds.width*(ce.convertInt(e)/100)):1===t?"0%"===e?i=R(i,"top"):"100%"===e?i=R(i,"bottom"):T=ce.formatPX(n.actualHeight*(ce.convertInt(e)/100)):void 0;else if(/^[a-z]+$/.test(e))i=R(i,e);else{var a=ce.convertPX(e,n.css("fontSize"));"0px"!==a&&(0===t?f=a:T=a),i=R(i,0===t?"left":"top")}})}}if(""!==i&&D&&0<D.width&&0<D.height){if("repeat"===u){var I=n.viewWidth;if(0<I?t.settings.autoSizePaddingAndBorderWidth&&!n.hasBit("excludeResource",se.NODE_RESOURCE.BOX_SPACING)&&(I=n.viewWidth+n.paddingLeft+n.paddingRight):I=n.bounds.width-(n.borderLeftWidth+n.borderRightWidth),D.width<I){var O=ce.convertInt(n.android("layout_width"));-1===i.indexOf("left")?-1===i.indexOf("right")?("center"===i||-1!==i.indexOf("center_horizontal"))&&(_=ce.formatPX(X((I-D.width)/2)),0===n.viewWidth&&I>O&&n.android("layout_width",ce.formatPX(n.bounds.width))):(f=ce.formatPX(I-D.width),0===n.viewWidth&&I>O&&n.android("layout_width",ce.formatPX(n.bounds.width))):(_=ce.formatPX(I-D.width),0===n.viewWidth&&I>O&&n.android("layout_width",ce.formatPX(n.bounds.width)))}}if("repeat"===p){var v=n.viewHeight;if(0<v?t.settings.autoSizePaddingAndBorderWidth&&!n.hasBit("excludeResource",se.NODE_RESOURCE.BOX_SPACING)&&(v=n.viewHeight+n.paddingTop+n.paddingBottom):v=n.bounds.height-(n.borderTopWidth+n.borderBottomWidth),D.height<v){var S=ce.convertInt(n.android("layout_height"));-1===i.indexOf("top")?-1===i.indexOf("bottom")?("center"===i||-1!==i.indexOf("center_vertical"))&&(N=ce.formatPX(X((v-D.height)/2)),0===n.viewHeight&&v>S&&n.android("layout_height",ce.formatPX(n.bounds.height))):(T=ce.formatPX(v-D.height),0===n.viewHeight&&v>S&&n.android("layout_height",ce.formatPX(n.bounds.height))):(N=ce.formatPX(v-D.height),0===n.viewHeight&&v>S&&n.android("layout_height",ce.formatPX(n.bounds.height)))}}}}if(0<a.backgroundSize.length&&(ce.isPercent(a.backgroundSize[0])||ce.isPercent(a.backgroundSize[1]))&&("100%"===a.backgroundSize[0]&&"100%"===a.backgroundSize[1]?(s="",p="",u="",i=""):"100%"===a.backgroundSize[0]?p="":"100%"===a.backgroundSize[1]&&(u=""),a.backgroundSize=[]),n.of(se.NODE_STANDARD.IMAGE,se.NODE_ALIGNMENT.SINGLE)&&1===d.length){n.android("src","@drawable/".concat(r[0])),0<ce.convertInt(f)&&n.modifyBox(se.BOX_STANDARD.MARGIN_LEFT,ce.convertInt(f)),0<ce.convertInt(T)&&n.modifyBox(se.BOX_STANDARD.MARGIN_TOP,ce.convertInt(T));var x="";if("left|top"===i||"left|center_vertical"===i||"left|bottom"===i?x="fitStart":"right|top"===i||"right|center_vertical"===i||"right|bottom"===i?x="fitEnd":"center"===i||"center_horizontal|top"===i||"center_horizontal|bottom"===i?x="center":void 0,n.android("scaleType",x),!A)return{v:void 0};r.length=0}else""!==i||""!==s||""!==p||""!==u?b.push({top:T,right:_,bottom:N,left:f,gravity:i,tileMode:s,tileModeX:p,tileModeY:u,width:"",height:"",image:r[e]}):y.push({top:T,right:_,bottom:N,left:f,gravity:i,tileMode:s,tileModeX:p,tileModeY:u,width:0<a.backgroundSize.length?a.backgroundSize[0]:"",height:0<a.backgroundSize.length?a.backgroundSize[1]:"",image:r[e]})},R=0,I,O;R<r.length;R++)if(O=E(R),"object"===e(O))return O.v;b.sort(function(e,t){return"repeat"!==e.tileModeX&&"repeat"!==e.tileModeY&&"repeat"!==e.tileMode?1:"repeat"!==t.tileModeX&&"repeat"!==t.tileModeY&&"repeat"!==t.tileMode?-1:"repeat"===e.tileMode?-1:"repeat"===t.tileMode?1:"repeat"===t.tileModeX||"repeat"===t.tileModeY?1:-1});var v=t.getShapeAttribute(a,"backgroundColor"),S=t.getShapeAttribute(a,"radius");if(a.border&&t.borderVisible(a.border)&&!(1<parseInt(a.border.width)&&("groove"===a.border.style||"ridge"===a.border.style)||2<parseInt(a.border.width)&&"double"===a.border.style))0===r.length?(N=he.parseTemplate(re),I={0:[{1:t.getShapeAttribute(a,"stroke"),2:v,3:S}]}):(N=he.parseTemplate(le),I={0:[{1:v,2:!!(0<y.length)&&y,3:!!(0<b.length)&&b,4:[{5:t.getShapeAttribute(a,"stroke"),6:S}],7:!1}]});else{N=he.parseTemplate(le),I={0:[{1:v,2:!!(0<y.length)&&y,3:!!(0<b.length)&&b,4:[],7:[]}]};var x=he.getTemplateLevel(I,"0"),L=_.filter(function(e){return t.borderVisible(e)}),w=new Set(L.map(function(e){return e.width})),B=new Set(L.map(function(e){return t.getBorderStyle(e)})),P=L[0];if(1===w.size&&1===B.size&&"groove"!==P.style&&"ridge"!==P.style){var M=parseInt(P.width);if(2<M&&"double"===P.style)T.apply(t,[x,P,t.borderVisible(a.borderTop),t.borderVisible(a.borderRight),t.borderVisible(a.borderBottom),t.borderVisible(a.borderLeft)]);else{var G="-".concat(ce.formatPX(M+1)),H="-".concat(ce.formatPX(M));x[4].push({top:t.borderVisible(a.borderTop)?"":G,right:t.borderVisible(a.borderRight)?"":H,bottom:t.borderVisible(a.borderBottom)?"":H,left:t.borderVisible(a.borderLeft)?"":G,5:t.getShapeAttribute({border:L[0]},"stroke"),6:S})}}else for(var W=0,V;W<_.length;W++)if(V=_[W],t.borderVisible(V)){var z=parseInt(V.width);if(2<z&&"double"===V.style)T.apply(t,[x,V,0==W,1==W,2==W,3==W]);else{var F=1<z&&("groove"===V.style||"ridge"===V.style),U=F?C(z/2):z,j="-".concat(ce.formatPX(U+1)),Y="-".concat(ce.formatPX(U));x[4].push({top:0==W?"":j,right:1==W?"":Y,bottom:2==W?"":Y,left:3==W?"":j,5:t.getShapeAttribute({border:V},"stroke",W,F),6:S}),F&&(j="-".concat(ce.formatPX(z+1)),Y="-".concat(ce.formatPX(z)),x[7].push({top:0==W?"":j,right:1==W?"":Y,bottom:2==W?"":Y,left:3==W?"":j,8:t.getShapeAttribute({border:V},"stroke",W,!0,!0)}))}}0===x[4].length&&(x[4]=!1),0===x[7].length&&(x[7]=!1)}if(N){var Z=he.insertTemplateData(N,I),K=!0,J=!1,Q=void 0;try{for(var q=ge.STORED.drawables.entries()[Symbol.iterator](),$;!(K=($=q.next()).done);K=!0){var ee=h($.value,2),te=ee[0],ne=ee[1];if(ne===Z){D=te;break}}}catch(e){J=!0,Q=e}finally{try{K||null==q.return||q.return()}finally{if(J)throw Q}}""===D&&(D="".concat(n.nodeName.toLowerCase(),"_").concat(n.nodeId),ge.STORED.drawables.set(D,Z))}if(n.formatted(ce.formatString(g.background,D),0===n.renderExtension.size),0<r.length&&(n.data("RESOURCE","backgroundImage",!0),t.settings.autoSizeBackgroundImage&&!n.documentRoot&&!n.imageElement&&"TABLE"!==n.renderParent.tagName&&!n.hasBit("excludeProcedure",se.NODE_PROCEDURE.AUTOFIT))){var ae={width:0,height:0};if(c.forEach(function(e){e&&(ae.width=k(ae.width,e.width),ae.height=k(ae.height,e.height))}),0===ae.width)for(var oe=n;oe&&!oe.documentBody&&(oe.hasWidth&&(ae.width=oe.bounds.width),oe.hasHeight&&(ae.height=oe.bounds.height),!(!oe.pageflow||0<ae.width&&0<ae.height));)oe=oe.documentParent;if(!n.has("width",se.CSS_STANDARD.UNIT)){var ie=n.bounds.width+(n.is(se.NODE_STANDARD.LINE)?0:n.borderLeftWidth+n.borderRightWidth);(0===ae.width||0<ie&&ie<ae.width)&&n.css("width",ce.formatPX(ie))}if(!n.has("height",se.CSS_STANDARD.UNIT)){var de=n.actualHeight+(n.is(se.NODE_STANDARD.LINE)?0:n.borderTopWidth+n.borderBottomWidth);(0===ae.height||0<de&&de<ae.height)&&(n.css("height",ce.formatPX(de)),0>n.marginTop&&n.modifyBox(se.BOX_STANDARD.MARGIN_TOP,null),0>n.marginBottom&&n.modifyBox(se.BOX_STANDARD.MARGIN_BOTTOM,null))}}}else!pe.getElementCache(n.element,"fontStyle")&&ce.isString(a.backgroundColor)&&n.formatted(ce.formatString(g.backgroundColor,a.backgroundColor),0===n.renderExtension.size)}})}},{key:"setFontStyle",value:function(){p(r(o.prototype),"setFontStyle",this).call(this);var e={};for(var t in this.cache.filter(function(e){return e.visible&&!e.hasBit("excludeResource",se.NODE_RESOURCE.FONT_STYLE)}).each(function(t){pe.getElementCache(t.element,"fontStyle")&&(null==e[t.nodeName]&&(e[t.nodeName]=[]),e[t.nodeName].push(t));var n=t.css("textShadow").match(/(rgb(?:a)?\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}(?:, [0-9\.]+)?\)) ([0-9\.]+[a-z]{2}) ([0-9\.]+[a-z]{2}) ([0-9\.]+[a-z]{2})/);if(n){var a=ue.parseRGBA(n[1]);0<a.length&&t.android("shadowColor","@color/".concat(o.addColor(a[0],a[2]))),t.android("shadowDx",ce.convertInt(n[2]).toString()),t.android("shadowDy",ce.convertInt(n[3]).toString()),t.android("shadowRadius",ce.convertInt(n[4]).toString())}}),e){var n=new androme.lib.base.NodeList(e[t]),a=[],l=!0,d=!1,s=void 0;try{for(var c=n[Symbol.iterator](),h;!(l=(h=c.next()).done);l=!0){var g=h.value,m=!1,f=g.id;g.companion&&(g.companion.textElement||"LABEL"===g.companion.tagName)&&(g=g.companion);var A=g.element,T=Object.assign({},pe.getElementCache(A,"fontStyle"));if(Array.isArray(T.backgroundColor)&&0<T.backgroundColor.length&&(T.backgroundColor=o.addColor(T.backgroundColor[0],T.backgroundColor[2])),T.fontFamily){var _=T.fontFamily.split(",")[0].replace(/"/g,"").toLowerCase().trim(),y="",b="";if(Array.isArray(T.color)&&0<T.color.length&&(T.color=o.addColor(T.color[0],T.color[2])),this.settings.fontAliasResourceValue&&j[_]&&(_=j[_]),F[_]&&this.settings.targetAPI>=F[_]||this.settings.fontAliasResourceValue&&U[_]&&this.settings.targetAPI>=F[U[_]]?(m=!0,T.fontFamily=_,"normal"===T.fontStyle&&delete T.fontStyle,"400"===T.fontWeight&&delete T.fontWeight):(_=ce.convertWord(_),T.fontFamily="@font/".concat(_+("normal"===T.fontStyle?"":"_".concat(T.fontStyle))+("400"===T.fontWeight?"":"_".concat(Y[T.fontWeight]||T.fontWeight))),y=T.fontStyle,b=T.fontWeight,delete T.fontStyle,delete T.fontWeight),!m){var N=ge.STORED.fonts.get(_)||{};N["".concat(y,"-").concat(b)]=!0,ge.STORED.fonts.set(_,N)}}for(var D=me.fontStyle,E=Object.keys(D),R=0;R<E.length;R++){null==a[R]&&(a[R]={});var I=T[E[R]];if(ce.hasValue(I)&&g.supported("android",E[R])){var O=ce.formatString(D[E[R]],I);null==a[R][O]&&(a[R][O]=[]),a[R][O].push(f)}}}}catch(e){d=!0,s=e}finally{try{l||null==c.return||c.return()}finally{if(d)throw s}}var v=this.tagStyle[t];if(v){for(var S=0;S<v.length;S++)for(var x in v[S])if(a[S][x]){var L;(L=a[S][x]).push.apply(L,u(v[S][x]))}else a[S][x]=v[S][x];this.tagCount[t]+=n.visible.length}else this.tagCount[t]=n.visible.length;this.tagStyle[t]=a}}},{key:"setImageSource",value:function(){var e=this;this.cache.filter(function(e){return e.visible&&(e.imageElement||"INPUT"===e.tagName&&"image"===e.element.type)&&!e.hasBit("excludeResource",se.NODE_RESOURCE.IMAGE_SOURCE)}).each(function(t){var n=t.element;if(!pe.getElementCache(n,"imageSource")||e.settings.alwaysReevaluateResources){var a=t.imageElement?o.addImageSrcSet(n):o.addImage({mdpi:n.src});if(""!==a){var i=me.imageSource;t.formatted(ce.formatString(i.src,a),0===t.renderExtension.size),pe.setElementCache(n,"imageSource",a)}}})}},{key:"setOptionArray",value:function(){var e=this;p(r(o.prototype),"setOptionArray",this).call(this),this.cache.filter(function(e){return e.visible&&"SELECT"===e.tagName&&!e.hasBit("excludeResource",se.NODE_RESOURCE.OPTION_ARRAY)}).each(function(t){var n=pe.getElementCache(t.element,"optionArray");if(n){var a=me.optionArray,i=[];n.numberArray&&(e.settings.numberResourceValue?n.stringArray=n.numberArray:i=n.numberArray),n.stringArray&&(i=n.stringArray.map(function(t){var n=o.addString(t,"",e.settings);return""===n?"":"@string/".concat(n)}).filter(function(e){return e}));var r="",l=i.join("-"),d=!0,s=!1,c=void 0;try{for(var p=ge.STORED.arrays.entries()[Symbol.iterator](),u;!(d=(u=p.next()).done);d=!0){var g=h(u.value,2),m=g[0],f=g[1];if(l===f.join("-")){r=m;break}}}catch(e){s=!0,c=e}finally{try{d||null==p.return||p.return()}finally{if(s)throw c}}""===r&&(r="".concat(t.nodeId,"_array"),ge.STORED.arrays.set(r,i)),t.formatted(ce.formatString(a.entries,r),0===t.renderExtension.size)}})}},{key:"setValueString",value:function(){var e=this;p(r(o.prototype),"setValueString",this).call(this),this.cache.filter(function(e){return e.visible&&!e.hasBit("excludeResource",se.NODE_RESOURCE.VALUE_STRING)}).each(function(t){var n=pe.getElementCache(t.element,"valueString");if(n){if(t.renderParent.is(se.NODE_STANDARD.RELATIVE)&&t.alignParent("left",e.settings)&&!pe.cssParent(t.element,"whiteSpace","pre","pre-wrap")){for(var a=t.textContent,r=0,l=0;l<a.length;l++){switch(a.charCodeAt(l)){case 32:continue;case 160:r++;continue;}break}0===r&&(n.value=n.value.replace(/^(\s|&#160;)+/,""))}if(t.hasElement&&t.is(se.NODE_STANDARD.TEXT)){switch(t.css("fontVariant")){case"small-caps":n.value=n.value.toUpperCase();}var d=t.css("textDecoration").match(/(underline|line-through)/);if(d)switch(d[0]){case"underline":n.value="<u>".concat(n.value,"</u>");break;case"line-through":n.value="<strike>".concat(n.value,"</strike>");}}var s=o.addString(n.value,n.name,e.settings);if(""!==s){var c=me.valueString;0<t.toInt("textIndent")+t.bounds.width&&t.formatted(ce.formatString(c.text,isNaN(parseInt(s))||parseInt(s).toString()!==s?"@string/".concat(s):s),0===t.renderExtension.size)}}})}},{key:"addTheme",value:function(e,t,n){var a=he.parseTemplate(e);if(n.item){var i=he.getTemplateLevel(t,"0");for(var r in n.item){var l=n.item[r],d=ue.parseHex(l);""!==d&&(l="@color/".concat(o.addColor(d))),i[1].push({name:r,value:l})}}var s=he.insertTemplateData(a,t);this.addFile(n.output.path,n.output.file,s)}},{key:"processFontStyle",value:function(e){var t=this,n={},a={},o={},r=new Set,l={};for(var d in this.tagStyle){n[d]={},a[d]={};var s=this.tagCount[d],c=this.tagStyle[d].filter(function(e){return 0<Object.keys(e).length}).sort(function(e,t){var n=0,a=0,o=0,i=0;for(var r in e)n=k(e[r].length,n),o+=e[r].length;for(var l in t)t[l]&&(a=k(t[l].length,a),i+=t[l].length);return n===a?o>=i?-1:1:n>a?-1:1});do if(1===c.length){for(var p in c[0]){var h=c[0][p];1===h.length?a[d][p]=h:1<h.length&&(n[d][p]=h)}c.length=0}else{for(var g={},m={},f=function(e){if(!c[e])return"continue";var a={},o={},i=new Set;for(var r in c[e]){var l=c[e][r],p=!1;if(!l||0===l.length)continue;else l.length===s?(g[r]=l.slice(),c[e]={},p=!0):1===l.length&&(m[r]=l.slice(),c[e][r]=[],p=!0);if(!p){for(var h={},f=!1,A=0;A<c.length;A++)if(e!==A&&c[A])for(var T in c[A]){var _=c[A][T];if(0<_.length){var y=!0,b=!1,N=void 0;try{for(var D=l[Symbol.iterator](),E,R;!(y=(E=D.next()).done);y=!0)R=E.value,_.includes(R)&&(null==h[T]&&(h[T]=[]),h[T].push(R))}catch(e){b=!0,N=e}finally{try{y||null==D.return||D.return()}finally{if(b)throw N}}}}for(var I in h)1<h[I].length&&(a[[r,I].sort().join(";")]=h[I],f=!0);f||(a[r]=l)}}for(var O in a)for(var v in a)if(O!=v&&a[O].join("")===a[v].join("")){var S=a[O].join(",");o[S]=o[S]?new Set(u(o[S]).concat(u(v.split(";")))):new Set(u(O.split(";")).concat(u(v.split(";")))),i.add(O).add(v)}for(var x in i.forEach(function(e){return delete a[e]}),a)t.deleteStyleAttribute(c,x,a[x]),n[d][x]=a[x];for(var L in o){var w=Array.from(o[L]).sort().join(";"),B=L.split(",").map(function(e){return parseInt(e)});t.deleteStyleAttribute(c,w,B),n[d][w]=B}},A=0,T;A<c.length;A++)T=f(A),"continue"===T;var _=Object.keys(g);for(var y in 0<_.length&&(1<_.length||1<g[_[0]].length?n[d][_.join(";")]=g[_[0]]:Object.assign(m,g)),m)a[d][y]=m[y];for(var A=0;A<c.length;A++)c[A]&&0===Object.keys(c[A]).length&&delete c[A];c=c.filter(function(e){if(e)for(var t in e)if(e[t]&&0<e[t].length)return!0;return!1})}while(0<c.length)}var b=function(e){var t=n[e],a=[];for(var i in t)a.push({name:"",attributes:i,ids:t[i]});a.sort(function(e,t){var n=[e.ids.length,t.ids.length],a=n[0],o=n[1];if(a===o){var i=[e.attributes.split(";").length,t.attributes.split(";").length];a=i[0],o=i[1]}return a>=o?-1:1}),a.forEach(function(t,n){return t.name=ce.capitalize(e)+(0<n?"_".concat(n):"")}),o[e]=a};for(var N in n)b(N);for(var N in o){var D=!0,E=!1,I=void 0;try{for(var O=o[N][Symbol.iterator](),v;!(D=(v=O.next()).done);D=!0){var S=v.value,x=!0,L=!1,w=void 0;try{for(var B=S.ids[Symbol.iterator](),P,C;!(x=(P=B.next()).done);x=!0)C=P.value,null==l[C]&&(l[C]={styles:[],attributes:[]}),l[C].styles.push(S.name)}catch(e){L=!0,w=e}finally{try{x||null==B.return||B.return()}finally{if(L)throw w}}}}catch(e){E=!0,I=e}finally{try{D||null==O.return||O.return()}finally{if(E)throw I}}var X=a[N];if(X)for(var M in X){var G=!0,H=!1,W=void 0;try{for(var V=X[M][Symbol.iterator](),z,F;!(G=(z=V.next()).done);G=!0)F=z.value,null==l[F]&&(l[F]={styles:[],attributes:[]}),l[F].attributes.push(M)}catch(e){H=!0,W=e}finally{try{G||null==V.return||V.return()}finally{if(H)throw W}}}}var U=function(n){var a=e.cache.locate("id",parseInt(n));if(a){var o=l[n].styles,i=l[n].attributes;0<o.length&&(r.add(o.join(".")),a.attr("_","style","@style/".concat(o.pop()))),0<i.length&&i.sort().forEach(function(e){return a.formatted(R(e,t.settings,!0),!1)})}};for(var j in l)U(j);var Y=!0,Z=!1,K=void 0;try{for(var J=function(){var e=q.value,t="";e.split(".").forEach(function(e){var n=e.match(/^(\w*?)(?:_([0-9]+))?$/);if(n){var a=o[n[1].toUpperCase()][null==n[2]?0:parseInt(n[2])];ge.STORED.styles.set(e,{parent:t,attributes:a.attributes}),t=e}})},Q=r[Symbol.iterator](),q;!(Y=(q=Q.next()).done);Y=!0)J()}catch(e){Z=!0,K=e}finally{try{Y||null==Q.return||Q.return()}finally{if(Z)throw K}}}},{key:"deleteStyleAttribute",value:function(e,t,n){t.split(";").forEach(function(t){for(var a=0;a<e.length;a++)if(e[a]){var o=-1,r="";for(var l in e[a])if(l===t){o=a,r=l,a=e.length;break}if(-1!=o){e[o][r]=e[o][r].filter(function(e){return!n.includes(e)}),0===e[o][r].length&&delete e[o][r];break}}})}},{key:"getShapeAttribute",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,a=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],o=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4];switch(t){case"stroke":if(e.border&&"0px"!==e.border.width){if(!a||o)return[{width:e.border.width,borderStyle:this.getBorderStyle(e.border,o?n:-1)}];if(a)return[{width:ce.formatPX(C(parseInt(e.border.width)/2)),borderStyle:this.getBorderStyle(e.border,n,!0)}]}return!1;case"backgroundColor":return 0!==e.backgroundColor.length&&""!==e.backgroundColor&&[{color:e.backgroundColor}];case"radius":if(1===e.borderRadius.length){if("0px"!==e.borderRadius[0])return[{radius:e.borderRadius[0]}];}else if(1<e.borderRadius.length){var i={};return e.borderRadius.forEach(function(e,t){return i["".concat(["topLeft","topRight","bottomRight","bottomLeft"][t],"Radius")]=e}),[i]}return!1;}return!1}},{key:"getBorderStyle",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],a={solid:"android:color=\"@color/".concat(e.color,"\""),groove:"",ridge:""};Object.assign(a,{double:a.solid,inset:a.solid,outset:a.solid,dotted:"".concat(a.solid," android:dashWidth=\"3px\" android:dashGap=\"1px\""),dashed:"".concat(a.solid," android:dashWidth=\"1px\" android:dashGap=\"1px\"")});var i="groove"===e.style;if(1<parseInt(e.width)&&(i||"ridge"===e.style)){var r=e.color,l=o.getColor(r);if(""!==l){var d="1";9===l.length&&(l="#".concat(l.substring(3)),d="0.".concat(l.substring(1,3)));var s=ue.parseRGBA(ue.reduceHexToRGB(l,i||"#000000"===l?.3:-.3));0<s.length&&(r=o.addColor(s[0],d))}var c="android:color=\"@color/".concat(r,"\"");i?n?0===t?a.groove=c:1===t?a.groove=c:2===t?a.groove=a.solid:3===t?a.groove=a.solid:void 0:0===t?a.groove=a.solid:1===t?a.groove=a.solid:2===t?a.groove=c:3===t?a.groove=c:void 0:n?0===t?a.ridge=a.solid:1===t?a.ridge=a.solid:2===t?a.ridge=c:3===t?a.ridge=c:void 0:0===t?a.ridge=c:1===t?a.ridge=c:2===t?a.ridge=a.solid:3===t?a.ridge=a.solid:void 0}return a[e.style]||a.solid}}],[{key:"getStored",value:function(e){return ge.STORED[e]}},{key:"formatOptions",value:function(t,n){for(var a in t){var i=t[a];if("object"===e(i))for(var r in i)if(null!=i[r]){var l=i[r].toString();switch(a){case"android":switch(r){case"text":if(!l.startsWith("@string/")&&(l=o.addString(l,"",n),""!==l)){i[r]="@string/".concat(l);continue}break;case"src":if(/^\w+:\/\//.test(l)&&(l=o.addImage({mdpi:l}),""!==l)){i[r]="@drawable/".concat(l);continue}}}var d=ue.parseHex(l);""!==d&&(i[r]="@color/".concat(o.addColor(d)))}}return t}},{key:"addString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length?arguments[2]:void 0,a=n.numberResourceValue;if(""!==e){""===t&&(t=e);var o=ce.isNumber(e);if(void 0!==a&&a||!o){var i=!0,r=!1,l=void 0;try{for(var d=ge.STORED.strings.entries()[Symbol.iterator](),s;!(i=(s=d.next()).done);i=!0){var c=h(s.value,2),p=c[0],u=c[1];if(u===e)return p}}catch(e){r=!0,l=e}finally{try{i||null==d.return||d.return()}finally{if(r)throw l}}t=t.trim().toLowerCase().replace(/[^a-z0-9]/g,"_").replace(/_+/g,"_").split("_").slice(0,4).join("_").replace(/_+$/g,""),o||/^[0-9]/.test(t)||K.includes(t)?t="__".concat(t):""===t&&(t="__symbol".concat(C(1e5*Math.random()))),ge.STORED.strings.has(t)&&(t=b("strings","".concat(t,"_1"))),ge.STORED.strings.set(t,e)}return t}return""}},{key:"addImageSrcSet",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=e.srcset.trim(),a={};if(""!==n){var i=e.src.substring(0,e.src.lastIndexOf("/")+1);n.split(",").forEach(function(e){var t=/^(.*?)\s*([0-9]+\.?[0-9]*x)?$/.exec(e.trim());if(t){null==t[2]&&(t[2]="1x");var n=i+ce.lastIndexOf(t[1]);switch(t[2]){case"0.75x":a.ldpi=n;break;case"1x":a.mdpi=n;break;case"1.5x":a.hdpi=n;break;case"2x":a.xhdpi=n;break;case"3x":a.xxhdpi=n;break;case"4x":a.xxxhdpi=n;}}})}return null==a.mdpi&&(a.mdpi=e.src),o.addImage(a,t)}},{key:"addImage",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n="";if(e&&e.mdpi){n=ce.lastIndexOf(e.mdpi);var a=ce.lastIndexOf(n,".").toLowerCase();switch(n=n.replace(/.\w+$/,"").replace(/-/g,"_"),a){case"bmp":case"cur":case"gif":case"ico":case"jpg":case"png":n=ge.insertStoredAsset("images",t+n,e);break;default:n="";}}return n}},{key:"addImageURL",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=pe.parseBackgroundUrl(e);return""===n?"":o.addImage({mdpi:n},t)}},{key:"addColor",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"1";e=e.toUpperCase().trim();var n=1>parseFloat(t)?"#".concat(parseFloat(t).toFixed(2).substring(2)+e.substring(1)):e;if(""!==e){var a="";if(!ge.STORED.colors.has(n)){var o=ue.getColorNearest(e);""!==o&&(o.name=ce.cameltoLowerCase(o.name),a=e===o.hex&&e===n?o.name:b("color","".concat(o.name,"_1")),ge.STORED.colors.set(n,a))}else a=ge.STORED.colors.get(n);return a}return""}},{key:"getColor",value:function(e){var t=!0,n=!1,a=void 0;try{for(var o=ge.STORED.colors.entries()[Symbol.iterator](),i;!(t=(i=o.next()).done);t=!0){var r=h(i.value,2),l=r[0],d=r[1];if(d===e)return l}}catch(e){n=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}return""}},{key:"parseBackgroundPosition",value:function(e,t){var n=new RegExp(/([0-9]+[a-z]{2}) ([0-9]+[a-z]{2})/).exec(e);return n?[ce.convertPX(n[1],t),ce.convertPX(n[2],t)]:["",""]}}]),o}(androme.lib.base.Resource),Ae=[androme.lib.enumeration,androme.lib.util,androme.lib.dom,androme.lib.xml,androme.lib.base.NodeList],Te=Ae[0],_e=Ae[1],ye=Ae[2],be=Ae[3],Ne=Ae[4],De={relativeParent:{top:"layout_alignParentTop",bottom:"layout_alignParentBottom"},relative:{top:"layout_alignTop",bottom:"layout_alignBottom",baseline:"layout_alignBaseline",bottomTop:"layout_above",topBottom:"layout_below"},constraint:{top:"layout_constraintTop_toTopOf",bottom:"layout_constraintBottom_toBottomOf",baseline:"layout_constraintBaseline_toBaselineOf",bottomTop:"layout_constraintBottom_toTopOf",topBottom:"layout_constraintTop_toBottomOf"}},Ee={leftTop:["left","top"],rightBottom:["right","bottom"],rightLeftBottomTop:["rightLeft","bottomTop"],leftRightTopBottom:["leftRight","topBottom"],widthHeight:["Width","Height"],horizontalVertical:["Horizontal","Vertical"]},Re=/*#__PURE__*/function(n){function l(){var e;return t(this,l),e=s(this,r(l).call(this)),e._merge={},y(),e}return i(l,n),a(l,[{key:"initNode",value:function(e){e.api=this.settings.targetAPI}},{key:"finalize",value:function(e){this.setAttributes(e);for(var t=u(e.views).concat(u(e.includes)),n=0,a;n<t.length;n++)a=t[n],a.content=be.removePlaceholders(a.content).replace(/\n\n/g,"\n"),this.settings.dimensResourceValue&&(a.content=this.parseDimensions(a.content)),a.content=R(a.content,this.settings),a.content=be.replaceTab(a.content,this.settings)}},{key:"reset",value:function(){p(r(l.prototype),"reset",this).call(this),y(),this._merge={}}},{key:"setConstraints",value:function(){function e(e,t){return l?"parent"===e.app(g[t]):"true"===e.android(r[t])}function t(e,t){return e[l?"app":"android"](g[t])}function n(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];e.delete.apply(e,[l?"app":"android"].concat(u(n.map(function(e){return g[e]}))))}function a(e,n,a){if(!e.constraint[a]){for(var o=e,i;o;)if(i=t(o,a===V.HORIZONTAL?"leftRight":"topBottom"),!i)o=null;else if(o=n.locate("nodeId",N(i)),o&&o.constraint[a])return!0;return!1}return!0}var o=this;Object.assign(De.relativeParent,{left:O("layout_alignParentLeft",this.settings),right:O("layout_alignParentRight",this.settings)}),Object.assign(De.relative,{left:O("layout_alignLeft",this.settings),right:O("layout_alignRight",this.settings),leftRight:O("layout_toRightOf",this.settings),rightLeft:O("layout_toLeftOf",this.settings)}),Object.assign(De.constraint,{left:O("layout_constraintLeft_toLeftOf",this.settings),right:O("layout_constraintRight_toRightOf",this.settings),leftRight:O("layout_constraintLeft_toRightOf",this.settings),rightLeft:O("layout_constraintRight_toLeftOf",this.settings)});var r=De.relativeParent,l=!1,d=!1,s=!0,c=!1,p=void 0,g;try{for(var m=function(){var s=A.value;d=s.is(Te.NODE_STANDARD.RELATIVE),l=s.is(Te.NODE_STANDARD.CONSTRAINT);var c=s.flex;d||l||c.enabled?function(){var l=new androme.lib.base.NodeList(s.renderChildren.filter(function(e){return e.auto}),s),p=Ne.cleared(s.initial.children);if(d){g=De.relative;var m=[],f=[],A=s.toInt("textIndent"),T="nowrap"===s.css("whiteSpace"),_=s.box.width;if(s.renderParent.overflowX)_=s.viewWidth||_||s.renderParent.toInt("width",0,{map:"initial"});else if(s.renderParent.hasAlign(Te.NODE_ALIGNMENT.FLOAT)){var y=B.apply(null,l.list.map(function(e){return e.linear.left})),b=k.apply(null,l.list.map(function(e){return e.linear.right}));_=b-y}else{var D=k.apply(null,s.documentParent.initial.children.filter(function(e){return"left"===e.float&&e.siblingIndex<s.siblingIndex}).map(function(e){return e.linear.right}));l.list.some(function(e){return e.linear.left===D})&&(_=s.box.right-D)}_=C(_);var R=0,I=0,v=null,S=null;0>A&&w(A)<=s.paddingLeft&&(I=w(A),s.modifyBox(Te.BOX_STANDARD.PADDING_LEFT,s.paddingLeft+A),s.modifyBox(Te.BOX_STANDARD.PADDING_LEFT,null));for(var x=0;x<l.length;x++){var P=l.get(x),X=l.get(x-1),M=P.bounds;if(P.inlineText&&!P.hasWidth){var G=ye.getRangeClientRect(P.element),H=h(G,2),W=H[0],z=H[1];W&&(z||W.width<M.width)&&(M=W)}var F=r["right"===P.float?"right":"left"],U=g["right"===P.float?"rightLeft":"leftRight"];if(0==x)P.android(F,"true"),!s.inline&&0<A&&P.modifyBox(Te.BOX_STANDARD.MARGIN_LEFT,A),(!P.siblingflow||P.floating&&"relative"===P.position||P.multiLine&&0>A)&&(v=P),m[m.length]=[P];else{var Y=m[m.length-1],Z=ye.getElementsBetweenSiblings(X.baseElement,P.baseElement,!1,!0),K=P instanceof ie&&!P.hasAlign(Te.NODE_ALIGNMENT.SEGMENTED),J=P.previousSibling(),Q=R+P.marginLeft+M.width,q=!1;if(1==x&&X.textElement&&P.textElement&&(q=0===Z.length&&!/\s+$/.test(X.textContent)&&!/^\s+/.test(P.textContent)),!T&&!q&&!["SUP","SUB"].includes(P.tagName)&&("left"!==X.float||P.linear.top>=X.linear.bottom)&&("right"!==P.float&&Q-(P.hasElement&&P.inlineStatic?P.paddingLeft+P.paddingRight:0)>_||P.multiLine&&ye.hasLineBreak(P.element)||X.multiLine&&""!==X.textContent.trim()&&!/^\s*\n+/.test(X.textContent)&&!/\n+\s*$/.test(X.textContent)&&ye.hasLineBreak(X.element)||J&&J.lineBreak||P.blockStatic||p.has(P)||K||P.floating&&("left"===P.float&&_e.withinFraction(P.linear.left,s.box.left)||"right"===P.float&&_e.withinFraction(P.linear.right,s.box.right)||P.linear.top>=X.linear.bottom)||0<Z.length&&Z.some(function(e){return ye.isLineBreak(e)}))){S=Y.filter(function(e){return!e.floating})[0]||Y[0];for(var $=0;$<Y.length;$++)Y[$]!==S&&Y[$].linear.bottom>S.linear.bottom&&(!Y[$].floating||Y[$].floating&&S.floating)&&(S=Y[$]);(K||X instanceof ie&&x==l.length-1)&&(P.constraint.marginVertical=S.stringId),P.anchor(g.topBottom,S.stringId),v&&P.linear.top<v.bounds.bottom&&!_e.withinRange(P.bounds.top,v.bounds.top,1)&&!_e.withinRange(P.bounds.bottom,v.bounds.bottom,1)?P.anchor(U,v.stringId):(P.anchor(F,"true"),v=null),o.settings.ellipsisOnTextOverflow&&X.linearHorizontal&&o.checkSingleLine(X.children[X.children.length-1],!0),0<I&&(o.settings.ellipsisOnTextOverflow&&1===m.length&&1===m[0].length&&m[0][0].textElement&&o.checkSingleLine(m[0][0],!0),P.modifyBox(Te.BOX_STANDARD.PADDING_LEFT,I)),o.adjustBaseline(f),s.alignmentType^=Te.NODE_ALIGNMENT.HORIZONTAL,s.alignmentType|=Te.NODE_ALIGNMENT.MULTILINE,R=0,f.length=0,m.push([P])}else 1==x&&0<I&&!X.plainText?(P.anchor(F,"true"),P.modifyBox(Te.BOX_STANDARD.PADDING_LEFT,I)):P.anchor(U,X.stringId),(q||Q>_)&&o.checkSingleLine(P),S&&P.anchor(g.topBottom,S.stringId),Y.push(P)}R+=M.width+P.marginLeft+P.marginRight+(!X||X.floating||X.plainText||X.preserveWhiteSpace||""===X.textContent.trim()||/\s+$/.test(X.textContent)||P.floating||P.plainText||P.preserveWhiteSpace||""===P.textContent.trim()||/^\s+/.test(P.textContent)?0:o.settings.whitespaceHorizontalOffset),P.floating||f.push(P)}if(o.adjustBaseline(f),0>s.marginTop&&"relative"===l.get(0).position&&m[0].forEach(function(e,t){return e.modifyBox(Te.BOX_STANDARD.MARGIN_TOP,s.marginTop*(0===t?1:-1),!0)}),1===m.length&&s.baseline&&m[0].forEach(function(e){switch(e.css("verticalAlign")){case"top":e.anchor(r.top,"true");break;case"middle":e.anchor("layout_centerVertical","true"),m[0].forEach(function(t){t!==e&&t.bounds.height<e.bounds.height&&t.anchor("layout_centerVertical","true")});}}),o.settings.ellipsisOnTextOverflow){var ee=!s.ascend().some(function(e){return e.hasWidth});if((1===m.length||s.hasAlign(Te.NODE_ALIGNMENT.HORIZONTAL))&&!s.ascend(!0).some(function(e){return e.is(Te.NODE_STANDARD.GRID)}))for(var te=1,ne;te<l.length;te++)ne=l.get(te),ne.multiLine||ne.floating||ne.alignParent("left",o.settings)||o.checkSingleLine(ne,!1,ee);else for(var ae=0,oe;ae<m.length;ae++)if(oe=m[ae],1<oe.length){var re=oe[oe.length-1];re.inlineText&&o.checkSingleLine(re,!1,ee)}}}else if(g=De.constraint,s.hasAlign(Te.NODE_ALIGNMENT.HORIZONTAL)){var le=Ne.textBaseline(l.list)[0],de=l.list.filter(function(e){return e.textElement&&e.baseline}).sort(function(e,t){return e.bounds.height>=t.bounds.height?-1:1}),se=l.list.filter(function(e){return e.imageElement&&e.baseline}).sort(function(e,t){return e.bounds.height>=t.bounds.height?-1:1});if(0<se.length){var ce=se[0];se.forEach(function(e,t){return 0<t&&e.app(g.baseline,ce.stringId)}),le.imageElement||le.app(g.bottom,ce.stringId),se=se.filter(function(e){return e!==ce})}for(var pe=function(e){var t=l.get(e),n=le;if(0===e)t.app(g.left,"parent");else{var a=l.get(e-1);t.app(g.leftRight,a.stringId),a.floating||t.floating||(t.constraint.marginHorizontal=a.stringId)}if(se.includes(t))return"continue";var i=t.css("verticalAlign");"baseline"===i&&("RadioGroup"===t.controlName||"TEXTAREA"===t.tagName)&&(i="text-bottom"),(!n||i.startsWith("text")||le===t)&&(de.some(function(e){return e!==t&&(n=e,!0)}),!n&&l.list.slice().sort(function(e,t){return e.nodeType<=t.nodeType?-1:1}).some(function(e){return e!==t&&(n=e,!0)})),"text-top"===i?n&&t.app(g.top,n.stringId):"top"===i?t.app(g.top,"parent"):"middle"===i?o.setAlignParent(t,V.VERTICAL):"baseline"===i?n&&t.app(g.baseline,n.stringId):"text-bottom"===i?n&&t.app(g.bottom,n.stringId):"bottom"===i?t.app(g.bottom,"parent"):void 0},he=0,ue;he<l.length;he++)ue=pe(he),"continue"===ue}else(function(){var i=l.partition(function(e){return!e.pageflow||"relative"===e.position&&e.alignNegative}),r=h(i,2),d=r[0],p=r[1],m=s.hasAlign(Te.NODE_ALIGNMENT.PERCENT),f=s.toInt("columnCount");if(m)s.android("layout_width","match_parent");else if(0===f){var A=!0,T=!1,_=void 0;try{for(var b=p[Symbol.iterator](),D;!(A=(D=b.next()).done);A=!0){var R=D.value,I=R.documentParent;R.autoMarginHorizontal?o.setAlignParent(R,V.HORIZONTAL):((R.linear.left<=I.box.left||_e.withinFraction(R.linear.left,I.box.left))&&R.anchor(g.left,"parent",V.HORIZONTAL),(R.linear.right>=I.box.right||_e.withinFraction(R.linear.right,I.box.right))&&R.anchor(g.right,"parent",I.hasWidth||"right"===R.float||R.autoMarginLeft?V.HORIZONTAL:"")),R.linear.top<=I.box.top||_e.withinFraction(R.linear.top,I.box.top)?R.anchor(g.top,"parent",V.VERTICAL):(R.linear.bottom>=I.box.bottom||_e.withinFraction(R.linear.bottom,I.box.bottom))&&R.anchor(g.bottom,"parent",I.hasHeight?V.VERTICAL:"");var v=!0,S=!1,x=void 0;try{for(var P=p[Symbol.iterator](),X,M;!(v=(X=P.next()).done);v=!0)if(M=X.value,R!==M){var G=M.stringId,H=a(M,l,V.HORIZONTAL)?V.HORIZONTAL:"",W=a(M,l,V.VERTICAL)?V.VERTICAL:"",z=R.intersectY(M.linear),F=R.alignOrigin&&M.alignOrigin;R.hasWidth||R.linear.left!==M.linear.left||R.linear.right!==M.linear.right||(!e(R,"right")&&R.anchor(g.left,G),!e(R,"left")&&R.anchor(g.right,G)),(_e.withinFraction(R.linear.left,M.linear.right)||F&&_e.withinRange(R.linear.left,M.linear.right,o.settings.whitespaceHorizontalOffset))&&("right"!==R.float||R.float===M.float)&&R.anchor(g.leftRight,G,H,R.withinX(M.linear)),(_e.withinFraction(R.linear.right,M.linear.left)||F&&_e.withinRange(R.linear.right,M.linear.left,o.settings.whitespaceHorizontalOffset))&&R.anchor(g.rightLeft,G,H,R.withinX(M.linear));var U=e(R,"top"),j=e(R,"bottom"),Y=!c.enabled&&!R.inlineElement;(_e.withinFraction(R.linear.top,M.linear.bottom)||F&&_e.withinRange(R.linear.top,M.linear.bottom,o.settings.whitespaceVerticalOffset))&&(z||!j||Y)&&R.anchor(g.topBottom,G,W,z),(_e.withinFraction(R.linear.bottom,M.linear.top)||F&&_e.withinRange(R.linear.bottom,M.linear.top,o.settings.whitespaceVerticalOffset))&&(z||!U||Y)&&R.anchor(g.bottomTop,G,W,z),U||j||(R.linear.top===M.linear.top&&R.anchor(g.top,G,W),R.linear.bottom===M.linear.bottom&&R.anchor(g.bottom,G,W))}}catch(e){S=!0,x=e}finally{try{v||null==P.return||P.return()}finally{if(S)throw x}}}}catch(e){T=!0,_=e}finally{try{A||null==b.return||b.return()}finally{if(T)throw _}}var Z=!0,K=!1,J=void 0;try{for(var Q=p[Symbol.iterator](),q;!(Z=(q=Q.next()).done);Z=!0){var $=q.value,ee=t($,"leftRight");ee&&(!$.constraint.horizontal&&($.constraint.horizontal=c.enabled||a($,l,V.HORIZONTAL)),$.constraint.marginHorizontal=ee);var te=t($,"topBottom");if(te&&(!$.constraint.vertical&&($.constraint.vertical=c.enabled||a($,l,V.VERTICAL)),$.constraint.marginVertical=te,n($,"top")),e($,"left")&&e($,"right"))if($.autoMargin)$.autoMarginLeft&&n($,"left"),$.autoMarginRight&&n($,"right"),$.autoMarginHorizontal&&(s.hasWidth&&!$.has("width",Te.CSS_STANDARD.PERCENT)?$.android("layout_width","match_parent"):$.inlineElement&&!$.hasWidth&&$.android("layout_width","wrap_content"));else if($.floating)n($,"right"===$.float?"left":"right");else if(!$.inlineElement)n($,"right"),$.android("layout_width","match_parent");else if($.nodeType<=Te.NODE_STANDARD.IMAGE)switch($.css("textAlign")){case"center":break;case"right":case"end":n($,"left");break;default:n($,"right");}else n($,"right");if(t($,"bottomTop")&&n($,"bottom"),$.plainText||!$.hasElement&&$.renderChildren.some(function(e){return e.textElement})){var ne=$.cssParent("textAlign");"right"===ne?($.anchor(g.right,"parent",V.HORIZONTAL),$.constraint.horizontal=!0):"center"===ne&&($.constraint.horizontal=!1,o.setAlignParent($,V.HORIZONTAL))}}}catch(e){K=!0,J=e}finally{try{Z||null==Q.return||Q.return()}finally{if(K)throw J}}for(var ae=0,oe;ae<p.length;ae++)if(oe=p.get(ae),!oe.anchored){var ie=_e.searchObject(oe.get("app"),"*constraint*"),re=!0,le=!1,de=void 0;try{for(var se=ie[Symbol.iterator](),ce;!(re=(ce=se.next()).done);re=!0){var pe=h(ce.value,2),he=pe[0],ue=pe[1];"parent"!==ue&&p.filter(function(e){return e.anchored}).locate("stringId",ue)&&(-1!==_e.indexOf(he,O("Left",o.settings),O("Right",o.settings))&&(oe.constraint.horizontal=!0),-1!==_e.indexOf(he,"Top","Bottom","Baseline","above","below")&&(oe.constraint.vertical=!0))}}catch(e){le=!0,de=e}finally{try{re||null==se.return||se.return()}finally{if(le)throw de}}oe.anchored&&(ae=-1)}if(0<d.length){var ge=!0,me=!1,fe=void 0;try{for(var Ae=d[Symbol.iterator](),be;!(ge=(be=Ae.next()).done);ge=!0){var Ne=be.value,De=!1;null!=Ne.right&&0<=Ne.toInt("right")&&(Ne.anchor(g.right,"parent",V.HORIZONTAL),0<Ne.toInt("left")&&(Ne.anchor(g.left,"parent"),Ne.modifyBox(Te.BOX_STANDARD.MARGIN_LEFT,Ne.toInt("left")),De=!0)),De||null==Ne.left||0!==Ne.toInt("left")||(Ne.anchor(g.left,"parent",V.HORIZONTAL),0<Ne.toInt("right")&&(Ne.anchor(g.right,"parent"),Ne.modifyBox(Te.BOX_STANDARD.MARGIN_RIGHT,Ne.toInt("right")))),null!=Ne.top&&0===Ne.toInt("top")&&Ne.anchor(g.top,"parent",V.VERTICAL),null!=Ne.bottom&&0<=Ne.toInt("bottom")&&Ne.anchor(g.bottom,"parent",V.VERTICAL),0!==Ne.left||0!==Ne.right||Ne.floating||Ne.has("width",Te.CSS_STANDARD.PERCENT)||Ne.android("layout_width","match_parent"),0===Ne.top&&0===Ne.bottom&&Ne.android("layout_height","match_parent")}}catch(e){me=!0,fe=e}finally{try{ge||null==Ae.return||Ae.return()}finally{if(me)throw fe}}}}if(c.enabled||0<f||!o.settings.constraintChainDisabled&&1<p.length){var Re=[],Ie=[];if(c.enabled){if("nowrap"===c.wrap)switch(c.direction){case"row-reverse":var Oe=p.clone();Oe.list.reverse(),Re.push(Oe);break;case"row":Re.push(p.clone());break;case"column-reverse":var ve=p.clone();ve.list.reverse(),Ie.push(ve);break;case"column":Ie.push(p.clone());}else{var Se=function(){for(var e in Le)Le[e].reverse()},xe=p.clone(),Le={},we=[];switch(c.direction){case"row-reverse":case"column-reverse":xe.list.reverse();}var Be=!0,Pe=!1,Ce=void 0;try{for(var ke=xe[Symbol.iterator](),Xe;!(Be=(Xe=ke.next()).done);Be=!0){var Me=Xe.value,Ge=Me.linear.top;null==Le[Ge]&&(Le[Ge]=[],we.push(Ge)),Le[Ge].push(Me)}}catch(e){Pe=!0,Ce=e}finally{try{Be||null==ke.return||ke.return()}finally{if(Pe)throw Ce}}switch(c.wrap){case"wrap":"column-reverse"===c.direction&&Se();break;case"wrap-reverse":-1===c.direction.indexOf("row")?"column"===c.direction&&Se():we.reverse();}for(var y=0,He;y<we.length;y++)He=we[y],Re.push(new androme.lib.base.NodeList(Le[He]))}}else if(0<f)(function(){for(var e=[],t=C(p.length/B(f,p.length)),n=0,a=0,i;n<p.length;n++)i=p.get(n),0==n%t&&(0<n&&a++,null==e[a]&&(e[a]=[])),e[a].push(i);for(var r=[],l=_e.convertInt(s.css("columnGap"))||16,d=e.map(function(e){return k.apply(null,e.map(function(e){return e.marginLeft+e.marginRight}))}).reduce(function(e,t){return e+t},0),c=k((d+l*(f-1))/s.box.width/f,.01),h=0;h<e.length;h++){var u=e[h],g=u[0];0<h&&g.android("layout_".concat(O("marginLeft",o.settings)),_e.formatPX(g.marginLeft+l)),r.push(g),u.forEach(function(e){e.hasWidth||(e.android("layout_width","0px"),e.app("layout_constraintWidth_percent",(1/f-c).toFixed(2)))}),Ie.push(new androme.lib.base.NodeList(u))}Re.push(new androme.lib.base.NodeList(r))})();else{var We=p.list.filter(function(e){return!e.constraint.horizontal}),Ve=p.list.filter(function(e){return!e.constraint.vertical});p.list.some(function(e){var t=[],n=[];return We.includes(e)&&(t.push.apply(t,u(o.partitionChain(e,p,V.HORIZONTAL,!m))),0<t.length&&Re.push(new androme.lib.base.NodeList(_e.sortAsc(t,"linear.left")))),Ve.includes(e)&&!m&&(n.push.apply(n,u(o.partitionChain(e,p,V.HORIZONTAL,!0))),0<n.length&&Ie.push(new androme.lib.base.NodeList(_e.sortAsc(n,"linear.top")))),t.length===p.length||n.length===p.length}),Re.sort(function(e,t){return e.length>=t.length?-1:1}),Ie.sort(function(e,t){return e.length>=t.length?-1:1})}[Re,Ie].forEach(function(i,r){if(0<i.length){var d=new Set,p=[];i.filter(function(e){var t=e.list.map(function(e){return e.id}).sort().join("-");return!d.has(t)&&(d.add(t),!0)}).forEach(function(d,h){if(d.length>(c.enabled?0:1)){var u=0===r?1:0,A=[Ee.horizontalVertical[r],Ee.horizontalVertical[u]],T=A[0],_=A[1],y=[Ee.leftTop[r],Ee.leftTop[u]],b=y[0],N=y[1],D=[Ee.rightBottom[r],Ee.rightBottom[u]],E=D[0],R=D[1],I=[Ee.widthHeight[r],Ee.widthHeight[u]],O=I[0],v=I[1],S=T.toLowerCase(),x=_.toLowerCase(),L=O.toLowerCase();if(c.enabled)d.list.some(function(e){return 0<e.flex.order})&&d[-1===c.direction.indexOf("reverse")?"sortAsc":"sortDesc"]("flex.order");else if(!m&&0===f&&d.list.every(function(e){return a(e,l,S)}))return;d.parent=s;for(var w=d.get(0),B=d.get(),P=!1,C=!1,X=-1,M=0===r?["left","leftRight","top",V.VERTICAL,"hasWidth","right","marginHorizontal"]:["top","topBottom","left",V.HORIZONTAL,"hasHeight","bottom","marginVertical"],G=0,H;G<d.length;G++)if(H=d.get(G),0==G){if(!e(H,M[0])){P=!0;break}}else if(!t(H,M[1])){P=!0;break}if(!P){if(d.list.every(function(e){return _e.sameValue(w,e,"linear.".concat(M[2]))}))for(var W=1,z;W<d.length;W++)z=d.get(W),z.constraint[M[3]]||z.anchor(g[M[2]],w.stringId,M[3]);c.enabled||0!==s[M[4]]||(n(B,M[5]),B.constraint[M[6]]=t(B,M[1]))}m?(w.anchor(g[b],"parent",S),B.anchor(g[E],"parent",S),!s.renderParent.autoMarginHorizontal&&("right"===w.float&&"right"===B.float?w.app("layout_constraint".concat(T,"_bias"),"1"):w.app("layout_constraint".concat(T,"_bias"),"0"))):(w.anchor(g[b],"parent",S),B.anchor(g[E],"parent",S));for(var F=function(a){var l=d.get(a),u=d.get(a+1),A=d.get(a-1);if(c.enabled){l.linear[N]===s.box[N]&&l.linear[R]===s.box[R]&&o.setAlignParent(l,x);var y=i[h+1];if(y){var D=y.get(a);D&&l.withinY(D.linear)&&(l.anchor(g.bottomTop,D.stringId),!e(l,"bottom")&&n(l,"bottom"))}}else if(m){if(0===p.length)l.anchor(g.top,"parent");else{var I=p[p.length-1],S=k.apply(null,I.list.map(function(e){return e.linear.bottom})),B;B=d.length===I.length?I.get(a):I.list.find(function(e){return e.linear.bottom===S}),B&&l.anchor(g.topBottom,B.stringId)}var P=l.css("width");_e.isPercent(P)&&(l.android("layout_width","0px"),l.app("layout_constraint".concat(O,"_percent"),(parseInt(P)/100).toFixed(2))),l.constraint.horizontal=!0,l.constraint.vertical=!0}else 0<f&&(0===r&&l.app("layout_constraint".concat(_,"_bias"),"0"),1===r&&0<a&&l.anchor(g.left,w.stringId),l.constraint.horizontal=!0,l.constraint.vertical=!0);if(u&&(l.anchor(g[Ee.rightLeftBottomTop[r]],u.stringId),X=k(u.linear[b]-l.linear[E],X)),A&&(l.anchor(g[Ee.leftRightTopBottom[r]],A.stringId),l.constraint["margin".concat(T)]=A.stringId),l.constraint["chain".concat(T)]=!0,!l.has(L)||l.has(L,Te.CSS_STANDARD.PERCENT)){var C=l.styleMap["min".concat(O)],M=l.styleMap["max".concat(O)];_e.isUnit(C)&&(l.app("layout_constraint".concat(O,"_min"),C),l.android("layout_".concat(L),"0px")),_e.isUnit(M)&&(l.app("layout_constraint".concat(O,"_max"),M),l.android("layout_".concat(L),"0px"))}if(c.enabled){switch(l.app("layout_constraint".concat(T,"_weight"),l.flex.grow.toString()),0===l["view".concat(O)]&&0===l.flex.grow&&1>=l.flex.shrink?l.android("layout_".concat(L),"wrap_content"):0<l.flex.grow&&l.android("layout_".concat(L),"0px"),0===l.flex.shrink&&l.app("layout_constrained".concat(O),"true"),l.flex.alignSelf){case"flex-start":l.anchor(g[N],"parent",x);break;case"flex-end":l.anchor(g[R],"parent",x);break;case"baseline":var G=d.list.some(function(e){return!!(e!==l&&e.nodeType<=Te.NODE_STANDARD.TEXT)&&(l.anchor(g.baseline,e.stringId),!0)});if(G){n(l,"top","bottom");var H=!0,W=!1,V=void 0;try{for(var z=d[Symbol.iterator](),F,U;!(H=(F=z.next()).done);H=!0)U=F.value,t(U,"top")===l.stringId&&n(U,"top"),t(U,"bottom")===l.stringId&&n(U,"bottom")}catch(e){W=!0,V=e}finally{try{H||null==z.return||z.return()}finally{if(W)throw V}}l.constraint.vertical=!0}break;case"center":case"stretch":"center"!==l.flex.alignSelf&&l.android("layout_".concat(v.toLowerCase()),"0px"),l.constraint[x]=!1,o.setAlignParent(l,x);}if("auto"!==l.flex.basis){var j=_e.convertInt(l.flex.basis);0<j&&(_e.isPercent(l.flex.basis)?l.app("layout_constraint".concat(O,"_percent"),(j/100).toFixed(2)):(l.app("layout_constraint".concat(O,"_min"),_e.formatPX(j)),l.constraint["min".concat(O)]=!0))}}},U=0;U<d.length;U++)F(U);var j="layout_constraint".concat(T,"_chainStyle");if(c.enabled&&"normal"!==c.justifyContent&&0===k.apply(null,d.list.map(function(e){return e.flex.grow}))){switch(c.justifyContent){case"space-between":w.app(j,"spread_inside");break;case"space-evenly":w.app(j,"spread");var Y=!0,Z=!1,K=void 0;try{for(var J=d[Symbol.iterator](),Q,q;!(Y=(Q=J.next()).done);Y=!0)q=Q.value,q.app("layout_constraint".concat(T,"_weight"),(q.flex.grow||1).toString())}catch(e){Z=!0,K=e}finally{try{Y||null==J.return||J.return()}finally{if(Z)throw K}}break;case"space-around":w.app("layout_constraint".concat(T,"_chainStyle"),"spread_inside"),w.constraint[S]=!1,B.constraint[S]=!1,o.addGuideline(w,S,!0,!1),o.addGuideline(B,S,!0,!0);break;default:var $=c.justifyContent;if(-1!==c.direction.indexOf("reverse"))switch(c.justifyContent){case"flex-start":$="flex-end";break;case"flex-end":$="flex-start";}var ee="0.5";"flex-start"===$?ee="0":"flex-end"===$?ee="1":void 0,w.app(j,"packed"),w.app("layout_constraint".concat(T,"_bias"),ee);}C=!0}else if(m)w.app(j,"packed");else if(!c.enabled&&0<f)w.app(j,0===r?"spread_inside":"packed");else{var te=_e.withinFraction(s.box.left,w.linear.left),ne=_e.withinFraction(B.linear.right,s.box.right),ae=_e.withinFraction(s.box.top,w.linear.top),oe=_e.withinFraction(B.linear.bottom,s.box.bottom);if(S===V.HORIZONTAL&&te&&ne||S===V.VERTICAL&&ae&&oe)c.enabled||2<d.length?!c.enabled&&s.inlineElement?(w.app(j,"packed"),w.app("layout_constraint".concat(T,"_bias"),0===r&&"right"===s.float?"1":"0")):(w.app(j,"spread_inside"),C=!0):X>o.settings["constraintChainPacked".concat(T,"Offset")]&&(e(w,b)&&n(w,Ee.rightLeftBottomTop[r]),e(B,E)&&n(B,Ee.leftRightTopBottom[r]));else if(X<=o.settings["chainPacked".concat(T,"Offset")]||"nowrap"!==s.flex.wrap||S===V.HORIZONTAL&&(te||ne)){w.app(j,"packed");var ie="";S===V.HORIZONTAL&&(te?ie="0":ne&&(ie="1")),""===ie&&(ie=d["".concat(S,"Bias")]),w.app("layout_constraint".concat(T,"_bias"),ie)}else w.app(j,"spread"),C=!0;if(!c.enabled){(0===r?[[N,R],[R,N]]:[[b,E],[E,b]]).forEach(function(e){if(d.list.every(function(t){return _e.sameValue(w,t,"linear.".concat(e[0]))&&d.list.some(function(t){return!_e.sameValue(w,t,"linear.".concat(e[1]))})})){var t=!0,a=!1,o=void 0;try{for(var i=d[Symbol.iterator](),r,l;!(t=(r=i.next()).done);t=!0)l=r.value,n(l,e[1])}catch(e){a=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(a)throw o}}}});var re=!0,le=!1,de=void 0;try{for(var se=d[Symbol.iterator](),ce;!(re=(ce=se.next()).done);re=!0){var pe=ce.value,he=!0,ue=!1,ge=void 0;try{for(var me=i[Symbol.iterator](),fe,Ae;!(he=(fe=me.next()).done);he=!0)Ae=fe.value,Ae.locate("id",pe.id)&&Ae.clear()}catch(e){ue=!0,ge=e}finally{try{he||null==me.return||me.return()}finally{if(ue)throw ge}}}}catch(e){le=!0,de=e}finally{try{re||null==se.return||se.return()}finally{if(le)throw de}}}else C=!0}if(C){var ye=!0,be=!1,Ne=void 0;try{for(var De=d[Symbol.iterator](),Re,Ie;!(ye=(Re=De.next()).done);ye=!0)Ie=Re.value,delete Ie.constraint.marginHorizontal,delete Ie.constraint.marginVertical}catch(e){be=!0,Ne=e}finally{try{ye||null==De.return||De.return()}finally{if(be)throw Ne}}}p.push(d)}})}})}var ze=!0,Fe=!1,Ue=void 0;try{for(var je=p[Symbol.iterator](),Ye,Ze;!(ze=(Ye=je.next()).done);ze=!0)Ze=Ye.value,Ze.constraint.horizontal=a(Ze,l,V.HORIZONTAL),Ze.constraint.vertical=a(Ze,l,V.VERTICAL)}catch(e){Fe=!0,Ue=e}finally{try{ze||null==je.return||je.return()}finally{if(Fe)throw Ue}}c.enabled?"nowrap"!==c.wrap&&["topBottom","bottomTop"].forEach(function(a,o){var i=!0,r=!1,d=void 0;try{for(var s=p[Symbol.iterator](),c,h;!(i=(c=s.next()).done);i=!0)if(h=c.value,e(h,0===o?"bottom":"top")){for(var u=[h],m=!1,f=h,A;f;)if(A=t(f,a),!A)f=null;else if(f=l.locate("nodeId",N(A)),f&&h.withinY(f.linear)&&(u.push(f),m=e(f,0===o?"top":"bottom"),m))break;if(!m)for(var T=function(){var e=u[_];p.list.some(function(t){return e!==t&&t.linear.top===e.linear.top&&t.linear.bottom===e.linear.bottom&&(n(e,"topBottom","bottomTop"),e.app(g.top,t.stringId),e.app(g.bottom,t.stringId),!0)})},_=0;_<u.length;_++)T()}}catch(e){r=!0,d=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw d}}}):0===f&&function(){var i=Math.sqrt,r=Math.pow,d=Math.PI,c=Math.atan,u=function(e,t){n(e,t),ee[e.stringId][t]=null},m=!0,f=!1,A=void 0;try{for(var T=function(){var n=y.value;[["top","bottom","topBottom"],["bottom","top","bottomTop"]].forEach(function(a){e(n,a[1])&&!t(n,a[2])&&["leftRight","rightLeft"].forEach(function(e){var o=t(n,e);if(o){var i=p.locate("stringId",o);i&&t(i,a[2])&&(_e.withinFraction(n.linear[a[0]],i.linear[a[0]])&&n.anchor(g[a[0]],i.stringId),_e.withinFraction(n.linear[a[1]],i.linear[a[1]])&&n.anchor(g[a[1]],i.stringId))}})})},_=p[Symbol.iterator](),y;!(m=(y=_.next()).done);m=!0)T()}catch(e){f=!0,A=e}finally{try{m||null==_.return||_.return()}finally{if(f)throw A}}var b=p.filter(function(t){return!t.anchored&&(e(t,"top")||e(t,"right")||e(t,"bottom")||e(t,"left"))});0===l.filter(function(e){return e.anchored}).length&&0===b.length&&b.append(l.get(0));var N=!0,D=!1,R=void 0;try{for(var I=b[Symbol.iterator](),O,v;!(N=(O=I.next()).done);N=!0)v=O.value,o.addGuideline(v,"",!1,!1)}catch(e){D=!0,R=e}finally{try{N||null==I.return||I.return()}finally{if(D)throw R}}var S=l.partition(function(e){return e.anchored}),P=h(S,2),C=P[0],X=P[1],M=!0,G=!1,H=void 0;try{for(var W=X[Symbol.iterator](),z,F;!(M=(z=W.next()).done);M=!0)if(F=z.value,_e.withinRange(F.horizontalBias(o.settings),.5,.01)&&_e.withinRange(F.verticalBias(o.settings),.5,.01))o.setAlignParent(F);else if(o.settings.constraintCirclePositionAbsolute&&0<C.length&&!F.constraint.horizontal&&!F.constraint.vertical){var U=C.get(0),j=F.center,Y=U.center,Z=w(j.x-Y.x),x=w(j.y-Y.y),K=L(c(B(Z,x)/k(Z,x))*(180/d)),J=L(i(r(Z,2)+r(x,2)));j.y>Y.y?j.x>Y.x?Z>x?K+=90:K=180-K:Z>x?K=270-K:K+=180:j.y<Y.y?Y.x>j.x?Z>x?K+=270:K=360-K:Z>x&&(K=90-K):K=j.x>Y.x?90:270,F.delete("app","layout_constraint*"),F.app("layout_constraintCircle",U.stringId),F.app("layout_constraintCircleRadius",E("".concat(F.nodeName),"constraintcircleradius",_e.formatPX(J),o.settings)),F.app("layout_constraintCircleAngle",K.toString()),F.constraint.horizontal=!0,F.constraint.vertical=!0}else o.addGuideline(F)}catch(e){G=!0,H=e}finally{try{M||null==W.return||W.return()}finally{if(G)throw H}}for(var Q=null,q=null,$=k.apply(null,l.list.map(function(e){return e.linear.bottom})),ee={},te=function(i){var r=l.get(i),d=e(r,"top"),c=e(r,"right"),p=e(r,"bottom"),h=e(r,"left");if(ee[r.stringId]={leftRight:t(r,"leftRight"),rightLeft:t(r,"rightLeft"),topBottom:t(r,"topBottom"),bottomTop:t(r,"bottomTop")},(p&&t(r,"topBottom")&&r.hasHeight||d&&p&&!r.has("marginTop",Te.CSS_STANDARD.AUTO)&&r.linear.bottom<$)&&(n(r,"bottom"),p=!1),r.pageflow)[[h,c,"rightLeft","leftRight","right","left","Horizontal"],[d,p,"bottomTop","topBottom","bottom","top","Vertical"]].forEach(function(a,i){if(a[0]||a[1]){var l=a[0]&&a[1],d=r;if(!l)do{var c=t(d,a[0]?a[2]:a[3]);if(!c)d=null;else if(d=o.findByStringId(c),d&&(a[0]&&e(d,a[4])||a[1]&&e(d,a[5]))){l=!0;break}}while(d);if(l&&(s.constraint["layout".concat(a[6])]=!0),!r.constraint["chain".concat(a[6])])if(a[0]&&a[1])r.autoMargin||r.linearVertical||r.android("layout_".concat(0===i?"width":"height"),"match_parent",!1);else if(a[1]&&l){var p=o.findByStringId(t(r,a[3]));p&&0===p.marginBottom&&n(r,a[4])}}}),c?!q&&(q=!1,q=a(r,l,V.HORIZONTAL)):h&&(r.is(Te.NODE_STANDARD.TEXT)&&"center"===r.cssParent("textAlign",!0)&&r.anchor(g.right,"parent"),r.textElement&&!r.hasWidth&&0===r.toInt("maxWidth")&&r.multiLine&&!ye.hasLineBreak(r.element)&&!l.list.some(function(e){return t(e,"rightLeft")===r.stringId})&&r.android("layout_width","match_parent")),p&&!Q&&(Q=!1,Q=a(r,l,V.VERTICAL));else{if(h&&c&&null==r.right&&r.hasWidth)switch(r.cssParent("textAlign",!0)){case"center":case"right":case"end":break;default:n(r,"right");}if(d&&p&&null==r.bottom&&r.hasHeight)switch(r.css("verticalAlign")){case"bottom":case"text-bottom":case"middle":break;default:n(r,"bottom");}h&&c&&!s.hasWidth&&(s.constraint.layoutWidth=!0),d&&p&&!s.hasHeight&&(s.constraint.layoutHeight=!0),c&&0<r.toInt("right")&&r.modifyBox(Te.BOX_STANDARD.MARGIN_RIGHT,k(r.toInt("right")-s.paddingRight,0)),p&&0<r.toInt("bottom")&&r.modifyBox(Te.BOX_STANDARD.MARGIN_BOTTOM,k(r.toInt("bottom")-s.paddingBottom,0)),c&&p&&s.documentRoot&&(!s.hasWidth&&(s.constraint.layoutWidth=!1,s.constraint.layoutHorizontal=!1),!s.hasHeight&&(s.constraint.layoutHeight=!1,s.constraint.layoutVertical=!1))}},ne=0;ne<l.length;ne++)te(ne);var ae=function(e){var n=function(n){e!==n&&["leftRight","rightLeft","bottomTop","topBottom"].forEach(function(a){if(ee[e][a]&&ee[e][a]===ee[n][a]){var o=l.locate("stringId",ee[e][a]);o&&[l.locate("stringId",e),l.locate("stringId",n)].some(function(i,r){if(i){var l=0===r?e:n;switch(a){case"leftRight":case"rightLeft":if((t(i,"left")||t(i,"right"))&&t(o,"rightLeft"===a?"leftRight":"rightLeft")!==l)return u(i,a),!0;break;case"bottomTop":case"topBottom":if((t(i,"top")||t(i,"bottom"))&&t(o,"topBottom"===a?"bottomTop":"topBottom")!==l)return u(i,a),!0;}}return!1})}})};for(var a in ee)n(a)};for(var oe in ee)ae(oe);!1===q&&(s.constraint.layoutWidth=!0),!1===Q&&(s.constraint.layoutHeight=!0)}()})();var ge=!0,me=!1,fe=void 0;try{for(var Ae=l[Symbol.iterator](),be,Re;!(ge=(be=Ae.next()).done);ge=!0){if(Re=be.value,Re.constraint.marginHorizontal){var Ie=o.findByStringId(Re.constraint.marginHorizontal);if(Ie){var Oe=Re.linear.left-Ie.actualRight();1<=Oe&&Re.modifyBox(Te.BOX_STANDARD.MARGIN_LEFT,Oe)}}if(Re.constraint.marginVertical){var ve=o.findByStringId(Re.constraint.marginVertical);if(ve){var Se=Re.linear.top-ve.linear.bottom;1<=Se&&Re.modifyBox(Te.BOX_STANDARD.MARGIN_TOP,Se)}}}}catch(e){me=!0,fe=e}finally{try{ge||null==Ae.return||Ae.return()}finally{if(me)throw fe}}}():s.linearHorizontal&&o.adjustLineHeight(s.renderChildren,s)},f=this.cache.visible[Symbol.iterator](),A;!(s=(A=f.next()).done);s=!0)m()}catch(e){c=!0,p=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw p}}}},{key:"getEmptySpacer",value:function(e,t,n,a){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,i="",r=n&&_e.isPercent(n)?(parseInt(n)/100).toFixed(2):"";return e===Te.NODE_STANDARD.GRID?i=this.renderNodeStatic(Te.NODE_STANDARD.SPACE,t,{app:{layout_columnWeight:r,layout_columnSpan:o.toString()}},""===r?"wrap_content":"0px",a?_e.formatPX(a):"wrap_content"):void 0,i}},{key:"createGroup",value:function(e,t,n){var a=new ie(this.cache.nextId,t,e,n);return 0<n.length&&n.forEach(function(e){return e.inherit(a,"data")}),this.cache.append(a),a}},{key:"renderGroup",value:function(e,t,n,a){var o=this,i=_e.hasValue(e.dataset.target)&&!_e.hasValue(e.dataset.include),r="",l="";switch("number"==typeof n&&(n=oe.getControlName(n)),n){case H.LINEAR:a={android:{orientation:a&&a.horizontal?V.HORIZONTAL:V.VERTICAL}};break;case H.GRID:a={app:{columnCount:a&&0<a.columns?a.columns.toString():"2",rowCount:a&&0<a.rows?a.rows.toString():""}};break;default:a={};}if(e.setNodeType(n),e.overflowX||e.overflowY){var d=[];e.overflowX&&e.overflowY?d.push(H.SCROLL_HORIZONTAL,H.SCROLL_VERTICAL):(e.overflowX&&d.push(H.SCROLL_HORIZONTAL),e.overflowY&&d.push(H.SCROLL_VERTICAL));var s=null,c=d.map(function(n,a){var i=new oe(o.cache.nextId,0===a?e.element:void 0);i.api=o.settings.targetAPI,i.nodeName=e.nodeName,i.documentParent=e.documentParent,i.setNodeType(n),0===a?(i.inherit(e,"initial","base","data","style","styleMap"),i.parent=t,i.render(t)):(i.init(),i.inherit(e,"dimensions"),i.inherit(e,"initial","style","styleMap"),s&&(s.css("overflow","visible scroll"),s.css("overflowX","scroll"),s.css("overflowY","visible"),i.parent=s,i.render(s)),i.css("overflow","scroll visible"),i.css("overflowX","visible"),i.css("overflowY","scroll"),e.has("height",Te.CSS_STANDARD.UNIT)&&i.css("height",_e.formatPX(e.toInt("height")+e.paddingTop+e.paddingBottom))),i.resetBox(Te.BOX_STANDARD.PADDING);var d=_e.repeat(i.renderDepth);return r+="{<".concat(i.id,"}").concat(d,"<").concat(n,"{@").concat(i.id,"}>\n")+"{:".concat(i.id,"}"),l="".concat(d,"</").concat(n,">\n{>").concat(i.id,"}")+(1===a?"\n":"")+l,s=i,o.cache.append(i),i});2===c.length?(e.android("layout_width","wrap_content"),e.android("layout_height","wrap_content")):e.android(e.overflowX?"layout_width":"layout_height","wrap_content"),e.removeElement(),e.resetBox(Te.BOX_STANDARD.MARGIN),e.parent=c[c.length-1],e.render(e.parent)}else e.render(i?e:t);return e.apply(a),this.getEnclosingTag(i||_e.hasValue(t.dataset.target)||0===e.renderDepth&&!e.documentRoot?-1:e.renderDepth,n,e.id,be.formatPlaceholder(e.id),r,l)}},{key:"renderNode",value:function(e,t,n){var a=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],o=_e.hasValue(e.dataset.target)&&!_e.hasValue(e.dataset.include);switch("number"==typeof n&&(n=oe.getControlName(n)),e.setNodeType(n),e.tagName){case"IMG":{if(!a){var i=e.element,r=e.has("width",Te.CSS_STANDARD.PERCENT),l=e.has("height",Te.CSS_STANDARD.PERCENT),d=e.toInt("width"),s=e.toInt("height"),c="";if(r||l)c=r&&l?"fitXY":"fitCenter";else{if(0===d){var p=/width="([0-9]+)"/.exec(i.outerHTML);p&&(d=parseInt(p[1]),e.css("width",_e.formatPX(p[1])))}if(0===s){var h=/height="([0-9]+)"/.exec(i.outerHTML);h&&(s=parseInt(h[1]),e.css("height",_e.formatPX(h[1])))}switch(e.css("objectFit")){case"contain":c="centerInside";break;case"cover":c="centerCrop";break;case"scale-down":c="fitCenter";break;case"none":c="matrix";break;default:c="fitXY";}}if(""!==c&&e.android("scaleType",c),(0<d&&0===s||0===d&&0<s)&&e.android("adjustViewBounds","true"),!e.pageflow){var u=e.toInt("left"),g=e.toInt("top");if(0>u||0>g){var m=new oe(this.cache.nextId,e.element);return m.api=this.settings.targetAPI,m.excludeProcedure|=Te.NODE_PROCEDURE.ALL,m.excludeResource|=Te.NODE_RESOURCE.ALL,m.android("layout_width",0<d?_e.formatPX(d):"wrap_content"),m.android("layout_height",0<s?_e.formatPX(s):"wrap_content"),m.setBounds(),m.setNodeType(H.FRAME),m.render(t),0>u&&(e.modifyBox(Te.BOX_STANDARD.MARGIN_LEFT,u,!0),m.css("left","0px")),0>g&&(e.modifyBox(Te.BOX_STANDARD.MARGIN_TOP,g,!0),m.css("top","0px")),e.parent=m,this.cache.append(m),this.getEnclosingTag(m.renderDepth,H.FRAME,m.id,this.renderNode(e,m,n,!0))}}else t.layoutHorizontal&&e.baseline&&e.android("baselineAlignBottom","true")}break}case"TEXTAREA":{var f=e.element;if(e.android("minLines","2"),2<f.rows&&e.android("maxLines",f.rows.toString()),0<f.maxLength&&e.android("maxLength",f.maxLength.toString()),!e.hasWidth){var A=_e.convertInt(f.cols);0<A&&e.css("width",_e.formatPX(10*A))}e.android("hint",f.placeholder),e.android("scrollbars",V.VERTICAL),e.android("inputType","textMultiLine"),e.overflowX&&e.android("scrollHorizontally","true");break}case"INPUT":{var T=e.element;switch(T.type){case"radio":if(!a){var _=t.children.map(function(e){e.renderAs&&(e=e.renderAs);var t=e.element;return e.visible&&!e.rendered&&"radio"===t.type&&t.name===T.name?e:null}).filter(function(e){return e});if(1<_.length){var y=this.createGroup(t,e,_);y.setNodeType(H.RADIO_GROUP),y.inherit(e,"alignment"),y.render(t);var b="",N="",D=!0,E=!1,R=void 0;try{for(var I=y.children[Symbol.iterator](),O,v;!(D=(O=I.next()).done);D=!0)v=O.value,v.element.checked&&(N=v.stringId),b+=this.renderNode(v,y,Te.NODE_STANDARD.RADIO,!0)}catch(e){E=!0,R=e}finally{try{D||null==I.return||I.return()}finally{if(E)throw R}}return y.android("orientation",Ne.linearX(_,_.every(function(e){return e.documentParent===_[0].documentParent}))?V.HORIZONTAL:V.VERTICAL),y.alignmentType|=Te.NODE_ALIGNMENT.SEGMENTED,""!==N&&y.android("checkedButton",N),this.getEnclosingTag(y.renderDepth,H.RADIO_GROUP,y.id,b)}}break;case"password":e.android("inputType","textPassword");break;case"text":e.android("inputType","text");break;case"range":_e.hasValue(T.min)&&e.android("min",T.min),_e.hasValue(T.max)&&e.android("max",T.max),_e.hasValue(T.value)&&e.android("progess",T.value);}switch(T.type){case"text":case"search":case"tel":case"url":case"email":case"password":if(!e.hasWidth){var S=_e.convertInt(T.size);0<S&&e.css("width",_e.formatPX(10*S))}}break}}switch(e.controlName){case H.TEXT:var x=[];e.overflowX&&x.push(V.HORIZONTAL),e.overflowY&&x.push(V.VERTICAL),0<x.length&&e.android("scrollbars",x.join("|")),e.has("maxWidth",Te.CSS_STANDARD.UNIT)&&e.android("maxWidth",e.css("maxWidth")),e.has("maxHeight",Te.CSS_STANDARD.UNIT)&&e.android("maxHeight",e.css("maxHeight")),"nowrap"===e.css("whiteSpace")&&e.android("singleLine","true");break;case H.LINE:e.hasHeight||e.android("layout_height",_e.formatPX(e.borderTopWidth+e.borderBottomWidth+e.paddingTop+e.paddingBottom||1));}return e.render(o?e:t),this.getEnclosingTag(o||_e.hasValue(t.dataset.target)||0===e.renderDepth&&!e.documentRoot?-1:e.renderDepth,e.controlName,e.id)}},{key:"renderNodeStatic",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"",i=5<arguments.length?arguments[5]:void 0,r=6<arguments.length?arguments[6]:void 0;i||(i=new oe,i.api=this.settings.targetAPI),i.apply(fe.formatOptions(n,this.settings));var l=k(0,t),d="number"==typeof e?oe.getControlName(e):e;switch(d){case"include":case"merge":case"menu":break;default:i.setNodeType(d);}var s=i.hasElement?i.nodeName:d;_e.hasValue(a)&&(!isNaN(parseInt(a))&&(a=E(s,"width",a,this.settings)),i.android("layout_width",a,!1)),_e.hasValue(o)&&(!isNaN(parseInt(o))&&(o=E(s,"height",o,this.settings)),i.android("layout_height",o,!1)),i.renderDepth=l;var c=this.getEnclosingTag(i.documentRoot||0!==t?t:-1,d,i.id,r?be.formatPlaceholder(i.id):"");if(this.settings.showAttributes&&0===i.id){var p=_e.repeat(l+1),h=i.combine().map(function(e){return"\n".concat(p+e)}).join("");c=c.replace(be.formatPlaceholder(i.id,"@"),h)}return n.stringId=i.stringId,c}},{key:"renderInclude",value:function(e,t,n){return this._merge[n]="true"===e.dataset.includeMerge,e.documentRoot=!this._merge[n],this.renderNodeStatic("include",t.renderDepth+1,{layout:"@layout/".concat(n)})}},{key:"renderMerge",value:function(e,t){var n=t.join("");if(this._merge[e]){var a=new oe;a.api=this.settings.targetAPI,a.documentRoot=!0,n=this.renderNodeStatic("merge",0,{},"","",a,!0).replace("{:0}",n)}return n}},{key:"baseRenderDepth",value:function(e){return this._merge[e]?0:-1}},{key:"setBoxSpacing",value:function(e){var t=!0,n=!1,a=void 0;try{for(var o=e.cache.visible[Symbol.iterator](),i,r;!(t=(i=o.next()).done);t=!0)r=i.value,r.setBoxSpacing(this.settings)}catch(e){n=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}}},{key:"setDimensions",value:function(e){function t(e,t,n,o,i){var r=a[e],l=n;if(5===arguments.length)if(i&&/(px|dp|sp)$/.test(i))l="".concat(n,",").concat(o,",").concat(i);else return;null==r[l]&&(r[l]=[]),r[l].push(t)}var n=this,a={},o=!0,i=!1,r=void 0;try{for(var l=function(){var e=s.value;if(n.settings.dimensResourceValue){var o=e.nodeName.toLowerCase();null==a[o]&&(a[o]={});for(var i=Object.keys(Te.BOX_STANDARD),r=0;r<i.length;r++){var l=i[r],d=n.valueBox(e,l);if(""!==d[0]&&"0px"!==d[1]){var c="".concat(Te.BOX_STANDARD[l].toLowerCase(),",").concat(d[0],",").concat(d[1]);t(o,e,c)}}["android:layout_width:width","android:layout_height:height","android:minWidth:min_width","android:minHeight:min_height","app:layout_constraintWidth_min:constraint_width_min","app:layout_constraintHeight_min:constraint_height_min"].forEach(function(n){var a=n.split(":"),i=h(a,3),r=i[0],l=i[1],d=i[2];t(o,e,d,l,e[r](l))})}},d=e.cache.visible[Symbol.iterator](),s;!(o=(s=d.next()).done);o=!0)l()}catch(e){i=!0,r=e}finally{try{o||null==d.return||d.return()}finally{if(i)throw r}}if(this.settings.dimensResourceValue){var c=fe.getStored("dimens");for(var p in a){var u=a[p],g=function(e){var t=e.split(","),a=h(t,3),o=a[0],i=a[1],r=a[2],l=n.getDimensResourceKey(c,"".concat(p,"_").concat(O(o,n.settings)),r);u[e].forEach(function(e){return e[-1===i.indexOf("constraint")?"android":"app"](i,"@dimen/".concat(l))}),c.set(l,r)};for(var m in u)g(m)}}}},{key:"getEnclosingTag",value:function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"",i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"",r=_e.repeat(k(0,e)),l=o+"{<".concat(n,"}");return l+=""===a?r+"<".concat(t).concat(0===e?"{#0}":"","{@").concat(n,"} />\n"):r+"<".concat(t).concat(0===e?"{#0}":"","{@").concat(n,"}>\n")+a+r+"</".concat(t,">\n"),l+="{>".concat(n,"}")+i,l}},{key:"valueBox",value:function(e,t){var n=_e.convertEnum(parseInt(t),Te.BOX_STANDARD,W);if(""!==n){var a=O(n,this.settings);return[a,e.android(a)||"0px"]}return["","0px"]}},{key:"parseDimensions",value:function(e){for(var t=fe.getStored("dimens"),n=/\s+\w+:\w+="({%(\w+),(\w+),(-?\w+)})"/g,a,o;null!=(a=n.exec(e));)o=this.getDimensResourceKey(t,"".concat(a[2],"_").concat(O(a[3],this.settings)),a[4]),t.set(o,a[4]),e=e.replace(new RegExp(a[1],"g"),"@dimen/".concat(o));return e}},{key:"setAttributes",value:function(e){var t=this;if(this.settings.showAttributes)for(var n=e.cache.visible.list.map(function(e){return{pattern:be.formatPlaceholder(e.id,"@"),attributes:t.parseAttributes(e)}}),a=u(e.views).concat(u(e.includes)),o=function(){var e=a[i];n.forEach(function(t){return e.content=e.content.replace(t.pattern,t.attributes)}),e.content=e.content.replace("{#0}",t.getRootNamespace(e.content))},i=0;i<a.length;i++)o()}},{key:"parseAttributes",value:function(e){for(var t in"rtl"===e.dir&&(e.nodeType<Te.NODE_STANDARD.INLINE?e.android("textDirection","rtl"):0<e.length&&e.android("layoutDirection","rtl")),e.dataset)/^attr[A-Z]+/.test(t)&&function(){var n=_e.capitalize(t.substring(4),!1);e.dataset[t].split(";").forEach(function(t){var a=t.split("::"),o=h(a,2),i=o[0],r=o[1];_e.hasValue(i)&&_e.hasValue(r)&&e.attr(n,i,r)})}();var n=_e.repeat(e.renderDepth+1);return e.combine().map(function(e){return"\n".concat(n+e)}).join("")}},{key:"getRootNamespace",value:function(e){var t="";for(var n in z)new RegExp("\\s+".concat(n,":")).test(e)&&(t+="\n\txmlns:".concat(n,"=\"").concat(z[n],"\""));return t}},{key:"getDimensResourceKey",value:function(e,t,n){return e.has(t)&&e.get(t)!==n&&(t=b("dimens","".concat(t,"_1"))),t}},{key:"setAlignParent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],a=De.constraint;[V.HORIZONTAL,V.VERTICAL].forEach(function(o,i){e.constraint[o]||""!==t&&o!==t||(e.app(a[0===i?"left":"top"],"parent"),e.app(a[0===i?"right":"bottom"],"parent"),e.constraint[o]=!0,n&&e.app("layout_constraint".concat(o.charAt(0).toUpperCase()+o.substring(1),"_bias"),e["".concat(o,"Bias")]))})}},{key:"partitionChain",value:function(t,n,a,o){var i=De.constraint,r=[],l=[],d=[];a===V.HORIZONTAL?(r.push(i.left,i.right),l.push("linear.top","linear.bottom"),d.push(i.leftRight,i.rightLeft)):a===V.VERTICAL?(r.push(i.top,i.bottom),l.push("linear.left","linear.right"),d.push(i.topBottom,i.bottomTop)):void 0;var s=l.map(function(a){var i=_e.sortAsc(n.list.filter(function(e){return _e.sameValue(t,e,a)}),l[0]);if(1<i.length){if(!o||!i.some(function(e){return e.floating})&&"parent"===i[0].app(r[0])&&"parent"===i[i.length-1].app(r[1]))return i;var s=function(){var e=new Set([t]),n;do n=!1,Array.from(e).some(function(t){return i.some(function(a){return e.has(a)||a.app(d[0])!==t.stringId&&a.app(d[1])!==t.stringId||(e.add(a),n=!0),n})});while(n);return{v:Array.from(e)}}();if("object"===e(s))return s.v}return[]}).reduce(function(e,t){return e.length>=t.length?e:t});return s}},{key:"addGuideline",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",a=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0,r=De.constraint;e.pageflow&&(null==i&&(i="right"===e.float||null==e.left&&null!=e.right||e.textElement&&"right"===e.css("textAlign")||e.alignParent("right",this.settings)),null==a&&!0===i&&(a=!0)),e.dataset.constraintPercent&&(a="true"===e.dataset.constraintPercent);var l=e.documentParent,d="layout_constraintGuide_".concat(a?"percent":"begin");[V.HORIZONTAL,V.VERTICAL].forEach(function(s,c){if(!e.constraint[s]&&(""===n||s===n)){var p="",h="",u="",g="",m=!1,f=0;0===c?(p=i?"right":"left",h=i?"left":"right",u=i?"rightLeft":"leftRight",g=i?"leftRight":"rightLeft","relative"===e.position&&0>e.toInt("left")&&(f=e.toInt("left"))):1===c?(p=i?"bottom":"top",h=i?"top":"bottom",u=i?"bottomTop":"topBottom",g=i?"topBottom":"bottomTop","relative"===e.position&&0>e.toInt("top")&&(f=e.toInt("top"))):void 0;var A=e.pageflow?"bounds":"linear",T=a?w(e[A][p]+f-(l.documentBody?0:l.box[p]))/l.box[0===c?"width":"height"]:0;if(a||(m=l.renderChildren.some(function(t){if(t.constraint[s]&&(!t.constraint["chain".concat(_e.capitalize(s))]||t.constraint["margin".concat(_e.capitalize(s))])){if(_e.withinFraction(e.linear[p]+f,t.linear[h]))return e.anchor(r[u],t.stringId,s,!0),!0;if(_e.withinFraction(e.linear[h]+f,t.linear[p]))return e.anchor(r[g],t.stringId,s,!0),!0;if(_e.withinFraction(e.bounds[p]+f,t.bounds[p]))return e.anchor(r[1===c&&e.textElement&&e.baseline&&t.textElement&&t.baseline?"baseline":p],t.stringId,s,!0),!0;if(_e.withinFraction(e.bounds[h]+f,t.bounds[h]))return e.anchor(r[h],t.stringId,s,!0),!0}return!1})),!m){var _=l.constraint.guideline||{},y=a?parseFloat(w(T-(i?1:0)).toFixed(t.settings.constraintPercentAccuracy)):i?e[A][p]+f-l.box[h]:e[A][p]+f-l.box[p];if(!a&&!i)if(0>y){var b=l["padding".concat(_e.capitalize(p))];y=b>=w(y)?0:w(y)-b}else l.documentBody&&(y=e[A][p]+f);if(0===y)e.anchor(r[p],"parent",s,!0);else{var N={android:{orientation:0===c?V.VERTICAL:V.HORIZONTAL},app:o({},d,y.toString())},D=_e.optional(_,"".concat(s,".").concat(d,".").concat(p),"object");if(D)for(var R in D)if(D[R]===y){e.anchor(r[p],R,s,!0),e.delete("app",r[h]),m=!0;break}if(!m){a||(N.app[d]=E(e.nodeName,"constraintguide_begin",_e.formatPX(y),t.settings));var I=t.renderNodeStatic(H.GUIDELINE,e.renderDepth,N,"wrap_content","wrap_content"),O=N.stringId;t.appendAfter(e.id,I),e.anchor(r[p],O,s,!0),e.delete("app",r[h]),e.constraint["".concat(s,"Guideline")]=O,null==_[s]&&(_[s]={}),null==_[s][d]&&(_[s][d]={}),null==_[s][d][p]&&(_[s][d][p]={}),_[s][d][p][O]=y,l.constraint.guideline=_}}}}})}},{key:"adjustBaseline",value:function(e){if(1<e.length){var t=Ne.textBaseline(e.filter(function(e){return e.baseline&&0===e.toInt("top")&&0===e.toInt("bottom")}));if(0<t.length){var n=De.relative,a=t[0],o=[],r=null,l=!0,d=!1,s=void 0;try{for(var c=e[Symbol.iterator](),p,h;!(l=(p=c.next()).done);l=!0)h=p.value,h!==a&&(h.baseline&&(h.nodeType<=Te.NODE_STANDARD.INLINE||h.linearHorizontal&&h.renderChildren.some(function(e){return e.baseline&&e.nodeType<=Te.NODE_STANDARD.INLINE}))&&(!a.imageElement&&h.imageElement?o.push(h):h.alignOrigin?h.android(n[h.imageElement||h.is(Te.NODE_STANDARD.BUTTON)?"bottom":"baseline"],a.stringId):"relative"===a.position&&h.bounds.height<a.bounds.height&&0===h.lineHeight&&h.android(n[0<_e.convertInt(a.top)?"top":"bottom"],a.stringId)),a.imageElement&&(!r||h.bounds.height>r.bounds.height)&&(r=h))}catch(e){d=!0,s=e}finally{try{l||null==c.return||c.return()}finally{if(d)throw s}}if(0<o.length){o.sort(function(e,t){return e.bounds.height>=t.bounds.height?-1:1});for(var u=0;u<o.length;u++)0==u?a.android(n.bottom,o[u].stringId):o[u].android(n.bottom,o[0].stringId);r=null}r&&(r.imageElement?r.bounds.height>a.bounds.height?r.delete("android",n.bottom):r=null:r.delete("android",n.baseline),r&&a.android(n.bottom,r.stringId))}}}},{key:"checkSingleLine",value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];e&&e.textElement&&(t||n||!e.hasWidth&&!e.multiLine&&1<e.textContent.trim().split(P(32)).length)&&e.android("singleLine","true")}},{key:"adjustLineHeight",value:function(e,t){var n=Number.MAX_VALUE,a=k.apply(null,e.map(function(e){return e.toInt("lineHeight")}));if(0<a){var o=n,i=0,r=e.every(function(e){var t=a-e.bounds.height;return!!(0<t)&&(o=B(t,o),a===e.toInt("lineHeight")&&(i=k(0>e.toInt("top")?w(e.toInt("top")):0,i)),!0)});r&&(t.modifyBox(Te.BOX_STANDARD.PADDING_TOP,X(o/2)),t.modifyBox(Te.BOX_STANDARD.PADDING_BOTTOM,C(o/2)+i))}}},{key:"findByStringId",value:function(e){return this.cache.locate("stringId",e)}},{key:"baseTemplate",get:function(){return"<?xml version=\"1.0\" encoding=\"utf-8\"?>\n{:0}"}},{key:"supportInline",get:function(){return Z}},{key:"supportInclude",get:function(){return!0}},{key:"settingsInternal",get:function(){return{layout:{directory:"res/layout",fileExtension:"xml"}}}}]),l}(androme.lib.base.Controller),Ie=["!0","<?xml version=\"1.0\" encoding=\"utf-8\"?>","<resources>","!1","\t<string name=\"{name}\">{value}</string>","!1","</resources>","<!-- filename: res/values/strings.xml -->","!0"].join("\n"),Oe=["!0","<?xml version=\"1.0\" encoding=\"utf-8\"?>","<resources>","!1","\t<string-array name=\"{name}\">","!2","\t\t<item>{value}</item>","!2","\t</string-array>","!1","</resources>","<!-- filename: res/values/string_arrays.xml -->","!0"].join("\n"),ve=["!0","<?xml version=\"1.0\" encoding=\"utf-8\"?>","<font-family xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"{#app=http://schemas.android.com/apk/res-auto}\">","!1","\t<font android:fontStyle=\"{style}\" android:fontWeight=\"{weight}\" android:font=\"{font}\" app:fontStyle=\"{#app=style}\" app:fontWeight=\"{#app=weight}\" app:font=\"{#app=font}\" />","!1","</font-family>","<!-- filename: res/font/{name}.xml -->","!0"].join("\n"),Se=["!0","<?xml version=\"1.0\" encoding=\"utf-8\"?>","<resources>","!1","\t<color name=\"{value}\">{name}</color>","!1","</resources>","<!-- filename: res/values/colors.xml -->","!0"].join("\n"),xe=["!0","<?xml version=\"1.0\" encoding=\"utf-8\"?>","<resources>","!1","\t<style name=\"{name1}\" parent=\"{@parent}\">","!2","\t\t<item name=\"{name2}\">{value}</item>","!2","\t</style>","!1","</resources>","<!-- filename: res/values/styles.xml -->","!0"].join("\n"),Le=["!0","<?xml version=\"1.0\" encoding=\"utf-8\"?>","<resources>","!1","\t<dimen name=\"{name}\">{value}</dimen>","!1","</resources>","<!-- filename: res/values/dimens.xml -->","!0"].join("\n"),we=["!0","{value}","<!-- filename: {name} -->","!0"].join("\n"),Be=[androme.lib.util,androme.lib.xml],Pe=Be[0],Ce=Be[1],ke=/*#__PURE__*/function(e){function n(e){var a;return t(this,n),a=s(this,r(n).call(this,e.outputDirectory,e.outputMaxProcessingTime,e.outputArchiveFileType)),a.settings=e,a}return i(n,e),a(n,[{key:"saveAllToDisk",value:function(e){for(var t=[],n=u(e.views).concat(u(e.includes)),a=0,o;a<n.length;a++)o=n[a],t.push(this.getLayoutFile(o.pathname,0==a?this.settings.outputMainFileName:"".concat(o.filename,".xml"),o.content));var r=this.resourceDrawableToXml();t.push.apply(t,u(this.parseFileDetails(this.resourceStringToXml()))),t.push.apply(t,u(this.parseFileDetails(this.resourceStringArrayToXml()))),t.push.apply(t,u(this.parseFileDetails(this.resourceFontToXml()))),t.push.apply(t,u(this.parseFileDetails(this.resourceColorToXml()))),t.push.apply(t,u(this.parseFileDetails(this.resourceStyleToXml()))),t.push.apply(t,u(this.parseFileDetails(this.resourceDimenToXml()))),t.push.apply(t,u(this.parseImageDetails(r)).concat(u(this.parseFileDetails(r)))),this.saveToDisk(t)}},{key:"layoutAllToXml",value:function(e){for(var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n={},a=[],o=u(e.views).concat(u(e.includes)),r=0,l;r<o.length;r++)l=o[r],n[l.filename]=l.content,t&&a.push(this.getLayoutFile(l.pathname,0==r?this.settings.outputMainFileName:"".concat(l.filename,".xml"),l.content));return t&&this.saveToDisk(a),n}},{key:"resourceAllToXml",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml()};for(var n in t)""===t[n]&&delete t[n];if(e){var a=[];for(var o in t)"drawable"==o&&a.push.apply(a,u(this.parseImageDetails(t[o]))),a.push.apply(a,u(this.parseFileDetails(t[o])));this.saveToDisk(a)}return t}},{key:"resourceStringToXml",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t="";this.stored.strings=new Map(u(this.stored.strings.entries()).sort(v));var n=Ce.parseTemplate(Ie),a={0:[{1:[]}]},o=Ce.getTemplateLevel(a,"0");""===this.appName||this.stored.strings.has("app_name")||o[1].push({name:"app_name",value:this.appName});var i=!0,r=!1,l=void 0;try{for(var d=this.stored.strings.entries()[Symbol.iterator](),s;!(i=(s=d.next()).done);i=!0){var c=h(s.value,2),p=c[0],g=c[1];o[1].push({name:p,value:g})}}catch(e){r=!0,l=e}finally{try{i||null==d.return||d.return()}finally{if(r)throw l}}return t=Ce.insertTemplateData(n,a),t=Ce.replaceTab(t,this.settings,!0),e&&this.saveToDisk(this.parseFileDetails(t)),t}},{key:"resourceStringArrayToXml",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t="";if(this.stored.arrays=new Map(u(this.stored.arrays.entries()).sort()),0<this.stored.arrays.size){var n=Ce.parseTemplate(Oe),a={0:[{1:[]}]},o=Ce.getTemplateLevel(a,"0"),i=!0,r=!1,l=void 0;try{for(var d=this.stored.arrays.entries()[Symbol.iterator](),s;!(i=(s=d.next()).done);i=!0){var c=h(s.value,2),p=c[0],g=c[1],m={name:p,2:[]},f=m[2],A=!0,T=!1,_=void 0;try{for(var y=g[Symbol.iterator](),b,N;!(A=(b=y.next()).done);A=!0)N=b.value,f.push({value:N})}catch(e){T=!0,_=e}finally{try{A||null==y.return||y.return()}finally{if(T)throw _}}o[1].push(m)}}catch(e){r=!0,l=e}finally{try{i||null==d.return||d.return()}finally{if(r)throw l}}t=Ce.insertTemplateData(n,a),t=Ce.replaceTab(t,this.settings,!0),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:"resourceFontToXml",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t="";if(this.stored.fonts=new Map(u(this.stored.fonts.entries()).sort()),0<this.stored.fonts.size){var n=Ce.parseTemplate(ve),a=!0,o=!1,i=void 0;try{for(var r=this.stored.fonts.entries()[Symbol.iterator](),l;!(a=(l=r.next()).done);a=!0){var d=h(l.value,2),s=d[0],c=d[1],p={"#include":{},"#exclude":{},0:[{name:s,1:[]}]};p[this.settings.targetAPI<M.OREO?"#include":"#exclude"].app=!0;var g=Ce.getTemplateLevel(p,"0");for(var m in c){var f=m.split("-"),A=h(f,2),T=A[0],_=A[1];g[1].push({style:T,weight:_,font:"@font/".concat(s+("normal"===T&&"400"===_?"_".concat(T):("normal"===T?"":"_".concat(T))+("400"===_?"":"_".concat(Y[_]||_))))})}t+="\n\n"+Ce.insertTemplateData(n,p)}}catch(e){o=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(o)throw i}}t=Ce.replaceTab(t,this.settings),e&&this.saveToDisk(this.parseFileDetails(t))}return t.trim()}},{key:"resourceColorToXml",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t="";if(0<this.stored.colors.size){this.stored.colors=new Map(u(this.stored.colors.entries()).sort());var n=Ce.parseTemplate(Se),a={0:[{1:[]}]},o=Ce.getTemplateLevel(a,"0"),i=!0,r=!1,l=void 0;try{for(var d=this.stored.colors.entries()[Symbol.iterator](),s;!(i=(s=d.next()).done);i=!0){var c=h(s.value,2),p=c[0],g=c[1];o[1].push({name:p,value:g})}}catch(e){r=!0,l=e}finally{try{i||null==d.return||d.return()}finally{if(r)throw l}}t=Ce.insertTemplateData(n,a),t=Ce.replaceTab(t,this.settings),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:"resourceStyleToXml",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t="";if(0<this.stored.styles.size){this.stored.styles=new Map(u(this.stored.styles.entries()).sort(v));var n=Ce.parseTemplate(xe),a={0:[{1:[]}]},o=Ce.getTemplateLevel(a,"0"),i=!0,r=!1,l=void 0;try{for(var d=function(){var e=h(c.value,2),t=e[0],n=e[1],a={name1:t,parent:n.parent||"",2:[]};n.attributes.split(";").sort().forEach(function(e){var t=e.split("="),n=h(t,2),o=n[0],i=n[1];a[2].push({name2:o,value:i.replace(/"/g,"")})}),o[1].push(a)},s=this.stored.styles.entries()[Symbol.iterator](),c;!(i=(c=s.next()).done);i=!0)d()}catch(e){r=!0,l=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw l}}t=Ce.insertTemplateData(n,a),t=R(t,this.settings,!0),t=Ce.replaceTab(t,this.settings),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:"resourceDimenToXml",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t="";if(this.stored.dimens=new Map(u(this.stored.dimens.entries()).sort()),0<this.stored.dimens.size){var n=Ce.parseTemplate(Le),a={0:[{1:[]}]},o=Ce.getTemplateLevel(a,"0"),i=!0,r=!1,l=void 0;try{for(var d=this.stored.dimens.entries()[Symbol.iterator](),s;!(i=(s=d.next()).done);i=!0){var c=h(s.value,2),p=c[0],g=c[1];o[1].push({name:p,value:g})}}catch(e){r=!0,l=e}finally{try{i||null==d.return||d.return()}finally{if(r)throw l}}t=Ce.insertTemplateData(n,a),t=R(t,this.settings),t=Ce.replaceTab(t,this.settings),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:"resourceDrawableToXml",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t="";if(0<this.stored.drawables.size||0<this.stored.images.size){var n=Ce.parseTemplate(we),a={0:[]},o=a[0],i=!0,r=!1,l=void 0;try{for(var d=this.stored.drawables.entries()[Symbol.iterator](),s;!(i=(s=d.next()).done);i=!0){var c=h(s.value,2),p=c[0],g=c[1];o.push({name:"res/drawable/".concat(p,".xml"),value:g})}}catch(e){r=!0,l=e}finally{try{i||null==d.return||d.return()}finally{if(r)throw l}}var m=!0,f=!1,A=void 0;try{for(var T=this.stored.images.entries()[Symbol.iterator](),_;!(m=(_=T.next()).done);m=!0){var y=h(_.value,2),p=y[0],b=y[1];if(1<Object.keys(b).length)for(var N in b)o.push({name:"res/drawable-".concat(N,"/").concat(p,".").concat(Pe.lastIndexOf(b[N],".")),value:"<!-- image: ".concat(b[N]," -->")});else b.mdpi&&o.push({name:"res/drawable/".concat(p,".").concat(Pe.lastIndexOf(b.mdpi,".")),value:"<!-- image: ".concat(b.mdpi," -->")})}}catch(e){f=!0,A=e}finally{try{m||null==T.return||T.return()}finally{if(f)throw A}}t=Ce.insertTemplateData(n,a),t=R(t,this.settings),t=Ce.replaceTab(t,this.settings),e&&this.saveToDisk(u(this.parseImageDetails(t)).concat(u(this.parseFileDetails(t))))}return t}},{key:"parseImageDetails",value:function(e){for(var t=[],n=/<!-- image: (.+) -->\n<!-- filename: (.+)\/(.*?\.\w+) -->/,a=null;null!=(a=n.exec(e));)t.push({uri:a[1],pathname:a[2],filename:a[3],content:""}),e=e.replace(a[0],"");return t}},{key:"parseFileDetails",value:function(e){for(var t=[],n=/<\?xml[\w\W]*?(<!-- filename: (.+)\/(.*?\.xml) -->)/,a=null;null!=(a=n.exec(e));)t.push({content:a[0].replace(a[1],"").trim(),pathname:a[2],filename:a[3]}),e=e.replace(a[0],"");return t}},{key:"getLayoutFile",value:function(e,t,n){return{pathname:e,filename:t,content:n}}}]),n}(androme.lib.base.File),Xe={builtInExtensions:["androme.external","androme.origin","androme.custom","androme.accessibility","androme.list","androme.table","androme.grid","androme.widget"],targetAPI:M.OREO,density:G.MDPI,supportRTL:!0,dimensResourceValue:!0,numberResourceValue:!1,fontAliasResourceValue:!0,alwaysReevaluateResources:!0,renderInlineText:!0,ellipsisOnTextOverflow:!0,preloadImages:!0,autoSizeBackgroundImage:!0,autoSizePaddingAndBorderWidth:!0,whitespaceHorizontalOffset:3.5,whitespaceVerticalOffset:16,constraintChainDisabled:!1,constraintChainPackedHorizontalOffset:3.5,constraintChainPackedVerticalOffset:16,constraintCirclePositionAbsolute:!1,constraintPercentAccuracy:4,supportNegativeLeftTop:!0,floatOverlapDisabled:!1,collapseUnattributedElements:!0,customizationsOverwritePrivilege:!1,showAttributes:!0,insertSpaces:4,convertPixels:"dp",autoCloseOnWrite:!0,outputDirectory:"app/src/main",outputMainFileName:"activity_main.xml",outputArchiveFileType:"zip",outputMaxProcessingTime:30},Me={FAB:"androme.widget.floatingactionbutton",MENU:"androme.widget.menu",COORDINATOR:"androme.widget.coordinator",TOOLBAR:"androme.widget.toolbar",DRAWER:"androme.widget.drawer",BOTTOM_NAVIGATION:"androme.widget.bottomnavigation"},Ge={DRAWER:"android.support.v4.widget.DrawerLayout",NAVIGATION_VIEW:"android.support.design.widget.NavigationView",COORDINATOR:"android.support.design.widget.CoordinatorLayout",APPBAR:"android.support.design.widget.AppBarLayout",COLLAPSING_TOOLBAR:"android.support.design.widget.CollapsingToolbarLayout",TOOLBAR:"android.support.v7.widget.Toolbar",FLOATING_ACTION_BUTTON:"android.support.design.widget.FloatingActionButton",BOTTOM_NAVIGATION:"android.support.design.widget.BottomNavigationView"},He={MENU:"menu",ITEM:"item",GROUP:"group"},We={MENU:"ic_menu_",DIALOG:"ic_dialog_"},Ve=/*#__PURE__*/function(e){function n(){return t(this,n),s(this,r(n).apply(this,arguments))}return i(n,e),n}(androme.lib.base.extensions.External),ze=/*#__PURE__*/function(e){function n(){return t(this,n),s(this,r(n).apply(this,arguments))}return i(n,e),n}(androme.lib.base.extensions.Origin),Fe=/*#__PURE__*/function(e){function n(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0;return t(this,n),s(this,r(n).call(this,e,a,o,i))}return i(n,e),a(n,[{key:"afterInsert",value:function(){var e=this.node,t=Object.assign({},this.options[e.element.id]);e.apply(fe.formatOptions(t,this.application.settings))}}]),n}(androme.lib.base.extensions.Custom),Ue=[androme.lib.enumeration,androme.lib.util,androme.lib.dom],je=Ue[0],Ye=Ue[1],Ze=Ue[2],Ke=/*#__PURE__*/function(e){function n(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0;return t(this,n),s(this,r(n).call(this,e,a,o,i))}return i(n,e),a(n,[{key:"afterRender",value:function(){var e=!0,t=!1,n=void 0;try{for(var a=function(){var e=i.value;if(!e.hasBit("excludeProcedure",je.NODE_PROCEDURE.ACCESSIBILITY)){var t=e.element;switch(e.controlName){case H.EDIT:e.companion||[e.nextElementSibling,e.previousElementSibling].some(function(n){var a=Ze.getNodeFromElement(n),o=n&&n.parentElement&&"LABEL"===n.parentElement.tagName?Ze.getNodeFromElement(n.parentElement):null;if(a&&a.visible&&a.pageflow){if(Ye.hasValue(n.htmlFor)&&n.htmlFor===t.id)return a.android("labelFor",e.stringId),!0;if(a.textElement&&o)return o.android("labelFor",e.stringId),!0}return!1});case H.SELECT:case H.CHECKBOX:case H.RADIO:case H.BUTTON:t.disabled&&e.android("focusable","false");}}},o=this.application.cache.elements[Symbol.iterator](),i;!(e=(i=o.next()).done);e=!0)a()}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}}]),n}(androme.lib.base.extensions.Accessibility),Je=[androme.lib.enumeration,androme.lib.constant,androme.lib.util],Qe=Je[0],qe=Je[1],$e=Je[2],et=/*#__PURE__*/function(e){function n(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0;return t(this,n),s(this,r(n).call(this,e,a,o,i))}return i(n,e),a(n,[{key:"processChild",value:function(){var e=this.node,t=e.data(qe.EXT_NAME.LIST,"mainData");if(t){var n=this.parent,a=this.application.viewController,i=this.application.settings,r=$e.convertInt(n.css("paddingLeft"))+$e.convertInt(n.cssInitial("marginLeft",!0)),l=0,d=e.marginLeft;e.modifyBox(Qe.BOX_STANDARD.MARGIN_LEFT,null),n.is(Qe.NODE_STANDARD.GRID)?(l=$e.convertInt(n.app("columnCount")),d+=r):n.children[0]===e&&(d+=r);var s=e.children.find(function(e){return"left"===e.float&&0>$e.convertInt(e.cssInitial("marginLeft",!0))&&w($e.convertInt(e.cssInitial("marginLeft",!0)))<=$e.convertInt(e.documentParent.cssInitial("marginLeft",!0))});if(s&&""===t.ordinal){var c="";s.parent=n,c=s.inlineText||0===s.children.length?a.renderNode(s,n,Qe.NODE_STANDARD.TEXT):s.children.every(function(e){return e.pageflow})?a.renderGroup(s,n,Qe.NODE_STANDARD.RELATIVE):a.renderGroup(s,n,Qe.NODE_STANDARD.CONSTRAINT),a.prependBefore(e.id,c),3===l&&e.app("layout_columnSpan","2"),d+=s.marginLeft,s.modifyBox(Qe.BOX_STANDARD.MARGIN_LEFT,null),!s.hasWidth&&0<d&&s.android("minWidth",$e.formatPX(d))}else{var p=0<l?"0":"",u="inside"===e.css("listStylePosition"),g=!["","none"].includes(e.css("listStyleImage")),m="",f=0,A=0;if(""!==t.imageSrc){m=fe.addImageURL(t.imageSrc);var T=fe.parseBackgroundPosition(t.imagePosition,e.css("fontSize")).map(function(e){return $e.convertInt(e)}),_=h(T,2);f=_[0],A=_[1]}var y=(""===m||g)&&(0!==r||0!==e.marginLeft)?"right":"";""==y&&(d+=e.paddingLeft,e.modifyBox(Qe.BOX_STANDARD.PADDING_LEFT,null)),0<f&&d>f&&(d-=f),d=k(d,20);var b=0<d?E(e.nodeName,O("min_width",i),$e.formatPX(d),i):"",N=function(){return 24>=d?6:32>=d?8:10}(),D=0<f?$e.formatPX(f):"",R=""==y&&""===m?$e.formatPX(N):20===d?"2px":"",I="right"==y&&20<d?$e.formatPX(N):"",v={android:{},app:{layout_columnWeight:p}};if(u)""!==D&&(D=E(e.nodeName,O("margin_left",i),D,i)),a.prependBefore(e.id,a.renderNodeStatic(Qe.NODE_STANDARD.SPACE,n.renderDepth+1,{android:o({minWidth:b},O("layout_marginLeft",i),D),app:{layout_columnWeight:p}},"wrap_content","wrap_content")),Object.assign(v.android,{minWidth:E(e.nodeName,O("min_width",i),$e.formatPX(24),i)});else{var S;Object.assign(v.android,(S={minWidth:b,gravity:20<d?O(y,i):""},o(S,O("layout_marginLeft",i),D),o(S,O("paddingLeft",i),R),o(S,O("paddingRight",i),I),o(S,"paddingTop",0<e.paddingTop?$e.formatPX(e.paddingTop):""),S)),3===l&&e.app("layout_columnSpan","2")}if("DT"===e.tagName&&""===m)e.app("layout_columnSpan",l.toString());else{""===m?Object.assign(v.android,{text:t.ordinal}):Object.assign(v.android,{src:"@drawable/".concat(m),layout_marginTop:0<A?$e.formatPX(A):"",baselineAlignBottom:"true",scaleType:u||"right"!=y?"fitStart":"fitEnd"});var x=new oe(this.application.cache.nextId,document.createElement("SPAN"));x.api=e.api,x.alignmentType=Qe.NODE_ALIGNMENT.SPACE,x.nodeName="".concat(e.tagName,"_ORDINAL"),x.setNodeType(H.SPACE),x.inherit(e,"style"),""!==t.ordinal&&!/[A-Za-z0-9]+\./.test(t.ordinal)&&12<x.toInt("fontSize")&&x.css("fontSize","12px"),e.companion=x,this.application.cache.append(x),a.prependBefore(e.id,a.renderNodeStatic(""===m?""===t.ordinal?Qe.NODE_STANDARD.SPACE:Qe.NODE_STANDARD.TEXT:Qe.NODE_STANDARD.IMAGE,n.renderDepth+1,v,"wrap_content","wrap_content",x))}}0<l&&e.app("layout_columnWeight","1")}return{output:"",complete:!0}}},{key:"beforeInsert",value:function(){var e=this.node;if(e.is(Qe.NODE_STANDARD.GRID))for(var t=e.app("columnCount"),n=e.renderChildren,a=0;a<n.length;a++){var o=n[a],r=n[a-1],l=0;if(r){var d=$e.convertInt(r.android("layout_marginBottom"));0<d&&(l+=$e.convertInt(r.android("layout_marginBottom")),r.delete("android","layout_marginBottom"),r.modifyBox(Qe.BOX_STANDARD.MARGIN_BOTTOM,null))}var s=$e.convertInt(o.android("layout_marginTop"));0<s&&(l+=s,o.delete("android","layout_marginTop"),o.modifyBox(Qe.BOX_STANDARD.MARGIN_TOP,null)),0<l&&this.application.viewController.prependBefore(o.id,this.application.viewController.renderNodeStatic(Qe.NODE_STANDARD.SPACE,o.renderDepth,{app:{layout_columnSpan:t.toString()}},"match_parent",$e.formatPX(l)),0)}}},{key:"afterInsert",value:function(){var e=this.node;e.is(Qe.NODE_STANDARD.GRID)&&e.blockStatic&&!e.has("width")&&e.android("layout_width","match_parent")}}]),n}(androme.lib.base.extensions.List),tt=[androme.lib.enumeration,androme.lib.constant,androme.lib.util,androme.lib.dom],nt=tt[0],at=tt[1],ot=tt[2],it=tt[3],rt=/*#__PURE__*/function(e){function n(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0;return t(this,n),s(this,r(n).call(this,e,a,o,i))}return i(n,e),a(n,[{key:"processChild",value:function(){var e=this.node,t=e.data(at.EXT_NAME.GRID,"cellData");return t&&(1<t.rowSpan&&e.app("layout_rowSpan",t.rowSpan.toString()),1<t.columnSpan&&e.app("layout_columnSpan",t.columnSpan.toString()),"table"===e.parent.display&&"table-cell"===e.display&&e.app("layout_gravity","fill")),p(r(n.prototype),"processChild",this).call(this)}},{key:"afterRender",value:function(){var e=this,t=!0,n=!1,a=void 0;try{for(var o=this.subscribers[Symbol.iterator](),i,r;!(t=(i=o.next()).done);t=!0)r=i.value,"table"===r.display&&"collapse"===r.css("borderCollapse")||function(){var t=r.data(at.EXT_NAME.GRID,"mainData");t&&r.each(function(n){var a=n.data(at.EXT_NAME.GRID,"cellData");if(a){var o=it.getBoxSpacing(n.documentParent.element,!0),i=t.padding;if(a.cellFirst&&(i.top=o.paddingTop+o.marginTop),a.rowStart&&(i.left=k(o.marginLeft+o.paddingLeft,i.left)),a.rowEnd){var r=o.marginBottom+o.paddingBottom+(a.cellLast?0:o.marginTop+o.paddingTop);0<r&&(a.cellLast?i.bottom=r:e.application.viewController.appendAfter(n.id,e.application.viewController.renderNodeStatic(H.SPACE,n.renderDepth,{app:{layout_columnSpan:t.columnCount.toString()}},"match_parent",ot.formatPX(r)))),i.right=k(o.marginRight+o.paddingRight,i.right)}}},!0)}()}catch(e){n=!0,a=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}var l=!0,d=!1,s=void 0;try{for(var c=this.subscribers[Symbol.iterator](),p;!(l=(p=c.next()).done);l=!0){var h=p.value,u=h.data(at.EXT_NAME.GRID,"mainData");u&&(h.modifyBox(nt.BOX_STANDARD.PADDING_TOP,u.padding.top),h.modifyBox(nt.BOX_STANDARD.PADDING_RIGHT,u.padding.right),h.modifyBox(nt.BOX_STANDARD.PADDING_BOTTOM,u.padding.bottom),h.modifyBox(nt.BOX_STANDARD.PADDING_LEFT,u.padding.left))}}catch(e){d=!0,s=e}finally{try{l||null==c.return||c.return()}finally{if(d)throw s}}}}]),n}(androme.lib.base.extensions.Grid),lt=[androme.lib.constant,androme.lib.util],dt=lt[0],st=lt[1],ct=/*#__PURE__*/function(e){function n(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0;return t(this,n),s(this,r(n).call(this,e,a,o,i))}return i(n,e),a(n,[{key:"processNode",value:function(){var e=p(r(n.prototype),"processNode",this).call(this),t=this.node,a=st.convertInt(t.app("columnCount"));if(1<a){var o=!!t.data(dt.EXT_NAME.TABLE,"expand");if(t.each(function(e){if("0px"===e.css("width"))e.android("layout_width","0px"),e.app("layout_columnWeight",(e.element.colSpan||1).toString());else{var t=e.data(dt.EXT_NAME.TABLE,"expand"),n=!!e.data(dt.EXT_NAME.TABLE,"exceed"),a=!!e.data(dt.EXT_NAME.TABLE,"downsized");if(null!=t)if(t){var i=st.convertFloat(e.data(dt.EXT_NAME.TABLE,"percent"))/100;0<i&&(e.android("layout_width","0px"),e.app("layout_columnWeight",st.trimEnd(i.toFixed(3),"0")),o=!0)}else e.app("layout_columnWeight","0");a&&(n?e.app("layout_columnWeight","0.01"):(e.textElement&&e.android("maxLines","1"),e.has("width")&&e.toInt("width")<e.bounds.width&&e.android("layout_width",st.formatPX(e.bounds.width))))}}),o&&!t.hasWidth){var i=0;t.ascend().some(function(e){return!!e.hasWidth&&(i=e.bounds.width,!0)}),t.bounds.width>=i?t.android("layout_width","match_parent"):t.css("width",st.formatPX(t.bounds.width))}}return e}},{key:"processChild",value:function(){var e=this.node,t=st.convertInt(e.data(dt.EXT_NAME.TABLE,"rowSpan")),n=st.convertInt(e.data(dt.EXT_NAME.TABLE,"colSpan")),a=st.convertInt(e.data(dt.EXT_NAME.TABLE,"spaceSpan"));if(1<t&&e.app("layout_rowSpan",t.toString()),1<n&&e.app("layout_columnSpan",n.toString()),0<a){var o=this.parent;this.application.viewController.appendAfter(e.id,this.application.viewController.renderNodeStatic(H.SPACE,o.renderDepth+1,{app:{layout_columnSpan:a.toString()}},"wrap_content","wrap_content"))}return{output:"",complete:!0}}}]),n}(androme.lib.base.extensions.Table),pt=[androme.lib.enumeration,androme.lib.util,androme.lib.color],ht=pt[0],ut=pt[1],gt=pt[2],mt=/*#__PURE__*/function(e){function n(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0;return t(this,n),s(this,r(n).call(this,e,a,o,i))}return i(n,e),a(n,[{key:"processNode",value:function(){var e=this.node,t=this.parent,n=ut.hasValue(e.dataset.target),a=e.element,o=Object.assign({},this.options[a.id]),i=gt.parseRGBA(e.css("backgroundColor"),e.css("opacity"));ut.overwriteDefault(o,"android","backgroundTint",0<i.length?"@color/".concat(fe.addColor(i[0],i[2])):"?attr/colorAccent"),e.hasBit("excludeProcedure",ht.NODE_PROCEDURE.ACCESSIBILITY)&&ut.overwriteDefault(o,"android","focusable","false");var r="";switch(a.tagName){case"IMG":r=fe.addImageSrcSet(a,We.DIALOG);break;case"INPUT":r="image"===a.type?fe.addImage({mdpi:a.src},We.DIALOG):fe.addImageURL(e.css("backgroundImage"),We.DIALOG);break;case"BUTTON":r=fe.addImageURL(e.css("backgroundImage"),We.DIALOG);}""!==r&&ut.overwriteDefault(o,"app","srcCompat","@drawable/".concat(r));var l=this.application.viewController.renderNodeStatic(Ge.FLOATING_ACTION_BUTTON,n?-1:t.renderDepth+1,o,"wrap_content","wrap_content",e);if(e.nodeType=ht.NODE_STANDARD.BUTTON,e.excludeResource|=ht.NODE_RESOURCE.BOX_STYLE|ht.NODE_RESOURCE.ASSET,e.pageflow&&!n)e.render(t);else if(e.auto=!1,this.setFrameGravity(e),n){var d=t.stringId;if(t.controlName===Ge.TOOLBAR){var s=t.data(Me.TOOLBAR,"outerParent");s&&(d=s)}e.app("layout_anchor",d),e.app("layout_anchorGravity",e.android("layout_gravity")),e.delete("android","layout_gravity"),e.excludeProcedure|=ht.NODE_PROCEDURE.ALIGNMENT,e.render(e)}else e.render(t);return{output:l,complete:!0}}},{key:"afterInsert",value:function(){var e=this.node;e.android("layout_width","wrap_content"),e.android("layout_height","wrap_content")}},{key:"setFrameGravity",value:function(e){var t=this.application.settings,n=e.documentParent,a=e.horizontalBias(t),o=e.verticalBias(t),i=[];.5>a?i.push(O("left",t)):.5<a?i.push(O("right",t)):i.push("center_horizontal"),.5>o?(i.push("top"),e.app("layout_dodgeInsetEdges","top")):.5<o?i.push("bottom"):i.push("center_vertical"),e.android("layout_gravity",2===i.filter(function(e){return-1!==e.indexOf("center")}).length?"center":i.join("|")),0<a&&1>a&&.5!==a&&(.5>a?e.css("marginLeft",ut.formatPX(X(e.bounds.left-n.box.left))):e.css("marginRight",ut.formatPX(X(n.box.right-e.bounds.right)))),0<o&&1>o&&.5!==o&&(.5>o?e.css("marginTop",ut.formatPX(X(e.bounds.top-n.box.top))):e.css("marginBottom",ut.formatPX(X(n.box.bottom-e.bounds.bottom))))}}]),n}(androme.lib.base.extensions.Button),ft=androme.lib.enumeration,At={id:/^@\+id\/\w+$/,title:/^.+$/,titleCondensed:/^.+$/,icon:/^@drawable\/.+$/,onClick:/^.+$/,showAsAction:/^(ifRoom|never|withText|always|collapseActionView)$/,actionLayout:/^@layout\/.+$/,actionViewClass:/^.+$/,actionProviderClass:/^.+$/,alphabeticShortcut:/^[a-zA-Z]+$/,alphabeticModifiers:/(META|CTRL|ALT|SHIFT|SYM|FUNCTION)+/g,numericShortcut:/^[0-9]+$/,numericModifiers:/(META|CTRL|ALT|SHIFT|SYM|FUNCTION)+/g,checkable:/^(true|false)$/,visible:/^(true|false)$/,enabled:/^(true|false)$/,menuCategory:/^(container|system|secondary|alternative)$/,orderInCategory:/^[0-9]+$/},Tt={id:/^@\+id\/\w+$/,checkableBehavior:/^(none|all|single)$/,visible:/^(true|false)$/,enabled:/^(true|false)$/,menuCategory:/^(container|system|secondary|alternative)$/,orderInCategory:/^[0-9]+$/},_t=["showAsAction","actionViewClass","actionProviderClass"],yt=/*#__PURE__*/function(e){function n(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0;return t(this,n),s(this,r(n).call(this,e,a,o,i))}return i(n,e),a(n,[{key:"condition",value:function(){return this.included()}},{key:"processNode",value:function(){var e=this,t=this.node,n=this.application.viewController.renderNodeStatic(He.MENU,0,{},"","",t,!0);return t.documentRoot=!0,t.nodeType=ft.NODE_STANDARD.BLOCK,t.excludeResource|=ft.NODE_RESOURCE.ALL,t.excludeProcedure|=ft.NODE_PROCEDURE.ALL,t.rendered=!0,t.cascade().forEach(function(t){return e.subscribersChild.add(t)}),{output:n,complete:!0}}},{key:"processChild",value:function(){var e=this,t=this.node,n=this.parent;if(t.plainText)return t.hide(),{output:"",complete:!0,next:!0};var a=t.element,o={android:{},app:{}},i=He.ITEM,r="",l=!1,d=!1;if(t.children.some(function(e){return(!e.inlineElement||!e.blockStatic)&&0<e.children.length})){if(t.children.some(function(e){return"NAV"===e.tagName}))""===a.title?Array.from(t.element.childNodes).some(function(e){return"#text"===e.nodeName?!!(e.textContent&&(r=e.textContent.trim(),""!==r)):"NAV"!==e.tagName&&(r=e.innerText.trim(),!0)}):r=a.title,t.each(function(e){return"NAV"!==e.tagName&&e.hide()});else if("NAV"===t.tagName)i=He.MENU,l=!0;else{i=He.GROUP;var s="";t.children.every(function(t){return e.hasInputType(t,"radio")})?s="single":t.children.every(function(t){return e.hasInputType(t,"checkbox")})&&(s="all"),o.android.checkableBehavior=s}d=!0}else""===n.android("checkableBehavior")&&this.hasInputType(t,"checkbox")&&(o.android.checkable="true"),r=(a.title||a.innerText).trim();switch(i){case He.ITEM:if(this.parseDataSet(At,a,o),""===t.android("icon")){var c=fe.addImageURL(a.style.backgroundImage,We.MENU);if(""!==c)o.android.icon="@drawable/".concat(c);else{var p=t.children.find(function(e){return e.imageElement});p&&(c=fe.addImageSrcSet(p.element,We.MENU),""!==c&&(o.android.icon="@drawable/".concat(c)))}}break;case He.GROUP:this.parseDataSet(Tt,a,o);}if(""===t.android("title")&&""!==r){var h=fe.addString(r,"",this.application.settings);""!==h&&(r="@string/".concat(h)),o.android.title=r}o.android.id?t.controlName=i:t.setNodeType(i);var u=this.application.viewController.renderNodeStatic(i,n.renderDepth+1,o,"","",t,d);return t.excludeResource|=ft.NODE_RESOURCE.ALL,t.excludeProcedure|=ft.NODE_PROCEDURE.ALL,t.rendered=!0,{output:u,complete:!0,next:l}}},{key:"afterRender",value:function(){p(r(n.prototype),"afterRender",this).call(this),this.included(this.node.element)&&(this.application.layoutProcessing.pathname="res/menu")}},{key:"parseDataSet",value:function(e,t,n){for(var a in t.dataset){var o=t.dataset[a];if(o&&e[a]){var i=o.match(e[a]);if(i){var r=(null==this.options.appCompat||!0===this.options.appCompat)&&_t.includes(a)?"app":"android";n[r][a]=Array.from(new Set(i)).join("|")}}}}},{key:"hasInputType",value:function(e,t){return 0<e.children.length&&e.children.some(function(e){return e.element.type===t})}}]),n}(androme.lib.base.extensions.Nav),bt=[androme.lib.enumeration,androme.lib.dom],Nt=bt[0],Dt=bt[1],Et=/*#__PURE__*/function(e){function n(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0;return t(this,n),s(this,r(n).call(this,e,a,o,i))}return i(n,e),a(n,[{key:"processNode",value:function(){var e=this.node,t=this.parent,n=this.application.viewController.renderGroup(e,t,Ge.COORDINATOR);e.apply(this.options[e.element.id]),e.nodeType=Nt.NODE_STANDARD.BLOCK,e.excludeResource|=Nt.NODE_RESOURCE.ASSET;var a=Dt.getNodeFromElement(Dt.locateExtension(e.element,Me.TOOLBAR));if(a){var o=this.application.getExtension(Me.TOOLBAR);o&&o.options[a.element.id]&&o.options[a.element.id].collapsingToolbar&&e.android("fitsSystemWindows","true")}return{output:n,complete:!1}}},{key:"afterInsert",value:function(){var e=this.node;e.documentRoot&&(e.android("layout_width","match_parent"),e.android("layout_height","match_parent"))}}]),n}(androme.lib.base.Extension),Rt=["!0","<?xml version=\"1.0\" encoding=\"utf-8\"?>","<resources>","\t<style name=\"{@appTheme}\" parent=\"{@parentTheme}\">","!1","\t\t<item name=\"{name}\">{value}</item>","!1","\t</style>","\t<style name=\"{@appTheme}.NoActionBar\">","\t\t<item name=\"windowActionBar\">false</item>","\t\t<item name=\"windowNoTitle\">true</item>","\t</style>","\t<style name=\"AppTheme.AppBarOverlay\" parent=\"{@appBarOverlay}\" />","\t<style name=\"AppTheme.PopupOverlay\" parent=\"{@popupOverlay}\" />","</resources>","!0"].join("\n"),It=[androme.lib.enumeration,androme.lib.constant,androme.lib.util,androme.lib.dom,androme.lib.xml],Ot=It[0],vt=It[1],St=It[2],xt=It[3],Lt=It[4],wt=/*#__PURE__*/function(e){function n(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0,l;return t(this,n),l=s(this,r(n).call(this,e,a,o,i)),l.require(Me.MENU),l}return i(n,e),a(n,[{key:"init",value:function(e){if(this.included(e)&&(Array.from(e.children).some(function(e){return!("NAV"!==e.tagName||St.includes(e.dataset.ext,vt.EXT_NAME.EXTERNAL))&&(e.dataset.ext=(St.hasValue(e.dataset.ext)?"".concat(e.dataset.ext,", "):"")+vt.EXT_NAME.EXTERNAL,!0)}),e.dataset.target)){var t=document.getElementById(e.dataset.target);t&&e.parentElement!==t&&!St.includes(t.dataset.ext,Me.COORDINATOR)&&this.application.elements.add(e)}return!1}},{key:"processNode",value:function(){var e=this.application.viewController,t=this.node,n=this.parent,a=St.hasValue(t.dataset.target),o=Object.assign({},this.options[t.element.id]),i=Object.assign({},o.toolbar),r=Object.assign({},o.appBar),l=Object.assign({},o.collapsingToolbar),d=null!=xt.locateExtension(t.element,Me.MENU),s=t.has("backgroundImage"),c=[],p=[],h="",u=a?0:t.depth,g=t.children.filter(function(e){return e.auto}).length;Array.from(t.element.children).forEach(function(e){if("IMG"===e.tagName){if(St.hasValue(e.dataset.navigationIcon)){var t=fe.addImageSrcSet(e,We.MENU);""!==t&&(St.overwriteDefault(toolbar,"app","navigationIcon","@drawable/".concat(t)),"none"!==xt.getStyle(e).display&&g--)}if(St.hasValue(e.dataset.collapseIcon)){var n=fe.addImageSrcSet(e,We.MENU);""!==n&&(St.overwriteDefault(toolbar,"app","collapseIcon","@drawable/".concat(n)),"none"!==xt.getStyle(e).display&&g--)}}if(St.hasValue(e.dataset.target))g--;else{var a=xt.getNodeFromElement(e);if(a)switch(e.dataset.targetModule){case"appBar":c.push(a),g--;break;case"collapsingToolbar":p.push(a),g--;}}});var m=null!=o.collapsingToolbar||0<p.length,f=null!=o.appBar||0<c.length||m,A="",T="";m?St.overwriteDefault(i,"app","layout_collapseMode","pin"):(!f&&St.overwriteDefault(i,"android","fitsSystemWindows","true"),St.overwriteDefault(i,"app","popupTheme","@style/ThemeOverlay.AppCompat.Light"),s?(St.overwriteDefault(0<c.length?r:i,"android","background","@drawable/".concat(fe.addImageURL(t.css("backgroundImage")))),t.excludeResource|=Ot.NODE_RESOURCE.IMAGE_SOURCE):St.overwriteDefault(i,"app","layout_scrollFlags","scroll|enterAlways")),0<c.length?St.overwriteDefault(r,"android","layout_height","?android:attr/actionBarSize"):(St.overwriteDefault(i,"android","layout_height","?android:attr/actionBarSize"),t.excludeProcedure|=Ot.NODE_PROCEDURE.LAYOUT),d&&f&&(i.app.popupTheme&&(T=i.app.popupTheme.replace("@style/","")),i.app.popupTheme="@style/AppTheme.PopupOverlay");var _=u+(f?1:0)+(m?1:0);if(h=e.renderNodeStatic(Ge.TOOLBAR,_,i,"match_parent","wrap_content",t,0<g),m&&s){var y=Object.assign({},o.backgroundImage),b="center";switch(t.css("backgroundSize")){case"cover":case"100% auto":case"auto 100%":b="centerCrop";break;case"contain":case"100% 100%":b="fitXY";break;case"auto":b="matrix";}St.overwriteDefault(y,"android","id","".concat(t.stringId,"_image")),St.overwriteDefault(y,"android","src","@drawable/".concat(fe.addImageURL(t.css("backgroundImage")))),St.overwriteDefault(y,"android","scaleType",b),St.overwriteDefault(y,"android","fitsSystemWindows","true"),St.overwriteDefault(y,"app","layout_collapseMode","parallax"),h=e.renderNodeStatic(H.IMAGE,_,y,"match_parent","match_parent")+h,t.excludeResource|=Ot.NODE_RESOURCE.IMAGE_SOURCE}var D="",R=null,I=null;if(f&&(St.overwriteDefault(r,"android","id","".concat(t.stringId,"_appbar")),St.overwriteDefault(r,"android","layout_height",0<t.viewHeight?E("appbar","height",St.formatPX(t.viewHeight),this.application.settings):"wrap_content"),St.overwriteDefault(r,"android","fitsSystemWindows","true"),d?(r.android.theme&&(A=r.android.theme),r.android.theme="@style/AppTheme.AppBarOverlay",this.createResourceTheme(A,T)):St.overwriteDefault(r,"android","theme","@style/ThemeOverlay.AppCompat.Dark.ActionBar"),R=this.createPlaceholder(this.application.cache.nextId,t,c),R.parent=t.parent,R.nodeId=N(r.android.id),this.application.cache.append(R),D=e.renderNodeStatic(Ge.APPBAR,a?-1:u,r,"match_parent","wrap_content",R,!0),m&&(u++,St.overwriteDefault(l,"android","id","".concat(t.stringId,"_collapsingtoolbar")),St.overwriteDefault(l,"android","fitsSystemWindows","true"),s||St.overwriteDefault(l,"app","contentScrim","?attr/colorPrimary"),St.overwriteDefault(l,"app","layout_scrollFlags","scroll|exitUntilCollapsed"),St.overwriteDefault(l,"app","toolbarId",t.stringId),I=this.createPlaceholder(this.application.cache.nextId,t,p),I.parent=R,I))){I.each(function(e){return e.dataset.target=I.nodeId}),this.application.cache.append(I);var O=e.renderNodeStatic(Ge.COLLAPSING_TOOLBAR,a&&!f?-1:u,l,"match_parent","match_parent",I,!0);D=Lt.replacePlaceholder(D,R.id,O)}return R?(h=I?Lt.replacePlaceholder(D,I.id,h):Lt.replacePlaceholder(D,R.id,h),R.render(a?R:n),I?(I.parent=R,I.render(R),t.parent=I):t.parent=R,t.data(Me.TOOLBAR,"outerParent",R.stringId),t.render(t.parent)):I?(I.render(a?I:n),t.parent=I,t.render(I)):t.render(a?t:n),t.nodeType=Ot.NODE_STANDARD.BLOCK,t.excludeResource|=Ot.NODE_RESOURCE.FONT_STYLE,{output:h,complete:!1}}},{key:"processChild",value:function(){var e=this.node;return e.imageElement&&(St.hasValue(e.dataset.navigationIcon)||St.hasValue(e.dataset.collapseIcon))?(e.hide(),{output:"",complete:!0,next:!0}):{output:"",complete:!1}}},{key:"beforeInsert",value:function(){var e=this.node,t=St.optional(xt.locateExtension(e.element,Me.MENU),"dataset.layoutName");if(""!==t){var n=Object.assign({},this.options[e.element.id]),a=Object.assign({},n.toolbar);St.overwriteDefault(a,"app","menu","@menu/".concat(t)),e.app("menu",a.app.menu)}}},{key:"createResourceTheme",value:function(e,t){var n=Object.assign({},this.options.resource);St.overwriteDefault(n,"","appTheme","AppTheme"),St.overwriteDefault(n,"","parentTheme","Theme.AppCompat.Light.DarkActionBar");var a={0:[{appTheme:n.appTheme,parentTheme:n.parentTheme,appBarOverlay:e||"ThemeOverlay.AppCompat.Dark.ActionBar",popupOverlay:t||"ThemeOverlay.AppCompat.Light",1:[]}]};St.overwriteDefault(n,"output","path","res/values"),St.overwriteDefault(n,"output","file","".concat(Me.TOOLBAR,".xml")),this.application.resourceHandler.addTheme(Rt,a,n)}},{key:"createPlaceholder",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],a=new oe(e);a.init(),a.api=t.api;var o=!0,i=!1,r=void 0;try{for(var l=n[Symbol.iterator](),d,s;!(o=(d=l.next()).done);o=!0)s=d.value,s.parent=a}catch(e){i=!0,r=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw r}}return a.inherit(t,"dimensions"),a.auto=!1,a.excludeResource|=Ot.NODE_RESOURCE.ALL,a}}]),n}(androme.lib.base.Extension),Bt=["!0","<?xml version=\"1.0\" encoding=\"utf-8\"?>","<resources>","\t<style name=\"{@appTheme}\" parent=\"{@parentTheme}\">","!1","\t\t<item name=\"{name}\">{value}</item>","!1","\t</style>","</resources>","!0"].join("\n"),Pt=[androme.lib.enumeration,androme.lib.util,androme.lib.dom],Ct=Pt[0],kt=Pt[1],Xt=Pt[2],Mt=/*#__PURE__*/function(e){function n(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0,l;return t(this,n),l=s(this,r(n).call(this,e,a,o,i)),l.require(Me.MENU),l}return i(n,e),a(n,[{key:"processNode",value:function(){var e=this,t=this.node,n=this.parent,a=Object.assign({},this.options[t.element.id]);kt.overwriteDefault(a,"android","background","?android:attr/windowBackground");for(var o=this.application.viewController.renderNodeStatic(Ge.BOTTOM_NAVIGATION,t.depth,a,n.is(Ct.NODE_STANDARD.CONSTRAINT)?"0px":"match_parent","wrap_content",t),r=5;r<t.children.length;r++)t.children[r].hide(),t.children[r].cascade().forEach(function(e){return e.hide()});return t.cascade().forEach(function(t){return e.subscribersChild.add(t)}),t.render(n),t.nodeType=Ct.NODE_STANDARD.BLOCK,t.excludeResource|=Ct.NODE_RESOURCE.ASSET,this.createResourceTheme(),{output:o,complete:!0}}},{key:"beforeInsert",value:function(){var e=this.node,t=kt.optional(Xt.locateExtension(e.element,Me.MENU),"dataset.layoutName");if(""!==t){var n=Object.assign({},this.options[e.element.id]);kt.overwriteDefault(n,"app","menu","@menu/".concat(t)),e.app("menu",n.app.menu)}}},{key:"afterInsert",value:function(){var e=this.node;e.renderParent.has("width")||e.renderParent.android("layout_width","match_parent"),e.renderParent.has("height")||e.renderParent.android("layout_height","match_parent")}},{key:"createResourceTheme",value:function(){var e=Object.assign({},this.options.resource);kt.overwriteDefault(e,"","appTheme","AppTheme"),kt.overwriteDefault(e,"","parentTheme","Theme.AppCompat.Light.DarkActionBar");var t={0:[{appTheme:e.appTheme,parentTheme:e.parentTheme,1:[]}]};kt.overwriteDefault(e,"output","path","res/values"),kt.overwriteDefault(e,"output","file","".concat(Me.BOTTOM_NAVIGATION,".xml")),this.application.resourceHandler.addTheme(Bt,t,e)}}]),n}(androme.lib.base.Extension),Gt=["!0","<?xml version=\"1.0\" encoding=\"utf-8\"?>","<resources>","\t<style name=\"{@appTheme}\" parent=\"{@parentTheme}\">","\t\t<item name=\"android:windowDrawsSystemBarBackgrounds\">true</item>","\t\t<item name=\"android:statusBarColor\">@android:color/transparent</item>","\t\t<item name=\"android:windowTranslucentStatus\">true</item>","!1","\t\t<item name=\"{name}\">{value}</item>","!1","\t</style>","</resources>","!0"].join("\n"),Ht=[androme.lib.enumeration,androme.lib.constant,androme.lib.util,androme.lib.dom],Wt=Ht[0],Vt=Ht[1],zt=Ht[2],Ft=Ht[3],Ut=/*#__PURE__*/function(e){function n(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0,l;return t(this,n),l=s(this,r(n).call(this,e,a,o,i)),l.documentRoot=!0,l.require(Vt.EXT_NAME.EXTERNAL,!0),l.require(Me.MENU),l.require(Me.COORDINATOR),l}return i(n,e),a(n,[{key:"init",value:function(e){return!!(this.included(e)&&0<e.children.length)&&(Array.from(e.children).forEach(function(e){"NAV"!==e.tagName||zt.includes(e.dataset.ext,Vt.EXT_NAME.EXTERNAL)||(e.dataset.ext=(zt.hasValue(e.dataset.ext)?"".concat(e.dataset.ext,", "):"")+Vt.EXT_NAME.EXTERNAL)}),this.application.elements.add(e),!0)}},{key:"processNode",value:function(){var e=this.node,t=Object.assign({},this.options.self);if(Ft.locateExtension(e.element,Me.MENU))zt.overwriteDefault(t,"android","fitsSystemWindows","true"),this.createResourceTheme();else{var n=Object.assign({},this.options.navigationView);zt.overwriteDefault(n,"android","layout_gravity",O("left",this.application.settings));var a=e.children[e.children.length-1];a.android("layout_gravity",n.android.layout_gravity),a.android("layout_height","match_parent"),a.auto=!1}var o=this.application.viewController.renderNodeStatic(Ge.DRAWER,e.depth,t,"match_parent","match_parent",e,!0);return e.documentRoot=!0,e.rendered=!0,e.nodeType=Wt.NODE_STANDARD.BLOCK,e.excludeResource|=Wt.NODE_RESOURCE.FONT_STYLE,{output:o,complete:!0}}},{key:"beforeInsert",value:function(){var e=this.application,t=this.node;if(e.renderQueue[t.nodeId]){var n=e.cacheSession.locate(function(e){return e.parent===t.parent&&e.controlName===Ge.COORDINATOR});n&&(e.renderQueue[n.nodeId]=e.renderQueue[t.nodeId],delete e.renderQueue[t.nodeId])}var a=zt.optional(Ft.locateExtension(t.element,Me.MENU),"dataset.layoutName"),o=zt.optional(Ft.locateExtension(t.element,Vt.EXT_NAME.EXTERNAL),"dataset.layoutName"),i=Object.assign({},this.options.navigation);if(""!==a&&zt.overwriteDefault(i,"app","menu","@menu/".concat(a)),""!==o&&zt.overwriteDefault(i,"app","headerLayout","@layout/".concat(o)),""!==a||""!==o){zt.overwriteDefault(i,"android","id","".concat(t.stringId,"_navigation")),zt.overwriteDefault(i,"android","fitsSystemWindows","true"),zt.overwriteDefault(i,"android","layout_gravity",O("left",this.application.settings));var r=e.viewController.renderNodeStatic(Ge.NAVIGATION_VIEW,t.depth+1,i,"wrap_content","match_parent");e.addRenderQueue(t.id.toString(),[r])}}},{key:"afterInsert",value:function(){var e=Ft.locateExtension(this.node.element,Vt.EXT_NAME.EXTERNAL);if(e){var t=Ft.getNodeFromElement(e);t&&!t.hasHeight&&t.android("layout_height","wrap_content")}}},{key:"createResourceTheme",value:function(){var e=Object.assign({},this.options.resource);zt.overwriteDefault(e,"","appTheme","AppTheme"),zt.overwriteDefault(e,"","parentTheme","Theme.AppCompat.Light.NoActionBar");var t={0:[{appTheme:e.appTheme,parentTheme:e.parentTheme,1:[]}]};zt.overwriteDefault(e,"output","path","res/values-v21"),zt.overwriteDefault(e,"output","file","".concat(Me.DRAWER,".xml")),this.application.resourceHandler.addTheme(Gt,t,e)}}]),n}(androme.lib.base.Extension),jt=androme.lib.enumeration.APP_FRAMEWORK,Yt=!1,Zt={create:function(){var e=androme.lib.constant.EXT_NAME,t;return en=Object.assign({},Xe),x=new androme.lib.base.Application(jt.ANDROID),Qt=new Re,qt=new ke(en),$t=new fe(qt),tn=(t={},o(t,e.EXTERNAL,new Ve(e.EXTERNAL,jt.ANDROID)),o(t,e.ORIGIN,new ze(e.ORIGIN,jt.ANDROID)),o(t,e.CUSTOM,new Fe(e.CUSTOM,jt.ANDROID)),o(t,e.ACCESSIBILITY,new Ke(e.ACCESSIBILITY,jt.ANDROID)),o(t,e.LIST,new et(e.LIST,jt.ANDROID,["UL","OL","DL","DIV"])),o(t,e.TABLE,new ct(e.TABLE,jt.ANDROID,["TABLE"])),o(t,e.GRID,new rt(e.GRID,jt.ANDROID,["FORM","UL","OL","DL","DIV","TABLE","NAV","SECTION","ASIDE","MAIN","HEADER","FOOTER","P","ARTICLE","FIELDSET","SPAN"])),o(t,Me.FAB,new mt(Me.FAB,jt.ANDROID,["BUTTON","INPUT","IMG"])),o(t,Me.MENU,new yt(Me.MENU,jt.ANDROID,["NAV"])),o(t,Me.COORDINATOR,new Et(Me.COORDINATOR,jt.ANDROID)),o(t,Me.TOOLBAR,new wt(Me.TOOLBAR,jt.ANDROID)),o(t,Me.BOTTOM_NAVIGATION,new Mt(Me.BOTTOM_NAVIGATION,jt.ANDROID)),o(t,Me.DRAWER,new Ut(Me.DRAWER,jt.ANDROID)),t),Yt=!0,{framework:jt.ANDROID,application:x,viewController:Qt,resourceHandler:$t,nodeObject:oe,builtInExtensions:tn,settings:en}},cached:function(){return Yt?{framework:jt.ANDROID,application:x,viewController:Qt,resourceHandler:$t,nodeObject:oe,builtInExtensions:tn,settings:en}:Zt.create()},system:{customize:function(e,t,n){if(J[e]){var a=J[e].customizations;null==a[t]&&(a[t]={}),Object.assign(a[t],n)}},addXmlNs:function(e,t){z[e]=t},writeLayoutAllXml:function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];if(Yt){var t=Qt.application;if(t.closed||S())return $t.file.layoutAllToXml(t.viewData,e)}return""},writeResourceAllXml:function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];if(Yt){var t=Qt.application;if(t.closed||S())return $t.file.resourceAllToXml(e)}return""},writeResourceStringXml:function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];if(Yt){var t=Qt.application;if(t.closed||S())return $t.file.resourceStringToXml(e)}return""},writeResourceArrayXml:function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];if(Yt){var t=Qt.application;if(t.closed||S())return $t.file.resourceStringArrayToXml(e)}return""},writeResourceFontXml:function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];if(Yt){var t=Qt.application;if(t.closed||S())return $t.file.resourceFontToXml(e)}return""},writeResourceColorXml:function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];if(Yt){var t=Qt.application;if(t.closed||S())return $t.file.resourceColorToXml(e)}return""},writeResourceStyleXml:function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];if(Yt){var t=Qt.application;if(t.closed||S())return $t.file.resourceStyleToXml(e)}return""},writeResourceDimenXml:function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];if(Yt){var t=Qt.application;if(t.closed||S())return $t.file.resourceDimenToXml(e)}return""},writeResourceDrawableXml:function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];if(Yt){var t=Qt.application;if(t.closed||S())return $t.file.resourceDrawableToXml(e)}return""}}},Kt,Jt,x,Qt,qt,$t,en,tn;return Zt}();
