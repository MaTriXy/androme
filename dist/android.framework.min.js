var android=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?s(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=t[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(t){return function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f;!function(t){t[t.NONE=0]="NONE",t[t.CHECKBOX=1]="CHECKBOX",t[t.RADIO=2]="RADIO",t[t.EDIT=3]="EDIT",t[t.SELECT=4]="SELECT",t[t.RANGE=5]="RANGE",t[t.SVG=6]="SVG",t[t.TEXT=7]="TEXT",t[t.IMAGE=8]="IMAGE",t[t.BUTTON=9]="BUTTON",t[t.INLINE=10]="INLINE",t[t.LINE=11]="LINE",t[t.SPACE=12]="SPACE",t[t.BLOCK=13]="BLOCK",t[t.FRAME=14]="FRAME",t[t.LINEAR=15]="LINEAR",t[t.GRID=16]="GRID",t[t.RELATIVE=17]="RELATIVE",t[t.CONSTRAINT=18]="CONSTRAINT"}(f||(f={}));var p,m=Object.freeze({get CONTAINER_NODE(){return f}}),g={DELEGATE_FIXED:"android.delegate.fixed",DELEGATE_MAXWIDTHHEIGHT:"android.delegate.max-width-height",DELEGATE_PERCENT:"android.delegate.percent",DELEGATE_RADIOGROUP:"android.delegate.radiogroup",DELEGATE_SCROLLBAR:"android.delegate.scrollbar",DELEGATE_VERTICALALIGN:"android.delegate.verticalalign",CONSTRAINT_GUIDELINE:"android.constraint.guideline",RESOURCE_INCLUDES:"android.resource.includes",RESOURCE_BACKGROUND:"android.resource.background",RESOURCE_SVG:"android.resource.svg",RESOURCE_STRINGS:"android.resource.strings",RESOURCE_FONTS:"android.resource.fonts",RESOURCE_DIMENS:"android.resource.dimens",RESOURCE_STYLES:"android.resource.styles"},v={CHECKBOX:"CheckBox",RADIO:"RadioButton",EDIT:"EditText",SELECT:"Spinner",RANGE:"SeekBar",SVG:"ImageView",TEXT:"TextView",IMAGE:"ImageView",BUTTON:"Button",LINE:"View",SPACE:"Space",FRAME:"FrameLayout",LINEAR:"LinearLayout",GRID:"GridLayout",RELATIVE:"RelativeLayout",CONSTRAINT:"android.support.constraint.ConstraintLayout",GUIDELINE:"android.support.constraint.Guideline"},y={PLAINTEXT:f.TEXT,HR:f.LINE,SVG:f.SVG,IMG:f.IMAGE,SELECT:f.SELECT,RANGE:f.RANGE,TEXT:f.EDIT,PASSWORD:f.EDIT,NUMBER:f.EDIT,EMAIL:f.EDIT,SEARCH:f.EDIT,URL:f.EDIT,CHECKBOX:f.CHECKBOX,RADIO:f.RADIO,BUTTON:f.BUTTON,SUBMIT:f.BUTTON,RESET:f.BUTTON,TEXTAREA:f.EDIT},b={MARGIN:"layout_margin",MARGIN_VERTICAL:"layout_marginVertical",MARGIN_HORIZONTAL:"layout_marginHorizontal",MARGIN_TOP:"layout_marginTop",MARGIN_RIGHT:"layout_marginRight",MARGIN_BOTTOM:"layout_marginBottom",MARGIN_LEFT:"layout_marginLeft",PADDING:"padding",PADDING_VERTICAL:"paddingVertical",PADDING_HORIZONTAL:"paddingHorizontal",PADDING_TOP:"paddingTop",PADDING_RIGHT:"paddingRight",PADDING_BOTTOM:"paddingBottom",PADDING_LEFT:"paddingLeft"},E={HORIZONTAL:"horizontal",VERTICAL:"vertical"},T={relativeParent:{left:"layout_alignParentLeft",top:"layout_alignParentTop",right:"layout_alignParentRight",bottom:"layout_alignParentBottom",centerHorizontal:"layout_centerHorizontal",centerVertical:"layout_centerVertical"},relative:{left:"layout_alignLeft",top:"layout_alignTop",right:"layout_alignRight",bottom:"layout_alignBottom",baseline:"layout_alignBaseline",leftRight:"layout_toRightOf",rightLeft:"layout_toLeftOf",topBottom:"layout_below",bottomTop:"layout_above"},constraint:{left:"layout_constraintLeft_toLeftOf",top:"layout_constraintTop_toTopOf",right:"layout_constraintRight_toRightOf",bottom:"layout_constraintBottom_toBottomOf",leftRight:"layout_constraintLeft_toRightOf",rightLeft:"layout_constraintRight_toLeftOf",baseline:"layout_constraintBaseline_toBaselineOf",topBottom:"layout_constraintTop_toBottomOf",bottomTop:"layout_constraintBottom_toTopOf"}},w={android:"http://schemas.android.com/apk/res/android",app:"http://schemas.android.com/apk/res-auto",aapt:"http://schemas.android.com/aapt",tools:"http://schemas.android.com/tools"},x=["abstract","assert","boolean","break","byte","case","catch","char","class","const","continue","default","double","do","else","enum","extends","false","final","finally","float","for","goto","if","implements","import","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","void","volatile","while"],A=Object.freeze({EXT_ANDROID:g,CONTAINER_ANDROID:v,ELEMENT_ANDROID:y,SUPPORT_ANDROID:{DRAWER:"android.support.v4.widget.DrawerLayout",NAVIGATION_VIEW:"android.support.design.widget.NavigationView",COORDINATOR:"android.support.design.widget.CoordinatorLayout",APPBAR:"android.support.design.widget.AppBarLayout",COLLAPSING_TOOLBAR:"android.support.design.widget.CollapsingToolbarLayout",TOOLBAR:"android.support.v7.widget.Toolbar",FLOATING_ACTION_BUTTON:"android.support.design.widget.FloatingActionButton",BOTTOM_NAVIGATION:"android.support.design.widget.BottomNavigationView"},BOX_ANDROID:b,AXIS_ANDROID:E,LAYOUT_ANDROID:T,XMLNS_ANDROID:w,PREFIX_ANDROID:{MENU:"ic_menu_",DIALOG:"ic_dialog_"},RESERVED_JAVA:x});function S(t,e,n){return(!n||n>=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:0))&&(t.attr=e),!0}var R=(a(p={},28,{android:{},app:{},customizations:{}}),a(p,27,{android:{accessibilityHeading:!1,accessibilityPaneTitle:!1,appComponentFactory:!1,buttonCornerRadius:!1,cantSaveState:!1,dialogCornerRadius:!1,fallbackLineSpacing:!1,firstBaselineToTopHeight:!1,fontVariationSettings:!1,lastBaselineToBottomHeight:!1,lineHeight:!1,maxLongVersionCode:!1,outlineAmbientShadowColor:!1,outlineSpotShadowColor:!1,screenReaderFocusable:!1,textFontWeight:!1,ttcIndex:!1,versionCodeMajor:!1,versionMajor:!1,widgetFeatures:!1,windowLayoutInDisplayCutoutMode:!1},app:{},customizations:{}}),a(p,26,{android:{classLoader:!1,navigationBarDividerColor:!1,showWhenLocked:!1,turnScreenOn:!1,windowLightNavigationBar:!1},app:{},customizations:{}}),a(p,25,{android:{fontWeight:!1,layout_marginHorizontal:!1,layout_marginVertical:!1,paddingHorizontal:!1,paddingVertical:!1},app:{},customizations:{}}),a(p,24,{android:{colorSecondary:!1,contextDescription:!1,contextUri:!1,roundIcon:!1,shortcutDisabledMessage:!1,shortcutId:!1,shortcutLongLabel:!1,shortcutShortLabel:!1,showMetadataInPreview:!1},app:{},customizations:{}}),a(p,23,{android:{backupInForeground:!1,bitmap:!1,buttonGravity:!1,canControlMagnification:!1,canPerformGestures:!1,canRecord:!1,collapseIcon:!1,contentInsetEndWithActions:!1,contentInsetStartWithNavigation:!1,contextPopupMenuStyle:!1,countDown:!1,defaultHeight:!1,defaultToDeviceProtectedStorage:!1,defaultWidth:!1,directBootAware:!1,enableVrMode:!1,endX:!1,endY:!1,externalService:!1,fillType:!1,forceHasOverlappingRendering:!1,hotSpotX:!1,hotSpotY:!1,languageTag:!1,level:!1,listMenuViewStyle:!1,maxButtonHeight:!1,networkSecurityConfig:!1,numberPickerStyle:!1,offset:!1,pointerIcon:!1,popupEnterTransition:!1,popupExitTransition:!1,preferenceFragmentStyle:!1,resizeableActivity:!1,startX:!1,startY:!1,subMenuArrow:!1,supportsLocalInteraction:!1,supportsPictureInPicture:!1,textAppearancePopupMenuHeader:!1,tickMark:!1,tickMarkTint:!1,tickMarkTintMode:!1,titleMargin:!1,titleMarginBottom:!1,titleMarginEnd:!1,titleMarginStart:!1,titleMarginTop:!1,tunerCount:!1,use32bitAbi:!1,version:!1,windowBackgroundFallback:!1},app:{},customizations:{}}),a(p,22,{android:{allowUndo:!1,autoVerify:!1,breakStrategy:!1,colorBackgroundFloating:!1,contextClickable:!1,drawableTint:!1,drawableTintMode:!1,end:function(t){return S(t,"right")},extractNativeLibs:!1,fingerprintAuthDrawable:!1,fraction:!1,fullBackupContent:!1,hyphenationFrequency:!1,lockTaskMode:!1,logoDescription:!1,numbersInnerTextColor:!1,scrollIndicators:!1,showForAllUsers:!1,start:function(t){return S(t,"left")},subtitleTextColor:!1,supportsAssist:!1,supportsLaunchVoiceAssistFromKeyguard:!1,thumbPosition:!1,titleTextColor:!1,trackTint:!1,trackTintMode:!1,usesCleartextTraffic:!1,windowLightStatusBar:!1},app:{},customizations:{}}),a(p,21,{android:{accessibilityTraversalAfter:!1,accessibilityTraversalBefore:!1,collapseContentDescription:!1,dialogPreferredPadding:!1,resizeClip:!1,revisionCode:!1,searchHintIcon:!1},app:{},customizations:{}}),a(p,20,{android:{actionBarPopupTheme:!1,actionBarTheme:!1,actionModeFindDrawable:!1,actionModeShareDrawable:!1,actionModeWebSearchDrawable:!1,actionOverflowMenuStyle:!1,amPmBackgroundColor:!1,amPmTextColor:!1,ambientShadowAlpha:!1,autoRemoveFromRecents:!1,backgroundTint:!1,backgroundTintMode:!1,banner:!1,buttonBarNegativeButtonStyle:!1,buttonBarNeutralButtonStyle:!1,buttonBarPositiveButtonStyle:!1,buttonTint:!1,buttonTintMode:!1,calendarTextColor:!1,checkMarkTint:!1,checkMarkTintMode:!1,closeIcon:!1,colorAccent:!1,colorButtonNormal:!1,colorControlActivated:!1,colorControlHighlight:!1,colorControlNormal:!1,colorEdgeEffect:!1,colorPrimary:!1,colorPrimaryDark:!1,commitIcon:!1,contentAgeHint:!1,contentInsetEnd:!1,contentInsetLeft:!1,contentInsetRight:!1,contentInsetStart:!1,controlX1:!1,controlX2:!1,controlY1:!1,controlY2:!1,country:!1,datePickerDialogTheme:!1,datePickerMode:!1,dayOfWeekBackground:!1,dayOfWeekTextAppearance:!1,documentLaunchMode:!1,elegantTextHeight:!1,elevation:!1,excludeClass:!1,excludeId:!1,excludeName:!1,fastScrollStyle:!1,fillAlpha:!1,fillColor:!1,fontFeatureSettings:!1,foregroundTint:!1,foregroundTintMode:!1,fragmentAllowEnterTransitionOverlap:!1,fragmentAllowReturnTransitionOverlap:!1,fragmentEnterTransition:!1,fragmentExitTransition:!1,fragmentReenterTransition:!1,fragmentReturnTransition:!1,fragmentSharedElementEnterTransition:!1,fragmentSharedElementReturnTransition:!1,fromId:!1,fullBackupOnly:!1,goIcon:!1,headerAmPmTextAppearance:!1,headerDayOfMonthTextAppearance:!1,headerMonthTextAppearance:!1,headerTimeTextAppearance:!1,headerYearTextAppearance:!1,hideOnContentScroll:!1,indeterminateTint:!1,indeterminateTintMode:!1,inset:!1,isGame:!1,launchTaskBehindSourceAnimation:!1,launchTaskBehindTargetAnimation:!1,layout_columnWeight:!1,layout_rowWeight:!1,letterSpacing:!1,matchOrder:!1,maxRecentsv:!1,maximumAngle:!1,minimumHorizontalAngle:!1,minimumVerticalAngle:!1,multiArch:!1,navigationBarColor:!1,navigationContentDescription:!1,navigationIcon:!1,nestedScrollingEnabled:!1,numbersBackgroundColor:!1,numbersSelectorColor:!1,numbersTextColor:!1,outlineProvider:!1,overlapAnchor:!1,paddingMode:!1,pathData:!1,patternPathData:!1,persistableMode:!1,popupElevation:!1,popupTheme:!1,progressBackgroundTint:!1,progressBackgroundTintMode:!1,progressTint:!1,progressTintMode:!1,propertyXName:!1,propertyYName:!1,queryBackground:!1,recognitionService:!1,relinquishTaskIdentity:!1,reparent:!1,reparentWithOverlay:!1,restrictionType:!1,resumeWhilePausing:!1,reversible:!1,searchIcon:!1,searchViewStyle:!1,secondaryProgressTint:!1,secondaryProgressTintMode:!1,selectableItemBackgroundBorderless:!1,sessionService:!1,setupActivity:!1,showText:!1,slideEdge:!1,splitTrack:!1,spotShadowAlpha:!1,src:function(t,e,n){return n.svgElement&&(t.obj="app",t.attr="srcCompat"),!0},stackViewStyle:!1,stateListAnimator:!1,statusBarColor:!1,strokeAlpha:!1,strokeColor:!1,strokeLineCap:!1,strokeLineJoin:!1,strokeMiterLimit:!1,strokeWidth:!1,submitBackground:!1,subtitleTextAppearance:!1,suggestionRowLayout:!1,switchStyle:!1,targetName:!1,textAppearanceListItemSecondary:!1,thumbTint:!1,thumbTintMode:!1,tileModeX:!1,tileModeY:!1,timePickerDialogTheme:!1,timePickerMode:!1,timePickerStyle:!1,tintMode:!1,titleTextAppearance:!1,toId:!1,toolbarStyle:!1,touchscreenBlocksFocus:!1,transitionGroup:!1,transitionName:!1,transitionVisibilityMode:!1,translateX:!1,translateY:!1,translationZ:!1,trimPathEnd:!1,trimPathOffset:!1,trimPathStart:!1,viewportHeight:!1,viewportWidth:!1,voiceIcon:!1,windowActivityTransitions:!1,windowAllowEnterTransitionOverlap:!1,windowAllowReturnTransitionOverlap:!1,windowClipToOutline:!1,windowContentTransitionManager:!1,windowContentTransitions:!1,windowDrawsSystemBarBackgrounds:!1,windowElevation:!1,windowEnterTransition:!1,windowExitTransition:!1,windowReenterTransition:!1,windowReturnTransition:!1,windowSharedElementEnterTransition:!1,windowSharedElementExitTransition:!1,windowSharedElementReenterTransition:!1,windowSharedElementReturnTransition:!1,windowSharedElementsUseOverlay:!1,windowTransitionBackgroundFadeDuration:!1,yearListItemTextAppearance:!1,yearListSelectorColor:!1},app:{},customizations:{}}),a(p,19,{android:{allowEmbedded:!1,windowSwipeToDismiss:!1},app:{},customizations:{}}),a(p,18,{android:{accessibilityLiveRegion:!1,addPrintersActivity:!1,advancedPrintOptionsActivity:!1,apduServiceBanner:!1,autoMirrored:!1,category:!1,fadingMode:!1,fromScene:!1,isAsciiCapable:!1,keySet:!1,requireDeviceUnlock:!1,ssp:!1,sspPattern:!1,sspPrefix:!1,startDelay:!1,supportsSwitchingToNextInputMethod:!1,targetId:!1,toScene:!1,transition:!1,transitionOrdering:!1,vendor:!1,windowTranslucentNavigation:!1,windowTranslucentStatus:!1},app:{},customizations:{}}),a(p,17,{android:{canRequestEnhancedWebAccessibility:function(t,e){return e<26},canRequestFilterKeyEvents:!1,canRequestTouchExplorationMode:!1,childIndicatorEnd:!1,childIndicatorStart:!1,indicatorEnd:!1,indicatorStart:!1,layoutMode:!1,mipMap:!1,mirrorForRtl:!1,requiredAccountType:!1,requiredForAllUsers:!1,restrictedAccountType:!1,windowOverscan:!1},app:{},customizations:{}}),a(p,16,{android:{checkedTextViewStyle:!1,format12Hour:!1,format24Hour:!1,initialKeyguardLayout:!1,labelFor:!1,layoutDirection:!1,layout_alignEnd:function(t){return S(t,"layout_alignRight")},layout_alignParentEnd:function(t){return S(t,"layout_alignParentRight")},layout_alignParentStart:function(t){return S(t,"layout_alignParentLeft")},layout_alignStart:function(t){return S(t,"layout_alignLeft")},layout_marginEnd:function(t){return S(t,"layout_marginRight")},layout_marginStart:function(t){return S(t,"layout_marginLeft")},layout_toEndOf:function(t){return S(t,"layout_toRightOf")},layout_toStartOf:function(t){return S(t,"layout_toLeftOf")},listPreferredItemPaddingEnd:function(t){return S(t,"listPreferredItemPaddingRight")},listPreferredItemPaddingStart:function(t){return S(t,"listPreferredItemPaddingLeft")},paddingEnd:function(t){return S(t,"paddingRight")},paddingStart:function(t){return S(t,"paddingLeft")},permissionFlags:!1,permissionGroupFlags:!1,presentationTheme:!1,showOnLockScreen:!1,singleUser:!1,subtypeId:!1,supportsRtl:!1,textAlignment:!1,textDirection:!1,timeZone:!1,widgetCategory:!1},app:{},customizations:{}}),a(p,15,{android:{fontFamily:!1,importantForAccessibility:!1,isolatedProcess:!1,keyboardLayout:!1,mediaRouteButtonStyle:!1,mediaRouteTypes:!1,parentActivityName:!1},app:{},customizations:{}}),a(p,14,{android:{},app:{},customizations:{}}),a(p,0,{android:{},app:{},customizations:{Button:{android:{textAllCaps:"false"}}}}),p),k={android:{amPmBackgroundColor:function(t,e){return S(t,"headerBackground",e,23)},amPmTextColor:function(t,e){return S(t,"headerTextColor",e,23)},animationResolution:function(t,e){return e<16},canRequestEnhancedWebAccessibility:function(t,e){return e<26},dayOfWeekBackground:function(t,e){return e<23},dayOfWeekTextAppearance:function(t,e){return e<23},directionDescriptions:function(t,e){return e<23},headerAmPmTextAppearance:function(t,e){return S(t,"headerTextColor",e,23)},headerDayOfMonthTextAppearance:function(t,e){return S(t,"headerTextColor",e,23)},headerMonthTextAppearance:function(t,e){return S(t,"headerTextColor",e,23)},headerTimeTextAppearance:function(t,e){return S(t,"headerTextColor",e,23)},headerYearTextAppearance:function(t,e){return S(t,"headerTextColor",e,23)},showOnLockScreen:function(t,e){return S(t,"showForAllUsers",e,23)},targetDescriptions:function(t,e){return e<23},yearListItemTextAppearance:function(t,e){return S(t,"yearListTextColor",e,23)},yearListSelectorColor:function(t,e){return e<23}}},I={builtInExtensions:["androme.external","android.delegate.fixed","android.delegate.max-width-height","android.delegate.percent","android.delegate.radiogroup","android.delegate.scrollbar","androme.substitute","androme.sprite","androme.css-grid","androme.flexbox","androme.table","androme.list","androme.grid","androme.relative","androme.verticalalign","androme.whitespace","androme.accessibility","android.constraint.guideline","android.resource.includes","android.resource.background","android.resource.svg","android.resource.strings","android.resource.fonts","android.resource.dimens","android.resource.styles"],targetAPI:26,resolutionDPI:160,supportRTL:!0,preloadImages:!0,ellipsisOnTextOverflow:!0,supportNegativeLeftTop:!0,floatOverlapDisabled:!1,collapseUnattributedElements:!0,customizationsOverwritePrivilege:!0,showAttributes:!0,convertPixels:"dp",insertSpaces:4,handleExtensionsAsync:!0,autoCloseOnWrite:!0,outputDirectory:"app/src/main",outputMainFileName:"activity_main.xml",outputArchiveFileType:"zip",outputMaxProcessingTime:30},_='<?xml version="1.0" encoding="utf-8"?>\n{:0}',C=androme.lib.base.SvgBuild,N=androme.lib.color,P=androme.lib.constant,O=androme.lib.dom,L=androme.lib.util,D=androme.lib.svg,B=androme.lib.xml;function M(t){return L.isPercent(t)?parseInt(t)/100:.5}var X=function(n){function a(){return e(this,a),d(this,o(a).apply(this,arguments))}return i(a,androme.lib.base.Resource),r(a,[{key:"addStyleTheme",value:function(t,e,n){if(n.items&&L.isArray(e.items)){var r=a.formatOptions(n.items,this.application.extensionManager.optionValueAsBoolean(g.RESOURCE_STRINGS,"numberResourceValue"));for(var i in r)e.items.push({name:i,value:r[i]})}var o=B.createTemplate(B.parseTemplate(t),e);this.fileHandler&&this.fileHandler.addAsset(n.output.path,n.output.file,o)}},{key:"userSettings",get:function(){return this.application.userSettings}}],[{key:"createBackgroundGradient",value:function(t,e,n){for(var r=[],i=t.svgElement||e.some(function(t){return t.colorStop.filter(function(t){return parseInt(t.offset)>0}).length>0}),o=Array.isArray(s=e),l=0,s=o?s:s[Symbol.iterator]();;){var d;if(o){if(l>=s.length)break;d=s[l++]}else{if((l=s.next()).done)break;d=l.value}var c=d,u={type:c.type,startColor:i?"":a.addColor(c.colorStop[0].color),centerColor:!i&&c.colorStop.length>2?a.addColor(c.colorStop[1].color):"",endColor:i?"":a.addColor(c.colorStop[c.colorStop.length-1].color),colorStop:[]};switch(c.type){case"radial":if(t.svgElement)n&&function(){var t=c,e=[],r=void 0,a=void 0,i=void 0,o=void 0;switch(n.element.tagName){case"path":if(C.toPathCommandList(n.d).forEach(function(t){return e.push.apply(e,h(t.points))}),!e.length)break;case"polygon":n.element instanceof SVGPolygonElement&&e.push.apply(e,h(C.toPointList(n.element.points))),r=L.minArray(e.map(function(t){return t.x})),a=L.minArray(e.map(function(t){return t.y})),i=L.maxArray(e.map(function(t){return t.x}))-r,o=L.maxArray(e.map(function(t){return t.y}))-a;break;case"rect":var l=n.element;r=l.x.baseVal.value,a=l.y.baseVal.value,i=l.width.baseVal.value,o=l.height.baseVal.value;break;case"circle":var s=n.element;r=s.cx.baseVal.value-s.r.baseVal.value,a=s.cy.baseVal.value-s.r.baseVal.value,o=i=2*s.r.baseVal.value;break;case"ellipse":var d=n.element;r=d.cx.baseVal.value-d.rx.baseVal.value,a=d.cy.baseVal.value-d.ry.baseVal.value,i=2*d.rx.baseVal.value,o=2*d.ry.baseVal.value}if(void 0!==r&&void 0!==a&&void 0!==i&&void 0!==o){var f=M(t.cxAsString),p=M(t.cyAsString);u.centerX=""+(r+i*f),u.centerY=""+(a+o*p),u.gradientRadius=""+(i+o)/2*(L.isPercent(t.rAsString)?parseInt(t.rAsString)/100:1)}}();else{var f=void 0;c.shapePosition&&c.shapePosition.length>1&&(f=O.getBackgroundPosition(c.shapePosition[1],t.bounds,t.dpi,t.fontSize,!0,!i)),i?(u.gradientRadius=""+t.bounds.width,f&&(u.centerX=""+f.left,u.centerY=""+f.top)):(u.gradientRadius=L.formatPX(t.bounds.width),f&&(u.centerX=L.convertPercent(f.left),u.centerY=L.convertPercent(f.top)))}break;case"linear":if(t.svgElement){var p=c;u.startX=""+p.x1,u.startY=""+p.y1,u.endX=""+p.x2,u.endY=""+p.y2}else{var m=c;if(void 0!==m.angle)if(i){var g=Math.round(t.bounds.width/2),v=Math.round(t.bounds.height/2);u.startX=""+Math.round(D.getRadiusX(m.angle+180,g)+g),u.startY=""+Math.round(D.getRadiusY(m.angle+180,v)+v),u.endX=""+Math.round(D.getRadiusX(m.angle,g)+g),u.endY=""+Math.round(D.getRadiusY(m.angle,v)+v)}else u.angle=""+45*Math.floor(m.angle/45)}}if(i)for(var y=0;y<c.colorStop.length;y++){var b=c.colorStop[y],E="@color/".concat(a.addColor(b.color)),T=parseInt(b.offset);0===y?t.svgElement||0===T||u.colorStop.push({color:E,offset:"0",opacity:b.opacity}):0===T&&(T=y<c.colorStop.length-1?Math.round((parseInt(c.colorStop[y-1].offset)+parseInt(c.colorStop[y+1].offset))/2):100),u.colorStop.push({color:E,offset:(T/100).toFixed(2),opacity:b.opacity})}r.push(u)}return r}},{key:"formatOptions",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var r in e)if(e.hasOwnProperty(r)){var a=e[r];if("object"===t(a))for(var i in a)if(a.hasOwnProperty(i)){var o=""+a[i];switch(i){case"text":if(!o.startsWith("@string/")&&""!==(o=this.addString(o,"",n))){a[i]="@string/".concat(o);continue}break;case"src":case"srcCompat":if(P.REGEX_PATTERN.URI.test(o)&&""!==(o=this.addImage({mdpi:o}))){a[i]="@drawable/".concat(o);continue}}var l=N.parseRGBA(o);if(l){var s=this.addColor(l);""!==s&&(a[i]="@color/".concat(s))}}}return e}},{key:"getOptionArray",value:function(t){for(var e=[],n=[],r=-1;++r<t.children.length;){var a=t.children[r].text.trim();if(""!==a)if(n&&0===e.length&&L.isNumber(a))n.push(a);else{if(n&&n.length){r=-1,n=null;continue}""!==a&&e.push(B.replaceEntity(a))}}return[e.length?e:null,n&&n.length?n:null]}},{key:"addString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(""!==t){""===e&&(e=t.trim());var r=L.isNumber(t);if(!r||n){var i=a.STORED.strings.entries(),o=Array.isArray(i),l=0;for(i=o?i:i[Symbol.iterator]();;){var s;if(o){if(l>=i.length)break;s=i[l++]}else{if((l=i.next()).done)break;s=l.value}var d=u(s,2);if(d[1]===t)return d[0]}e=e.toLowerCase().replace(/[^a-z\d]/g,"_").replace(/_+/g,"_").split("_").slice(0,4).join("_").replace(/_+$/g,""),r||/^\d/.test(e)||x.includes(e)?e="__".concat(e):""===e&&(e="__symbol".concat(Math.ceil(1e5*Math.random()))),a.STORED.strings.has(e)&&(e=a.generateId("string",e,1)),a.STORED.strings.set(e,t)}return e}return""}},{key:"addImageSrcSet",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={},r=t.srcset.trim();if(""!==r){var a=t.src.substring(0,t.src.lastIndexOf("/")+1);r.split(",").forEach(function(t){var e=/^(.*?)\s*(\d+\.?\d*x)?$/.exec(t.trim());if(e){L.hasValue(e[2])||(e[2]="1x");var r=a+L.lastIndexOf(e[1]);switch(e[2]){case"0.75x":n.ldpi=r;break;case"1x":n.mdpi=r;break;case"1.5x":n.hdpi=r;break;case"2x":n.xhdpi=r;break;case"3x":n.xxhdpi=r;break;case"4x":n.xxxhdpi=r}}})}return void 0===n.mdpi&&(n.mdpi=t.src),this.addImage(n,e)}},{key:"addImage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";if(t&&t.mdpi){n=L.lastIndexOf(t.mdpi);var r=L.lastIndexOf(n,".").toLowerCase();switch(n=n.replace(/.\w+$/,"").replace(/-/g,"_"),r){case"bmp":case"cur":case"gif":case"ico":case"jpg":case"png":n=a.insertStoredAsset("images",e+n,t);break;default:n=""}}return n}},{key:"addImageUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=O.cssResolveUrl(t);return""!==n?this.addImage({mdpi:n},e):""}},{key:"addColor",value:function(t){if("string"==typeof t&&(t=N.parseRGBA(t)),t&&"#00000000"!==t.valueRGBA){var e=function(t){return t?t.opaque?t.valueARGB:t.valueRGB:""}(t),n=a.STORED.colors.get(e)||"";if(""===n){var r=N.getColorByShade(t.valueRGB);r&&(r.name=L.convertUnderscore(r.name),n=t.opaque||r.hex!==t.valueRGB?a.generateId("color",r.name,1):r.name,a.STORED.colors.set(e,n))}return n}return""}}]),a}(),z=androme.lib.util,G=androme.lib.xml;function H(t){return t?t.replace(/@\+?id\//,""):""}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({android:{},app:{}},e&&"object"===t(e)?e:{})}function F(t){return t?t.trim().replace(/[^\w$\-_.]/g,"_"):""}function W(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t){var r=parseFloat(t);if(!isNaN(r))return(t=(r/=e/160)>=1||0===r?""+Math.floor(r):r.toFixed(2))+(n?"sp":"dp")}return"0dp"}function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return"dp"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dp")||n?t.replace(/([">])(-)?(\d+(?:\.\d+)?px)(["<])/g,function(t){return(arguments.length<=1?void 0:arguments[1])+((arguments.length<=2?void 0:arguments[2])||"")+W(arguments.length<=3?void 0:arguments[3],e,n)+(arguments.length<=4?void 0:arguments[4])}):t}function j(t){return G.replaceTab(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}function Y(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return 0===t?0:0===e?1:parseFloat(Math.max(t/(t+e),0).toFixed(n))}function K(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:26;return t=t?t.trim():"",e&&n>=17&&(t=(t=t.replace(/left/g,"start").replace(/right/g,"end")).replace(/Left/g,"Start").replace(/Right/g,"End")),t}function Z(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return z.flatMap(e,function(t){return w[t]?"xmlns:".concat(t,'="').concat(w[t],'"'):""}).join(" ")}var q=Object.freeze({stripId:H,createAttribute:V,validateString:F,convertUnit:W,replaceUnit:U,replaceTab:j,calculateBias:Y,replaceRTL:K,getXmlNs:Z}),$=androme.lib.base.NodeList,J=androme.lib.base.Resource,Q=androme.lib.dom,tt=androme.lib.enumeration,et=androme.lib.util;function nt(t,e){var n=e-(t.hasHeight?t.height:t.bounds.height);n>0&&(t.modifyBox(2,Math.floor(n/2)-(t.inlineVertical?et.convertInt(t.verticalAlign):0)),t.modifyBox(8,Math.ceil(n/2)))}var rt=function(n){return function(a){function l(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return e(this,l),(t=d(this,o(l).call(this,n,r))).renderChildren=[],t.constraint={horizontal:!1,vertical:!1,current:{}},t._namespaces=new Set(["android","app"]),t._controlName="",t._fontSize=0,t._boxAdjustment=Q.newBoxModel(),t._boxReset=Q.newBoxModel(),t._containerType=0,t._localSettings={targetAPI:28,resolutionDPI:160,supportRTL:!1},t.__android={},t.__app={},a&&a(s(s(t))),t}return i(l,n),r(l,[{key:"attr",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a={};return this.supported(t,e,a)?(Object.keys(a).length&&(et.isString(a.obj)&&(t=a.obj),et.isString(a.attr)&&(e=a.attr),et.isString(a.value)&&(n=a.value),"boolean"==typeof a.overwrite&&(r=a.overwrite)),c(o(l.prototype),"attr",this).call(this,t,e,n,r)):""}},{key:"android",value:function(t){return this.attr("android",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),this.__android[t]||""}},{key:"app",value:function(t){return this.attr("app",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),this.__app[t]||""}},{key:"apply",value:function(e){if("object"===t(e)){var n=Object.assign({},e);for(var r in c(o(l.prototype),"apply",this).call(this,n),n)this.formatted("".concat(r,'="').concat(n[r],'"'))}}},{key:"formatted",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.match(/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/);n&&this.attr(n[1]||"_",n[2],n[3],e)}},{key:"anchor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=this.renderParent;if(r)if(r.layoutConstraint){if(void 0===e||void 0===this.constraint.current[t]||n){e&&void 0===n&&(n="parent"===e);var a=T.constraint[t];if(a){if(this.app(this.localizeString(a),e,n),"parent"===e)switch(t){case"left":case"right":this.constraint.horizontal=!0;break;case"top":case"bottom":case"baseline":this.constraint.vertical=!0}return this.constraint.current[t]={documentId:e,horizontal:-1!==et.indexOf(t.toLowerCase(),"left","right")},!0}}}else if(r.layoutRelative){return e&&void 0===n&&(n="true"===e),this.android(this.localizeString(T["true"===e?"relativeParent":"relative"][t]),e,n),!0}return!1}},{key:"anchorParent",value:function(t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.renderParent;if(n){var r=t===E.HORIZONTAL;if(n.layoutConstraint){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.constraint[t])return this.anchor(r?"left":"top","parent"),this.anchor(r?"right":"bottom","parent"),this.constraint[t]=!0,e&&this.app("layout_constraint".concat(et.capitalize(t),"_bias"),this["".concat(t,"Bias")]),!0}else if(n.layoutRelative)return this.anchor(r?"left":"top","true"),this.anchor(r?"right":"bottom","true"),!0}return!1}},{key:"anchorDelete",value:function(){var t=this,e=this.renderParent;if(e){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];if(e.layoutConstraint)this.delete.apply(this,["app"].concat(h(r.map(function(e){return t.localizeString(T.constraint[e])}))));else if(e.layoutRelative)for(var i=0;i<r.length;i++){var o=r[i];this.alignSibling(o)?this.delete("android",T.relative[o],this.localizeString(T.relative[o])):T.relativeParent[o]&&this.delete("android",this.localizeString(T.relativeParent[o]))}}}},{key:"anchorClear",value:function(){var t=this.renderParent;t&&(t.layoutConstraint?this.anchorDelete.apply(this,h(Object.keys(T.constraint))):t.layoutRelative&&(this.anchorDelete.apply(this,h(Object.keys(T.relativeParent))),this.anchorDelete.apply(this,h(Object.keys(T.relative)))))}},{key:"alignParent",value:function(t){var e=this.renderParent;if(e)if(e.layoutConstraint){var n=T.constraint[t];if(n)return"parent"===this.app(this.localizeString(n))||"parent"===this.app(n)}else if(e.layoutRelative){var r=T.relativeParent[t];if(r)return"true"===this.android(this.localizeString(r))||"true"===this.android(r)}return!1}},{key:"alignSibling",value:function(t){var e=this.renderParent;if(e){if(e.layoutConstraint){var n=T.constraint[t],r=this.app(this.localizeString(n))||this.app(n);return""!==r&&"parent"!==r&&r!==e.documentId}if(e.layoutRelative){var a=T.relative[t];return""!==(this.android(this.localizeString(a))||this.android(a))}}return!1}},{key:"horizontalBias",value:function(){var t=this.documentParent;return t!==this?Y(Math.max(0,this.linear.left-t.box.left),Math.max(0,t.box.right-this.linear.right),this.localSettings.constraintPercentAccuracy):.5}},{key:"verticalBias",value:function(){var t=this.documentParent;return t!==this?Y(Math.max(0,this.linear.top-t.box.top),Math.max(0,t.box.bottom-this.linear.bottom),this.localSettings.constraintPercentAccuracy):.5}},{key:"supported",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.localSettings.targetAPI>0&&this.localSettings.targetAPI<28){var r=k[t];if(r&&"function"==typeof r[e]){var a=r[e](n,this.localSettings.targetAPI,this);if(!a||Object.keys(n).length)return a}for(var i=this.localSettings.targetAPI;i<=28;i++){var o=R[i];if(o&&o[t]&&void 0!==o[t][e]){var l=o[t][e];if("boolean"==typeof l)return l;if("function"==typeof l)return l(n,this.localSettings.targetAPI,this)}}}return!0}},{key:"combine",value:function(){for(var t=[],e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=this._namespaces.values(),i=Array.isArray(a),o=0;for(a=i?a:a[Symbol.iterator]();;){var l;if(i){if(o>=a.length)break;l=a[o++]}else{if((o=a.next()).done)break;l=o.value}var s=l,d=this["__".concat(s)];if(0===n.length||n.includes(s))for(var c in d)t.push("_"!==s?"".concat(s,":").concat(c,'="').concat(d[c],'"'):"".concat(c,'="').concat(d[c],'"'))}return t.sort(function(t,e){return t.startsWith("android:id=")?-1:e.startsWith("android:id=")?1:t>e?1:-1})}},{key:"localizeString",value:function(t){return this.hasBit("excludeProcedure",tt.NODE_PROCEDURE.LOCALIZATION)?t:K(t,this.localSettings.supportRTL,this.localSettings.targetAPI)}},{key:"hide",value:function(t){t?this.android("visibility","invisible"):c(o(l.prototype),"hide",this).call(this)}},{key:"clone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new l(t||this.id,this.baseElement);if(Object.assign(r.localSettings,this.localSettings),r.tagName=this.tagName,t?r.setControlType(this.controlName,this.containerType):(r.controlId=this.controlId,r.controlName=this.controlName,r.containerType=this.containerType),r.alignmentType=this.alignmentType,r.depth=this.depth,r.visible=this.visible,r.excluded=this.excluded,r.rendered=this.rendered,r.renderDepth=this.renderDepth,r.renderParent=this.renderParent,r.documentParent=this.documentParent,r.documentRoot=this.documentRoot,this.length&&r.retain(this.duplicate()),e){Object.assign(r.unsafe("boxReset"),this._boxReset),Object.assign(r.unsafe("boxAdjustment"),this._boxAdjustment);var a=this._namespaces.values(),i=Array.isArray(a),o=0;for(a=i?a:a[Symbol.iterator]();;){var s;if(i){if(o>=a.length)break;s=a[o++]}else{if((o=a.next()).done)break;s=o.value}var d=s,c=this["__".concat(d)];for(var u in c)r.attr(d,u,"android"===d&&"id"===u?r.documentId:c[u])}}return n&&(r.anchorClear(),r.anchor("left",this.documentId)&&(Object.assign(r.unsafe("boxReset"),{marginLeft:1}),Object.assign(r.unsafe("boxAdjustment"),{marginLeft:0})),r.anchor("top",this.documentId)&&(Object.assign(r.unsafe("boxReset"),{marginTop:1}),Object.assign(r.unsafe("boxAdjustment"),{marginTop:0}))),r.inherit(this,"initial","base","alignment","styleMap"),Object.assign(r.unsafe("cached"),this.unsafe("cached")),r}},{key:"setControlType",value:function(t,e){if(e)this.containerType=e;else if(0===this.containerType)for(var n in v)if(v[n]===t){for(var r in f)if(f[f[r]]===n){this.containerType=f[r];break}break}if(this.controlName=t,""!==this.android("id")&&(this.controlId=H(this.android("id"))),""===this.controlId){var a=this.baseElement,i="";a&&("parent"===(i=F(a.id||a.name))||x.includes(i))&&(i="_".concat(i)),this.controlId=et.convertWord(J.generateId("android",i||et.lastIndexOf(this.controlName,".").toLowerCase(),i?0:1)),this.android("id",this.documentId)}}},{key:"setLayout",value:function(){var t=this,e=this.absoluteParent,n=this.renderParent,r=this.renderChildren;this.documentBody&&(!this.hasWidth&&r.some(function(t){return t.alignParent("right")})&&this.android("layout_width","match_parent",!1),!this.hasHeight&&r.some(function(t){return t.alignParent("bottom")})&&this.android("layout_height","match_parent",!1));var a=!1;if(!this.android("layout_width")&&(!this.inlineStatic&&this.has("width")||this.toInt("width")>0&&!this.cssInitial("width"))){var i=this.css("width");if(et.isUnit(i)){var o=n?et.convertInt(n.android("layout_width")):0,l=this.convertPX(i);e===n&&o>0&&et.convertInt(l)>=o?this.android("layout_width","match_parent"):this.android("layout_width",l),a=!0}else et.isPercent(i)&&(n&&n.is(f.GRID)?(this.android("layout_width","0px",!1),this.android("layout_columnWeight",(parseInt(i)/100).toFixed(2),!1)):this.android("layout_width","100%"===i?"match_parent":this.convertPercent(i,!0)),a=!0)}if(this.has("minWidth")&&!this.constraint.minWidth){var s=this.convertPX(this.css("minWidth"));this.android("layout_width","wrap_content",!1),this.android("minWidth",s,!1),a=!0}if(!a)if(this.plainText)this.android("layout_width",n&&this.bounds.width>n.box.width&&this.multiLine&&this.alignParent("left")?"match_parent":"wrap_content",!1);else if(r.filter(function(t){return(t.inlineStatic||et.isUnit(t.cssInitial("width")))&&!t.autoMargin.horizontal}).some(function(e){return Math.ceil(e.bounds.width)>=t.box.width}))this.android("layout_width","wrap_content",!1);else if(this.flexElement&&n&&n.hasWidth||!this.documentRoot&&r.some(function(t){return t.layoutVertical&&!t.hasWidth&&!t.floating&&!t.autoMargin.horizontal})||this.layoutFrame&&(2===$.floated(r).size||r.some(function(t){return t.blockStatic&&(t.autoMargin.leftRight||t.rightAligned)})))this.android("layout_width","match_parent",!1);else{(!(this.containerType<f.INLINE||!this.pageFlow||this.inlineFlow||this.tableElement||this.flexElement||!!e&&e.flexElement||!!e&&e.gridElement||!!n&&n.is(f.GRID))||this.blockStatic&&!this.has("maxWidth"))&&(e&&this.linear.width>=e.box.width||this.layoutVertical&&!this.autoMargin.horizontal||this.htmlElement&&this.blockStatic&&(this.documentBody||e&&(e.documentBody||e.blockStatic&&(this.singleChild||this.alignedVertically(this.previousSiblings()))))||this.groupParent&&r.some(function(e){return!(e.plainText&&e.multiLine)&&e.linear.width>=t.documentParent.box.width}))?this.android("layout_width","match_parent",!1):this.android("layout_width","wrap_content",!1)}var d=!1;if(!this.android("layout_height")&&(!this.inlineStatic&&this.has("height")||this.toInt("height")>0&&!this.cssInitial("height"))){var c=this.css("height");if(et.isUnit(c)){var u=this.convertPX(c,!1);this.android("layout_height","hidden"===this.css("overflow")&&parseInt(u)<Math.floor(this.box.height)?"wrap_content":u),d=!0}else et.isPercent(c)&&(this.android("layout_height","100%"===c?"match_parent":et.formatPX(Math.ceil(this.bounds.height)-this.contentBoxHeight)),d=!0)}if(this.has("minHeight")&&!this.constraint.minHeight){var h=this.convertPX(this.css("minHeight"),!1);this.android("layout_height","wrap_content",!1),this.android("minHeight",h,!1),d=!0}d||this.android("layout_height","wrap_content",!1)}},{key:"setAlignment",value:function(){var t=this.renderParent;if(t){var e=function(t){if(!t.blockWidth){var e=[];if(t.autoMargin.leftRight?e.push("center_horizontal"):t.autoMargin.left?e.push(a):t.autoMargin.right&&e.push(r),t.autoMargin.topBottom?e.push("center_vertical"):t.autoMargin.top?e.push("bottom"):t.autoMargin.bottom&&e.push("top"),e.length)return t.mergeGravity.apply(t,[t.blockWidth?"gravity":"layout_gravity"].concat(e)),!0}return!1},n=function(t){switch(t){case"left":case"start":return r;case"right":case"end":return a;case"center":return"center_horizontal";default:return""}},r=this.localizeString("left"),a=this.localizeString("right"),i=this.cssInitial("textAlign",!0)||"";if(this.pageFlow){var o="";if(this.inlineVertical&&(t.layoutHorizontal&&!t.support.container.positionRelative||t.is(f.GRID))){var l="table-cell"===this.display?"gravity":"layout_gravity";switch(this.cssInitial("verticalAlign",!0)){case"top":this.mergeGravity(l,"top");break;case"middle":this.mergeGravity(l,"center_vertical");break;case"bottom":this.mergeGravity(l,"bottom")}}!this.blockWidth&&(t.layoutVertical||this.documentRoot&&(this.layoutVertical||this.layoutFrame))&&(this.floating?this.mergeGravity("layout_gravity","right"===this.float?a:r):e(this)),this.hasAlign(64)&&(this.hasAlign(512)||this.renderChildren.length&&this.renderChildren.every(function(t){return t.rightAligned})?o=a:this.groupParent&&!this.renderChildren.some(function(t){return"right"===t.float})&&(o=r)),t.layoutFrame&&!e(this)&&""!==(o=this.floating?this.float:o)&&(t.inlineWidth||this.singleChild&&!t.documentRoot)&&t.mergeGravity("layout_gravity",o),""!==o&&(this.blockWidth?""!==i&&o!==a||(i=o):this.mergeGravity("layout_gravity",o))}var s=this.cssParent("textAlign");""!==s&&this.localizeString(s)!==r&&(!t.layoutFrame||!this.pageFlow||this.floating||this.autoMargin.horizontal||this.blockWidth||this.mergeGravity("layout_gravity",n(s)),this.imageElement||""!==i||(i=s)),this.layoutConstraint||this.mergeGravity("gravity",n(i))}}},{key:"mergeGravity",value:function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=new Set([].concat(h(this.android(t).split("|")),r).filter(function(t){return""!==t.trim()}).map(function(t){return e.localizeString(t)})),o="";switch(i.size){case 0:break;case 1:o=i.values().next().value;default:var l="",s="",d="";["center","fill"].forEach(function(t){var e="".concat(t,"_horizontal"),n="".concat(t,"_vertical");(i.has(t)||i.has(e)&&i.has(n))&&(i.delete(e),i.delete(n),i.add(t))});var c=i.values(),u=Array.isArray(c),f=0;for(c=u?c:c[Symbol.iterator]();;){var p;if(u){if(f>=c.length)break;p=c[f++]}else{if((f=c.next()).done)break;p=f.value}var m=p;switch(m){case"left":case"start":case"right":case"end":case"center_horizontal":l=m;break;case"top":case"bottom":case"center_vertical":s=m;break;default:d+=(""!==d?"|":"")+m}}var g=[l,s].filter(function(t){return t}).join("|");o=g+(""!==d?(""!==g?"|":"")+d:"")}return""!==o?this.android(t,o):(this.delete("android",t),"")}},{key:"applyOptimizations",value:function(){if(this.renderParent)switch(this.autoSizeBoxModel(),this.alignHorizontalLayout(),this.alignVerticalLayout(),this.cssParent("visibility",!0)){case"hidden":case"collapse":this.hide(!0)}}},{key:"applyCustomizations",value:function(){for(var t=[R[0],R[this.localSettings.targetAPI]],e=0;e<t.length;e++){var n=t[e];if(n&&n.customizations)for(var r=[this.tagName,this.controlName],a=0;a<r.length;a++){var i=n.customizations[r[a]];if(i)for(var o in i)for(var l in i[o])this.attr(o,l,i[o][l],this.localSettings.customizationsOverwritePrivilege)}}}},{key:"setBoxSpacing",value:function(){var t=this,e={marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};["margin","padding"].forEach(function(n,r){["Top","Left","Right","Bottom"].forEach(function(r){var a,i=n+r;a=1===t._boxReset[i]||"marginRight"===i&&t.bounds.right>=t.documentParent.box.right&&t.inline?0:t[i],e[i]=a+=t._boxAdjustment[i]});var a,i,o,l=0===r?"layout_margin":"padding",s="".concat(n,"Top"),d="".concat(n,"Right"),c="".concat(n,"Bottom"),u="".concat(n,"Left"),h=t.localizeString("Left"),p=t.localizeString("Right"),m=t.renderParent;!t.supported("android","layout_marginHorizontal")||0===r&&m&&m.is(f.GRID)||(e[s]===e[d]&&e[d]===e[c]&&e[c]===e[u]?a=e[s]:(e[u]===e[d]&&(i=e[u]),e[s]===e[c]&&(o=e[s]))),void 0!==a?0!==a&&t.android(l,et.formatPX(a)):(void 0!==i?0!==i&&t.android("".concat(l,"Horizontal"),et.formatPX(i)):(0!==e[u]&&t.android(l+h,et.formatPX(e[u])),0!==e[d]&&t.android(l+p,et.formatPX(e[d]))),void 0!==o?0!==o&&t.android("".concat(l,"Vertical"),et.formatPX(o)):(0!==e[s]&&t.android("".concat(l,"Top"),et.formatPX(e[s])),0!==e[c]&&t.android("".concat(l,"Bottom"),et.formatPX(e[c]))))})}},{key:"autoSizeBoxModel",value:function(){if(!this.hasBit("excludeProcedure",tt.NODE_PROCEDURE.AUTOFIT)){var t=this.renderParent,e=et.convertInt(this.android("layout_width")),n=et.convertInt(this.android("layout_height"));if(this.is(f.BUTTON)&&0===n)this.has("minHeight")||this.android("layout_height",et.formatPX(this.bounds.height+("outset"===this.css("borderStyle")?et.convertInt(this.css("borderWidth")):0)));else if(this.is(f.LINE))"HR"!==this.element.tagName&&n>0&&this.toInt("height",!0)>0&&this.android("layout_height",et.formatPX(n+this.borderTopWidth+this.borderBottomWidth));else if(t){var r=!1;this.tableElement?r="content-box"===this.css("boxSizing")||Q.isUserAgent(24):this.styleElement&&!this.hasBit("excludeResource",tt.NODE_RESOURCE.BOX_SPACING)&&("border-box"===this.css("boxSizing")||t.tableElement||(e>0&&this.toInt("width",!this.imageElement)>0&&this.contentBoxWidth>0?this.android("layout_width",et.formatPX(e+this.contentBoxWidth)):this.imageElement&&this.singleChild&&(e=et.convertInt(t.android("layout_width")))>0&&t.android("layout_width",et.formatPX(e+this.marginLeft+this.contentBoxWidth)),n>0&&this.toInt("height",!this.imageElement)>0&&this.contentBoxHeight>0?this.android("layout_height",et.formatPX(n+this.contentBoxHeight)):this.imageElement&&this.singleChild&&(n=et.convertInt(t.android("layout_height")))>0&&t.android("layout_height",et.formatPX(n+this.marginTop+this.contentBoxHeight))),r=!0),r&&this.visibleStyle.borderWidth&&(this.modifyBox(256,this.borderLeftWidth),this.modifyBox(64,this.borderRightWidth),this.modifyBox(32,this.borderTopWidth),this.modifyBox(128,this.borderBottomWidth))}}}},{key:"alignHorizontalLayout",value:function(){if(this.layoutHorizontal){if(this.layoutLinear){var t,e=this.renderChildren;e.some(function(t){return t.floating})&&!e.some(function(t){return t.imageElement&&t.baseline})?this.android("baselineAligned","false"):(t=$.baseline(e.filter(function(t){return t.baseline&&!t.layoutRelative&&!t.layoutConstraint}),!0)[0])&&this.android("baselineAlignedChildIndex",""+e.indexOf(t));var n=Math.max(this.lineHeight,et.maxArray(this.renderChildren.map(function(t){return t.lineHeight})));n>0&&nt(this,n)}if(!this.hasAlign(4096)&&!this.hasAlign(512)&&!this.visibleStyle.background){var r=this.find(function(t){return"left"===t.float})||this.renderChildren[0];if(r&&r.marginLeft<0){var a=Math.abs(r.marginLeft);a===this.marginLeft?(this.modifyBox(16,null),r.modifyBox(16,null)):a<this.marginLeft?(this.modifyBox(16,r.marginLeft),r.modifyBox(16,null)):(this.modifyBox(16,null),r.modifyBox(16,this.marginLeft))}}}}},{key:"alignVerticalLayout",value:function(){var t,e,n=this,r=this.renderParent;if(r&&!r.layoutHorizontal){var a=this.lineHeight;if(a){0===this.length?this.layoutHorizontal||(this.inlineStatic&&this.visibleStyle.background?nt(this,a):(t=n.android("minHeight"),e=a+n.contentBoxHeight,et.convertInt(t)<e&&(n.android("minHeight",et.formatPX(e)),n.mergeGravity("gravity","center_vertical")))):this.layoutVertical&&this.each(function(t){return!t.layoutHorizontal&&nt(t,a)},!0)}}}},{key:"documentId",get:function(){return this.controlId?"@+id/".concat(this.controlId):""}},{key:"anchored",set:function(t){this.constraint.horizontal=t,this.constraint.vertical=t},get:function(){return this.constraint.horizontal&&this.constraint.vertical}},{key:"containerType",set:function(t){this._containerType=t},get:function(){if(0===this._containerType){var t=y[this.tagName]||0;0!==t&&(this._containerType=t)}return this._containerType||0}},{key:"layoutFrame",get:function(){return this.is(f.FRAME)}},{key:"layoutLinear",get:function(){return this.is(f.LINEAR)}},{key:"layoutRelative",get:function(){return this.is(f.RELATIVE)}},{key:"layoutConstraint",get:function(){return this.is(f.CONSTRAINT)}},{key:"support",get:function(){return{container:{positionRelative:this.layoutRelative||this.layoutConstraint}}}},{key:"inlineWidth",get:function(){return"wrap_content"===this.android("layout_width")}},{key:"inlineHeight",get:function(){return"wrap_content"===this.android("layout_height")}},{key:"blockWidth",get:function(){return"match_parent"===this.android("layout_width")}},{key:"blockHeight",get:function(){return"match_parent"===this.android("layout_height")}},{key:"singleChild",get:function(){return this.renderParent?1===this.renderParent.length:!(!this.parent||0===this.parent.id)&&1===this.parent.length}},{key:"dpi",get:function(){return this.localSettings.resolutionDPI}},{key:"fontSize",get:function(){return 0===this._fontSize&&(this._fontSize=parseInt(et.convertPX(this.css("fontSize"),this.dpi,0))||16),this._fontSize}},{key:"localSettings",set:function(t){Object.assign(this._localSettings,t)},get:function(){return this._localSettings}}],[{key:"documentBody",value:function(){if(void 0===l._documentBody){var t=new l(0,document.body);t.hide(),t.setBounds(),l._documentBody=t}return l._documentBody}},{key:"getCustomizationValue",value:function(t,e,n,r){for(var a=[R[t],R[0]],i=0;i<a.length;i++){var o=et.optionalAsString(a[i],"customizations.".concat(e,".").concat(n,".").concat(r));if(et.isString(o))return o}return""}},{key:"getControlName",value:function(t){return v[f[t]]}}]),l}()},at=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,rt(androme.lib.base.Node)),n}(),it=function(t){function n(t,r,a,i){var l;return e(this,n),(l=d(this,o(n).call(this,t,void 0,i))).tagName="".concat(r.tagName,"_GROUP"),l.documentParent=r.documentParent,l.retain(a),l}return i(n,rt(androme.lib.base.NodeGroup)),n}(),ot=androme.lib.base.NodeList,lt=androme.lib.color,st=androme.lib.dom,dt=androme.lib.enumeration,ct=androme.lib.util,ut=androme.lib.xml;function ht(t){if(t.some(function(t){return t.floating})){var e=t.slice().sort(function(t,e){if(t.floating&&!e.floating)return"left"===t.float?-1:1;if(!t.floating&&e.floating)return"left"===e.float?1:-1;if(t.floating&&e.floating){if(t.float!==e.float)return"left"===t.float?-1:1;if("right"===t.float&&"right"===e.float)return-1}return 0});if(e.map(function(t){return t.id}).join("-")!==t.map(function(t){return t.id}).join("-"))return t.length=0,t.push.apply(t,h(e)),!0}return!1}function ft(t){return t.filter(function(t){return"text-bottom"===t.verticalAlign}).sort(function(t,e){return t.bounds.height===e.bounds.height?t.is(f.SELECT)?1:-1:t.bounds.height>e.bounds.height?-1:1})[0]}function pt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.textElement&&"center"!==t.cssParent("textAlign",!0)&&!t.hasWidth&&!t.multiLine&&(e||t.textContent.trim().split(" ").length>0)&&t.android("singleLine","true")}function mt(t,e,n){return t>0?(arguments.length>3&&void 0!==arguments[3]&&arguments[3]||(t-=e["padding".concat(n)]),e.documentBody&&(t-=e["margin".concat(n)]),Math.max(t,0)):t}function gt(t,e){var n=t.cssInitial("min".concat(e)),r=t.cssInitial("max".concat(e));ct.isUnit(n)&&(t.app("layout_constraint".concat(e,"_min"),n),t.constraint.minWidth=!0),ct.isUnit(r)&&(t.app("layout_constraint".concat(e,"_max"),r),t.constraint.minHeight=!0)}function vt(t,e,n,r){if(ct.isPercent(n))if(r)t.android("layout_".concat(e.toLowerCase()),t.convertPercent(n,"Width"===e));else if("100%"!==n){var a=parseInt(n)/100+(t.actualParent?t.contentBoxWidth/t.actualParent.box.width:0);t.app("layout_constraint".concat(e,"_percent"),a.toFixed(t.localSettings.constraintPercentAccuracy||4)),t.android("layout_".concat(e.toLowerCase()),"0px")}}function yt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.has("width")?t.css("width"):"";vt(t,"Width",n,e)}function bt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.documentParent.hasHeight){var n=t.has("height")?t.css("height"):"";vt(t,"Height",n,e)}}var Et=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).localSettings={baseTemplate:_,layout:{pathName:"res/layout",fileExtension:"xml"},unsupported:{excluded:new Set(["BR"]),tagName:new Set(["OPTION","INPUT:hidden","MAP","AREA","IFRAME","svg"])},relative:{boxWidthWordWrapPercent:.9,superscriptFontScale:-4,subscriptFontScale:-4},constraint:{withinParentBottomOffset:3.5,percentAccuracy:4}},t}return i(n,androme.lib.base.Controller),r(n,[{key:"finalize",value:function(t){var e=this.userSettings;if(e.showAttributes)for(var n=function(t){if("rtl"===t.dir&&t.android(t.length?"layoutDirection":"textDirection","rtl"),t.baseElement){var e=st.getDataSet(t.baseElement,"android");for(var n in e)/^attr[A-Z]/.test(n)&&function(){var r=ct.capitalize(n.substring(4),!1);e[n].split(";").forEach(function(e){var n=u(e.split("::"),2),a=n[0],i=n[1];a&&i&&t.attr(r,a,i)})}()}var r=ct.repeat(t.renderDepth+1);return t.combine().map(function(t){return"\n".concat(r+t)}).join("")},r=t.cache.visible.map(function(t){return{pattern:ut.formatPlaceholder(t.id,"@"),attributes:n(t)}}),a=[].concat(h(t.views),h(t.includes)),i=function(){var t=a[o];r.forEach(function(e){return t.content=t.content.replace(e.pattern,e.attributes)}),t.content=t.content.replace("{#0}",function(t){var e="";for(var n in w)RegExp("\\s+".concat(n,":")).test(t)&&(e+="\n\t".concat(Z(n)));return e}(t.content))},o=0;o<a.length;o++)i();for(var l=[].concat(h(t.views),h(t.includes)),s=0;s<l.length;s++){var d=l[s];d.content=U(d.content,e.resolutionDPI,e.convertPixels),d.content=j(d.content,e.insertSpaces),d.content=this.removePlaceholders(d.content).replace(/\n\n/g,"\n")}}},{key:"processUnknownParent",value:function(t){var e,n=[t.node,t.parent],r=n[0],a=n[1],i=!1;if(r.has("columnCount"))t.columnCount=r.toInt("columnCount"),t.setType(f.CONSTRAINT,256,4);else if(t.some(function(t){return!t.pageFlow}))t.setType(f.CONSTRAINT,32,2);else if(1===t.length){var o=r.item(0);r.documentRoot&&function(t,e){if(e.baseElement&&t.dataset.target){var n=document.getElementById(t.dataset.target);return!!n&&n!==e.baseElement}return!1}(o,r)?(r.hide(),i=!0):!(this.userSettings.collapseUnattributedElements&&r.positionStatic&&r.baseElement)||ct.hasValue(r.baseElement.id)||ct.hasValue(r.dataset.use)||ct.hasValue(r.dataset.target)||r.hasWidth||r.hasHeight||r.has("maxWidth")||r.has("maxHeight")||r.visibleStyle.background||r.has("textAlign")||r.has("verticalAlign")||!(r.toInt("lineHeight")>0)||r.rightAligned||r.autoMargin.horizontal||r.groupParent||r.companion||this.hasAppendProcessing(r.id)?t.setType(f.FRAME,2048):(o.documentRoot=r.documentRoot,o.siblingIndex=r.siblingIndex,o.parent=a,r.renderAs=o,r.resetBox(510,o,!0),r.hide(),e=o)}else t.init(),r.baseElement&&st.hasLineBreak(r.baseElement,!0)?t.setType(f.LINEAR,16,2):this.checkConstraintFloat(t)?t.setType(f.CONSTRAINT,1024):t.linearX?(this.checkFrameHorizontal(t)?t.renderType=72:this.checkConstraintHorizontal(t)?t.setType(f.CONSTRAINT):this.checkRelativeHorizontal(t)?t.setType(f.RELATIVE):(t.setType(f.LINEAR),t.floated.size&&(t.renderPosition=ht(t.children))),t.add(8)):t.linearY?t.setType(f.LINEAR,16,r.documentRoot?2:0):t.every(function(t){return t.inlineFlow})?this.checkFrameHorizontal(t)?t.renderType=72:t.setType(f.RELATIVE,8,2):t.some(function(e){return e.alignedVertically(e.previousSiblings(),t.children,t.cleared)})?t.setType(f.LINEAR,16,2):t.setType(f.CONSTRAINT,2);return{layout:t,next:i,renderAs:e}}},{key:"processUnknownChild",value:function(t){var e=t.node,n=e.visibleStyle,r=!1;return e.inlineText||n.borderWidth&&e.textContent.length?t.setType(f.TEXT):n.backgroundImage&&!n.backgroundRepeat&&(!e.inlineText||e.toInt("textIndent")+e.bounds.width<0)?(t.setType(f.IMAGE,2048),e.exclude({resource:dt.NODE_RESOURCE.FONT_STYLE|dt.NODE_RESOURCE.VALUE_STRING})):e.block&&(n.borderWidth||n.backgroundImage||n.paddingVertical)?t.setType(f.LINE):e.documentRoot||(!this.userSettings.collapseUnattributedElements||0!==e.bounds.height||n.background||ct.hasValue(e.element.id)||ct.hasValue(e.dataset.use)?t.setType(n.background?f.TEXT:f.FRAME):(e.hide(),r=!0)),{layout:t,next:r}}},{key:"processTraverseHorizontal",value:function(t,e){var n=t.parent;return this.checkFrameHorizontal(t)?(t.node=this.createNodeGroup(t.node,t.children,t.parent),t.renderType|=72):void 0===e||t.length!==e.length?(t.node=this.createNodeGroup(t.node,t.children,t.parent),this.processLayoutHorizontal(t)):n.alignmentType|=8,{layout:t}}},{key:"processTraverseVertical",value:function(t,e){var n=t.parent;return!t.floated.size||!t.cleared.size||1===t.floated.size&&t.every(function(e,n){return 0===n||n===t.length-1||t.cleared.has(e)})?void 0===e||t.length!==e.length?n.layoutVertical||(t.node=this.createNodeGroup(t.node,t.children,n),t.setType(f.LINEAR,16)):n.alignmentType|=16:(t.node=this.createNodeGroup(t.node,t.children,n),t.renderType|=80),{layout:t}}},{key:"processLayoutHorizontal",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0;return this.checkConstraintFloat(t)?t.setType(f.CONSTRAINT,1024):this.checkConstraintHorizontal(t)?n=f.CONSTRAINT:this.checkRelativeHorizontal(t)?n=f.RELATIVE:(!e||t.linearX&&!t.floated.has("right"))&&(n=f.LINEAR,t.floated.size&&(t.renderPosition=ht(t.children))),0!==n&&t.setType(n,8),{layout:t}}},{key:"sortRenderPosition",value:function(t,e){if(t.layoutConstraint&&e.some(function(t){return!t.pageFlow})){for(var n=[],r=[],a=[],i=[],o=Array.isArray(s=e),l=0,s=o?s:s[Symbol.iterator]();;){var d;if(o){if(l>=s.length)break;d=s[l++]}else{if((l=s.next()).done)break;d=l.value}var c=d;c.pageFlow||c.actualParent!==t?a.push(c):c.zIndex>=0?i.push(c):r.push(c)}return n.push.apply(n,h(ct.sortAsc(r,"zIndex","id"))),n.push.apply(n,a),n.push.apply(n,h(ct.sortAsc(i,"zIndex","id"))),n}return[]}},{key:"checkFrameHorizontal",value:function(t){var e=u(t.partition(function(t){return t.floating}),2),n=e[0],r=e[1];if(2===t.floated.size||t.cleared.size||t.some(function(t){return t.pageFlow&&t.autoMargin.horizontal}))return!0;if(r.length){if(t.floated.has("right"))return!0;if(!this.userSettings.floatOverlapDisabled&&t.floated.has("left")){var a=ct.minArray(r.map(function(t){return t.siblingIndex}));return n.map(function(t){return t.siblingIndex}).some(function(t){return t<a})&&r.some(function(t){return t.blockStatic})}}return!1}},{key:"checkConstraintFloat",value:function(t){return 1===t.floated.size&&t.every(function(t){return t.floating&&t.marginLeft>=0&&t.marginRight>=0&&(!t.positionRelative||t.left>=0&&t.top>=0)})}},{key:"checkConstraintHorizontal",value:function(t){return!t.parent.hasHeight&&1!==new Set(t.map(function(t){return t.bounds.height})).size&&t.some(function(t){return"bottom"===t.verticalAlign})&&t.every(function(t){return t.inlineVertical&&(t.baseline||"bottom"===t.verticalAlign)})}},{key:"checkRelativeHorizontal",value:function(t){return 2!==t.floated.size&&t.some(function(t){return t.positionRelative||t.textElement||t.imageElement||!t.baseline})}},{key:"setConstraints",value:function(){for(var t=this,e=function(){if(r){if(a>=i.length)return"break";o=i[a++]}else{if((a=i.next()).done)return"break";o=a.value}var e=o;if(!e.hasBit("excludeProcedure",dt.NODE_PROCEDURE.CONSTRAINT)){var l=e.renderChildren.filter(function(t){return!t.positioned});if(l.length)if(e.layoutConstraint){for(var s=u(ct.partition(l,function(t){return t.pageFlow}),2),d=s[0],c=s[1],h=Math.max(c.length?ct.maxArray(e.renderChildren.map(function(t){return t.linear.bottom})):0,e.box.bottom),f=Array.isArray(m=c),p=0,m=f?m:m[Symbol.iterator]();;){var g;if(f){if(p>=m.length)break;g=m[p++]}else{if((p=m.next()).done)break;g=p.value}var v=g;if(!v.positionAuto&&(v.documentParent===v.absoluteParent||"fixed"===v.position)){if(v.hasWidth&&v.autoMargin.horizontal?v.has("left")&&v.autoMargin.right?(v.anchor("left","parent"),v.modifyBox(16,v.left)):v.has("right")&&v.autoMargin.left?(v.anchor("right","parent"),v.modifyBox(4,v.right)):(v.anchorParent(E.HORIZONTAL),v.modifyBox(16,v.left),v.modifyBox(4,v.right)):(v.has("left")&&(v.anchor("left","parent"),v.modifyBox(16,mt(v.left,e,"Left"))),!v.has("right")||v.hasWidth&&v.has("left")||(v.anchor("right","parent"),v.modifyBox(4,mt(v.right,e,"Right")))),v.hasHeight&&v.autoMargin.vertical)v.has("top")&&v.autoMargin.bottom?(v.anchor("top","parent"),v.modifyBox(2,v.top)):v.has("bottom")&&v.autoMargin.top?(v.anchor("bottom","parent"),v.modifyBox(8,v.bottom)):(v.anchorParent(E.VERTICAL),v.modifyBox(2,v.top),v.modifyBox(8,v.bottom));else{if(v.has("top")){var y=e.valueBox(32);v.anchor("top","parent"),v.modifyBox(2,mt(v.top,e,"Top",1===y[0]))}if(v.has("bottom")&&(!v.hasHeight||!v.has("top"))){var b=e.valueBox(128);v.anchor("bottom","parent"),v.modifyBox(8,mt(v.bottom,e,"Bottom",1===b[0]))}}v.positioned=!0}}if(e.layoutHorizontal)t.processConstraintHorizontal(e,d);else if(e.hasAlign(256))t.processConstraintColumn(e,d);else if(d.length>1)t.processConstraintChain(e,d,h);else for(var T=Array.isArray(x=d),w=0,x=T?x:x[Symbol.iterator]();;){var A;if(T){if(w>=x.length)break;A=x[w++]}else{if((w=x.next()).done)break;A=w.value}var S=A;S.autoMargin.leftRight||S.inlineStatic&&"center"===S.cssParent("textAlign",!0)?S.anchorParent(E.HORIZONTAL):S.rightAligned?S.anchor("right","parent"):(ct.withinFraction(S.linear.left,e.box.left)||S.linear.left<e.box.left)&&S.anchor("left","parent"),(ct.withinFraction(S.linear.top,e.box.top)||S.linear.top<e.box.top)&&S.anchor("top","parent"),t.withinParentBottom(S.linear.bottom,h)&&S.actualParent&&!S.actualParent.documentBody&&S.anchor("bottom","parent"),n.setConstraintDimension(S)}n.evaluateAnchors(d),l.forEach(function(r){r.anchored||(t.addGuideline(r,e),r.pageFlow&&n.evaluateAnchors(d)),!r.hasWidth&&r.alignParent("left")&&r.alignParent("right")&&r.android("layout_width","match_parent"),!r.hasHeight&&r.alignParent("top")&&r.alignParent("bottom")&&r.android("layout_height","match_parent")})}else e.layoutRelative&&t.processRelativeHorizontal(e,l)}},r=Array.isArray(i=this.cache.visible),a=0,i=r?i:i[Symbol.iterator]();;){var o;if("break"===e())break}}},{key:"renderNodeGroup",value:function(t){var e=[t.node,t.parent,t.containerType,t.alignmentType],n=e[0],r=e[1],a=e[2],i=e[3],o=V(),l=!1;switch(a){case f.LINEAR:ct.hasBit(i,16)?(o.android.orientation=E.VERTICAL,l=!0):ct.hasBit(i,8)&&(o.android.orientation=E.HORIZONTAL,l=!0);break;case f.GRID:o.android.rowCount=t.rowCount?""+t.rowCount:"",o.android.columnCount=t.columnCount?""+t.columnCount:"2",l=!0;break;case f.FRAME:case f.RELATIVE:case f.CONSTRAINT:l=!0}if(l){var s=ct.hasValue(n.dataset.target)&&!ct.hasValue(n.dataset.use),d=at.getControlName(a);return n.alignmentType|=i,n.setControlType(d,a),n.render(s?n:r),n.apply(o),this.getEnclosingTag(d,n.id,s?-1:n.renderDepth,ut.formatPlaceholder(n.id))}return""}},{key:"renderNode",value:function(t){var e=[t.node,t.parent],n=e[0],r=e[1];n.alignmentType|=t.alignmentType;var a=at.getControlName(t.containerType);n.setControlType(a,t.containerType);var i=ct.hasValue(n.dataset.target)&&!ct.hasValue(n.dataset.use);switch(n.element.tagName){case"IMG":if(!n.hasBit("excludeResource",dt.NODE_RESOURCE.IMAGE_SOURCE)){var o=n.element,l=n.has("width",32),s=n.has("height",32),d=n.toInt("width"),c=n.toInt("height"),u="";if(l||s)u=l&&s?"fitXY":"fitCenter";else{if(0===d){var h=/width="(\d+)"/.exec(o.outerHTML);h&&(d=parseInt(h[1]),n.css("width",ct.formatPX(h[1]),!0))}if(0===c){var p=/height="(\d+)"/.exec(o.outerHTML);p&&(c=parseInt(p[1]),n.css("height",ct.formatPX(p[1]),!0))}switch(n.css("objectFit")){case"contain":u="centerInside";break;case"cover":u="centerCrop";break;case"scale-down":u="fitCenter";break;case"none":u="matrix";break;default:u="fitXY"}}n.android("scaleType",u),(d>0&&0===c||0===d&&c>0)&&n.android("adjustViewBounds","true"),n.baseline&&n.android("baselineAlignBottom","true");var m=X.addImageSrcSet(o);if(""!==m&&n.android("src","@drawable/".concat(m)),!n.pageFlow&&n.left<0||n.top<0){var g=n.absoluteParent;if(g&&"hidden"===g.css("overflow")){var y=new at(this.cache.nextId,st.createElement(n.actualParent?n.actualParent.baseElement:null),this.afterInsertNode);return y.setControlType(v.FRAME,f.FRAME),y.inherit(n,"base"),y.exclude({procedure:dt.NODE_PROCEDURE.ALL,resource:dt.NODE_RESOURCE.ALL}),y.css({position:n.position,zIndex:n.zIndex}),r.appendTry(n,y),this.cache.append(y),y.android("layout_width",d>0?d<r.box.width?ct.formatPX(d):"match_parent":"wrap_content"),y.android("layout_height",c>0?c<r.box.height?ct.formatPX(c):"match_parent":"wrap_content"),y.render(i?y:r),y.companion=n,y.saveAsInitial(),n.modifyBox(2,n.top),n.modifyBox(16,n.left),n.render(y),this.getEnclosingTag(v.FRAME,y.id,i?-1:y.renderDepth,this.getEnclosingTag(a,n.id,i?0:n.renderDepth))}}}break;case"TEXTAREA":var b=n.element;n.android("minLines","2"),b.rows>2&&n.android("lines",""+b.rows),b.maxLength>0&&n.android("maxLength",""+b.maxLength),!n.hasWidth&&b.cols>0&&n.css("width",ct.formatPX(8*b.cols),!0),n.android("hint",b.placeholder),n.android("scrollbars",E.VERTICAL),n.android("inputType","textMultiLine"),n.overflowX&&n.android("scrollHorizontally","true"),n.cssInitial("verticalAlign")||n.css("verticalAlign","text-bottom",!0);break;case"SELECT":n.element.size>1&&!n.cssInitial("verticalAlign")&&n.css("verticalAlign","text-bottom",!0);break;case"INPUT":var T=n.element;switch(T.type){case"password":n.android("inputType","textPassword");break;case"text":n.android("inputType","text");break;case"range":ct.hasValue(T.min)&&n.android("min",T.min),ct.hasValue(T.max)&&n.android("max",T.max),ct.hasValue(T.value)&&n.android("progress",T.value);break;case"image":if(!n.hasBit("excludeResource",dt.NODE_RESOURCE.IMAGE_SOURCE)){var w=X.addImage({mdpi:T.src});""!==w&&n.android("src","@drawable/".concat(w),!1)}}switch(T.type){case"text":case"search":case"tel":case"url":case"email":case"password":!n.hasWidth&&T.size>0&&n.css("width",ct.formatPX(8*T.size),!0)}}if(n.inlineVertical)switch(n.verticalAlign){case"sub":n.modifyBox(8,Math.ceil(n.fontSize/this.localSettings.relative.subscriptFontScale));break;case"super":n.modifyBox(2,Math.ceil(n.fontSize/this.localSettings.relative.superscriptFontScale))}switch(n.controlName){case v.TEXT:var x=[];n.overflowX&&x.push(E.HORIZONTAL),n.overflowY&&x.push(E.VERTICAL),x.length&&n.android("scrollbars",x.join("|")),"nowrap"===n.css("whiteSpace")&&n.android("singleLine","true");var A=n.css("textShadow");"none"!==A&&[/^(rgba?\(\d+, \d+, \d+(?:, [\d.]+)?\)) ([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+)$/,/^([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+) (.+)$/].some(function(t,e){var r=A.match(t);if(r){var a=lt.parseRGBA(r[0===e?1:4]);if(a){var i=X.addColor(a);""!==i&&n.android("shadowColor","@color/".concat(i))}return n.android("shadowDx",""+ct.convertInt(r[0===e?2:1])),n.android("shadowDy",""+ct.convertInt(r[0===e?3:2])),n.android("shadowRadius",""+ct.convertInt(r[0===e?4:3])),!0}return!1});break;case v.BUTTON:n.cssInitial("verticalAlign")||n.css("verticalAlign","text-bottom",!0);break;case v.LINE:n.hasHeight||n.android("layout_height",ct.formatPX(n.contentBoxHeight||1))}if(n.textElement||n.imageElement||n.svgElement){if(n.has("maxWidth")){var S=n.convertPX(n.css("maxWidth"));n.android("maxWidth",S)}if(n.has("maxHeight")){var R=n.convertPX(n.css("maxHeight"),!1);n.android("maxHeight",R)}}return n.render(i?n:r),this.getEnclosingTag(a,n.id,i?-1:n.renderDepth)}},{key:"renderNodeStatic",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,l=Math.max(0,e);void 0===i?i=new at(0,void 0,this.afterInsertNode):(i.renderDepth=l,i.rendered=!0),i.apply(n),i.android("layout_width",r,!1),i.android("layout_height",a,!1),0!==i.containerType&&""!==i.controlName||i.setControlType(t);var s=this.getEnclosingTag(t,i.id,i.documentRoot||0!==e?e:-1,o?ut.formatPlaceholder(i.id):"");if(this.userSettings.showAttributes&&0===i.id){var d=ct.repeat(l+1),c=i.combine().map(function(t){return"\n".concat(d+t)}).join("");s=s.replace(ut.formatPlaceholder(i.id,"@"),c)}return n.documentId=i.documentId,s}},{key:"renderSpace",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0;i=V(i);return ct.isPercent(e)&&(i.android.layout_columnWeight=(parseInt(e)/100).toFixed(2),e="0px"),ct.isPercent(n)&&(i.android.layout_rowWeight=(parseInt(n)/100).toFixed(2),n="0px"),r>0&&(i.android.layout_columnSpan=""+r),a>0&&(i.android.layout_rowSpan=""+a),this.renderNodeStatic(v.SPACE,t,i,e,ct.hasValue(n)?n:"wrap_content")}},{key:"addGuideline",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];"true"===t.dataset.constraintPercent&&(i=!0),"true"===t.dataset.constraintOpposite&&(o=!0);var l=e.groupParent?e:t.documentParent;[E.HORIZONTAL,E.VERTICAL].forEach(function(s,d){if(!t.constraint[s]&&(""===r||s===r)){var c,u,h,f,p=0===d;if(p?(c=o?"right":"left",u=o?"left":"right",h=o?"rightLeft":"leftRight",f=o?"leftRight":"rightLeft"):(c=o?"bottom":"top",u=o?"top":"bottom",h=o?"bottomTop":"topBottom",f=o?"topBottom":"bottomTop"),ct.withinFraction(t.linear[c],l.box[c]))return void t.anchor(c,"parent",!0);var m,g=t.positionStatic?"bounds":"linear",y="layout_constraintGuide_",b=!1;if(!t.pageFlow&&ct.isPercent(t.css(c)))m=parseInt(t.css(c))/100,b=!0,y+="percent";else{if(!i&&!e.hasAlign(4))if(e.renderChildren.some(function(e){if(e!==t&&e.constraint[s]){var n=t.pageFlow&&e.pageFlow,r=!1;if(n&&(ct.withinFraction(t.linear[c],e.linear[u])?(t.anchor(h,e.documentId,!0),r=!0):ct.withinFraction(t.linear[u],e.linear[c])&&(t.anchor(f,e.documentId,!0),r=!0)),(n||!t.pageFlow&&!e.pageFlow)&&(ct.withinFraction(t.bounds[c],e.bounds[c])?(t.anchor(!p&&t.textElement&&t.baseline&&e.textElement&&e.baseline?"baseline":c,e.documentId,!0),r=!0):ct.withinFraction(t.bounds[u],e.bounds[u])&&(t.anchor(u,e.documentId,!0),r=!0)),r)return e.constraint[s]=!0,!0}return!1}))return;if(t.positionAuto){var T=t.previousSiblings();if(T.length&&!t.alignedVertically(T)){var w=T[T.length-1];if(w.renderParent===t.renderParent)return t.anchor(p?"rightLeft":"top",w.documentId,!0),void(t.constraint[s]=w.constraint[s])}}if(i)m=parseFloat(Math.abs(Math.abs(t[g][c]-l.box[c])/l.box[p?"width":"height"]-(o?1:0)).toFixed(n.localSettings.constraint.percentAccuracy)),b=!0,y+="percent";else m=t[g][c]-l.box[o?u:c],y+="begin"}var x=e.constraint.guideline||{};if(t.pageFlow){if(t.inlineVertical){var A=ct.convertInt(t.verticalAlign);A<0&&(m+=A)}}else if(t.absoluteParent===t.documentParent)if(p)m=mt(m,l,"Left");else{var S=l.valueBox(32);m=mt(m,l,"Top",1===S[0])}if(m<=0)t.anchor(c,"parent",!0);else if(p&&l.hasWidth&&!t.has("right")&&m+t[g].width>=l.box.right||!p&&l.hasHeight&&!t.has("bottom")&&m+t[g].height>=l.box.bottom)t.anchor(u,"parent",!0);else{var R=ct.optionalAsObject(x,"".concat(s,".").concat(y,".").concat(c)),k=!1;if(R)for(var I in R)if(parseInt(R[I])===m){t.anchor(c,I,!0),t.anchorDelete(u),k=!0;break}if(!k){var _=V({android:{orientation:0===d?E.VERTICAL:E.HORIZONTAL},app:a({},y,b?""+m:ct.formatPX(m))});n.appendAfter(t.id,n.renderNodeStatic(v.GUIDELINE,t.renderDepth,_,"wrap_content","wrap_content"));var C=_.documentId;t.anchor(c,C,!0),t.anchorDelete(u),ct.defaultWhenNull(x,s,y,c,C,""+m),e.constraint.guideline=x,t.constraint[p?"guidelineHorizontal":"guidelineVertical"]=C}}t.constraint[s]=!0}})}},{key:"createNodeGroup",value:function(t,e,n,r){var a=new it(this.cache.nextId,t,e,this.afterInsertNode);return a.siblingIndex=t.siblingIndex,n&&(n.appendTry(r||t,a),a.init()),this.cache.append(a),a}},{key:"createNodeWrapper",value:function(t,e,n,r){var a=new at(this.application.nextId,st.createElement(t.actualParent?t.actualParent.baseElement:null,t.block),this.application.controllerHandler.afterInsertNode);return t.documentRoot&&(a.documentRoot=!0,t.documentRoot=!1),a.inherit(t,"base","alignment"),n&&a.setControlType(n,r),a.exclude({section:dt.APP_SECTION.ALL,procedure:dt.NODE_PROCEDURE.CUSTOMIZATION,resource:dt.NODE_RESOURCE.ALL}),a.siblingIndex=t.siblingIndex,e&&(e.appendTry(t,a),t.siblingIndex=0,-1!==t.renderPosition&&(a.renderPositionId=t.renderPositionId,t.renderPosition=-1),t.parent=a),a.saveAsInitial(),this.application.processing.cache.append(a,!e),t.unsetCache(),a}},{key:"processRelativeHorizontal",value:function(t,e){var n,r,a=ot.cleared(e),i=Math.ceil(function(){var n=t.renderParent;if(n)if(n.overflowX){if(t.has("width",2))return t.toInt("width",!0);if(n.has("width",2))return n.toInt("width",!0);if(n.has("width",32))return n.bounds.width-n.contentBoxWidth}else{var r=n.children.filter(function(e){return"left"===e.float&&e.siblingIndex<t.siblingIndex}).map(function(t){return t.linear.right});if(r.length){var a=ct.maxArray(r);if(e.some(function(t){return t.linear.left===a}))return t.box.right-a}}return t.box.width}()),o=i*this.localSettings.relative.boxWidthWordWrapPercent,l="nowrap"!==t.css("whiteSpace"),s=st.isUserAgent(24),d=[],c=new Set,h=!1,f=0,p=u(ct.partition(e,function(t){return"right"===t.float}),2),m=p[0],g=p[1];ht(g),[g,m].forEach(function(e,u){for(var h=0===u?"left":"right",p=function(p){var m=e[p],g=e[p-1],v=m.bounds;if(m.inlineText&&!m.hasWidth){var y=st.getRangeClientRect(m.element);(y.multiLine||y.width<m.box.width)&&(v=y,0===m.multiLine&&(m.multiLine=y.multiLine),s&&y.multiLine&&!/^\s*\n+/.test(m.textContent)&&c.add(m))}var b=0===u?"leftRight":"rightLeft",E=[];if(0===p)m.anchor(h,"true"),d.push([m]);else{var T=function(){return!m.rightAligned&&Math.floor(w)-(m.styleElement&&m.inlineStatic?m.paddingLeft+m.paddingRight:0)>i},w=(n&&d.length>1?n.linear.width:0)+f+m.marginLeft+("left"!==g.float||a.has(m)?v.width:0)-(s?m.borderRightWidth:0);(function(t,e){if("left"===e.float){if(e.marginRight<0)return t.modifyBox(16,e.bounds.width+(e.hasWidth?e.paddingLeft+e.borderLeftWidth:0)-Math.abs(e.marginRight)),t.anchor("left",e.documentId),e.modifyBox(4,null),!0}else if("right"===t.float&&"right"===e.float&&e.marginLeft<0){var n=Math.abs(e.marginLeft);return n<e.bounds.width&&t.modifyBox(4,e.bounds.width-n),t.anchor("right",e.documentId),e.modifyBox(16,null),!0}return!1})(m,g)&&(b="");var x=m.groupParent&&!m.hasAlign(128);E=!x&&g.inlineVertical&&m.inlineVertical?st.getElementsBetween(g.element,m.element,!0):[];var A=function(){if(m.textElement){var t=!1;if(g.textElement&&(1===p&&m.plainText&&!g.rightAligned&&(t=0===E.length&&!/\s+$/.test(g.textContent)&&!/^\s+/.test(m.textContent)),l&&!t&&(c.has(g)||g.multiLine&&st.hasLineBreak(g.element,!1,!0))))return!0;if(l&&!t&&(T()||m.multiLine&&st.hasLineBreak(m.element)||m.preserveWhiteSpace&&/^\n+/.test(m.textContent)))return!0}return!1}(),S=d[d.length-1],R=m.previousSiblings();if(A||x||!m.textElement&&T()||m.linear.top>=g.linear.bottom&&(m.blockStatic||m.floating&&g.float===m.float)||!m.floating&&(g.blockStatic||R.length&&R.some(function(t){return t.lineBreak||t.excluded&&t.blockStatic})||E.some(function(t){return st.isLineBreak(t)}))||a.has(m)){r=S.filter(function(t){return!t.floating})[0]||S[0];for(var k=0;k<S.length;k++)S[k]!==r&&S[k].linear.bottom>r.linear.bottom&&(!S[k].floating||S[k].floating&&r.floating)&&(r=S[k]);m.anchor("topBottom",r.documentId),n&&m.linear.bottom<=n.bounds.bottom?m.anchor(b,n.documentId):(m.anchor(h,"true"),n=void 0),A&&m.multiLine&&pt(g,l),f=Math.min(0,A&&!g.multiLine&&m.multiLine&&!a.has(m)?m.linear.right-t.box.right:0),d.push([m])}else""!==b&&m.anchor(b,g.documentId),r&&m.anchor("topBottom",r.documentId),S.push(m)}"left"===m.float&&(n=m);var I=0;if(E.length&&!E.some(function(t){return!!st.getElementAsNode(t)||st.isLineBreak(t)})){var _=st.getRangeClientRect(E[0]),C=E.length>1?st.getRangeClientRect(E[E.length-1]):null;_.multiLine||null!==C&&C.multiLine||(I=C?_.left-C.right:_.width)}Math.ceil(f+=I+m.marginLeft+v.width+m.marginRight)>=o&&!m.alignParent(h)&&pt(m,l)},m=0;m<e.length;m++)p(m)}),d.length>1&&(t.alignmentType|=4096,h=!0);for(var v=function(e){var n=d[e],r=ot.baseline(n),a=r[0],i=ot.baseline(n,!0)[0],o=ft(n);a&&o&&o.bounds.height>a.bounds.height?a.anchor("bottom",o.documentId):o=void 0;for(var l=[],s=0===e?"true":a?a.documentId:"",c=function(e){if(!h){if(r.includes(e)||e.actualParent&&e.actualHeight>=e.actualParent.box.height)return!0;t.hasHeight||t.css("height",ct.formatPX(t.bounds.height),!0)}return!1},u=Array.isArray(p=n),f=0,p=u?p:p[Symbol.iterator]();;){var m;if(u){if(f>=p.length)break;m=p[f++]}else{if((f=p.next()).done)break;m=f.value}var g=m;if(g!==a)if(g.baseline)l.push(g);else if(g.inlineVertical)switch(g.verticalAlign){case"text-top":i&&g.anchor("top",i.documentId);break;case"super":case"top":s&&g.anchor("top",s);break;case"middle":if(h){if(a){var v=Math.max(g.bounds.height,g.lineHeight),y=Math.max(a.bounds.height,a.lineHeight);v<y&&(g.anchor("top",a.documentId),g.modifyBox(2,Math.round((y-v)/2)))}}else g.anchor("centerVertical","true");break;case"text-bottom":i&&g!==o&&g.anchor("bottom",i.documentId);break;case"sub":case"bottom":c(g)&&(s=""),s&&g.anchor("bottom",s);break;default:"0px"!==g.verticalAlign&&l.push(g)}}if(a&&l.length&&(function(t,e){for(var n=Array.isArray(a=e),r=0,a=n?a:a[Symbol.iterator]();;){var i;if(n){if(r>=a.length)break;i=a[r++]}else{if((r=a.next()).done)break;i=r.value}var o=i;o!==t&&(o.imageElement&&o.actualHeight>t.actualHeight?o.renderParent&&ct.withinFraction(o.linear.top,o.renderParent.box.top)&&o.anchor("top","true"):(o.baseElement&&0===o.length||o.layoutHorizontal&&o.renderChildren.every(function(t){return t.baseline}))&&o.anchor("baseline",t.documentId))}}(a,l),a.baselineActive=!0,t.lineHeight||a.lineHeight)){var b=0;(b=a.lineHeight?a.lineHeight-a.bounds.height:t.lineHeight-(a.bounds.height-(a.paddingTop+a.paddingBottom)))>0&&(a.modifyBox(2,Math.floor(b/2)),a.modifyBox(8,Math.ceil(b/2)))}},y=0;y<d.length;y++)v(y)}},{key:"processConstraintHorizontal",value:function(t,e){var n=ot.baseline(e)[0],r=ot.baseline(e,!0)[0],a=ft(e),i=t.hasAlign(512);n&&(n.baselineActive=!0,a&&n.bounds.height<a.bounds.height?n.anchor("bottom",a.documentId):a=void 0);for(var o=0;o<e.length;o++){var l=e[o],s=e[o-1];if(0===o?l.anchor(i?"right":"left","parent"):s&&l.anchor(i?"rightLeft":"leftRight",s.documentId),l.inlineVertical)switch(l.verticalAlign){case"text-top":r&&l!==r&&l.anchor("top",r.documentId);break;case"super":case"top":l.anchor("top","parent");break;case"middle":l.anchorParent(E.VERTICAL);break;case"text-bottom":r&&l!==r&&l!==a&&l.anchor("bottom",r.documentId);break;case"sub":case"bottom":l.anchor("bottom","parent");break;case"baseline":n&&l!==n&&l.anchor("baseline",n.documentId)}}}},{key:"processConstraintColumn",value:function(t,e){for(var r=t.toInt("columnCount"),a=Math.ceil(e.length/Math.min(r,e.length)),i=[],o=0,l=0;o<e.length;o++){var s=e[o];o%a==0&&(o>0&&l++,void 0===i[l]&&(i[l]=[])),i[l].push(s)}for(var d=ct.convertInt(t.css("columnGap"))||16,c=i.map(function(t){return ct.maxArray(t.map(function(t){return t.marginLeft+t.marginRight}))}).reduce(function(t,e){return t+e},0),u=Math.max((c+d*(r-1))/t.box.width/r,.01),h=[],f=[],p=[],m=0;m<i.length;m++){var g=i[m],v=g[0];m>0&&v.android(v.localizeString(b.MARGIN_LEFT),ct.formatPX(v.marginLeft+d)),p.push(v),g.forEach(function(t){var e=0;(e=t.has("width",32)?t.toInt("width")/100:1/r-u)>0&&(t.android("layout_width","0px"),t.app("layout_constraintWidth_percent",e.toFixed(2)))}),f.push(g)}h.push(p),[h,f].forEach(function(t,e){var r=0===e;t.forEach(function(t){var e=t[0],a=t[t.length-1];e.anchor(r?"left":"top","parent"),a.anchor(r?"right":"bottom","parent");for(var i=0;i<t.length;i++){var o=t[i],l=t[i-1],s=t[i+1];r?o.app("layout_constraintVertical_bias","0"):i>0&&o.anchor("left",e.documentId),s&&o.anchor(r?"rightLeft":"bottomTop",s.documentId),l&&o.anchor(r?"leftRight":"topBottom",l.documentId),n.setConstraintDimension(o),o.anchored=!0}r?e.app("layout_constraintHorizontal_chainStyle","spread_inside"):e.app("layout_constraintVertical_chainStyle","packed")})})}},{key:"processConstraintChain",value:function(t,e,r){var a=ot.partitionRows(e),i=ot.actualParent(e)||t,o=t.hasAlign(64),l=a.length>1&&t.hasAlign(1024)?ot.clearedAll(i):new Map,s=!1;a.length>1&&(t.alignmentType|=4096),o&&(s=t.hasAlign(512),e.some(function(t){return t.has("width",32)})&&t.android("layout_width","match_parent"));for(var d=Array.isArray(u=e),c=0,u=d?u:u[Symbol.iterator]();;){var f;if(d){if(c>=u.length)break;f=u[c++]}else{if((c=u.next()).done)break;f=c.value}var p=f;o||(p.rightAligned?(ct.withinFraction(p.linear.right,i.box.right)||p.linear.right>i.box.right)&&p.anchor("right","parent"):(ct.withinFraction(p.linear.left,i.box.left)||p.linear.left<i.box.left)&&p.anchor("left","parent")),(ct.withinFraction(p.linear.top,t.box.top)||p.linear.top<t.box.top||p.floating&&1===a.length)&&p.anchor("top","parent"),!this.withinParentBottom(p.linear.bottom,r)||i.documentBody||!i.hasHeight&&p.alignParent("top")||p.anchor("bottom","parent")}var m,g,v,y,b=[];s?(m="right",g="left",v="rightLeft",y="leftRight"):(m="left",g="right",v="leftRight",y="rightLeft"),a.forEach(function(t,e){var r,d=t[0],c=t[t.length-1];if(d.anchor(m,"parent"),"center"===i.css("textAlign")?d.app("layout_constraintHorizontal_chainStyle","spread"):t.length>1&&(s?(c.app("layout_constraintHorizontal_chainStyle","packed"),c.app("layout_constraintHorizontal_bias","1")):(d.app("layout_constraintHorizontal_chainStyle","packed"),d.app("layout_constraintHorizontal_bias","0"))),t.length>1&&c.anchor(g,"parent"),e>0){var u=a[e-1];r=u[0];for(var f=1;f<u.length;f++)u[f].linear.bottom>r.linear.bottom&&(r=u[f])}for(var p=0;p<t.length;p++){var T=t[p],w=t[p-1],x=t[p+1];if(T.autoMargin.leftRight?T.anchorParent(E.HORIZONTAL):(w&&T.anchor(v,w.documentId),x&&T.anchor(y,x.documentId)),n.setConstraintDimension(T),e>0){var A=a[e-1],S=A[A.length-1],R=s?c:d,k=[];if(S?(k.push(S),T.baseElement&&k.push.apply(k,h(ct.flatMap(st.getElementsBetween(S.baseElement,T.baseElement),function(t){return st.getElementAsNode(t)})))):k.push(R),!o||0!==l.size&&k.some(function(t){return l.has(t)}))r&&(p>0?(T.anchor("top",d.documentId),T.modifyBox(2,-1*d.marginTop)):(T.anchor("topBottom",r.documentId),r.anchor("bottomTop",T.documentId)));else if(A.length){T.anchor("topBottom",S.documentId),S.alignSibling("bottomTop")||S.anchor("bottomTop",T.documentId);for(var I=b.length-2;I>=0;I--){var _=b[I];if(_.linear.bottom>S.linear.bottom)if((s?Math.ceil(_.linear[g])-Math.floor(i.box[g]):Math.ceil(i.box[g])-Math.floor(_.linear[g]))>=T.linear.width){T.anchor(v,_.documentId),T.anchorDelete(y),T===d?(T.anchorDelete(m),T.delete("app","layout_constraintHorizontal_chainStyle","layout_constraintHorizontal_bias")):T===c&&T.anchorDelete(g);break}}}}b.push(T)}}),n.evaluateAnchors(e)}},{key:"withinParentBottom",value:function(t,e){return ct.withinRange(t,e,this.localSettings.constraint.withinParentBottomOffset)}},{key:"userSettings",get:function(){return this.application.userSettings}},{key:"containerTypeHorizontal",get:function(){return{containerType:f.LINEAR,alignmentType:8,renderType:0}}},{key:"containerTypeVertical",get:function(){return{containerType:f.LINEAR,alignmentType:16,renderType:0}}},{key:"containerTypeVerticalMargin",get:function(){return{containerType:f.FRAME,alignmentType:256,renderType:0}}},{key:"afterInsertNode",get:function(){var t=this,e=this.userSettings;return function(n){n.localSettings={targetAPI:void 0!==e.targetAPI?e.targetAPI:28,resolutionDPI:void 0!==e.resolutionDPI?e.resolutionDPI:160,supportRTL:void 0===e.supportRTL||e.supportRTL,constraintPercentAccuracy:t.localSettings.constraint.percentAccuracy,customizationsOverwritePrivilege:void 0===e.customizationsOverwritePrivilege||e.customizationsOverwritePrivilege}}}}],[{key:"evaluateAnchors",value:function(t){for(var e=t.filter(function(t){return t.constraint.horizontal}),n=t.filter(function(t){return t.constraint.vertical}),r=-1;++r<t.length;){var a=t[r];if(!a.constraint.horizontal){var i=function(t){var n=a.constraint.current[t];if(n.horizontal&&e.find(function(t){return t.documentId===n.documentId}))return a.constraint.horizontal=!0,e.push(a),r=-1,"break"};for(var o in a.constraint.current){if("break"===i(o))break}}if(!a.constraint.vertical){var l=function(t){var e=a.constraint.current[t];if(!e.horizontal&&n.find(function(t){return t.documentId===e.documentId}))return a.constraint.vertical=!0,n.push(a),r=-1,"break"};for(var o in a.constraint.current){if("break"===l(o))break}}}}},{key:"setConstraintDimension",value:function(t){yt(t),bt(t),gt(t,"Width"),gt(t,"Height")}},{key:"setFlexDimension",value:function(t,e){var n=e?"width":"height",r=e?"height":"width",a=t.flexbox.basis;if("auto"!==a&&(ct.isPercent(a)?"0%"!==a&&(t.app("layout_constraint".concat(e?"Width":"Height","_percent"),(parseInt(a)/100).toFixed(2)),a=""):ct.isUnit(a)&&(t.android("layout_".concat(n),t.convertPX(a)),a="")),""!==a){var i=t.has(n)?t.css(n):"";t.flexbox.grow>0?(t.android("layout_".concat(n),"0px"),t.app("layout_constraint".concat(e?"Horizontal":"Vertical","_weight"),""+t.flexbox.grow)):ct.isUnit(i)?t.android("layout_".concat(n),i):t.flexbox.shrink>1?t.android("layout_".concat(n),"wrap_content"):e?yt(t):bt(t),t.flexbox.shrink<1&&t.app("layout_constrained".concat(e?"Width":"Height"),"true")}var o=t.has(r)?t.css(r):"";ct.isUnit(o)?t.android("layout_".concat(r),o):e?bt(t,!0):yt(t,!0),gt(t,"Width"),gt(t,"Height")}}]),n}(),Tt=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.base.ExtensionManager),n}(),wt=androme.lib.util,xt=androme.lib.xml;function At(t){for(var e,n=[],r=/<!-- image: (.+) -->\n<!-- filename: (.+)\/(.*?\.\w+) -->/g;null!==(e=r.exec(t));)n.push({uri:e[1],pathname:e[2],filename:e[3],content:""});return n}function St(t){for(var e,n=[],r=/<\?xml[\w\W]*?(<!-- filename: (.+)\/(.*?\.xml) -->)/g;null!==(e=r.exec(t));)n.push({content:e[0].replace(e[1],"").trim(),pathname:e[2],filename:e[3]});return n}function Rt(t,e,n){return{pathname:t,filename:e,content:n}}function kt(t,e){return(""+t).toLowerCase()>=(""+e).toLowerCase()?1:-1}var It=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.base.File),r(n,[{key:"saveAllToDisk",value:function(t){for(var e=[],n=[].concat(h(t.views),h(t.includes)),r=0;r<n.length;r++){var a=n[r];e.push(Rt(a.pathname,0===r?this.userSettings.outputMainFileName:"".concat(a.filename,".xml"),a.content))}var i=this.resourceDrawableToXml();e.push.apply(e,h(St(this.resourceStringToXml()))),e.push.apply(e,h(St(this.resourceStringArrayToXml()))),e.push.apply(e,h(St(this.resourceFontToXml()))),e.push.apply(e,h(St(this.resourceColorToXml()))),e.push.apply(e,h(St(this.resourceStyleToXml()))),e.push.apply(e,h(St(this.resourceDimenToXml()))),e.push.apply(e,h(At(i)).concat(h(St(i)))),this.saveToDisk(e)}},{key:"layoutAllToXml",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=[],a=[].concat(h(t.views),h(t.includes)),i=0;i<a.length;i++){var o=a[i];n[o.filename]=o.content,e&&r.push(Rt(o.pathname,0===i?this.userSettings.outputMainFileName:"".concat(o.filename,".xml"),o.content))}return e&&this.saveToDisk(r),n}},{key:"resourceAllToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml()};for(var n in e)""===e[n]&&delete e[n];if(t){var r=[];for(var a in e)"drawable"===a&&r.push.apply(r,h(At(e[a]))),r.push.apply(r,h(St(e[a])));this.saveToDisk(r)}return e}},{key:"resourceStringToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={1:[]};this.stored.strings=new Map(h(this.stored.strings.entries()).sort(kt)),""===this.appName||this.stored.strings.has("app_name")||e[1].push({name:"app_name",value:this.appName});var n=this.stored.strings.entries(),r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(a>=n.length)break;i=n[a++]}else{if((a=n.next()).done)break;i=a.value}var o=u(i,2);e[1].push({name:o[0],value:o[1]})}var l=xt.createTemplate(xt.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<string name="{&name}">{~value}</string>\n!1\n</resources>\n\x3c!-- filename: res/values/strings.xml --\x3e'),e);return l=j(l,this.userSettings.insertSpaces,!0),t&&this.saveToDisk(St(l)),l}},{key:"resourceStringArrayToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.arrays.size){var n={1:[]};this.stored.arrays=new Map(h(this.stored.arrays.entries()).sort());var r=this.stored.arrays.entries(),a=Array.isArray(r),i=0;for(r=a?r:r[Symbol.iterator]();;){var o;if(a){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var l=u(o,2);n[1].push({name:l[0],items:l[1].map(function(t){return{value:t}})})}e=j(e=xt.createTemplate(xt.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<string-array name="{&name}">\n!items\n\t\t<item>{&value}</item>\n!items\n\t</string-array>\n!1\n</resources>\n\x3c!-- filename: res/values/string_arrays.xml --\x3e'),n),this.userSettings.insertSpaces,!0),t&&this.saveToDisk(St(e))}return e}},{key:"resourceFontToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.fonts.size){var n=this.userSettings;this.stored.fonts=new Map(h(this.stored.fonts.entries()).sort());var r=n.targetAPI<26?"app":"android",a=this.stored.fonts.entries(),i=Array.isArray(a),o=0;for(a=i?a:a[Symbol.iterator]();;){var l;if(i){if(o>=a.length)break;l=a[o++]}else{if((o=a.next()).done)break;l=o.value}var s=u(l,2),d=s[0],c=s[1],f={name:d,namespace:Z(r),1:[]};for(var p in c){var m=u(p.split("-"),2),g=m[0],v=m[1];f[1].push({style:g,weight:v,font:"@font/".concat(d+("normal"===g&&"normal"===v?"_".concat(g):("normal"!==g?"_".concat(g):"")+("normal"!==v?"_".concat(v):"")))})}e+="\n\n"+xt.createTemplate(xt.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<font-family {&namespace}>\n!1\n\t<font android:fontStyle="{&style}" android:fontWeight="{&weight}" android:font="{&font}" />\n!1\n</font-family>\n\x3c!-- filename: res/font/{&name}.xml --\x3e'),f)}n.targetAPI<26&&(e=e.replace(/android/g,"app")),e=j(e,n.insertSpaces),t&&this.saveToDisk(St(e))}return e.trim()}},{key:"resourceColorToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.colors.size){var n={1:[]};this.stored.colors=new Map(h(this.stored.colors.entries()).sort());var r=this.stored.colors.entries(),a=Array.isArray(r),i=0;for(r=a?r:r[Symbol.iterator]();;){var o;if(a){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var l=u(o,2);n[1].push({name:l[0],value:l[1]})}e=j(e=xt.createTemplate(xt.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<color name="{&value}">{&name}</color>\n!1\n</resources>\n\x3c!-- filename: res/values/colors.xml --\x3e'),n),this.userSettings.insertSpaces),t&&this.saveToDisk(St(e))}return e}},{key:"resourceStyleToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.styles.size){for(var n=this.userSettings,r={1:[]},a=Array.from(this.stored.styles.values()).sort(function(t,e){return(""+t.name).toLowerCase()>=(""+e.name).toLowerCase()?1:-1}),i=function(){if(o){if(l>=s.length)return"break";d=s[l++]}else{if((l=s.next()).done)return"break";d=l.value}var t=d,e=[];t.attrs.split(";").sort().forEach(function(t){var n=u(t.split("="),2);e.push({name:n[0],value:n[1].replace(/"/g,"")})}),r[1].push({name:t.name,parent:t.parent||"",items:e})},o=Array.isArray(s=a),l=0,s=o?s:s[Symbol.iterator]();;){var d;if("break"===i())break}e=j(e=U((e=xt.createTemplate(xt.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<style name="{&name}" parent="{~parent}">\n!items\n\t\t<item name="{&name}">{&value}</item>\n!items\n\t</style>\n!1\n</resources>\n\x3c!-- filename: res/values/styles.xml --\x3e'),r)).trim(),n.resolutionDPI,n.convertPixels,!0),n.insertSpaces),t&&this.saveToDisk(St(e))}return e}},{key:"resourceDimenToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.dimens.size){var n=this.userSettings,r={1:[]};this.stored.dimens=new Map(h(this.stored.dimens.entries()).sort());var a=this.stored.dimens.entries(),i=Array.isArray(a),o=0;for(a=i?a:a[Symbol.iterator]();;){var l;if(i){if(o>=a.length)break;l=a[o++]}else{if((o=a.next()).done)break;l=o.value}var s=u(l,2);r[1].push({name:s[0],value:s[1]})}e=j(e=U((e=xt.createTemplate(xt.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<dimen name="{&name}">{&value}</dimen>\n!1\n</resources>\n\x3c!-- filename: res/values/dimens.xml --\x3e'),r)).trim(),n.resolutionDPI,n.convertPixels),n.insertSpaces),t&&this.saveToDisk(St(e))}return e}},{key:"resourceDrawableToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.drawables.size||this.stored.images.size){var n=this.userSettings,r=xt.parseTemplate("{&value}\n\x3c!-- filename: {&name} --\x3e"),a=this.stored.drawables.entries(),i=Array.isArray(a),o=0;for(a=i?a:a[Symbol.iterator]();;){var l;if(i){if(o>=a.length)break;l=a[o++]}else{if((o=a.next()).done)break;l=o.value}var s=u(l,2),d=s[1];e+="\n\n"+xt.createTemplate(r,{name:"res/drawable/".concat(v=s[0],".xml"),value:d})}var c=this.stored.images.entries(),f=Array.isArray(c),p=0;for(c=f?c:c[Symbol.iterator]();;){var m;if(f){if(p>=c.length)break;m=c[p++]}else{if((p=c.next()).done)break;m=p.value}var g=u(m,2),v=g[0],y=g[1];if(Object.keys(y).length>1)for(var b in y)e+="\n\n"+xt.createTemplate(r,{name:"res/drawable-".concat(b,"/").concat(v,".").concat(wt.lastIndexOf(y[b],".")),value:"\x3c!-- image: ".concat(y[b]," --\x3e")});else y.mdpi&&(e+="\n\n"+xt.createTemplate(r,{name:"res/drawable/".concat(v,".").concat(wt.lastIndexOf(y.mdpi,".")),value:"\x3c!-- image: ".concat(y.mdpi," --\x3e")}))}e=j(e=U(e.trim(),n.resolutionDPI,n.convertPixels),n.insertSpaces),t&&this.saveToDisk([].concat(h(At(e)),h(St(e))))}return e}},{key:"userSettings",get:function(){return this.resource.userSettings}}]),n}(),_t=androme.lib.dom,Ct=androme.lib.enumeration,Nt=androme.lib.util,Pt=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return i(n,androme.lib.extensions.Accessibility),r(n,[{key:"afterBaseLayout",value:function(){for(var t=function(){if(e){if(n>=r.length)return"break";a=r[n++]}else{if((n=r.next()).done)return"break";a=n.value}var t=a;if(!t.hasBit("excludeProcedure",Ct.NODE_PROCEDURE.ACCESSIBILITY)){var i=t.element;switch(t.controlName){case v.EDIT:t.companion||[_t.getPreviousElementSibling(i),_t.getNextElementSibling(i)].some(function(e){if(e){var n=_t.getElementAsNode(e),r=e&&e.parentElement&&"LABEL"===e.parentElement.tagName?_t.getElementAsNode(e.parentElement):void 0;if(n&&n.visible&&n.pageFlow){if(Nt.hasValue(e.htmlFor)&&e.htmlFor===i.id)return n.android("labelFor",t.documentId),!0;if(n.textElement&&r)return r.android("labelFor",t.documentId),!0}}return!1});case v.SELECT:case v.CHECKBOX:case v.RADIO:case v.BUTTON:i.disabled&&t.android("focusable","false")}}},e=Array.isArray(r=this.application.processing.cache.elements),n=0,r=e?r:r[Symbol.iterator]();;){var a;if("break"===t())break}}}]),n}(),Ot=androme.lib.base.Layout,Lt=androme.lib.constant,Dt=androme.lib.dom,Bt=androme.lib.enumeration,Mt=androme.lib.util;var Xt=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.CssGrid),r(n,[{key:"processNode",value:function(t,e){c(o(n.prototype),"processNode",this).call(this,t,e);var r=t.data(Lt.EXT_NAME.CSS_GRID,"mainData"),a="";if(r){var i=new Ot(e,t,f.GRID,4,t.length,t.children);i.rowCount=r.row.count,i.columnCount=r.column.count,a=this.application.renderNode(i)}return{output:a,complete:""!==a}}},{key:"processChild",value:function(t,e){var n,r=e.data(Lt.EXT_NAME.CSS_GRID,"mainData"),a=t.data(Lt.EXT_NAME.CSS_GRID,"cellData"),i="";if(r&&a){var o=function(n,i,o){var l=r[i],s="".concat(i,"Start"),d="".concat(i,"Span"),c=a[d]-a[s],u="min".concat(Mt.capitalize(o)),h=0,f=0,p=0,m=0;l.unit.every(function(t){return"auto"===t})&&("width"===o?l.unit=l.unit.map(function(){return"1fr"}):l.unit.length=0);for(var g=0,v=0;g<a[d];g++){p+=parseInt(e.convertPX(l.unitMin[a[s]+g]));var y=l.unit[a[s]+g];if(!Mt.hasValue(y)){if(!l.auto[v])continue;y=l.auto[v],l.auto[v+1]&&v++}if(Mt.hasValue(y)){if("auto"===y||"min-content"===y||"max-content"===y){c<l.unit.length&&(!e.has(o)||l.unit.some(function(t){return Mt.isUnit(t)})||"min-content"===y)?(h=t.bounds[o],f=0,m=0):(h=0,f=0,m=.01);break}if(Mt.isPercent(y))m+=parseInt(y)/100,f=h,h=0;else if(y.endsWith("fr"))m+=parseInt(y),f=h,h=0;else if(y.endsWith("px")){var b=parseInt(y);0===f?h+=b:f+=b}}}if(a[d]>1){var E=(a[d]-1)*l.gap;h>0&&0===f?h+=E:f>0&&(f+=E),p>0&&(p+=E)}p>0&&(l.autoFill&&0===h&&1===r["column"===i?"row":"column"].count?(h=Math.max(t.bounds.width,p),m=0):f=p),n.android("layout_".concat(i),""+a[s]),a[d]>1&&n.android("layout_".concat(i,"Span"),""+a[d]),f>0&&!n.has(u)&&n.css(u,Mt.formatPX(f),!0),m>0?(n.android("layout_".concat(o),"0px"),n.android("layout_".concat(i,"Weight"),""+m),n.mergeGravity("layout_gravity","column"===i?"fill_horizontal":"fill_vertical")):h>0&&!n.has(o)&&n.css(o,Mt.formatPX(h),!0)},l=t.has("alignSelf")?t.css("alignSelf"):r.alignItems,s=t.has("justifySelf")?t.css("justifySelf"):r.justifyItems;if(/(start|end|center|baseline)/.test(l)||/(start|end|center|baseline|left|right)/.test(s)){(n=new at(this.application.nextId,Dt.createElement(t.actualParent?t.actualParent.baseElement:null),this.application.controllerHandler.afterInsertNode)).tagName=t.tagName,n.setControlType(v.FRAME,f.FRAME),n.inherit(t,"initial","base"),n.resetBox(510),n.exclude({procedure:Bt.NODE_PROCEDURE.AUTOFIT|Bt.NODE_PROCEDURE.CUSTOMIZATION,resource:Bt.NODE_RESOURCE.BOX_STYLE|Bt.NODE_RESOURCE.ASSET}),e.appendTry(t,n),n.render(e),this.application.processing.cache.append(n,!1),t.inheritBox(30,n),o(n,"column","width"),o(n,"row","height");var d=!1;s.endsWith("start")||s.endsWith("left")||s.endsWith("baseline")?(t.mergeGravity("layout_gravity","left"),d=!0):s.endsWith("end")||s.endsWith("right")?(t.mergeGravity("layout_gravity","right"),d=!0):s.endsWith("center")&&(t.mergeGravity("layout_gravity","center_horizontal"),d=!0),t.hasWidth||t.android("layout_width",d?"wrap_content":"match_parent",!1),l.endsWith("start")||l.endsWith("baseline")?t.mergeGravity("layout_gravity","top"):l.endsWith("end")?t.mergeGravity("layout_gravity","bottom"):l.endsWith("center")?t.mergeGravity("layout_gravity","center_vertical"):t.hasHeight||t.android("layout_height","match_parent",!1),t.parent=n;var c=new Ot(e,n,f.FRAME,2048,1,n.children);i=this.application.renderLayout(c)}var u=n||t;o(u,"column","width"),o(u,"row","height"),u.has("height")||(e.hasHeight&&(u.android("layout_height","0px"),u.android("layout_rowWeight","1")),u.mergeGravity("layout_gravity","fill_vertical")),u.has("width")||u.mergeGravity("layout_gravity","fill_horizontal")}return{output:i,parent:n,complete:""!==i}}},{key:"postBaseLayout",value:function(t){var e=t.data(Lt.EXT_NAME.CSS_GRID,"mainData");if(e){var n=function(n,r){var a="column"===r?16:2,i="column"===r?4:8,o="column"===r?256:32,l=e[r],s=n.startsWith("space")?function(t,e){var n=[];if("column"===e)for(var r=0;r<t.column.count;r++){n[r]=[];for(var a=0;a<t.row.count;a++)n[r].push(t.rowData[a][r])}else for(var i=0;i<t.row.count;i++)n.push(t.rowData[i]);return n}(e,r):[],d=function(t,e,n){for(var r="column"===e?"width":"height",a=0,i=0;i<t[e].count;i++){var o=t[e].unit[i];o.endsWith("px")?a+=parseInt(o):a+=Mt.minArray(t.rowData[i].map(function(t){return t&&t.length?t[0].bounds[r]:0}))}return a=n[r]-(a+=(t[e].count-1)*t[e].gap)}(e,r,t);d>0&&function(){var c="column"===r?"width":"height",u=e[r].count,h=new Set;switch(n){case"center":t.modifyBox(o,Math.floor(d/2)),l.normal=!1;break;case"right":if("row"===r)break;case"end":case"flex-end":t.modifyBox(o,d),l.normal=!1;break;case"space-around":if("break"===function(){for(var t=Math.floor(d/(2*u)),e=function(e){new Set(Mt.flatArray(s[e])).forEach(function(n){h.has(n)?n.cssPX(c,2*t):(n.modifyBox(a,t),e<u-1&&n.modifyBox(i,t),h.add(n))})},n=0;n<u;n++)e(n);return l.normal=!1,"break"}())break;case"space-between":if("break"===function(){for(var t=Math.floor(d/(2*(u-1))),e=Mt.flatArray(s[u-1]),n=function(n){new Set(Mt.flatArray(s[n])).forEach(function(r){h.has(r)?r.cssPX(c,2*t):(n>0&&r.modifyBox(a,t),n<u-1&&!e.some(function(t){return t===r})&&r.modifyBox(i,t),h.add(r))})},r=0;r<u;r++)n(r);return l.normal=!1,"break"}())break;case"space-evenly":if("break"===function(){for(var t=Math.floor(d/(u+1)),e=Mt.flatArray(s[u-1]),n=function(n){var r=Math.floor(t/2);new Set(Mt.flatArray(s[n])).forEach(function(o){h.has(o)?o.cssPX(c,t):(o.modifyBox(a,0===n?t:r),n<u-1&&!e.some(function(t){return t===o})&&o.modifyBox(i,r),h.add(o))})},r=0;r<u;r++)n(r);return l.normal=!1,"break"}())break}}()};if(t.hasWidth&&"normal"!==e.justifyContent&&n(e.justifyContent,"column"),t.hasHeight&&"normal"!==e.alignContent&&n(e.alignContent,"row"),e.column.normal&&!e.column.unit.includes("auto")){var r=e.column.gap*(e.column.count-1);r>0&&(t.renderParent&&!t.renderParent.hasAlign(4)&&(t.cssPX("minWidth",r),t.cssPX("width",r,!1,!0)),!t.has("width")&&t.has("maxWidth")&&t.css("width",Mt.formatPX(t.bounds.width+r),!0))}}}},{key:"postProcedure",value:function(t){var e=t.data(Lt.EXT_NAME.CSS_GRID,"mainData");if(e){var n=this.application.controllerHandler,r=Array.from(e.children)[e.children.size-1];if(e.column.unit.every(function(t){return Mt.isPercent(t)})){var i=e.column.unit.reduce(function(t,e){return t+parseInt(e)},0);if(i<100){t.android("columnCount",""+(e.column.count+1));for(var o=0;o<e.row.count;o++){var l;n.appendAfter(r.id,n.renderSpace(t.renderDepth+1,Mt.formatPercent(100-i),"wrap_content",0,0,V({android:(l={},a(l,t.localizeString(b.MARGIN_LEFT),Mt.formatPX(e.column.gap)),a(l,"layout_row",""+o),a(l,"layout_column",""+e.column.count),l)})))}}}for(var s=0;s<e.emptyRows.length;s++){var d=e.emptyRows[s];if(d)for(var c=0;c<d.length;c++)if(1===d[c]){n.appendAfter(r.id,n.renderSpace(t.renderDepth+1,"wrap_content",Mt.formatPX(e.row.gap),0,0,V({android:{layout_row:""+s,layout_column:""+c}})));break}}}}}]),n}(),zt=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return i(n,androme.lib.extensions.External),n}(),Gt=androme.lib.base.Layout,Ht=androme.lib.base.NodeList,Vt=androme.lib.constant,Ft=(androme,androme.lib.util),Wt={leftTop:["left","top"],rightBottom:["right","bottom"],rightLeftBottomTop:["rightLeft","bottomTop"],leftRightTopBottom:["leftRight","topBottom"],widthHeight:["Width","Height"],horizontalVertical:["Horizontal","Vertical"]},Ut=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.Flexbox),r(n,[{key:"processNode",value:function(t,e){c(o(n.prototype),"processNode",this).call(this,t,e);var r=t.data(Vt.EXT_NAME.FLEXBOX,"mainData"),a=new Gt(e,t,0,4,t.length);return a.rowCount=r.rowCount,a.columnCount=r.columnCount,t.filter(function(t){return!t.pageFlow}).length>0||r.rowDirection&&(1===r.rowCount||t.hasHeight)||r.columnDirection&&1===r.columnCount?a.containerType=f.CONSTRAINT:a.setType(f.LINEAR,r.columnDirection?8:16),{output:this.application.renderNode(a),complete:!0}}},{key:"processChild",value:function(t,e){var n="";if(t.hasAlign(128)){var r=new Gt(e,t,f.CONSTRAINT,4,t.length,t.children);n=this.application.renderNode(r)}return{output:n,complete:""!==n}}},{key:"postBaseLayout",value:function(t){var e=this,n=t.data(Vt.EXT_NAME.FLEXBOX,"mainData");if(n){var r,a=[],i=[],o=[],l=[];if(n.wrap)t.filter(function(t){return t.hasAlign(128)}).forEach(function(e){var s=e.renderChildren.filter(function(t){return t.pageFlow});if(n.rowDirection)e.android("layout_width","match_parent"),t.hasHeight&&(e.android("layout_height","0px"),e.app("layout_constraintVertical_weight","1")),a.push(s),l.push(e);else{if(e.android("layout_height","match_parent"),i.push(s),r){for(var d=r[0],c=1;c<r.length;c++)r[c].linear.right>d.linear.right&&(d=r[c]);var u=e.linear.left-d.actualRight();u>0&&e.modifyBox(16,u),e.constraint.horizontal=!0}o.push(e),r=s}}),t.is(f.LINEAR)?n.columnDirection&&n.wrapReverse&&t.mergeGravity("gravity","right"):(l.length&&i.push(l),o.length&&a.push(o));else n.rowDirection?a[0]=n.directionReverse?n.children.reverse():n.children:(t.hasHeight||t.android("layout_height","match_parent"),i[0]=n.directionReverse?n.children.reverse():n.children);[a,i].forEach(function(r,a){var i=0===a,s=i?1:0;r.forEach(function(r){for(var d,c=Wt.widthHeight[s],u=c.toLowerCase(),h=[Wt.leftTop[a],Wt.leftTop[s]],f=h[0],p=h[1],m=[Wt.rightBottom[a],Wt.rightBottom[s]],g=m[0],v=m[1],y=Ft.maxArray(r.map(function(t){return t.flexElement?0:t.bounds[c.toLowerCase()]})),b=0;b<r.length;b++){var T=r[b],w=r[b-1],x=r[b+1];if(x&&T.anchor(Wt.rightLeftBottomTop[a],x.documentId),w&&T.anchor(Wt.leftRightTopBottom[a],w.documentId),r!==o&&r!==l){switch(T.flexbox.alignSelf){case"start":case"flex-start":T.anchor(p,"parent");break;case"end":case"flex-end":T.anchor(v,"parent");break;case"baseline":i&&(void 0===d&&(d=Ht.baseline(r)[0]),d&&(T!==d?(T.anchor("baseline",d.documentId),T.constraint.vertical=!0):T.anchor("top","parent")));break;case"center":T.anchorParent(i?E.VERTICAL:E.HORIZONTAL);break;default:if(T.anchor(n.wrapReverse?v:p,"parent"),!T["has".concat(c)]&&!T.has(u,32)){var A=T.unsafe("initial");A.bounds&&A.bounds[u]<y&&(T.android("layout_".concat(c.toLowerCase()),"0px"),T.anchor(n.wrapReverse?p:v,"parent"))}}Et.setFlexDimension(T,i)}T.positioned=!0}var S=Wt.horizontalVertical[a],R=r[0],k=r[r.length-1],I="layout_constraint".concat(S,"_chainStyle");if(R.anchor(f,"parent"),k.anchor(g,"parent"),r.every(function(t){return t.flexbox.grow<1}))switch(n.justifyContent){case"left":if(!i)break;case"start":case"flex-start":R.app(I,"packed"),R.app("layout_constraint".concat(S,"_bias"),"0");break;case"center":R.app(I,"packed"),R.app("layout_constraint".concat(S,"_bias"),"0.5");break;case"right":if(!i)break;case"end":case"flex-end":R.app(I,"packed"),R.app("layout_constraint".concat(S,"_bias"),"1");break;case"space-between":R.app(I,"spread_inside");break;case"space-evenly":R.app(I,"spread"),r.forEach(function(t){return t.app("layout_constraint".concat(S,"_weight"),""+(t.flexbox.grow||1))});break;case"space-around":var _=e.application.controllerHandler,C=S.toLowerCase();R.app(I,"spread_inside"),R.constraint[C]=!1,k.constraint[C]=!1,_.addGuideline(R,R.parent,C,!0,!1),_.addGuideline(k,R.parent,C,!0,!0)}r.length>1&&(i&&Ft.withinFraction(t.box.left,R.linear.left)&&Ft.withinFraction(k.linear.right,t.box.right)||!i&&Ft.withinFraction(t.box.top,R.linear.top)&&Ft.withinFraction(k.linear.bottom,t.box.bottom))?R.app(I,"spread_inside",!1):(R.app(I,"packed",!1),R.app("layout_constraint".concat(S,"_bias"),n.directionReverse?"1":"0",!1))})})}}}]),n}(),jt=androme.lib.base.Layout,Yt=androme.lib.constant,Kt=(androme,androme.lib.util);var Zt=function(n){function a(){return e(this,a),d(this,o(a).apply(this,arguments))}return i(a,androme.lib.extensions.Grid),r(a,[{key:"processNode",value:function(t,e){c(o(a.prototype),"processNode",this).call(this,t,e);var n=t.data(Yt.EXT_NAME.GRID,"mainData"),r="";if(n){var i=new jt(e,t,f.GRID,4,t.length,t.children);i.columnCount=n.columnCount,r=this.application.renderNode(i)}return{output:r,complete:""!==r}}},{key:"processChild",value:function(e,n){var r=n.data(Yt.EXT_NAME.GRID,"mainData"),a=e.data(Yt.EXT_NAME.GRID,"cellData");if(r&&a){a.rowSpan>1&&e.android("layout_rowSpan",""+a.rowSpan),a.columnSpan>1&&e.android("layout_columnSpan",""+a.columnSpan),"table-cell"===e.display&&e.mergeGravity("layout_gravity","fill");var i=a.siblings?a.siblings.slice():[];if(i.length){var o=this.application.controllerHandler;i.unshift(e);var l=new jt(n,e,0,0,i.length,i);if(l.linearY)l.node=o.createNodeGroup(e,i,n),l.setType(f.LINEAR,16);else{l.init();var s=o.processTraverseHorizontal(l);l.node=s.layout.node}if(0!==l.containerType)return function(e,n){for(var r,a=0;a<n.length;a++){var i=n[a];if(void 0===r)r=i.data(Yt.EXT_NAME.GRID,"cellData");else if(r){var o=i.data(Yt.EXT_NAME.GRID,"cellData");if(o)for(var l in o)switch(t(o[l])){case"number":r[l]+=o[l];break;case"boolean":!0===o[l]&&(r[l]=!0)}}i.siblingIndex=a,i.data(Yt.EXT_NAME.GRID,"cellData",null)}e.data(Yt.EXT_NAME.GRID,"cellData",r)}(l.node,i),{output:this.application.renderNode(l),parent:l.node,complete:!0}}}return{output:""}}},{key:"postBaseLayout",value:function(t){var e=this;if(!t.tableElement||"collapse"!==t.css("borderCollapse")){var n=t.data(Yt.EXT_NAME.GRID,"mainData");n&&t.each(function(t){var r=t.data(Yt.EXT_NAME.GRID,"cellData");if(r){var a=t.actualParent;if(a&&!a.visible&&(r.cellStart&&(n.paddingTop=a.paddingTop+a.marginTop),r.rowStart&&(n.paddingLeft=Math.max(a.marginLeft+a.paddingLeft,n.paddingLeft)),r.rowEnd)){var i=a.marginBottom+a.paddingBottom+(r.cellEnd?0:a.marginTop+a.paddingTop);i>0&&(r.cellEnd?n.paddingBottom=i:e.application.controllerHandler.appendAfter(t.id,e.application.controllerHandler.renderSpace(t.renderDepth,"match_parent",Kt.formatPX(i),n.columnCount))),n.paddingRight=Math.max(a.marginRight+a.paddingRight,n.paddingRight)}}},!0),t.modifyBox(32,n.paddingTop),t.modifyBox(64,n.paddingRight),t.modifyBox(128,n.paddingBottom),t.modifyBox(256,n.paddingLeft)}!t.hasWidth&&Kt.withinFraction(t.box.right,Kt.maxArray(t.renderChildren.filter(function(t){return t.inlineFlow||!t.blockStatic}).map(function(t){return t.linear.right})))&&t.android("layout_width","wrap_content")}}]),a}(),qt=androme.lib.base.Layout,$t=androme.lib.base.NodeList,Jt=androme.lib.constant,Qt=androme.lib.dom,te=(androme,androme.lib.util),ee=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.List),r(n,[{key:"processNode",value:function(t,e){c(o(n.prototype),"processNode",this).call(this,t,e);var r=new qt(e,t,0,0,t.length,t.children),a="";return $t.linearY(r.children)?(r.rowCount=t.length,r.columnCount=t.some(function(t){return"inside"===t.css("listStylePosition")})?3:2,r.setType(f.GRID,4)):this.application.controllerHandler.checkRelativeHorizontal(r)&&(r.rowCount=1,r.columnCount=r.length,r.setType(f.RELATIVE,8)),0!==r.containerType&&(a=this.application.renderNode(r)),{output:a,complete:""!==a}}},{key:"processChild",value:function(t,e){var n=t.data(Jt.EXT_NAME.LIST,"mainData"),r="";if(n){var i=this.application.controllerHandler,o=te.convertInt(e.css("paddingLeft"))+te.convertInt(e.css("marginLeft")),l=0,s=t.marginLeft;t.modifyBox(16,null),e.is(f.GRID)?(l=te.convertInt(e.android("columnCount")),s+=o):e.item(0)===t&&(s+=o);var d=t.find(function(t){return"left"===t.float&&t.marginLeft<0&&Math.abs(t.marginLeft)<=te.convertInt(t.documentParent.cssInitial("marginLeft"))});if(d&&""===n.ordinal){var c=new qt(e,d);d.inlineText||0===d.length?c.containerType=f.TEXT:(c.retain(d.children),i.checkRelativeHorizontal(c)?c.setType(f.RELATIVE,8):c.setType(f.CONSTRAINT,2)),d.parent=e,i.prependBefore(t.id,this.application.renderNode(c)),3===l&&t.android("layout_columnSpan","2"),(s+=d.marginLeft)>0&&!d.hasWidth&&d.android("minWidth",te.formatPX(s)),d.modifyBox(16,null)}else{var u=l>0?"0":"",h="inside"===t.css("listStylePosition"),p=0,m=0,g="";if(""!==n.imageSrc){var y=Qt.getBackgroundPosition(n.imagePosition,t.bounds,t.dpi,t.fontSize);p=y.left,m=y.top,g=X.addImageUrl(n.imageSrc)}var E=""!==g&&!t.has("listStyleImage")||0===o&&0===t.marginLeft?"":"right";""===E&&(s+=t.paddingLeft,t.modifyBox(256,null)),p>0&&s>p&&(s-=p);var T=(s=Math.max(s,20))<=24?6:s<=32?8:10,w=p>0?te.formatPX(p):"",x=s>0?te.formatPX(s):"",A=V({android:{layout_columnWeight:u}});if(h){var S=i.renderNodeStatic(v.SPACE,e.renderDepth+1,{android:a({minWidth:x,layout_columnWeight:u},t.localizeString(b.MARGIN_LEFT),w)},"wrap_content","wrap_content");i.prependBefore(t.id,S),A.android.minWidth=te.formatPX("24")}else{var R;Object.assign(A.android,(a(R={minWidth:x,gravity:s>20?t.localizeString(E):""},b.MARGIN_TOP,t===e.children[0]&&t.marginTop>0?te.formatPX(t.marginTop):""),a(R,t.localizeString(b.MARGIN_LEFT),w),a(R,t.localizeString(b.PADDING_LEFT),""===E&&""===g?te.formatPX(T):20===s?"2px":""),a(R,t.localizeString(b.PADDING_RIGHT),"right"===E&&s>20?te.formatPX(T):""),a(R,b.PADDING_TOP,t.paddingTop>0?te.formatPX(t.paddingTop):""),R)),3===l&&t.android("layout_columnSpan","2")}if("DT"===t.tagName&&""===g)t.android("layout_columnSpan",""+l);else{var k;if(""!==g)Object.assign(A.android,(a(k={src:"@drawable/".concat(g)},b.MARGIN_TOP,m>0?te.formatPX(m):""),a(k,"scaleType",h||"right"!==E?"fitStart":"fitEnd"),k));else A.android.text=n.ordinal;var I=new at(this.application.nextId,Qt.createElement(t.actualParent?t.actualParent.baseElement:null),this.application.controllerHandler.afterInsertNode);I.tagName="".concat(t.tagName,"_ORDINAL"),I.inherit(t,"textStyle"),""!==n.ordinal&&!/[A-Za-z\d]+\./.test(n.ordinal)&&I.toInt("fontSize")>12&&I.css("fontSize","12px"),this.application.processing.cache.append(I,!1);var _=i.renderNodeStatic(""!==g?v.IMAGE:""!==n.ordinal?v.TEXT:v.SPACE,e.renderDepth+1,A,"wrap_content","wrap_content",I);i.prependBefore(t.id,_)}}l>0&&(t.android("layout_width","0px"),t.android("layout_columnWeight","1"));var C=[$t.linearX(t.children),$t.linearY(t.children)],N=C[0];if(N||C[1]){var P=new qt(e,t,f.LINEAR,N?8:16,t.length,t.children);r=this.application.renderNode(P)}}return{output:r,next:""!==r}}},{key:"postBaseLayout",value:function(t){c(o(n.prototype),"postBaseLayout",this).call(this,t);for(var e=t.android("columnCount"),r=0;r<t.renderChildren.length;r++){var a=t.renderChildren[r],i=t.renderChildren[r-1],l=0;if(i){var s=te.convertInt(i.android(b.MARGIN_BOTTOM));s>0&&(l+=s,i.delete("android",b.MARGIN_BOTTOM),i.modifyBox(8,null))}var d=te.convertInt(a.android(b.MARGIN_TOP));if(d>0&&(l+=d,a.delete("android",b.MARGIN_TOP),a.modifyBox(2,null)),l>0){var u=V({android:{layout_columnSpan:""+e}}),h=this.application.controllerHandler.renderNodeStatic(v.SPACE,a.renderDepth,u,"match_parent",te.formatPX(l));this.application.controllerHandler.prependBefore(a.id,h,0)}}}},{key:"postProcedure",value:function(t){t.blockStatic&&t.inlineWidth&&t.android("layout_width","match_parent")}}]),n}(),ne=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.Relative),n}(),re=androme.lib.base.Layout,ae=androme.lib.constant,ie=androme.lib.enumeration,oe=androme.lib.util,le=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.Sprite),r(n,[{key:"processNode",value:function(t,e){var n,r="",a=t.data(ae.EXT_NAME.SPRITE,"mainData");if(a&&a.uri&&a.position&&t.baseElement){(n=new at(this.application.nextId,t.baseElement,this.application.controllerHandler.afterInsertNode)).inherit(t,"initial","base","styleMap"),n.setControlType(v.FRAME),n.exclude({procedure:ie.NODE_PROCEDURE.CUSTOMIZATION,resource:ie.NODE_RESOURCE.IMAGE_SOURCE}),e.appendTry(t,n),this.application.processing.cache.append(n,!1),t.setControlType(v.IMAGE,f.IMAGE),t.exclude({procedure:ie.NODE_PROCEDURE.AUTOFIT,resource:ie.NODE_RESOURCE.FONT_STYLE|ie.NODE_RESOURCE.BOX_STYLE}),t.css({position:"static",top:"auto",right:"auto",bottom:"auto",left:"auto",display:"inline-block",width:oe.formatPX(a.width),height:oe.formatPX(a.height),marginTop:oe.formatPX(a.position.y),marginRight:"0px",marginBottom:"0px",marginLeft:oe.formatPX(a.position.x),paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px",backgroundPositionX:"0px",backgroundPositionY:"0px",backgroundColor:"transparent"}),t.unsetCache(),t.android("src","@drawable/".concat(X.addImage({mdpi:a.uri}))),t.parent=n;var i=new re(e,n,f.FRAME,2048,1,n.children);r=this.application.renderLayout(i)}return{output:r,parent:n,complete:!0}}}]),n}(),se=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.Substitute),r(n,[{key:"processNode",value:function(t,e){return t.containerType=t.blockStatic?f.BLOCK:f.INLINE,c(o(n.prototype),"processNode",this).call(this,t,e)}},{key:"postProcedure",value:function(t){var e=Object.assign({},this.options[t.element.id]);t.apply(X.formatOptions(e,this.application.extensionManager.optionValueAsBoolean(g.RESOURCE_STRINGS,"numberResourceValue")))}}]),n}(),de=androme.lib.base.Layout,ce=androme.lib.constant,ue=(androme,androme.lib.util),he=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.Table),r(n,[{key:"processNode",value:function(t,e){c(o(n.prototype),"processNode",this).call(this,t,e);var r=t.data(ce.EXT_NAME.TABLE,"mainData"),a="";if(r){if(r.columnCount>1){var i=!!t.data(ce.EXT_NAME.TABLE,"expand");if(t.each(function(t){if("0px"===t.css("width"))t.android("layout_width","0px"),t.android("layout_columnWeight",""+(t.element.colSpan||1));else{var e=t.data(ce.EXT_NAME.TABLE,"expand"),n=!!t.data(ce.EXT_NAME.TABLE,"exceed"),r=!!t.data(ce.EXT_NAME.TABLE,"downsized");if("boolean"==typeof e)if(e){var a=ue.convertFloat(t.data(ce.EXT_NAME.TABLE,"percent"))/100;a>0&&(t.android("layout_width","0px"),t.android("layout_columnWeight",ue.trimEnd(a.toFixed(3),"0")),i=!0)}else t.android("layout_columnWeight","0");r&&(n?(t.android("layout_width","0px"),t.android("layout_columnWeight","0.01")):(t.textElement&&!/[\s\n\-]/.test(t.textContent.trim())&&t.android("maxLines","1"),t.has("width")&&t.toInt("width")<t.bounds.width&&t.android("layout_width",ue.formatPX(t.bounds.width))))}}),i&&!t.hasWidth){var l=0;t.ascend().some(function(t){return!!t.hasWidth&&(l=t.bounds.width,!0)}),t.bounds.width>=l?t.android("layout_width","match_parent"):t.css("width",ue.formatPX(t.bounds.width),!0)}}var s=new de(e,t,f.GRID,4,t.length,t.children);s.rowCount=r.rowCount,s.columnCount=r.columnCount,a=this.application.renderNode(s)}return{output:a,complete:""!==a}}},{key:"processChild",value:function(t,e){var n=ue.convertInt(t.data(ce.EXT_NAME.TABLE,"rowSpan")),r=ue.convertInt(t.data(ce.EXT_NAME.TABLE,"colSpan")),a=ue.convertInt(t.data(ce.EXT_NAME.TABLE,"spaceSpan"));return n>1&&t.android("layout_rowSpan",""+n),r>1&&t.android("layout_columnSpan",""+r),t.mergeGravity("layout_gravity","fill"),a>0&&this.application.controllerHandler.appendAfter(t.id,this.application.controllerHandler.renderSpace(e.renderDepth+1,"wrap_content","wrap_content",a)),{output:""}}},{key:"postProcedure",value:function(t){var e=ue.convertInt(t.android("layout_width"));if(e>0&&(t.bounds.width>e&&t.android("layout_width",ue.formatPX(t.bounds.width)),e>0&&"auto"===t.cssInitial("width")&&t.renderChildren.every(function(t){return t.inlineWidth})))for(var n=Array.isArray(a=t.renderChildren),r=0,a=n?a:a[Symbol.iterator]();;){var i;if(n){if(r>=a.length)break;i=a[r++]}else{if((r=a.next()).done)break;i=r.value}var o=i;o.android("layout_width","0px"),o.android("layout_columnWeight","1")}}}]),n}(),fe=androme.lib.base.Layout,pe=androme.lib.constant,me=(androme,function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.VerticalAlign),r(n,[{key:"processNode",value:function(t,e){c(o(n.prototype),"processNode",this).call(this,t,e);var r="";if(t.data(pe.EXT_NAME.VERTICAL_ALIGN,"mainData")){var a=new fe(e,t,f.RELATIVE,8,t.length,t.children);a.floated=a.getFloated(!0),r=this.application.renderNode(a)}return{output:r}}}]),n}()),ge=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return i(n,androme.lib.extensions.WhiteSpace),n}(),ve=androme.lib.base.Layout,ye=androme.lib.enumeration,be=androme.lib.util,Ee=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).options={circlePosition:!1},t}return i(n,androme.lib.base.Extension),r(n,[{key:"condition",value:function(t){return this.included(t.element)&&t.length>0}},{key:"processNode",value:function(t,e){t.exclude({procedure:ye.NODE_PROCEDURE.CONSTRAINT});var n=new ve(e,t,f.CONSTRAINT,32,t.length,t.children);return{output:this.application.renderNode(n)}}},{key:"afterConstraints",value:function(){for(var t=this,e=this.application.controllerHandler,n=function(){if(r){if(a>=i.length)return"break";o=i[a++]}else{if((a=i.next()).done)return"break";o=a.value}var n=o,l=new Map;if(n.each(function(t){var e=[];be.withinFraction(t.linear.left,n.box.left)&&e.push("left"),be.withinFraction(t.linear.top,n.box.top)&&e.push("top"),l.set(t,e)}),t.options.circlePosition){var s,d=Array.from(l.values()).some(function(t){return 2===t.length}),c=l.entries(),h=Array.isArray(c),f=0;for(c=h?c:c[Symbol.iterator]();;){var p;if(h){if(f>=c.length)break;p=c[f++]}else{if((f=c.next()).done)break;p=f.value}var m=u(p,2),g=m[0],v=m[1];if(d){if(2===v.length){g.anchor("left","parent"),g.anchor("top","parent"),s=g;break}}else if(1===v.length){v.includes("left")?(g.anchor("left","parent"),e.addGuideline(g,n,E.VERTICAL),s=g):(g.anchor("top","parent"),e.addGuideline(g,n,E.HORIZONTAL),s=g);break}}void 0===s&&(s=n.item(0),e.addGuideline(s,n)),n.each(function(t){if(s&&t!==s){var e=t.center,n=s.center,r=Math.abs(e.x-n.x),a=Math.abs(e.y-n.y),i=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(a,2))),o=Math.round(Math.atan(Math.min(r,a)/Math.max(r,a))*(180/Math.PI));e.y>n.y?e.x>n.x?r>a?o+=90:o=180-o:r>a?o=270-o:o+=180:e.y<n.y?n.x>e.x?r>a?o+=270:o=360-o:r>a&&(o=90-o):o=e.x>n.x?90:270,t.app("layout_constraintCircle",s.documentId),t.app("layout_constraintCircleRadius",be.formatPX(i)),t.app("layout_constraintCircleAngle",""+o)}})}else{var y=l.entries(),b=Array.isArray(y),T=0;for(y=b?y:y[Symbol.iterator]();;){var w;if(b){if(T>=y.length)break;w=y[T++]}else{if((T=y.next()).done)break;w=T.value}var x=u(w,2);g=x[0];(v=x[1]).includes("left")&&g.anchor("left","parent"),v.includes("top")&&g.anchor("top","parent"),v.length<2&&e.addGuideline(g,n)}}},r=Array.isArray(i=this.subscribers),a=0,i=r?i:i[Symbol.iterator]();;){var o;if("break"===n())break}}}]),n}(),Te=androme.lib.base.Layout,we=androme.lib.base.NodeList,xe=androme.lib.dom,Ae=androme.lib.enumeration,Se=androme.lib.util;function Re(t){return t.filter(function(e){return!e.pageFlow&&("fixed"===e.position||e.absoluteParent===t)})}function ke(t,e){return t.some(function(t){return t<e})}function Ie(t,e,n){if(Se.isPercent(e)){var r=t.actualParent;if(r){var a=parseInt(e)-n/r.box.width*100;if(a>0)return Se.formatPercent(a)}}else if(Se.isUnit(e)){var i=parseInt(e)-n;if(i>0)return Se.formatPX(i)}return e}var _e=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.base.Extension),r(n,[{key:"condition",value:function(t){var e=Re(t);if(e.length>0){var n=e.filter(function(t){return t.has("top")&&t.top>=0}).map(function(t){return t.top}),r=e.filter(function(t){return t.has("right")&&t.right>=0}).map(function(t){return t.right}),a=e.filter(function(t){return t.has("bottom")&&t.bottom>=0}).map(function(t){return t.bottom}),i=e.filter(function(t){return t.has("left")&&t.left>=0}).map(function(t){return t.left});return ke(n,t.paddingTop+(t.documentBody?t.marginTop:0))||ke(r,t.paddingRight+(t.documentBody?t.marginRight:0))||ke(a,t.paddingBottom+(t.documentBody?t.marginBottom:0))||ke(i,t.paddingLeft+(t.documentBody?t.marginLeft:0))||t.documentBody&&r.length>0&&t.hasWidth}return!1}},{key:"processNode",value:function(t,e){var n=new at(this.application.nextId,xe.createElement(t.baseElement,t.block),this.application.controllerHandler.afterInsertNode);n.inherit(t,"initial","base"),n.exclude({procedure:Ae.NODE_PROCEDURE.NONPOSITIONAL,resource:Ae.NODE_RESOURCE.BOX_STYLE|Ae.NODE_RESOURCE.ASSET});var r=u(Se.partition(Re(t),function(e){return e.absoluteParent===t}),2),a=r[0],i=r[1];a.push(n);var o=[].concat(h(Se.sortAsc(a,"zIndex","id")),h(Se.sortAsc(i,"zIndex","id")));t.duplicate().forEach(function(t){o.includes(t)||(t.parent=n)}),n.parent=t,this.application.processing.cache.append(n),o.forEach(function(t,e){return t.siblingIndex=e}),t.sort(we.siblingIndex),t.resetBox(480|(t.documentBody?30:0),n,!0),t.companion=n;var l=new Te(e,t,f.CONSTRAINT,32,o.length,o);return{output:this.application.renderLayout(l)}}},{key:"postBaseLayout",value:function(t){if(t.hasWidth&&t.companion){var e=t.cssInitial("width",!0),n=t.cssInitial("minWidth",!0);if(t.documentBody&&t.some(function(t){return t.has("right")}))t.css({width:"auto",minWidth:"auto"},"",!0),t.companion.css({width:e,minWidth:n},"",!0),t.android("layout_width","match_parent");else{var r=t.paddingLeft+t.paddingRight+(t.documentBody?t.marginLeft+t.marginRight:0);t.companion.css({width:Ie(t,e,r),minWidth:Ie(t,n,r)},"",!0)}}}}]),n}(),Ce=androme.lib.base.Layout,Ne=(androme,function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.base.Extension),r(n,[{key:"condition",value:function(t){return!t.textElement&&!t.imageElement&&!t.svgElement&&(t.has("maxWidth")||t.has("maxHeight"))}},{key:"processNode",value:function(t,e){var n=this.application.controllerHandler.createNodeWrapper(t,e);n.css("display","block",!0),t.has("maxWidth")&&(n.css("width",t.css("maxWidth"),!0),t.css("maxWidth","auto")),t.has("maxHeight")&&(n.css("height",t.css("maxHeight"),!0),t.css("maxHeight","auto"));var r=new Ce(e,n,f.FRAME,2048,1,n.children);return{output:"",parent:n,renderAs:n,outputAs:this.application.renderLayout(r)}}}]),n}()),Pe=androme.lib.base.Layout,Oe=(androme,androme.lib.util),Le=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.base.Extension),r(n,[{key:"condition",value:function(t,e){return e.layoutVertical&&!t.documentBody&&t.pageFlow&&!t.imageElement&&t.has("width",32,{not:"100%"})}},{key:"processNode",value:function(t,e){var n=this.application.controllerHandler.createNodeWrapper(t,e);n.android("layout_width","match_parent"),n.android("layout_height","wrap_content"),t.has("height",2)||t.css("height",Oe.formatPX(t.bounds.height),!0);var r=new Pe(e,n,f.CONSTRAINT,2048,1,n.children);return{output:"",parent:n,renderAs:n,outputAs:this.application.renderLayout(r)}}}]),n}(),De=androme.lib.base.NodeList,Be=(androme,androme.lib.util),Me=androme.lib.xml,Xe=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.base.Extension),r(n,[{key:"condition",value:function(t){var e=t.element;return"INPUT"===e.tagName&&"radio"===e.type&&Be.hasValue(e.name)}},{key:"processNode",value:function(t,e){var n,r=Be.hasValue(t.dataset.target)&&!Be.hasValue(t.dataset.use),a=t.element,i=[],o=e.flatMap(function(e){e.renderAs&&(e.renderAs===t?n=e:i.push(e),e=e.renderAs);var r=e.element;return"radio"!==r.type||r.name!==a.name||e.rendered?null:e});if(o.length>1){var l=this.application.controllerHandler.createNodeGroup(t,o,e,n);l.alignmentType|=8|(e.length!==o.length?128:0),e.layoutConstraint&&(l.companion=n||t),l.setControlType("RadioGroup",f.INLINE),l.inherit(t,"alignment"),l.css("verticalAlign","text-bottom"),l.each(function(e,n){e!==t&&e.setControlType(v.RADIO,f.RADIO),e.positioned=!0,e.parent=l,e.siblingIndex=n}),i.forEach(function(t){return t.hide()}),l.android("orientation",De.linearX(o)?E.HORIZONTAL:E.VERTICAL),l.render(r?l:e),this.subscribers.add(l);var s=this.application.controllerHandler.getEnclosingTag("RadioGroup",l.id,r?-1:l.renderDepth,Me.formatPlaceholder(l.id));return{output:"",complete:!0,parent:l,renderAs:l,outputAs:s}}return{output:""}}},{key:"postBaseLayout",value:function(t){t.some(function(e){return!!e.element.checked&&(t.android("checkedButton",e.documentId),!0)})}}]),n}(),ze=androme.lib.dom,Ge=androme.lib.enumeration,He=androme.lib.util,Ve=androme.lib.xml,Fe="android.support.v4.widget.NestedScrollView",We=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.base.Extension),r(n,[{key:"condition",value:function(t){return t.length>0&&(t.overflowX||t.overflowY||this.included(t.element)&&(t.hasWidth||t.hasHeight))}},{key:"processNode",value:function(t,e){var n=this,r=He.hasValue(t.dataset.target)&&!He.hasValue(t.dataset.use),a=[];if(t.overflowX&&t.overflowY)a.push("HorizontalScrollView",Fe);else if(t.overflowX)a.push("HorizontalScrollView");else if(t.overflowY)a.push(Fe);else{var i=0;t.hasWidth&&(i|=8,a.push("HorizontalScrollView")),t.hasHeight&&(i|=16,a.push(Fe)),t.overflow=i}for(var o=a.map(function(r,a){var i=new at(n.application.nextId,0===a?t.baseElement:ze.createElement(t.actualParent?t.actualParent.baseElement:null,t.block),n.application.controllerHandler.afterInsertNode);return i.setControlType(r,f.BLOCK),0===a?(i.inherit(t,"initial","base","styleMap"),e.appendTry(t,i)):(i.inherit(t,"base"),i.exclude({resource:Ge.NODE_RESOURCE.BOX_STYLE})),i.exclude({resource:Ge.NODE_RESOURCE.ASSET}),i.resetBox(480),i}),l="",s=0;s<o.length;s++){var d=o[s],c=o[s-1];switch(d.controlName){case Fe:var u=t.css("height");t.android("layout_width","wrap_content"),d.android("layout_height",t.convertPX(u,!1)),d.css({overflow:"scroll visible",overflowX:"visible",overflowY:"scroll"});break;case"HorizontalScrollView":var h=t.css("width");d.android("layout_width",t.convertPX(h)),t.android("layout_height","wrap_content"),d.css({overflow:"visible scroll",overflowX:"scroll",overflowY:"visible"})}d.unsetCache(),this.application.processing.cache.append(d),d.render(0===s?r?d:e:c);var p=this.application.controllerHandler.getEnclosingTag(d.controlName,d.id,r?0===s?-1:0:d.renderDepth,Ve.formatPlaceholder(d.id));l=0===s?p:Ve.replacePlaceholder(l,c.id,p)}2===o.length?(t.android("layout_width","wrap_content"),t.android("layout_height","wrap_content")):t.overflowX?(t.android("layout_width","wrap_content"),t.android("layout_height","match_parent")):(t.android("layout_width","match_parent"),t.android("layout_height","wrap_content"));var m=o[o.length-1];return t.parent=m,e.layoutConstraint&&(m.companion=t),t.overflow=0,t.resetBox(30),t.exclude({resource:Ge.NODE_RESOURCE.BOX_STYLE}),{output:"",parent:t.parent,renderAs:o[0],outputAs:l}}}]),n}(),Ue='<?xml version="1.0" encoding="utf-8"?>\n<layer-list xmlns:android="http://schemas.android.com/apk/res/android">\n!1\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<solid android:color="@color/{&color}" />\n\t\t</shape>\n\t</item>\n!1\n!2\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:angle="{~angle}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" android:visible="{~visible}" />\n\t\t</shape>\n\t</item>\n!2\n!3\n\t<item android:drawable="@drawable/{&vectorName}" />\n!3\n!4\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:width="{~width}" android:height="{~height}">\n\t\t<rotate android:drawable="@drawable/{&src}" android:fromDegrees="{~fromDegrees}" android:toDegrees="{~toDegrees}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}" android:visible="{~visible}" />\n\t</item>\n!4\n!5\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:drawable="@drawable/{&src}" android:width="{~width}" android:height="{~height}" />\n!5\n!6\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:width="{~width}" android:height="{~height}">\n\t\t<bitmap android:src="@drawable/{&src}" android:gravity="{~gravity}" android:tileMode="{~tileMode}" android:tileModeX="{~tileModeX}" android:tileModeY="{~tileModeY}" />\n\t</item>\n!6\n!7\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}">\n\t\t<shape android:shape="rectangle">\n!stroke\n\t\t\t<stroke android:width="{&width}" {~borderStyle} />\n!stroke\n!corners\n\t\t\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomRightRadius="{~bottomRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" />\n!corners\n\t\t</shape>\n\t</item>\n!7\n</layer-list>',je='<?xml version="1.0" encoding="utf-8"?>\n<vector xmlns:android="http://schemas.android.com/apk/res/android" {~namespace} android:name="{&name}" android:width="{&width}" android:height="{&height}" android:viewportWidth="{&viewportWidth}" android:viewportHeight="{&viewportHeight}" android:alpha="{~alpha}">\n!1\n\t<group android:name="{~name}" android:rotation="{~rotation}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}" android:scaleX="{~scaleX}" android:scaleY="{~scaleY}" android:translateX="{~translateX}" android:translateY="{~translateY}">\n!2\n!clipPaths\n\t\t<clip-path android:name="{~name}" android:pathData="{&d}" />\n!clipPaths\n\t\t<path android:name="{~name}" android:pathData="{&d}"\n\t\t\tandroid:fillColor="{~fill}" android:fillAlpha="{~fillOpacity}" android:fillType="{~fillRule}"\n\t\t\tandroid:strokeColor="{~stroke}" android:strokeAlpha="{~strokeOpacity}" android:strokeWidth="{~strokeWidth}"\n\t\t\tandroid:strokeLineCap="{~strokeLinecap}" android:strokeLineJoin="{~strokeLinejoin}" android:strokeMiterLimit="{~strokeMiterlimit}">\n!fill\n\t\t\t<aapt:attr name="android:fillColor">\n!gradients\n\t\t\t\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:startX="{~startX}" android:startY="{~startY}" android:endX="{~endX}" android:endY="{~endY}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}">\n!colorStop\n\t\t\t\t\t<item android:offset="{&offset}" android:color="{&color}" />\n!colorStop\n\t\t\t\t</gradient>\n!gradients\n\t\t\t</aapt:attr>\n!fill\n\t\t</path>\n!2\n\t</group>\n!1\n</vector>',Ye=androme.lib.base.SvgPath,Ke=androme.lib.color,Ze=androme.lib.dom,qe=androme.lib.enumeration,$e=androme.lib.util,Je=androme.lib.xml;function Qe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={solid:'android:color="@color/'.concat(t.color,'"'),groove:"",ridge:""},a=t.style,i=parseInt(t.width),o="".concat(r.solid,' android:dashWidth="').concat(i,'px" android:dashGap="').concat(i,'px"');Object.assign(r,{double:r.solid,inset:r.solid,outset:r.solid,dashed:o,dotted:o});var l="groove"===a;if(i>1&&(l||"ridge"===a)){var s=Ke.parseRGBA(t.color);if(s){var d=Ke.reduceRGBA(s.valueRGBA,l||"#000000"===s.valueRGB?.5:-.5);if(d){var c=X.addColor(d);if(""!==c){var u='android:color="@color/'.concat(c,'"');if(0!==e&&2!==e||(n=!n),"#000000"!==s.valueRGB||(!l||1!==e&&3!==e)&&(l||0!==e&&2!==e)||(n=!n),n)switch(e){case 0:r[a]=u;break;case 1:case 2:r[a]=r.solid;break;case 3:r[a]=u}else switch(e){case 0:r[a]=r.solid;break;case 1:case 2:r[a]=u;break;case 3:r[a]=r.solid}}}}}return r[a]||r.solid}function tn(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];switch(e){case"stroke":if(t.border&&X.isBorderVisible(t.border)){if(!r||a)return[{width:t.border.width,borderStyle:Qe(t.border,a?n:-1)}];if(r)return[{width:$e.formatPX(Math.ceil(parseInt(t.border.width)/2)),borderStyle:Qe(t.border,n,!0)}]}return!1;case"backgroundColor":return!!$e.hasValue(t.backgroundColor)&&[{color:t.backgroundColor}];case"radius":if(t.borderRadius)if(1===t.borderRadius.length){if("0px"!==t.borderRadius[0])return[{radius:t.borderRadius[0]}]}else if(t.borderRadius.length>1){var i={};return t.borderRadius.forEach(function(t,e){return i["".concat(["topLeft","topRight","bottomRight","bottomLeft"][e],"Radius")]=t}),[i]}return!1}return!1}function en(t,e,n,r,a,i,o){var l=parseInt(t.width),s=Math.floor(l/3),d=2===l%3?1:0,c=s+d,u=s+d,h="".concat($e.formatPX(l-s)),f="-".concat(h);i[7].push({top:e?"":f,right:n?"":f,bottom:r?"":f,left:a?"":f,stroke:[{width:$e.formatPX(c),borderStyle:Qe(t)}],corners:o}),3===l&&(h="".concat($e.formatPX(l)),f="-".concat(h)),i[7].push({top:e?h:f,right:n?h:f,bottom:r?h:f,left:a?h:f,stroke:[{width:$e.formatPX(u),borderStyle:Qe(t)}],corners:o})}var nn=function(n){function a(){var t;return e(this,a),(t=d(this,o(a).apply(this,arguments))).options={autoSizeBackgroundImage:!0},t.eventOnly=!0,t}return i(a,androme.lib.base.Extension),r(a,[{key:"afterResources",value:function(){var e=this;this.application.processing.cache.duplicate().sort(function(t){return t.visible?0:-1}).forEach(function(n){var r=n.data(X.KEY_NAME,"boxStyle");if(r&&!n.hasBit("excludeResource",qe.NODE_RESOURCE.BOX_STYLE)){var a=function(){var a=function(t,e,n){return-1===t.indexOf(" ")&&-1!==e.indexOf(" ")?/^[a-z]+$/.test(t)?"".concat("initial"===t?n:t," 0px"):"".concat(n," ").concat(t):t};r.backgroundColor=X.addColor(r.backgroundColor);var i=[],o=[],l=r.backgroundRepeat.split(",").map(function(t){return t.trim()}),s=[],d=[],c=r.backgroundSize.split(",").map(function(t){return t.trim()}),u=r.backgroundPositionX.split(",").map(function(t){return t.trim()}),p=r.backgroundPositionY.split(",").map(function(t){return t.trim()}),m=[];if($e.isArray(r.backgroundImage)&&!n.hasBit("excludeResource",qe.NODE_RESOURCE.IMAGE_SOURCE)){i.push.apply(i,h(r.backgroundImage));for(var g=0;g<i.length;g++)if(i[g]&&"none"!==i[g]){s.push(X.ASSETS.images.get(Ze.cssResolveUrl(i[g]))),i[g]=X.addImageUrl(i[g]);var v=u[g]||u[g-1],y=p[g]||p[g-1],b=a(v,y,"left"),E=a(y,v,"top");m[g]="".concat("initial"===b?"0px":b," ").concat("initial"===E?"0px":E)}else i[g]="",l[g]="",m[g]=""}else if(r.backgroundGradient){var T=X.createBackgroundGradient(n,r.backgroundGradient);T.length&&d.push(T[0])}var w=n.companion;if(w&&!w.visible&&w.htmlElement&&!Ze.cssFromParent(w.element,"backgroundColor")){var x=w.data(X.KEY_NAME,"boxStyle"),A=X.addColor(x.backgroundColor);""!==A&&(r.backgroundColor=A)}var S=X.isBorderVisible(r.borderTop)||X.isBorderVisible(r.borderRight)||X.isBorderVisible(r.borderBottom)||X.isBorderVisible(r.borderLeft)||r.borderRadius,R=i.filter(function(t){return t}).length;if(S||R||d.length){var k=[r.borderTop,r.borderRight,r.borderBottom,r.borderLeft],I=[],_=[];k.forEach(function(t,e){_[e]=X.isBorderVisible(t),_[e]&&(t.color=X.addColor(t.color),I.push(t))});for(var C,N=[],P=[],O="",L=function(t){if(""!==i[t]){var e=Ze.getBackgroundPosition(m[t],n.bounds,n.dpi,n.fontSize),r=s[t],a="center"===e.horizontal&&"center"===e.vertical?"center":"".concat("center"===e.horizontal?"center_horizontal":e.horizontal,"|").concat("center"===e.vertical?"center_vertical":e.vertical),o="",d="",u="",h="",p="",g=!r||r.width<n.bounds.width||r.height<n.bounds.height;switch(l[t]){case"repeat-x":g&&(h="repeat");break;case"repeat-y":g&&(p="repeat");break;case"no-repeat":u="disabled";break;case"repeat":g&&(u="repeat")}if(""!==a&&r&&r.width>0&&r.height>0&&0===n.renderChildren.length){if("repeat"===p){var v=0;if(r.width<(v=n.hasWidth?n.width+n.paddingLeft+n.paddingRight:n.bounds.width-(n.borderLeftWidth+n.borderRightWidth))){var y=$e.convertInt(n.android("layout_width"));-1!==a.indexOf("left")?(e.right=v-r.width,n.hasWidth&&v>y&&n.android("layout_width",$e.formatPX(n.bounds.width))):-1!==a.indexOf("right")?(e.left=v-r.width,n.hasWidth&&v>y&&n.android("layout_width",$e.formatPX(n.bounds.width))):"center"!==a&&-1===a.indexOf("center_horizontal")||(e.left=Math.floor((v-r.width)/2),o=$e.formatPX(r.width),n.hasWidth&&v>y&&n.android("layout_width",$e.formatPX(n.bounds.width)))}}if("repeat"===h){var b=0;if(r.height<(b=n.hasHeight?n.height+n.paddingTop+n.paddingBottom:n.bounds.height-(n.borderTopWidth+n.borderBottomWidth))){var E=$e.convertInt(n.android("layout_height"));-1!==a.indexOf("top")?(e.bottom=b-r.height,!n.hasHeight&&b>E&&n.android("layout_height",$e.formatPX(n.bounds.height))):-1!==a.indexOf("bottom")?(e.top=b-r.height,!n.hasHeight&&b>E&&n.android("layout_height",$e.formatPX(n.bounds.height))):"center"!==a&&-1===a.indexOf("center_vertical")||(e.top=Math.floor((b-r.height)/2),d=$e.formatPX(r.height),!n.hasHeight&&b>E&&n.android("layout_height",$e.formatPX(n.bounds.height)))}}}if(R)if(n.of(f.IMAGE,2048)&&1===m.length){n.android("src","@drawable/".concat(i[0])),e.left>0&&n.modifyBox(16,e.left),e.top>0&&n.modifyBox(2,e.top);var T="";switch(a){case"left|top":case"left|center_vertical":case"left|bottom":T="fitStart";break;case"right|top":case"right|center_vertical":case"right|bottom":T="fitEnd";break;case"center":case"center_horizontal|top":case"center_horizontal|bottom":T="center"}if(n.android("scaleType",T),!S)return{v:{v:void 0}};i.length=0}else{var w={top:0!==e.top?$e.formatPX(e.top):"",right:0!==e.right?$e.formatPX(e.right):"",bottom:0!==e.bottom?$e.formatPX(e.bottom):"",left:0!==e.left?$e.formatPX(e.left):"",gravity:a,tileMode:u,tileModeX:h,tileModeY:p,width:o,height:d,src:i[t]};if("auto"!==c[t]&&"auto auto"!==c[t]&&"initial"!==c[t])switch(c[t]){case"cover":case"contain":case"100% 100%":o="",d="",u="",h="",p="",a="";break;default:var x=c[t].split(" ");"100%"===x[0]?h="":"100%"===x[1]&&(p=""),x.forEach(function(e,r){"auto"!==e&&"100%"!==e&&(w[0===r?"width":"height"]=n.convertPX(c[t],0===r,!1))})}""!==a||""!==u||""!==h||""!==p?P.push(w):N.push(w)}}},D=0;D<i.length;D++){var B=L(D);if("object"===t(B))return B.v}P.sort(function(t,e){return"repeat"!==t.tileModeX&&"repeat"!==t.tileModeY&&"repeat"!==t.tileMode?1:"repeat"!==e.tileModeX&&"repeat"!==e.tileModeY&&"repeat"!==e.tileMode?-1:"repeat"===t.tileMode?-1:"repeat"===e.tileMode?1:"repeat"===e.tileModeX||"repeat"===e.tileModeY?1:-1});var M,z=tn(r,"backgroundColor"),G=tn(r,"radius"),H=d.length&&d.some(function(t){return t.colorStop.length>0});if(H){var V=n.bounds.width,F=n.bounds.height,W=Je.createTemplate(Je.parseTemplate(je),{namespace:Z("aapt"),width:$e.formatPX(V),height:$e.formatPX(F),viewportWidth:""+V,viewportHeight:""+F,alpha:"",1:[{2:[{clipPaths:!1,d:Ye.getRect(V,F),fill:[{gradients:d}]}]}]}),U=X.getStoredName("drawables",W);""===U&&(U="".concat(n.tagName.toLowerCase(),"_").concat(n.controlId,"_gradient"),X.STORED.drawables.set(U,W)),o.push({vectorName:U})}if(r.border&&!("double"===r.border.style&&parseInt(r.border.width)>2||("groove"===r.border.style||"ridge"===r.border.style)&&parseInt(r.border.width)>1))!R&&d.length<=1&&!H?(G&&void 0===G[0].radius&&(G[0].radius="1px"),M=Je.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">\n!1\n\t<stroke android:width="{&width}" {~borderStyle} />\n!1\n!2\n\t<solid android:color="@color/{&color}" />\n!2\n!3\n\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" android:bottomRightRadius="{~bottomRightRadius}" />\n!3\n!4\n\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:angle="{~angle}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" />\n!4\n</shape>'),C={1:tn(r,"stroke"),2:z,3:G,4:!!d.length&&d}):(M=Je.parseTemplate(Ue),C={1:z,2:!(H||!d.length)&&d,3:o,4:!1,5:!!N.length&&N,6:!!P.length&&P,7:!(!X.isBorderVisible(r.border)&&!G)&&[{stroke:tn(r,"stroke"),corners:G}]});else{var j=function(t){return t+($?0:1===t?1:2)};M=Je.parseTemplate(Ue),C={1:z,2:!(H||!d.length)&&d,3:o,4:!1,5:!!N.length&&N,6:!!P.length&&P,7:[]};var Y=new Set(I.map(function(t){return t.width})),K=new Set(I.map(function(t){return Qe(t)})),q=I[0],$=_[1]&&_[2];if(1===Y.size&&1===K.size&&"groove"!==q.style&&"ridge"!==q.style){var J=parseInt(q.width);if(J>2&&"double"===q.style)en.apply(null,[q].concat(_,[C,G]));else{var Q="-".concat($e.formatPX(j(J))),tt=!_[0]&&!_[3];C[7].push({top:_[0]?"":Q,right:_[1]?_[3]||tt||_[0]&&_[1]&&_[2]&&!_[3]?"":q.width:Q,bottom:_[2]?_[0]||tt||!_[0]&&_[1]&&_[2]&&_[3]?"":q.width:Q,left:_[3]?"":Q,stroke:tn({border:q},"stroke"),corners:G})}}else for(var et=0;et<k.length;et++)if(_[et]){var nt=k[et],rt=parseInt(nt.width);if(rt>2&&"double"===nt.style)en(nt,0===et,1===et,2===et,3===et,C,G);else{var at=rt>1&&("groove"===nt.style||"ridge"===nt.style),it=j(at?Math.ceil(rt/2):rt),ot="-".concat($e.formatPX(it)),lt="-".concat($e.formatPX(it+($?1:0)));C[7].push({top:0===et?"":lt,right:1===et?$||"1px"!==nt.width?"":nt.width:ot,bottom:2===et?$||"1px"!==nt.width?"":nt.width:ot,left:3===et?"":ot,stroke:tn({border:nt},"stroke",et,at),corners:G}),at&&(ot="-".concat($e.formatPX(j(rt))),lt="-".concat($e.formatPX(rt+($?1:0))),C[7].unshift({top:0===et?"":lt,right:1===et?$||"1px"!==nt.width?"":nt.width:ot,bottom:2===et?$||"1px"!==nt.width?"":nt.width:ot,left:3===et?"":ot,stroke:tn({border:nt},"stroke",et,!0,!0),corners:!1}))}}}if(M){var st=Je.createTemplate(M,C);""===(O=X.getStoredName("drawables",st))&&(O="".concat(n.tagName.toLowerCase(),"_").concat(n.controlId),X.STORED.drawables.set(O,st))}if(n.android("background","@drawable/".concat(O),!1),R&&(n.data("RESOURCE","backgroundImage",!0),e.options.autoSizeBackgroundImage&&!n.documentRoot&&!n.imageElement&&!n.svgElement&&n.renderParent&&!n.renderParent.tableElement&&!n.hasBit("excludeProcedure",qe.NODE_PROCEDURE.AUTOFIT))){var dt={width:0,height:0};if(s.forEach(function(t){t&&(dt.width=Math.max(dt.width,t.width),dt.height=Math.max(dt.height,t.height))}),0===dt.width)for(var ct=n;ct&&!ct.documentBody&&(ct.hasWidth&&(dt.width=ct.bounds.width),ct.hasHeight&&(dt.height=ct.bounds.height),ct.pageFlow&&!(dt.width>0&&dt.height>0));)ct=ct.documentParent;if(!n.has("width",2)){var ut=n.bounds.width+(n.is(f.LINE)?0:n.borderLeftWidth+n.borderRightWidth);(0===dt.width||ut>0&&ut<dt.width)&&n.css("width",$e.formatPX(ut),!0)}if(!n.has("height",2)){var ht=n.bounds.height+(n.is(f.LINE)?0:n.borderTopWidth+n.borderBottomWidth);(0===dt.height||ht>0&&ht<dt.height)&&(n.css("height",$e.formatPX(ht),!0),n.marginTop<0&&n.modifyBox(2,null),n.marginBottom<0&&n.modifyBox(8,null))}}}else!n.data(X.KEY_NAME,"fontStyle")&&$e.hasValue(r.backgroundColor)&&n.android("background","@color/".concat(r.backgroundColor),!1)}();if("object"===t(a))return a.v}})}}]),a}(),rn=androme.lib.util;function an(t,e,n){var r=t.entries(),a=Array.isArray(r),i=0;for(r=a?r:r[Symbol.iterator]();;){var o;if(a){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var l=u(o,2),s=l[0],d=l[1];if(s.startsWith(e)&&n===d)return s}return t.has(e)&&t.get(e)!==n?X.generateId("dimen",e,1):e}function on(t){return rn.convertUnderscore(t).replace("layout_","")}function ln(t){return rn.lastIndexOf(t,".")}var sn=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return i(n,androme.lib.base.Extension),r(n,[{key:"afterProcedure",value:function(){for(var t={},e=function(){if(n){if(r>=a.length)return"break";i=a[r++]}else{if((r=a.next()).done)return"break";i=r.value}var e=i,o=e.tagName.toLowerCase();void 0===t[o]&&(t[o]={}),["android","app"].forEach(function(n){var r=e.namespace(n);for(var a in r){var i=r[a].trim();if(/^-?[\d.]+(px|dp|sp)$/.test(i)){var l="".concat(n,",").concat(a,",").concat(i);void 0===t[o][l]&&(t[o][l]=[]),t[o][l].push(e)}}})},n=Array.isArray(a=this.application.session.cache.visible),r=0,a=n?a:a[Symbol.iterator]();;){var i;if("break"===e())break}var o=X.STORED.dimens;for(var l in t){var s=t[l],d=function(t){var e=u(t.split(","),3),n=e[0],r=e[1],a=e[2],i=an(o,"".concat(ln(l),"_").concat(on(r)),a);s[t].forEach(function(t){return t[n](r,"@dimen/".concat(i))}),o.set(i,a)};for(var c in s)d(c)}}},{key:"afterFinalize",value:function(){for(var t=X.STORED.dimens,e=Array.isArray(r=this.application.viewData),n=0,r=e?r:r[Symbol.iterator]();;){var a;if(e){if(n>=r.length)break;a=r[n++]}else{if((n=r.next()).done)break;a=n.value}for(var i=a,o=/[\s\n]+<[^<]*?(\w+):(\w+)="(-?[\d.]+(?:px|dp|sp))"/,l=void 0,s=i.content;null!==(l=o.exec(s));){var d=/^[\s\n]+<([\w\-.]+)[\s\n]/.exec(l[0]);if(d){var c=an(t,"".concat(ln(d[1]).toLowerCase(),"_").concat(on(l[2])),l[3]);t.set(c,l[3]),s=s.replace(l[0],l[0].replace(l[3],"@dimen/".concat(c)))}}i.content=s}}}]),n}(),dn=androme.lib.dom,cn=androme.lib.enumeration,un=androme.lib.util,hn={"sans-serif":14,"sans-serif-thin":16,"sans-serif-light":16,"sans-serif-condensed":16,"sans-serif-condensed-light":16,"sans-serif-medium":21,"sans-serif-black":21,"sans-serif-smallcaps":21,"serif-monospace":21,serif:21,casual:21,cursive:21,monospace:21,"sans-serif-condensed-medium":26},fn={arial:"sans-serif",helvetica:"sans-serif",tahoma:"sans-serif",verdana:"sans-serif",times:"serif","times new roman":"serif",palatino:"serif",georgia:"serif",baskerville:"serif",goudy:"serif",fantasy:"serif","itc stone serif":"serif","sans-serif-monospace":"monospace",monaco:"monospace",courier:"serif-monospace","courier new":"serif-monospace"},pn={"ms shell dlg \\32":"sans-serif","system-ui":"sans-serif","-apple-system":"sans-serif"};dn.isUserAgent(8)&&(pn.consolas="monospace");var mn={100:"thin",200:"extra_light",300:"light",400:"normal",500:"medium",600:"semi_bold",700:"bold",800:"extra_bold",900:"black"},gn={fontFamily:'android:fontFamily="{0}"',fontStyle:'android:textStyle="{0}"',fontWeight:'android:fontWeight="{0}"',fontSize:'android:textSize="{0}"',color:'android:textColor="@color/{0}"',backgroundColor:'android:background="@color/{0}"'};function vn(t,e,n){e.split(";").forEach(function(e){for(var r=0;r<t.length;r++)if(t[r]){var a=-1,i="";for(var o in t[r])if(o===e){a=r,i=o,r=t.length;break}if(-1!==a){t[a][i]=t[a][i].filter(function(t){return!n.includes(t)}),0===t[a][i].length&&delete t[a][i];break}}})}var yn=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).options={fontResourceValue:!0},t.eventOnly=!0,t}return i(n,androme.lib.base.Extension),r(n,[{key:"afterParseDocument",value:function(){for(var t=this,e=this.application.userSettings,n={},r={},a=Array.isArray(o=this.application.session.cache),i=0,o=a?o:o[Symbol.iterator]();;){var l;if(a){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}var s=l;s.visible&&s.data(X.KEY_NAME,"fontStyle")&&!s.hasBit("excludeResource",cn.NODE_RESOURCE.FONT_STYLE)&&(void 0===n[s.tagName]&&(n[s.tagName]=[]),n[s.tagName].push(s))}for(var d in n){for(var c=[],u=Array.isArray(p=n[d]),f=0,p=u?p:p[Symbol.iterator]();;){var m;if(u){if(f>=p.length)break;m=p[f++]}else{if((f=p.next()).done)break;m=f.value}var g=m,v=g.id,y=g.companion;y&&!y.visible&&"LABEL"===y.tagName&&(g=y);var b=Object.assign({},g.data(X.KEY_NAME,"fontStyle")),E=!1;if(b.backgroundColor=X.addColor(b.backgroundColor),b.fontFamily){var T=b.fontFamily.split(",")[0].replace(/"/g,"").toLowerCase().trim(),w="",x="";if(b.color=X.addColor(b.color),this.options.fontResourceValue&&pn[T]&&(T=pn[T]),hn[T]&&g.localSettings.targetAPI>=hn[T]||this.options.fontResourceValue&&fn[T]&&g.localSettings.targetAPI>=hn[fn[T]]?(E=!0,b.fontFamily=T,"normal"===b.fontStyle&&delete b.fontStyle,"400"===b.fontWeight&&delete b.fontWeight):(T=un.convertWord(T),b.fontFamily="@font/".concat(T+("normal"!==b.fontStyle?"_".concat(b.fontStyle):"")+("400"!==b.fontWeight?"_".concat(mn[b.fontWeight]||b.fontWeight):"")),w=b.fontStyle,x=b.fontWeight,delete b.fontStyle,delete b.fontWeight),!E){var A=X.STORED.fonts.get(T)||{};A["".concat(w,"-").concat(mn[x]||x)]=!0,X.STORED.fonts.set(T,A)}}for(var S=Object.keys(gn),R=0;R<S.length;R++){void 0===c[R]&&(c[R]={});var k=b[S[R]];if(un.hasValue(k)&&g.supported("android",S[R])){var I=un.formatString(gn[S[R]],k);void 0===c[R][I]&&(c[R][I]=[]),c[R][I].push(v)}}}r[d]=c}var _={},C={};for(var N in r){_[N]={},C[N]={};var P=n[N].length,O=r[N].filter(function(t){return Object.keys(t).length}).sort(function(t,e){var n=0,r=0,a=0,i=0;for(var o in t)n=Math.max(t[o].length,n),a+=t[o].length;for(var l in e)e[l]&&(r=Math.max(e[l].length,r),i+=e[l].length);return n!==r?n>r?-1:1:a!==i?a>i?-1:1:0});do{if(1===O.length){for(var L in O[0]){var D=O[0][L];1===D.length?C[N][L]=D:D.length>1&&(_[N][L]=D)}O.length=0}else{for(var B={},M={},z=function(t){if(!O[t])return"continue";var e={},n={},r=new Set;for(var a in O[t]){var i=O[t][a],o=!1;if(i&&0!==i.length&&(i.length===P?(B[a]=i.slice(),O[t]={},o=!0):1===i.length&&(M[a]=i.slice(),O[t][a]=[],o=!0),!o)){for(var l={},s=!1,d=0;d<O.length;d++)if(t!==d&&O[d])for(var c in O[d]){var u=O[d][c];if(u.length)for(var f=Array.isArray(m=i),p=0,m=f?m:m[Symbol.iterator]();;){var g;if(f){if(p>=m.length)break;g=m[p++]}else{if((p=m.next()).done)break;g=p.value}var v=g;u.includes(v)&&(void 0===l[c]&&(l[c]=[]),l[c].push(v))}}for(var y in l)l[y].length>1&&(e[[a,y].sort().join(";")]=l[y],s=!0);s||(e[a]=i)}}for(var b in e)for(var E in e)if(b!==E&&e[b].join("")===e[E].join("")){var T=e[b].join(",");n[T]=n[T]?new Set([].concat(h(n[T]),h(E.split(";")))):new Set([].concat(h(b.split(";")),h(E.split(";")))),r.add(b).add(E)}for(var w in r.forEach(function(t){return delete e[t]}),e)vn(O,w,e[w]),_[N][w]=e[w];for(var x in n){var A=Array.from(n[x]).sort().join(";"),S=x.split(",").map(function(t){return parseInt(t)});vn(O,A,S),_[N][A]=S}},G=0;G<O.length;G++)z(G);var H=Object.keys(B);for(var V in H.length&&(H.length>1||B[H[0]].length>1?_[N][H.join(";")]=B[H[0]]:Object.assign(M,B)),M)C[N][V]=M[V];for(var F=0;F<O.length;F++)O[F]&&0===Object.keys(O[F]).length&&delete O[F];O=O.filter(function(t){if(t)for(var e in t)if(t[e]&&t[e].length)return!0;return!1})}}while(O.length)}var W={},j={},Y=new Set,K=function(t){var e=_[t],n=[];for(var r in e)n.push({name:"",attrs:r,ids:e[r]});n.sort(function(t,e){var n=[t.ids.length,e.ids.length],r=n[0],a=n[1];if(r===a){var i=[t.attrs.split(";").length,e.attrs.split(";").length];r=i[0],a=i[1]}return r<=a?1:-1}),n.forEach(function(e,n){return e.name=un.capitalize(t)+(n>0?"_".concat(n):"")}),W[t]=n};for(var Z in _)K(Z);for(var q in W){for(var $=Array.isArray(Q=W[q]),J=0,Q=$?Q:Q[Symbol.iterator]();;){var tt;if($){if(J>=Q.length)break;tt=Q[J++]}else{if((J=Q.next()).done)break;tt=J.value}for(var et=tt,nt=Array.isArray(at=et.ids),rt=0,at=nt?at:at[Symbol.iterator]();;){var it;if(nt){if(rt>=at.length)break;it=at[rt++]}else{if((rt=at.next()).done)break;it=rt.value}var ot=it;void 0===j[ot]&&(j[ot]={styles:[],attrs:[]}),j[ot].styles.push(et.name)}}var lt=C[q];if(lt)for(var st in lt)for(var dt=Array.isArray(ut=lt[st]),ct=0,ut=dt?ut:ut[Symbol.iterator]();;){var ht;if(dt){if(ct>=ut.length)break;ht=ut[ct++]}else{if((ct=ut.next()).done)break;ht=ct.value}var ft=ht;void 0===j[ft]&&(j[ft]={styles:[],attrs:[]}),j[ft].attrs.push(st)}}var pt=function(n){var r=t.application.session.cache.find("id",parseInt(n));if(r){var a=j[n].styles;a.length&&(Y.add(a.join(".")),r.attr("_","style","@style/".concat(a.pop()))),j[n].attrs.sort().forEach(function(t){return r.formatted(U(t,e.resolutionDPI,e.convertPixels,!0),!1)})}};for(var mt in j)pt(mt);for(var gt=function(){if(vt){if(yt>=bt.length)return"break";Et=bt[yt++]}else{if((yt=bt.next()).done)return"break";Et=yt.value}var t="";Et.split(".").forEach(function(e){var n=e.match(/^(\w*?)(?:_(\d+))?$/);if(n){var r=Object.assign({name:e,parent:t},W[n[1].toUpperCase()][void 0===n[2]?0:parseInt(n[2])]);X.STORED.styles.set(e,r),t=e}})},vt=Array.isArray(bt=Y),yt=0,bt=vt?bt:bt[Symbol.iterator]();;){var Et;if("break"===gt())break}}}]),n}(),bn=androme.lib.util,En=androme.lib.xml,Tn=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return i(n,androme.lib.base.Extension),r(n,[{key:"afterDepthLevel",value:function(){for(var t=this,e=this.application.processing,n=function(){if(r){if(a>=i.length)return"break";o=i[a++]}else{if((a=i.next()).done)return"break";o=a.value}var n=o,l=[],s=[];if(n.each(function(t,e){var n=bn.hasValue(t.dataset.androidInclude),r="true"===t.dataset.androidIncludeEnd;if(n||r){var a="true"===t.dataset.androidIncludeMerge,i={item:t,name:(t.dataset.androidInclude||"").trim(),index:e,merge:a};n&&l.push(i),r&&s.push(i)}},!0),l.length&&s.length){l.length=Math.min(l.length,s.length);for(var d=l.length;d<s.length;d++)s.shift();for(var c=l.length-1;c>=0;c--)for(var h=l[c],f=0;f<s.length;f++){var p=s[f];if(p.index>=h.index){for(var m=new Map,g=!0,v=h.index;v<=p.index;v++){var y=n.renderChildren[v],b=e.depthMap.get(n.id);if(b&&b.has(y.renderPositionId)){var E=m.get(n.id)||[];E.push(y),m.set(n.id,E)}else g=!1}if(g){var T=new Map,w=[],x=0,A=function(){if(R){if(k>=S.length)return"break";I=S[k++]}else{if((k=S.next()).done)return"break";I=k.value}var e=u(I,2),n=e[1],r=m.get(e[0]);if(r){var a=[],i=function(){if(l){if(s>=o.length)return"break";d=o[s++]}else{if((s=o.next()).done)return"break";d=s.value}var e=u(d,2),i=e[0],c=e[1],f=r.find(function(t){return t.renderPositionId===i});if(f){if(0===x){var p=t.application.controllerHandler.renderNodeStatic("include",f.renderDepth,{layout:"@layout/".concat(h.name)});n.set(i,p),x++}else a.push(i);T.set(i,c),w.push(f)}},o=n.entries(),l=Array.isArray(o),s=0;for(o=l?o:o[Symbol.iterator]();;){var d;if("break"===i())break}a.forEach(function(t){return n.delete(t)})}},S=e.depthMap.entries(),R=Array.isArray(S),k=0;for(S=R?S:S[Symbol.iterator]();;){var I;if("break"===A())break}if(T.size){for(var _=t.application.controllerHandler,C=h.merge||T.size>1,N=C?1:0,P=0;P<w.length;P++){var O=w[P];if(O.renderDepth!==N){var L=O.renderPositionId,D=T.get(L);D&&T.set(L,_.replaceIndent(D,N,_.cache.children))}}var B=Array.from(T.values()).join("");if(C)B=_.getEnclosingTag("merge",0,0,B);else if(!h.item.documentRoot){var M=En.formatPlaceholder(h.item.id,"@");B=B.replace(M,"{#0}".concat(M))}t.application.addIncludeFile(h.name,B)}}s.splice(f,1);break}}}},r=Array.isArray(i=e.cache),a=0,i=r?i:i[Symbol.iterator]();;){var o;if("break"===n())break}}}]),n}(),wn=androme.lib.dom,xn=androme.lib.enumeration,An=androme.lib.util,Sn=androme.lib.xml,Rn=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).options={numberResourceValue:!1},t.eventOnly=!0,t}return i(n,androme.lib.base.Extension),r(n,[{key:"afterResources",value:function(){for(var t=this,e=Array.isArray(r=this.application.processing.cache),n=0,r=e?r:r[Symbol.iterator]();;){var a;if(e){if(n>=r.length)break;a=r[n++]}else{if((n=r.next()).done)break;a=n.value}var i=a;if(!i.hasBit("excludeResource",xn.NODE_RESOURCE.VALUE_STRING))if(i.baseElement instanceof HTMLSelectElement){var o=u(X.getOptionArray(i.baseElement),2),l=o[1],s=[];if(s.push.apply(s,h(!this.options.numberResourceValue&&l&&l.length?l:An.flatMap(o[0]||l||[],function(e){return""!==(e=X.addString(Sn.replaceCharacter(e),"",t.options.numberResourceValue))?"@string/".concat(e):""}))),s.length){var d=s.join("-"),c="",f=X.STORED.arrays.entries(),p=Array.isArray(f),m=0;for(f=p?f:f[Symbol.iterator]();;){var g;if(p){if(m>=f.length)break;g=f[m++]}else{if((m=f.next()).done)break;g=m.value}var v=u(g,2),y=v[0];if(d===v[1].join("-")){c=y;break}}""===c&&X.STORED.arrays.set(c="".concat(i.controlId,"_array"),s),i.android("entries","@array/".concat(c),!1)}}else{var b=i.data(X.KEY_NAME,"valueString");if(b){var E=i.renderParent;if(E&&E.layoutRelative&&i.alignParent("left")&&!wn.cssParent(i.element,"whiteSpace","pre","pre-wrap")){for(var T=i.textContent,w=0,x=0;x<T.length;x++)switch(T.charCodeAt(x)){case 160:w++;case 32:continue}0===w&&(b.value=b.value.replace(/^(\s|&#160;)+/,""))}b.value=Sn.replaceCharacter(b.value),i.htmlElement&&"small-caps"===i.css("fontVariant")&&(b.value=b.value.toUpperCase());var A=i.actualParent;if(A){var S=0;(A.blockDimension||i.blockDimension)&&(S=i.toInt("textIndent")||A.toInt("textIndent")),0===S||!i.blockDimension&&A.firstChild!==i||(S>0?b.value="&#160;".repeat(Math.floor(S/7))+b.value:i.toInt("textIndent")+i.bounds.width<0&&(b.value=""))}var R=X.addString(b.value,b.name,this.options.numberResourceValue);""!==R&&i.android("text",isNaN(parseInt(R))||""+parseInt(R)!==R?"@string/".concat(R):R,!1)}}}}}]),n}(),kn=androme.lib.util,In=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return i(n,androme.lib.base.Extension),r(n,[{key:"afterProcedure",value:function(){for(var t={},e=Array.isArray(r=this.application.session.cache.visible),n=0,r=e?r:r[Symbol.iterator]();;){var a;if(e){if(n>=r.length)break;a=r[n++]}else{if((n=r.next()).done)break;a=n.value}var i=a,o=i.renderChildren;i.controlId&&o.length>1&&function(){for(var e=new Map,n="",r=!0,a=function(t){var a=!1;if(o[t].combine("_","android").some(function(i){if(i.startsWith("style=")){if(0===t)n=i;else if(""===n||i!==n)return r=!1,!0;a=!0}else e.set(i,(e.get(i)||0)+1);return!1}),!r||""!==n&&!a)return r=!1,"break"},l=0;l<o.length;l++){if("break"===a(l))break}if(r){var s=e.entries(),d=Array.isArray(s),c=0;for(s=d?s:s[Symbol.iterator]();;){var h;if(d){if(c>=s.length)break;h=s[c++]}else{if((c=s.next()).done)break;h=c.value}var f=u(h,2);f[1]!==o.length&&e.delete(f[0])}if(e.size>1){""!==n&&(n=kn.trimString(n.substring(n.indexOf("/")+1),'"'));var p=[],m=function(){if(v){if(y>=g.length)return"break";b=g[y++]}else{if((y=g.next()).done)return"break";b=y.value}var t=b.match(/(\w+):(\w+)="(.*?)"/);t&&(o.forEach(function(e){return e.delete(t[1],t[2])}),p.push(t[0]))},g=e.keys(),v=Array.isArray(g),y=0;for(g=v?g:g[Symbol.iterator]();;){var b;if("break"===m())break}p.sort();var E="";for(var T in t)if(t[T].join(";")===p.join(";")){E=T;break}""!==E&&""!==n&&E.startsWith("".concat(n,"."))||(E=kn.convertCamelCase((""!==n?"".concat(n,"."):"")+kn.capitalize(i.controlId),"_"),t[E]=p),o.forEach(function(t){return t.attr("_","style","@style/".concat(E))})}}}()}for(var l in t)X.STORED.styles.set(l,{name:l,attrs:t[l].join(";"),ids:[]})}}]),n}(),_n=androme.lib.base.Svg,Cn=androme.lib.base.SvgAnimate,Nn=androme.lib.base.SvgAnimateMotion,Pn=androme.lib.base.SvgAnimateTransform,On=androme.lib.base.SvgBuild,Ln=androme.lib.base.SvgGroupViewBox,Dn=androme.lib.base.SvgImage,Bn=androme.lib.base.SvgPath,Mn=androme.lib.base.SvgUse,Xn=androme.lib.color,zn=androme.lib.dom,Gn=androme.lib.svg,Hn=androme.lib.util,Vn=androme.lib.xml,Fn={ACCELERATE_DECELERATE:"@android:anim/accelerate_decelerate_interpolator",ACCELERATE:"@android:anim/accelerate_interpolator",ANTICIPATE:"@android:anim/anticipate_interpolator",ANTICIPATE_OVERSHOOT:"@android:anim/anticipate_overshoot_interpolator",BOUNCE:"@android:anim/bounce_interpolator",CYCLE:"@android:anim/cycle_interpolator",DECELERATE:"@android:anim/decelerate_interpolator",LINEAR:"@android:anim/linear_interpolator",OVERSHOOT:"@android:anim/overshoot_interpolator"},Wn={stroke:"strokeColor",fill:"fillColor",opacity:"alpha","stroke-opacity":"strokeAlpha","fill-opacity":"fillAlpha","stroke-width":"strokeWidth",d:"pathData"};function Un(t,e){for(var n=t.parentElement,r=0,a=0;n instanceof SVGSVGElement&&n!==e;){var i=Gn.createTransformData(n);r+=n.x.baseVal.value+i.translateX,a+=n.y.baseVal.value+i.translateY,n=n.parentElement}return{x:r,y:a}}var jn=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).options={vectorAnimateOrdering:"together",vectorAnimateInterpolator:Fn.LINEAR,vectorAnimateAlwaysUseKeyframes:!0},t.eventOnly=!0,t}return i(n,androme.lib.base.Extension),r(n,[{key:"beforeInit",value:function(){this.application.controllerHandler.localSettings.unsupported.tagName.delete("svg")}},{key:"afterResources",value:function(){for(var t=this,e=function(){if(n){if(r>=a.length)return"break";i=a[r++]}else{if((r=a.next()).done)return"break";i=r.value}var e=i;if(e.svgElement){var o=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=e.animate.filter(n);a.length&&f.set(t,{element:e.element,animate:a,pathData:r})},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n="group_".concat(t.name),r={name:n,2:[]},a=t instanceof Ln?t.x:0,i=t instanceof Ln?t.y:0;if(t.transformable){var l=Gn.createTransformData(t.element);if(l.operations.length){a+=l.translateX,i+=l.translateY,1!==l.scaleX&&(r.scaleX=""+l.scaleX),1!==l.scaleY&&(r.scaleY=""+l.scaleY),0!==l.rotateAngle&&(r.rotation=""+l.rotateAngle);var s=l.rotateOriginX||0,d=l.rotateOriginY||0;l.origin&&(s+=l.origin.x,d+=l.origin.y),0!==s&&(r.pivotX=""+s),0!==d&&(r.pivotY=""+d)}}return 0!==a&&(r.translateX=""+a),0!==i&&(r.translateY=""+i),o(n,t,function(t){return t instanceof Pn||e.includes(t.attributeName)},t instanceof Mn&&t.path?t.path.d:""),r},s=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=t.name,i=[];if(""!==n.clipPath){var l=d.defs.clipPath.get(n.clipPath);l&&l.each(function(t){t.path&&(i.push({name:t.name,d:t.path.d}),o(t.name,t,function(t){return!(t instanceof Pn||t instanceof Nn)},t.path.d))})}var s=Object.assign({},n,{name:a,clipPaths:i});if(["fill","stroke"].forEach(function(n){if(Hn.isString(s[n])){if("@"===s[n].charAt(0)){var r=d.defs.gradient.get(s[n]);if(r)switch(t.element.tagName){case"path":if(!/[zZ]\s*$/.test(s.d))break;case"rect":case"polygon":case"polyline":case"circle":case"ellipse":var a=X.createBackgroundGradient(e,[r],s);return s[n]=[{gradients:a}],void c.add("aapt")}else s[n]=s.color}var i=X.addColor(s[n]);""!==i&&(s[n]="@color/".concat(i))}}),s.fillRule)switch(s.fillRule){case"evenodd":s.fillRule="evenOdd";break;default:s.fillRule="nonZero"}return o(a,t,function(t){return!(t instanceof Pn||t instanceof Nn||r.includes(t.attributeName))},s.d),s},d=new _n(e.element),c=new Set,f=new Map,p="".concat(e.tagName.toLowerCase(),"_").concat(e.controlId),m=[],g="",v="";if(d.length){o(d.name,d,function(t){return"opacity"===t.attributeName});for(var y,b=[],E=0;E<d.children.length;E++){var T=d.children[E];if(E>0&&(y=l(T,T instanceof Ln?["x","y"]:[])),T instanceof Mn)y&&T.path&&y[2].push(s(T,T.path,["x","y","width","height"]));else for(var w=Array.isArray(A=T.children),x=0,A=w?A:A[Symbol.iterator]();;){var S;if(w){if(x>=A.length)break;S=A[x++]}else{if((x=A.next()).done)break;S=x.value}var R=S;if(R instanceof Dn)R.setExternal(),m.push(R);else if(R.visible&&R.path){var k=!1;0===E&&((R.transformable&&!R.path.transformed||R.animate.some(function(t){return t instanceof Pn}))&&(y=l(R),b.push(y),k=!0),void 0===y&&(y=l(T),b.push(y))),y&&y[2].push(s(R,R.path)),k&&(y=void 0)}}E>0&&y&&b.push(y)}if((b=b.filter(function(t){return t[2].length>0})).length){var I=Vn.createTemplate(Vn.parseTemplate(je),{namespace:c.size?Z.apply(void 0,h(Array.from(c))):"",name:d.name,width:Hn.formatPX(d.width),height:Hn.formatPX(d.height),viewportWidth:d.viewBoxWidth>0&&""+d.viewBoxWidth,viewportHeight:d.viewBoxHeight>0&&""+d.viewBoxHeight,alpha:d.opacity<1&&""+d.opacity,1:b});if(""===(v=X.getStoredName("drawables",I))&&X.STORED.drawables.set(v=p+(m.length?"_vector":""),I),f.size){var _={vectorName:v,1:[]},C=f.entries(),N=Array.isArray(C),P=0;for(C=N?C:C[Symbol.iterator]();;){var O;if(N){if(P>=C.length)break;O=C[P++]}else{if((P=C.next()).done)break;O=P.value}for(var L=u(O,2),D=L[1],B={name:L[0],ordering:zn.getDataSet(D.element,"android").ordering||t.options.vectorAnimateOrdering,objectAnimators:[]},M=new Map,z=Array.isArray(H=D.animate),G=0,H=z?H:H[Symbol.iterator]();;){var V;if(z){if(G>=H.length)break;V=H[G++]}else{if((G=H.next()).done)break;V=G.value}var F=V,W=void 0,U=void 0,j=void 0,Y=0;F instanceof Cn?-1!==F.duration?(j=F.duration,void 0!==F.repeatCount&&void 0!==F.repeatDur?Y=-1===F.repeatCount&&-1===F.repeatDur?-1:-1!==F.repeatCount&&-1!==F.repeatDur?(F.repeatCount+1)*j<=F.repeatDuration?F.repeatCount:Math.round(F.repeatDuration/j):-1!==F.repeatDur?Math.round(F.repeatDuration/j):F.repeatCount:void 0!==F.repeatDur?Y=Math.round(F.repeatDuration/j):void 0!==F.repeatCount&&(Y=F.repeatCount)):void 0!==F.repeatDur&&(j=F.repeatDuration):j=F.duration;var K={startOffset:-1!==F.begin?""+F.begin:"",duration:void 0!==j?""+j:"",repeatCount:""+Y},q=zn.getDataSet(F.element,"android");if(F instanceof Pn){var $="true"===q.fillbefore||"true"===q.fillBefore,J="true"===q.fillafter||"true"===q.fillAfter;if($&&J){var Q=!("false"===q.fillenabled||"false"===q.fillEnabled);$=Q,J=!Q}switch($&&(K.fillBefore="true"),J&&(K.fillAfter="true"),F.attributeName){case"transform":switch(F.type){case SVGTransform.SVG_TRANSFORM_ROTATE:U=Pn.toRotateList(F.values),W=["rotation","pivotX","pivotY"];break;case SVGTransform.SVG_TRANSFORM_SCALE:U=Pn.toScaleList(F.values),W=["scaleX","scaleY"];break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:U=Pn.toTranslateList(F.values),W=["translateX","translateY"]}K.valueType="floatType"}}else{switch(F.attributeName){case"stroke":case"fill":break;case"opacity":case"stroke-opacity":case"fill-opacity":K.valueType="floatType";break;case"stroke-width":K.valueType="intType";break;case"d":case"x":if(F.parentElement instanceof SVGUseElement||F.parentElement instanceof SVGSVGElement){W=["translateX"],K.valueType="floatType";break}case"x1":case"x2":case"cx":case"y":if(F.parentElement instanceof SVGUseElement||F.parentElement instanceof SVGSVGElement){W=["translateX"],K.valueType="floatType";break}case"y1":case"y2":case"cy":case"r":case"rx":case"ry":case"width":case"height":case"points":K.valueType="pathType";break;default:continue}if(F instanceof Cn){var tt=Wn[F.attributeName];switch(K.valueType){case"intType":U=F.values.map(function(t){return""+Hn.convertInt(t)}),tt&&(W=[tt]);case"floatType":U=F.values.map(function(t){return""+Hn.convertFloat(t)}),tt&&(W=[tt]);break;case"pathType":if(D.pathData)t:{if(U=F.values.slice(),"points"===F.attributeName)for(var et=0;et<U.length;et++){var nt=U[et];if(""!==nt){var rt=On.fromCoordinateList(On.toCoordinateList(nt));if(!rt.length)break t;U[et]="polygon"===F.parentElement.tagName?Bn.getPolygon(rt):Bn.getPolyline(rt)}}else if("d"!==F.attributeName)for(var at=0;at<U.length;at++){var it=U[at];if(""!==it){var ot=On.toPathCommandList(D.pathData);if(ot.length<=1)break t;var lt=void 0,st=void 0,dt=void 0,ct=void 0,ut=void 0,ht=void 0;switch(F.attributeName){case"x":case"x1":case"x2":case"cx":if(isNaN(lt=parseFloat(it)))break t;break;case"y":case"y1":case"y2":case"cy":if(isNaN(st=parseFloat(it)))break t;break;case"r":if(isNaN(dt=parseFloat(it)))break t;ct=dt;break;case"rx":if(isNaN(dt=parseFloat(it)))break t;break;case"ry":if(isNaN(ct=parseFloat(it)))break t;case"width":if(isNaN(ut=parseFloat(it))||ut<0)break t;break;case"height":if(isNaN(ht=parseFloat(it))||ht<0)break t}if(void 0!==lt||void 0!==st){var ft=ot[0],pt=ot[ot.length-1],mt=[ft.points[0],pt.points[pt.points.length-1]],gt=mt[0],vt=mt[1],yt=!1;if(void 0!==lt)switch(F.attributeName){case"x":lt-=gt.x,yt=!0;break;case"x1":case"cx":gt.x=lt,ft.coordinates[0]=lt;break;case"x2":vt.x=lt,pt.coordinates[0]=lt}if(void 0!==st)switch(F.attributeName){case"y":st-=gt.y,yt=!0;break;case"y1":case"cy":gt.y=st,ft.coordinates[1]=st;break;case"y2":vt.y=st,pt.coordinates[1]=st}if(yt)for(var bt=Array.isArray(Tt=ot),Et=0,Tt=bt?Tt:Tt[Symbol.iterator]();;){var wt;if(bt){if(Et>=Tt.length)break;wt=Tt[Et++]}else{if((Et=Tt.next()).done)break;wt=Et.value}var xt=wt;if(!xt.relative)for(var At=0,St=0;At<xt.coordinates.length;At+=2,St++){var Rt=xt.points[St];void 0!==lt&&(xt.coordinates[At]+=lt,Rt.x+=lt),void 0!==st&&(xt.coordinates[At+1]+=st,Rt.y+=st)}}}else if(void 0!==dt||void 0!==ct)for(var kt=Array.isArray(_t=ot),It=0,_t=kt?_t:_t[Symbol.iterator]();;){var Ct;if(kt){if(It>=_t.length)break;Ct=_t[It++]}else{if((It=_t.next()).done)break;Ct=It.value}var Nt=Ct;"A"===Nt.command.toUpperCase()&&(void 0!==dt&&(Nt.radiusX=dt,Nt.coordinates[0]=2*dt*(Nt.coordinates[0]<0?-1:1)),void 0!==ct&&(Nt.radiusY=ct))}else{if(void 0===ut&&void 0===ht){U[at]=U[at-1]||D.pathData;continue}for(var Pt=Array.isArray(Lt=ot),Ot=0,Lt=Pt?Lt:Lt[Symbol.iterator]();;){var Dt;if(Pt){if(Ot>=Lt.length)break;Dt=Lt[Ot++]}else{if((Ot=Lt.next()).done)break;Dt=Ot.value}var Bt=Dt;switch(Bt.command){case"h":void 0!==ut&&(Bt.coordinates[0]=ut*(Bt.coordinates[0]<0?-1:1));break;case"v":void 0!==ht&&(Bt.coordinates[1]=ht)}}}U[at]=On.fromPathCommandList(ot)}}W=["pathData"]}break;default:if(U=F.values.slice(),tt&&(W=[tt]),W)for(var Mt=0;Mt<U.length;Mt++){var Xt=Xn.parseRGBA(U[Mt]);Xt&&(U[Mt]="@color/".concat(X.addColor(Xt)))}}if(U&&W){if(0!==Hn.convertInt(K.repeatCount))switch(q.repeatmode||q.repeatMode){case"restart":K.repeatMode="restart";break;case"reverse":K.repeatMode="reverse"}K.interpolator=q.interpolator?Fn[q.interpolator]||q.interpolator:t.options.vectorAnimateInterpolator;for(var zt=JSON.stringify(K),Gt=0;Gt<W.length;Gt++)if(e.localSettings.targetAPI>=23&&F.keyTimes.length>1&&(t.options.vectorAnimateAlwaysUseKeyframes||"0-1"!==F.keyTimes.join("-"))){for(var Ht=M.get(zt)||[],Vt=[],Ft=0;Ft<F.keyTimes.length;Ft++){var Wt=void 0;if(Array.isArray(U[Ft])){var Ut=U[Ft][Gt];void 0!==Ut&&(Wt=null!==Ut?""+Ut:"")}else Wt=""+U[Ft];void 0!==Wt&&Vt.push({fraction:""!==Wt?""+F.keyTimes[Ft]:"",value:Wt})}Ht.push({propertyName:W[Gt],keyframes:Vt}),M.has(zt)||(M.set(zt,Ht),K.propertyValues=Ht,B.objectAnimators.push(K))}else{if(K.propertyName=W[Gt],Array.isArray(U[0])){if(U.length>1){var jt=U[0][Gt];null!==jt&&(K.valueFrom=""+jt)}var Yt=U[U.length-1][Gt];null!==Yt&&(K.valueTo=""+Yt)}else U.length>1&&(K.valueFrom=""+U[0]),K.valueTo=""+U[U.length-1];K.propertyValues=!1,B.objectAnimators.push(K)}}}else F.to&&(K.propertyName=Wn[F.attributeName],K.propertyName&&(K.valueTo=""+F.to,B.objectAnimators.push(K)))}}B.objectAnimators.length&&_[1].push(B)}_[1].length&&(I=Vn.createTemplate(Vn.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<animated-vector xmlns:android="http://schemas.android.com/apk/res/android" xmlns:aapt="http://schemas.android.com/aapt" android:drawable="@drawable/{&vectorName}">\n!1\n\t<target android:name="{&name}">\n\t\t<aapt:attr name="android:animation">\n\t\t\t<set android:ordering="{~ordering}">\n!objectAnimators\n\t\t\t\t<objectAnimator\n\t\t\t\t\tandroid:propertyName="{~propertyName}"\n\t\t\t\t\tandroid:valueType="{~valueType}"\n\t\t\t\t\tandroid:valueFrom="{~valueFrom}"\n\t\t\t\t\tandroid:valueTo="{~valueTo}"\n\t\t\t\t\tandroid:duration="{&duration}"\n\t\t\t\t\tandroid:repeatCount="{&repeatCount}"\n\t\t\t\t\tandroid:repeatMode="{~repeatMode}"\n\t\t\t\t\tandroid:startOffset="{~startOffset}"\n\t\t\t\t\tandroid:interpolator="{~interpolator}"\n\t\t\t\t\tandroid:fillAfter="{~fillAfter}"\n\t\t\t\t\tandroid:fillBefore="{~fillBefore}"\n\t\t\t\t\tandroid:fillEnabled="{~fillEnabled}">\n!propertyValues\n\t\t\t\t\t<propertyValuesHolder android:propertyName="{&propertyName}">\n!keyframes\n\t\t\t\t\t\t<keyframe android:fraction="{~fraction}" android:valueType="{~valueType}" android:value="{~value}" />\n!keyframes\n\t\t\t\t\t</propertyValuesHolder>\n!propertyValues\n\t\t\t\t</objectAnimator>\n!objectAnimators\n\t\t\t</set>\n\t\t</aapt:attr>\n\t</target>\n!1\n</animated-vector>'),_),""===(v=X.getStoredName("drawables",I))&&(v="".concat(p,"_animated").concat(m.length?"_vector":""),X.STORED.drawables.set(v,I)))}}}if(m.length){for(var Kt=[],Zt=[],qt=0;qt<m.length;qt++){var $t=m[qt],Jt=d.width/d.viewBoxWidth,Qt=d.height/d.viewBoxHeight,te=($t.x||0)*Jt,ee=($t.y||0)*Qt;$t.width*=Jt,$t.height*=Qt;var ne=Un($t.element,d.element);te+=ne.x,ee+=ne.y;var re={width:$t.width>0?Hn.formatPX($t.width):"",height:$t.height>0?Hn.formatPX($t.height):"",left:0!==te?Hn.formatPX(te):"",top:0!==ee?Hn.formatPX(ee):"",src:X.addImage({mdpi:$t.uri})},ae=Gn.createTransformData($t.element);0!==ae.rotateAngle?(re.fromDegrees=""+ae.rotateAngle,re.visible=$t.visible?"true":"false",Kt.push(re)):Zt.push(re)}var ie=Vn.createTemplate(Vn.parseTemplate(Ue),{1:!1,2:!1,3:[{vectorName:v}],4:Kt,5:Zt,6:!1,7:!1});""===(g=X.getStoredName("drawables",ie))&&X.STORED.drawables.set(g=p,ie)}else g=v;""!==g&&e.android("src","@drawable/".concat(g)),e.hasWidth||e.android("layout_width","wrap_content"),e.hasHeight||e.android("layout_height","wrap_content")}},n=Array.isArray(a=this.application.processing.cache),r=0,a=n?a:a[Symbol.iterator]();;){var i;if("break"===e())break}}},{key:"afterFinalize",value:function(){this.application.controllerHandler.localSettings.unsupported.tagName.add("svg")}}]),n}();function Yn(t){return $n&&!!t&&(t.closed||!(!Kn||!Kn.userSettings.autoCloseOnWrite||Kn.initialized||Kn.closed||(Kn.finalize(),0)))}var Kn,Zn,qn,$n=!1,Jn={lib:{base:{Controller:Et,File:It,Resource:X,View:at},extensions:{Accessibility:Pt,CssGrid:Xt,External:zt,Flexbox:Ut,Grid:Zt,List:ee,Relative:ne,Sprite:le,Table:he,VerticalAlign:me,WhiteSpace:ge,constraint:{Guideline:Ee},delegate:{Fixed:_e,MaxWidthHeight:Ne,Percent:Le,RadioGroup:Xe,ScrollBar:We},resource:{Background:nn,Dimens:sn,Fonts:yn,Includes:Tn,Strings:Rn,Styles:In,Svg:jn}},constant:A,enumeration:m,util:q},system:{customize:function(t,e,n){if(R[t]){var r=R[t].customizations;void 0===r[e]&&(r[e]={}),Object.assign(r[e],n)}},addXmlNs:function(t,e){w[t]=e},writeLayoutAllXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Zn&&Yn(Kn)?Zn.layoutAllToXml(Kn.sessionData,t):""},writeResourceAllXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Zn&&Yn(Kn)?Zn.resourceAllToXml(t):""},writeResourceStringXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Zn&&Yn(Kn)?Zn.resourceStringToXml(t):""},writeResourceArrayXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Zn&&Yn(Kn)?Zn.resourceStringArrayToXml(t):""},writeResourceFontXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Zn&&Yn(Kn)?Zn.resourceFontToXml(t):""},writeResourceColorXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Zn&&Yn(Kn)?Zn.resourceColorToXml(t):""},writeResourceStyleXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Zn&&Yn(Kn)?Zn.resourceStyleToXml(t):""},writeResourceDimenXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Zn&&Yn(Kn)?Zn.resourceDimenToXml(t):""},writeResourceDrawableXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Zn&&Yn(Kn)?Zn.resourceDrawableToXml(t):""}},create:function(){var t,e=androme.lib.constant.EXT_NAME,n=g;return Kn=new androme.lib.base.Application(2,Et,X,Tt,at),Zn=new It(Kn.resourceHandler),qn=Object.assign({},I),Object.assign(Kn.builtInExtensions,(a(t={},e.EXTERNAL,new zt(e.EXTERNAL,2)),a(t,e.SUBSTITUTE,new se(e.SUBSTITUTE,2)),a(t,e.SPRITE,new le(e.SPRITE,2)),a(t,e.CSS_GRID,new Xt(e.CSS_GRID,2)),a(t,e.FLEXBOX,new Ut(e.FLEXBOX,2)),a(t,e.TABLE,new he(e.TABLE,2,["TABLE"])),a(t,e.LIST,new ee(e.LIST,2,["UL","OL","DL","DIV"])),a(t,e.GRID,new Zt(e.GRID,2,["FORM","UL","OL","DL","DIV","TABLE","NAV","SECTION","ASIDE","MAIN","HEADER","FOOTER","P","ARTICLE","FIELDSET","SPAN"])),a(t,e.RELATIVE,new ne(e.RELATIVE,2)),a(t,e.VERTICAL_ALIGN,new me(e.VERTICAL_ALIGN,2)),a(t,e.WHITESPACE,new ge(e.WHITESPACE,2)),a(t,e.ACCESSIBILITY,new Pt(e.ACCESSIBILITY,2)),a(t,n.CONSTRAINT_GUIDELINE,new Ee(n.CONSTRAINT_GUIDELINE,2)),a(t,n.DELEGATE_FIXED,new _e(n.DELEGATE_FIXED,2)),a(t,n.DELEGATE_MAXWIDTHHEIGHT,new Ne(n.DELEGATE_MAXWIDTHHEIGHT,2)),a(t,n.DELEGATE_PERCENT,new Le(n.DELEGATE_PERCENT,2)),a(t,n.DELEGATE_RADIOGROUP,new Xe(n.DELEGATE_RADIOGROUP,2)),a(t,n.DELEGATE_SCROLLBAR,new We(n.DELEGATE_SCROLLBAR,2)),a(t,n.RESOURCE_INCLUDES,new Tn(n.RESOURCE_INCLUDES,2)),a(t,n.RESOURCE_BACKGROUND,new nn(n.RESOURCE_BACKGROUND,2)),a(t,n.RESOURCE_SVG,new jn(n.RESOURCE_SVG,2)),a(t,n.RESOURCE_STRINGS,new Rn(n.RESOURCE_STRINGS,2)),a(t,n.RESOURCE_FONTS,new yn(n.RESOURCE_FONTS,2)),a(t,n.RESOURCE_DIMENS,new sn(n.RESOURCE_DIMENS,2)),a(t,n.RESOURCE_STYLES,new In(n.RESOURCE_STYLES,2)),t)),$n=!0,{application:Kn,framework:2,userSettings:qn}},cached:function(){return $n?{application:Kn,framework:2,userSettings:qn}:Jn.create()}};return Jn}();
