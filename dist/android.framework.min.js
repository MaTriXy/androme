var android=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t,e,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,a=void 0;try{for(var o,l=t[Symbol.iterator]();!(i=(o=l.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(r)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(t){return function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u,f;!function(t){t[t.PIE=28]="PIE",t[t.OREO_1=27]="OREO_1",t[t.OREO=26]="OREO",t[t.NOUGAT_1=25]="NOUGAT_1",t[t.NOUGAT=24]="NOUGAT",t[t.MARSHMALLOW=23]="MARSHMALLOW",t[t.LOLLIPOP_1=22]="LOLLIPOP_1",t[t.LOLLIPOP=21]="LOLLIPOP",t[t.KITKAT_1=20]="KITKAT_1",t[t.KITKAT=19]="KITKAT",t[t.JELLYBEAN_2=18]="JELLYBEAN_2",t[t.JELLYBEAN_1=17]="JELLYBEAN_1",t[t.JELLYBEAN=16]="JELLYBEAN",t[t.ICE_CREAM_SANDWICH_1=15]="ICE_CREAM_SANDWICH_1",t[t.ICE_CREAM_SANDWICH=14]="ICE_CREAM_SANDWICH",t[t.ALL=0]="ALL",t[t.LATEST=28]="LATEST"}(u||(u={})),function(t){t[t.LDPI=120]="LDPI",t[t.MDPI=160]="MDPI",t[t.HDPI=240]="HDPI",t[t.XHDPI=320]="XHDPI",t[t.XXHDPI=480]="XXHDPI",t[t.XXXHDPI=640]="XXXHDPI"}(f||(f={}));var g,p,m=Object.freeze({get BUILD_ANDROID(){return u},get DENSITY_ANDROID(){return f}}),v={CHECKBOX:"CheckBox",RADIO:"RadioButton",EDIT:"EditText",SELECT:"Spinner",RANGE:"SeekBar",SVG:"ImageView",TEXT:"TextView",IMAGE:"ImageView",BUTTON:"Button",LINE:"View",SPACE:"Space",WEB_VIEW:"WebView",FRAME:"FrameLayout",LINEAR:"LinearLayout",RADIO_GROUP:"RadioGroup",GRID:"GridLayout",RELATIVE:"RelativeLayout",CONSTRAINT:"android.support.constraint.ConstraintLayout",SCROLL_HORIZONTAL:"HorizontalScrollView",SCROLL_VERTICAL:"android.support.v4.widget.NestedScrollView",GUIDELINE:"android.support.constraint.Guideline"},y={MARGIN:"layout_margin",MARGIN_VERTICAL:"layout_marginVertical",MARGIN_HORIZONTAL:"layout_marginHorizontal",MARGIN_TOP:"layout_marginTop",MARGIN_RIGHT:"layout_marginRight",MARGIN_BOTTOM:"layout_marginBottom",MARGIN_LEFT:"layout_marginLeft",PADDING:"padding",PADDING_VERTICAL:"paddingVertical",PADDING_HORIZONTAL:"paddingHorizontal",PADDING_TOP:"paddingTop",PADDING_RIGHT:"paddingRight",PADDING_BOTTOM:"paddingBottom",PADDING_LEFT:"paddingLeft"},b={HORIZONTAL:"horizontal",VERTICAL:"vertical"},A={android:"http://schemas.android.com/apk/res/android",app:"http://schemas.android.com/apk/res-auto",tools:"http://schemas.android.com/tools"},T={"sans-serif":u.ICE_CREAM_SANDWICH,"sans-serif-thin":u.JELLYBEAN,"sans-serif-light":u.JELLYBEAN,"sans-serif-condensed":u.JELLYBEAN,"sans-serif-condensed-light":u.JELLYBEAN,"sans-serif-medium":u.LOLLIPOP,"sans-serif-black":u.LOLLIPOP,"sans-serif-smallcaps":u.LOLLIPOP,"serif-monospace":u.LOLLIPOP,serif:u.LOLLIPOP,casual:u.LOLLIPOP,cursive:u.LOLLIPOP,monospace:u.LOLLIPOP,"sans-serif-condensed-medium":u.OREO},_={arial:"sans-serif",helvetica:"sans-serif",tahoma:"sans-serif",verdana:"sans-serif",times:"serif","times new roman":"serif",palatino:"serif",georgia:"serif",baskerville:"serif",goudy:"serif",fantasy:"serif","itc stone serif":"serif","sans-serif-monospace":"monospace",monaco:"monospace",courier:"serif-monospace","courier new":"serif-monospace"},N={"ms shell dlg \\32":"sans-serif","system-ui":"sans-serif","-apple-system":"sans-serif"},E={100:"thin",200:"extra_light",300:"light",400:"normal",500:"medium",600:"semi_bold",700:"bold",800:"extra_bold",900:"black"},R=["STRONG","B","EM","CITE","DFN","I","BIG","SMALL","FONT","BLOCKQUOTE","TT","A","U","SUP","SUB","STRIKE","H1","H2","H3","H4","H5","H6","DEL","LABEL","PLAINTEXT"],D=["abstract","assert","boolean","break","byte","case","catch","char","class","const","continue","default","double","do","else","enum","extends","false","final","finally","float","for","goto","if","implements","import","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","void","volatile","while"],I=Object.freeze({NODE_ANDROID:v,VIEW_SUPPORT:{DRAWER:"android.support.v4.widget.DrawerLayout",NAVIGATION_VIEW:"android.support.design.widget.NavigationView",COORDINATOR:"android.support.design.widget.CoordinatorLayout",APPBAR:"android.support.design.widget.AppBarLayout",COLLAPSING_TOOLBAR:"android.support.design.widget.CollapsingToolbarLayout",TOOLBAR:"android.support.v7.widget.Toolbar",FLOATING_ACTION_BUTTON:"android.support.design.widget.FloatingActionButton",BOTTOM_NAVIGATION:"android.support.design.widget.BottomNavigationView"},BOX_ANDROID:y,AXIS_ANDROID:b,XMLNS_ANDROID:A,FONT_ANDROID:T,FONTALIAS_ANDROID:_,FONTREPLACE_ANDROID:N,FONTWEIGHT_ANDROID:E,WEBVIEW_ANDROID:R,RESERVED_JAVA:D,DRAWABLE_PREFIX:{MENU:"ic_menu_",DIALOG:"ic_dialog_"}}),O={builtInExtensions:["androme.external","androme.origin","androme.custom","androme.accessibility","androme.list","androme.table","androme.grid"],targetAPI:u.OREO,density:f.MDPI,supportRTL:!0,renderInlineText:!0,ellipsisOnTextOverflow:!0,preloadImages:!0,dimensResourceValue:!0,numberResourceValue:!1,fontAliasResourceValue:!0,alwaysReevaluateResources:!0,autoSizeBackgroundImage:!0,autoSizePaddingAndBorderWidth:!0,whitespaceHorizontalOffset:3.5,whitespaceVerticalOffset:16,constraintChainDisabled:!1,constraintChainPackedHorizontalOffset:3.5,constraintChainPackedVerticalOffset:16,constraintCirclePositionAbsolute:!1,constraintPercentAccuracy:4,supportNegativeLeftTop:!0,floatOverlapDisabled:!1,hideOffScreenElements:!0,collapseUnattributedElements:!0,customizationsOverwritePrivilege:!1,showAttributes:!0,insertSpaces:4,convertPixels:"dp",handleExtensionsAsync:!0,autoCloseOnWrite:!0,outputDirectory:"app/src/main",outputMainFileName:"activity_main.xml",outputArchiveFileType:"zip",outputMaxProcessingTime:30},w=(r(g={},u.PIE,{android:[],app:[],customizations:{}}),r(g,u.OREO_1,{android:[],app:[],customizations:{}}),r(g,u.OREO,{android:["fontWeight","layout_marginHorizontal","layout_marginVertical","paddingHorizontal","paddingVertical"],app:[],customizations:{}}),r(g,u.NOUGAT_1,{android:[],app:[],customizations:{}}),r(g,u.NOUGAT,{android:[],app:[],customizations:{}}),r(g,u.MARSHMALLOW,{android:[],app:[],customizations:{}}),r(g,u.LOLLIPOP_1,{android:[],app:[],customizations:{}}),r(g,u.LOLLIPOP,{android:["layout_columnWeight"],app:[],customizations:{}}),r(g,u.KITKAT_1,{android:[],app:[],customizations:{}}),r(g,u.KITKAT,{android:[],app:[],customizations:{}}),r(g,u.JELLYBEAN_2,{android:[],app:[],customizations:{}}),r(g,u.JELLYBEAN_1,{android:["labelFor"],app:[],customizations:{}}),r(g,u.JELLYBEAN,{android:[],app:[],customizations:{}}),r(g,u.ICE_CREAM_SANDWICH_1,{android:[],app:[],customizations:{}}),r(g,u.ICE_CREAM_SANDWICH,{android:[],app:[],customizations:{}}),r(g,u.ALL,{android:[],app:[],customizations:{SUB:{android:{layout_marginTop:"6px"}},SUP:{android:{layout_marginTop:"-4px"}},Button:{android:{textAllCaps:"false"}}}}),g);function S(){p={android:["parent"]}}function x(t,e,n){null==p&&S();var i=e,r=n;for(1===n&&(e+="_".concat(""+r)),null==p[t]&&(p[t]=[]);;){if(!p[t].includes(e)){p[t].push(e);break}e="".concat(i,"_").concat(""+ ++r)}return e}function L(t){return t?t.replace(/@\+?id\//,""):""}function B(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t&&!isNaN(t=parseFloat(t))?(t=(t/=e/160)>=1||0===t?Math.floor(t):t.toFixed(2))+(n?"sp":"dp"):"0dp"}function C(t,e,n,i){var r=i.dimensResourceValue;return void 0===r||r?"{%".concat(t.toLowerCase(),",").concat(e,",").concat(n,"}"):n}function P(t,e){var n=e.density,i=void 0===n?160:n,r=e.convertPixels,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(void 0===r?"dp":r){case"dp":return t.replace(/([">])(-)?([0-9]+(?:\.[0-9]+)?px)(["<])/g,function(t){return(arguments.length<=1?void 0:arguments[1])+((arguments.length<=2?void 0:arguments[2])||"")+B(arguments.length<=3?void 0:arguments[3],i,a)+(arguments.length<=4?void 0:arguments[4])});default:return t}}function k(t,e,n){return 0===t?0:0===e?1:parseFloat(Math.max(t/(t+e),0).toFixed(n))}function M(t,e){var n=e.supportRTL,i=e.targetAPI;return(void 0===n||n)&&(void 0===i?u.JELLYBEAN_1:i)>=u.JELLYBEAN_1&&(t=(t=t.replace(/left/g,"start").replace(/right/g,"end")).replace(/Left/g,"Start").replace(/Right/g,"End")),t}var X=Object.freeze({resetId:S,generateId:x,stripId:L,convertUnit:B,delimitUnit:C,replaceUnit:P,calculateBias:k,parseRTL:M}),G=androme.lib.base.NodeList,H=androme.lib.enumeration,W=androme.lib.constant,z=androme.lib.util,V=androme.lib.dom,F=function(t){return function(n){function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return e(this,r),(t=s(this,o(r).call(this,n,i))).api=0,t.children=[],t.renderChildren=[],t._namespaces=new Set(["android","app"]),t._boxAdjustment=V.getBoxModel(),t._boxReset=V.getBoxModel(),t._android={},t._app={},t.constraint={current:{}},t}return a(r,t),i(r,[{key:"attr",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.supported(t,e)?d(o(r.prototype),"attr",this).call(this,t,e,n,i):""}},{key:"android",value:function(t){return this.attr("android",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),this._android[t]||""}},{key:"app",value:function(t){return this.attr("app",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),this._app[t]||""}},{key:"apply",value:function(){var t=Object.assign({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});for(var e in d(o(r.prototype),"apply",this).call(this,t),t)this.formatted("".concat(e,'="').concat(t[e],'"'))}},{key:"formatted",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.match(/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/);n&&this.attr(n[1]||"_",n[2],n[3],e)}},{key:"anchor",value:function(t,e,n,i){(1===arguments.length||null==this.constraint.current[t]||!this.constraint.current[t].overwrite||n&&!this.constraint[n])&&(null==i&&(i="parent"===e||"true"===e),this[this.renderParent.controlName===v.RELATIVE?"android":"app"](t,e,i),n&&(this.constraint[n]=!0),this.constraint.current[t]={adjacent:e,orientation:n,overwrite:i})}},{key:"alignParent",value:function(t,e){if(this.renderParent.is(H.NODE_STANDARD.CONSTRAINT,H.NODE_STANDARD.RELATIVE)){var n=z.capitalize(M(t,e));return this.renderParent.controlName===v.CONSTRAINT?"parent"===this.app("layout_constraint".concat(n,"_to").concat(n,"Of")):"true"===this.android("layout_alignParent".concat(n))}return!1}},{key:"horizontalBias",value:function(t){var e=t.constraintPercentAccuracy,n=void 0===e?4:e,i=this.documentParent;return i!==this?k(Math.max(0,this.linear.left-i.box.left),Math.max(0,i.box.right-this.linear.right),n):.5}},{key:"verticalBias",value:function(t){var e=t.constraintPercentAccuracy,n=void 0===e?4:e,i=this.documentParent;return i!==this?k(Math.max(0,this.linear.top-i.box.top),Math.max(0,i.box.bottom-this.linear.bottom),n):.5}},{key:"modifyBox",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="number"==typeof t?z.convertEnum(t,H.BOX_STANDARD,y):"";if(0!==e&&(""!==i||z.isString(t))){var r=z.isString(t)?t:i.replace("layout_","");null!=this._boxReset[r]&&(null==e?this._boxReset[r]=1:(this._boxAdjustment[r]+=e,n||(this._boxAdjustment[r]=Math.max(0,this._boxAdjustment[r]))))}}},{key:"valueBox",value:function(t){var e=z.convertEnum(t,H.BOX_STANDARD,y);if(""!==e){var n=e.replace("layout_","");return[this._boxReset[n]||0,this._boxAdjustment[n]||0]}return[0,0]}},{key:"supported",value:function(t,e){if(this.api>0)for(var n=this.api+1;n<=u.LATEST;n++){var i=w[n];if(i&&i[t]&&i[t].includes(e))return!1}return!0}},{key:"combine",value:function(){for(var t=[],e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=!0,a=!1,o=void 0;try{for(var l,s=this._namespaces.values()[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var d=l.value,c=this["_".concat(d)];if(0===n.length||n.includes(d))for(var h in c)t.push("_"!==d?"".concat(d,":").concat(h,'="').concat(c[h],'"'):"".concat(h,'="').concat(c[h],'"'))}}catch(t){a=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return t.sort(function(t,e){return t.startsWith("android:id=")?-1:e.startsWith("android:id=")?1:t>e?1:-1})}},{key:"clone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new r(t||this.id,this.element);return n.api=this.api,n.nodeId=this.nodeId,n.nodeType=this.nodeType,n.controlName=this.controlName,n.alignmentType=this.alignmentType,n.depth=this.depth,n.rendered=this.rendered,n.renderDepth=this.renderDepth,n.renderParent=this.renderParent,n.renderExtension=this.renderExtension,n.documentRoot=this.documentRoot,n.documentParent=this.documentParent,e&&(n.children=this.children.slice()),n.inherit(this,"initial","base","style","styleMap"),n}},{key:"setNodeType",value:function(t){if(0===this.nodeType)for(var e in v)if(v[e]===t){for(var n in H.NODE_STANDARD)if(H.NODE_STANDARD[H.NODE_STANDARD[n]]===e){this.nodeType=H.NODE_STANDARD[n];break}break}if(this.controlName=t,""!==this.android("id")&&(this.nodeId=L(this.android("id"))),!this.nodeId){var i=this.element,r=z.trimNull(i.id||i.name);D.includes(r)&&(r="_".concat(r)),this.nodeId=z.convertWord(x("android",r||z.lastIndexOf(this.controlName,".").toLowerCase(),r?0:1)),this.android("id",this.stringId)}}},{key:"setLayout",value:function(){var t=this;if(this.nodeType>=H.NODE_STANDARD.SCROLL_HORIZONTAL)this.android("layout_width",this.nodeType===H.NODE_STANDARD.SCROLL_HORIZONTAL&&this.has("width",H.CSS_STANDARD.UNIT)?this.css("width"):"wrap_content"),this.android("layout_height",this.nodeType===H.NODE_STANDARD.SCROLL_VERTICAL&&this.has("height",H.CSS_STANDARD.UNIT)?this.css("height"):"wrap_content");else if(this.renderParent.nodeType>=H.NODE_STANDARD.SCROLL_HORIZONTAL)this.renderParent.is(H.NODE_STANDARD.SCROLL_HORIZONTAL)?(this.android("layout_width","wrap_content",!1),this.android("layout_height","match_parent",!1)):(this.android("layout_width","match_parent",!1),this.android("layout_height","wrap_content",!1));else{var e=this.documentParent,n=this.renderParent,i=this.renderChildren,r=t.plainText?t.bounds.width:t.linear&&t.linear.width>0?t.linear.width:t.styleElement?t.element.clientWidth+t.borderLeftWidth+t.borderRightWidth+t.marginLeft+t.marginRight:0,a=t.plainText?t.bounds.height:t.linear&&t.linear.height>0?t.linear.height:t.styleElement?t.element.clientHeight+t.borderTopWidth+t.borderBottomWidth+t.marginTop+t.marginBottom:0,o=e.initial.box&&e.initial.box.width>0?e.initial.box.width:e.box&&e.box.width>0?e.box.width:e.styleElement?e.element.offsetWidth-(e.paddingLeft+e.paddingRight+e.borderLeftWidth+e.borderRightWidth):0,l=e.initial.box&&e.initial.box.height>0?e.initial.box.height:e.box&&e.box.height>0?e.box.height:e.styleElement?e.element.offsetHeight-(e.paddingTop+e.paddingBottom+e.borderTopWidth+e.borderBottomWidth):0,s=this.styleMap,d=this.constraint,c="TABLE"===this.tagName;if((this.documentBody||this.documentRoot&&!this.flex.enabled&&this.is(H.NODE_STANDARD.FRAME,H.NODE_STANDARD.CONSTRAINT,H.NODE_STANDARD.RELATIVE))&&(this.hasWidth||!this.block||d.layoutHorizontal||this.android("layout_width","match_parent",!1),this.hasHeight||!this.cascade().some(function(t){return!t.pageflow})||d.layoutHeight||d.layoutVertical||this.android("layout_height","match_parent",!1)),this.of(H.NODE_STANDARD.GRID,H.NODE_ALIGNMENT.PERCENT))this.android("layout_width","match_parent");else{if("0px"!==this.android("layout_width")){if(this.toInt("width")>0&&(!this.inlineStatic||n.is(H.NODE_STANDARD.GRID)||!this.has("width",0,{map:"initial"})))if(this.has("width",H.CSS_STANDARD.PERCENT))if("100%"===s.width)this.android("layout_width","match_parent",!1);else if(n.of(H.NODE_STANDARD.GRID,H.NODE_ALIGNMENT.PERCENT))this.android("layout_width","0px"),this.android("layout_columnWeight",(parseInt(s.width)/100).toFixed(2));else{this.android("layout_width",z.formatPX(Math.ceil(this.bounds.width)-(c?0:this.paddingLeft+this.paddingRight+this.borderLeftWidth+this.borderRightWidth)),!1)}else this.android("layout_width",z.convertInt(e.android("layout_width"))>0&&e.viewWidth>0&&this.viewWidth>=e.viewWidth?"match_parent":s.width,"TABLE"!==n.tagName);if(d.layoutWidth&&this.android("layout_width",d.layoutHorizontal?e.hasWidth?"match_parent":"wrap_content":this.bounds.width>=o?"match_parent":z.formatPX(this.bounds.width),!1),this.has("minWidth",H.CSS_STANDARD.UNIT)&&(this.android("layout_width","wrap_content",!1),this.android("minWidth",s.minWidth,!1)),!this.documentBody&&this.has("maxWidth",H.CSS_STANDARD.UNIT)&&this.layoutVertical){var h=this.css("maxWidth"),u=!0,f=!1,g=void 0;try{for(var p,m=i[Symbol.iterator]();!(u=(p=m.next()).done);u=!0){var v=p.value;v.is(H.NODE_STANDARD.TEXT)&&!v.has("maxWidth")&&v.android("maxWidth",h)}}catch(t){f=!0,g=t}finally{try{u||null==m.return||m.return()}finally{if(f)throw g}}}}if(""===this.android("layout_width")){var y=i.filter(function(t){return!t.autoMargin&&t.has("width",H.CSS_STANDARD.UNIT,{map:"initial"})}),b=n.is(H.NODE_STANDARD.GRID),A=this.android("layout_columnWeight");if(b&&A&&"0"!==A)this.android("layout_width","0px");else if(y.length>0&&y.some(function(e){return e.bounds.width>=t.box.width})||this.svgElement)this.android("layout_width","wrap_content");else{if(this.is(H.NODE_STANDARD.GRID)&&z.withinFraction(this.box.right,Math.max.apply(null,i.filter(function(t){return t.inlineElement||!t.blockStatic}).map(function(t){return t.linear.right}))))this.android("layout_width","wrap_content");else if(this.blockStatic&&this.hasAlign(H.NODE_ALIGNMENT.VERTICAL)||!this.documentRoot&&i.some(function(t){return t.hasAlign(H.NODE_ALIGNMENT.VERTICAL)&&!t.has("width")}))this.android("layout_width","match_parent");else{if(!(this.nodeType<H.NODE_STANDARD.INLINE||this.inlineElement||!this.pageflow||!this.siblingflow||"table"===this.display||e.flex.enabled||n.inlineElement&&!n.hasWidth&&!this.inlineElement&&this.nodeType>H.NODE_STANDARD.BLOCK||b)||this.blockStatic&&!this.has("maxWidth")){var T=this.previousSibling(),_=this.nextSibling();(r>=o||this.linearVertical&&!this.floating&&!this.autoMargin||this.is(H.NODE_STANDARD.FRAME)&&i.some(function(t){return t.blockStatic&&(t.autoMarginHorizontal||t.autoMarginLeft)})||!this.htmlElement&&this.length>0&&i.some(function(e){return e.linear.width>=t.documentParent.box.width})&&!i.some(function(t){return t.plainText&&t.multiLine})||this.htmlElement&&this.blockStatic&&(this.documentParent.documentBody||this.ascend().every(function(t){return t.blockStatic})||this.documentParent.blockStatic&&this.nodeType<=H.NODE_STANDARD.LINEAR&&(!T||!T.floating)&&(!_||!_.floating)))&&this.android("layout_width","match_parent")}}this.android("layout_width","wrap_content",!1)}}}if("0px"!==this.android("layout_height")){if(this.toInt("height")>0&&(!this.inlineStatic||!this.has("height",0,{map:"initial"})))if(this.has("height",H.CSS_STANDARD.PERCENT))if("100%"===s.height)this.android("layout_height","match_parent",!1);else{var N=this.bounds.height;c||(N-=this.paddingTop+this.paddingBottom+this.borderTopWidth+this.borderBottomWidth),this.android("layout_height",z.formatPX(N),!1)}else this.android("layout_height","hidden"===this.css("overflow")&&this.toInt("height")<this.box.height?"wrap_content":s.height);if(d.layoutHeight)if(d.layoutVertical)this.android("layout_height","wrap_content",!1);else if(this.documentRoot){var E=Math.max.apply(null,i.filter(function(t){return t.pageflow}).map(function(t){return t.linear.bottom}));this.android("layout_height",E>0?z.formatPX(E+this.paddingBottom+this.borderBottomWidth):"match_parent",!1)}else this.android("layout_height",this.actualHeight<l?z.formatPX(this.actualHeight):"match_parent",!1);if(this.has("minHeight",H.CSS_STANDARD.UNIT)&&(this.android("layout_height","wrap_content",!1),this.android("minHeight",s.minHeight,!1)),!this.documentBody&&this.has("maxHeight",H.CSS_STANDARD.UNIT)&&this.layoutHorizontal){var R=this.css("maxHeight"),D=!0,I=!1,O=void 0;try{for(var w,S=i[Symbol.iterator]();!(D=(w=S.next()).done);D=!0){var x=w.value;x.is(H.NODE_STANDARD.TEXT)&&!x.has("maxWidth")&&x.android("maxWidth",R)}}catch(t){I=!0,O=t}finally{try{D||null==S.return||S.return()}finally{if(I)throw O}}}}if(""===this.android("layout_height"))if(this.svgElement)this.android("layout_height","wrap_content");else if(!(a>=l&&e.hasHeight)||this.inlineElement&&this.nodeType<H.NODE_STANDARD.INLINE||n.is(H.NODE_STANDARD.RELATIVE)&&n.inlineHeight){if(this.lineHeight>0&&!this.plainText&&!n.linearHorizontal){var L=this.actualHeight+n.paddingTop+n.paddingBottom;this.inlineElement&&L>0&&this.lineHeight>=L?(this.android("layout_height",z.formatPX(L)),this.modifyBox(H.BOX_STANDARD.PADDING_TOP,null),this.modifyBox(H.BOX_STANDARD.PADDING_BOTTOM,null)):this.block&&this.box.height>0&&this.lineHeight===this.box.height&&this.android("layout_height",z.formatPX(L))}this.android("layout_height","wrap_content",!1)}else this.android("layout_height","match_parent")}switch(this.cssParent("visibility",!0)){case"hidden":case"collapse":this.android("visibility","invisible")}}},{key:"setAlignment",value:function(t){function e(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=h(z.trimNull(t).split("|")).concat(n).filter(function(t){return t});switch(r.length){case 0:return"";case 1:return r[0];default:for(var a="",o="",l="",s=0;s<r.length;s++){var d=r[s];switch(d){case"center":a="center_horizontal",o="center_vertical";break;case"left":case"start":case"right":case"end":case"center_horizontal":a=d;break;case"top":case"bottom":case"center_vertical":o=d;break;default:l+=(""!==l?"|":"")+d}}var c=[a,o].filter(function(t){return t}),u=2===c.filter(function(t){return-1!==t.indexOf("center")}).length?"center":c.join("|");return""!==u?""!==l?"".concat(u,"|").concat(l):u:l}}function n(t){if(!t.blockWidth){var n=[],i="auto"===t.css("marginLeft"),r="auto"===t.css("marginRight"),a="auto"===t.css("marginTop"),o="auto"===t.css("marginBottom");if(i&&r?n.push("center_horizontal"):i&&!r?n.push(s):!i&&r&&n.push(l),a&&o?n.push("center_vertical"):a&&!o?n.push("bottom"):!a&&o&&n.push("top"),n.length>0){var d=t.blockWidth?"gravity":"layout_gravity";return t.android(d,e.apply(void 0,[t.android(d)].concat(n))),!0}}return!1}function i(t){switch(t){case"left":case"start":return l;case"right":case"end":return s;case"center":return"center_horizontal";default:return""}}function r(t){return""===d||t===s?t:d}var a=this.renderParent,o=this.cssParent("textAlign"),l=M("left",t),s=M("right",t),d=this.styleMap.textAlign||"",c="",u="";if(!this.floating&&!a.of(H.NODE_STANDARD.RELATIVE,H.NODE_ALIGNMENT.MULTILINE))switch(this.styleMap.verticalAlign){case"top":case"text-top":c="top",a.linearHorizontal&&this.inlineHeight&&this.android("layout_height","match_parent");break;case"middle":(this.inline||"table-cell"===this.documentParent.css("display")||this.inlineStatic&&this.documentParent.lineHeight>0)&&(c="center_vertical");break;case"bottom":case"text-bottom":c="bottom"}""===c&&this.lineHeight>0&&!this.blockHeight&&(c="center_vertical"),(a.linearVertical||this.documentRoot&&this.linearVertical)&&("right"===this.float?this.android("layout_gravity",s):n(this)),this.hasAlign(H.NODE_ALIGNMENT.FLOAT)&&(this.hasAlign(H.NODE_ALIGNMENT.RIGHT)||this.renderChildren.some(function(t){return t.hasAlign(H.NODE_ALIGNMENT.RIGHT)})?u=s:(this.hasAlign(H.NODE_ALIGNMENT.LEFT)||this.renderChildren.some(function(t){return t.hasAlign(H.NODE_ALIGNMENT.LEFT)}))&&(u=l)),"TABLE"===a.tagName&&(this.android("layout_gravity",e(this.android("layout_gravity"),"fill")),""===d&&"TH"===this.tagName&&(d="center"),""===c&&(c="center_vertical")),a.is(H.NODE_STANDARD.FRAME)?n(this)||"none"!==(u=u||this.float)&&(a.inlineWidth||this.singleChild&&!a.documentRoot?a.android("layout_gravity",e(a.android("layout_gravity"),M(u,t))):this.blockWidth?d=r(u):this.android("layout_gravity",e(this.android("layout_gravity"),M(u,t)))):""!==u&&(this.is(H.NODE_STANDARD.LINEAR)?this.blockWidth?d=r(u):this.android("layout_gravity",e(this.android("layout_gravity"),u)):a.hasAlign(H.NODE_ALIGNMENT.VERTICAL)&&(d=r(u))),""!==o&&M(o,t)!==l&&(a.is(H.NODE_STANDARD.FRAME)&&this.singleChild&&!this.floating&&!this.autoMargin&&this.android("layout_gravity",e(this.android("layout_gravity"),i(o))),""===d&&(d=o)),""!==c&&a.linearHorizontal&&(this.android("layout_gravity",e(this.android("layout_gravity"),c)),c=""),this.documentRoot&&(this.blockWidth||this.is(H.NODE_STANDARD.FRAME))&&this.delete("android","layout_gravity"),this.android("gravity",e(this.android("gravity"),i(d),c))}},{key:"setBoxSpacing",value:function(t){var e=this;this.hasBit("excludeResource",H.NODE_RESOURCE.BOX_SPACING)||(["padding","margin"].forEach(function(n){["Top","Left","Right","Bottom"].forEach(function(i){var r=n+i,a=(0===e._boxReset[r]?e[r]:0)+e._boxAdjustment[r];if(0!==a){var o=M(y["".concat(n.toUpperCase(),"_").concat(i.toUpperCase())],t);e.android(o,z.formatPX(a))}})}),this.api>=u.OREO&&["layout_margin","padding"].forEach(function(n,i){var r=z.convertInt(e.android("".concat(n,"Top"))),a=z.convertInt(e.android(M("".concat(n,"Right"),t))),o=z.convertInt(e.android("".concat(n,"Bottom"))),l=z.convertInt(e.android(M("".concat(n,"Left"),t)));0!==r&&r===o&&o===l&&l===a?(e.delete("android","".concat(n,"*")),e.android(n,z.formatPX(r))):e.renderParent.is(H.NODE_STANDARD.GRID)&&0===i||(0!==r&&r===o&&(e.delete("android","".concat(n,"Top"),"".concat(n,"Bottom")),e.android("".concat(n,"Vertical"),z.formatPX(r))),0!==l&&l===a&&(e.delete("android",M("".concat(n,"Left"),t),M("".concat(n,"Right"),t)),e.android("".concat(n,"Horizontal"),z.formatPX(l))))}))}},{key:"applyOptimizations",value:function(t){this.setBlockSpacing(),this.bindWhiteSpace(t),this.autoSizeBoxModel(t),this.alignLinearLayout(t),this.alignRelativePosition()}},{key:"applyCustomizations",value:function(t){for(var e=[w[0],w[this.api]],n=0;n<e.length;n++){var i=e[n];if(i&&i.customizations)for(var r=[this.tagName,this.controlName],a=0;a<r.length;a++){var o=i.customizations[r[a]];if(o)for(var l in o)for(var s in o[l])this.attr(l,s,o[l][s],t.customizationsOverwritePrivilege)}}}},{key:"setBlockSpacing",value:function(){var t=this;if(this.pageflow){var e=this.renderParent;if(!e.documentBody&&e.blockStatic&&this.documentParent===e&&[["firstElementChild","Top",H.BOX_STANDARD.MARGIN_TOP,H.BOX_STANDARD.PADDING_TOP],["lastElementChild","Bottom",H.BOX_STANDARD.MARGIN_BOTTOM,H.BOX_STANDARD.PADDING_BOTTOM]].forEach(function(n,i){var r=V.getNodeFromElement(e[n[0]]);!r||r.lineBreak||r!==t&&r!==t.renderChildren[0===i?0:t.renderChildren.length-1]||e["margin".concat(n[1])]>0&&0===e["padding".concat(n[1])]&&0===e["border".concat(n[1],"Width")]&&r.modifyBox(n[2],null)}),this.htmlElement&&this.blockStatic)for(var n=function(e){var n=t.element.children[e],i=V.getNodeFromElement(n);if(i&&i.pageflow&&i.blockStatic&&!i.lineBreak){var r=i.previousSibling();if(r&&r.pageflow&&!r.lineBreak){var a=z.convertInt(i.cssInitial("marginTop",!0)),o=z.convertInt(r.cssInitial("marginBottom",!0));o>0&&a>0&&(a<=o?i.modifyBox(H.BOX_STANDARD.MARGIN_TOP,null):r.modifyBox(H.BOX_STANDARD.MARGIN_BOTTOM,null))}[n.previousElementSibling,n.nextElementSibling].forEach(function(t,e){var n=V.getNodeFromElement(t);if(n&&n.excluded){var r=Math.min(n.marginTop,n.marginBottom);r<0&&i.modifyBox(0===e?H.BOX_STANDARD.MARGIN_TOP:H.BOX_STANDARD.MARGIN_BOTTOM,r,!0)}})}},i=0;i<this.element.children.length;i++)n(i)}}},{key:"autoSizeBoxModel",value:function(t){if(t.autoSizePaddingAndBorderWidth&&!this.hasBit("excludeProcedure",H.NODE_PROCEDURE.AUTOFIT)){var e=this.renderParent,n=z.convertInt(this.android("layout_width")),i=z.convertInt(this.android("layout_height")),a=!1;if(this.imageElement){var o=this.borderTopWidth,l=this.borderRightWidth,s=this.borderBottomWidth,d=this.borderLeftWidth,c=0,h=0;o>0&&(this.modifyBox(H.BOX_STANDARD.PADDING_TOP,o),h+=o),l>0&&(this.modifyBox(H.BOX_STANDARD.PADDING_RIGHT,l),c+=l),s>0&&(this.modifyBox(H.BOX_STANDARD.PADDING_BOTTOM,s),h+=s),d>0&&(this.modifyBox(H.BOX_STANDARD.PADDING_LEFT,d),c+=d),h+=this.paddingTop+this.paddingBottom,(c+=this.paddingLeft+this.paddingRight)>0&&(n>0?this.android("layout_width",z.formatPX(n+c)):(n=z.convertInt(e.android("layout_width")))>0&&this.singleChild&&e.android("layout_width",z.formatPX(n+this.marginLeft+c))),h>0&&(i>0?this.android("layout_height",z.formatPX(i+h)):(i=z.convertInt(e.android("layout_height")))>0&&this.singleChild&&e.android("layout_height",z.formatPX(i+this.marginTop+h)))}else if(this.is(H.NODE_STANDARD.BUTTON)&&0===i)this.android("layout_height",z.formatPX(this.bounds.height+("outset"===this.css("borderStyle")?z.convertInt(this.css("borderWidth")):0)));else if(this.is(H.NODE_STANDARD.LINE))i>0&&this.has("height",0,{map:"initial"})&&"HR"!==this.tagName&&this.android("layout_height",z.formatPX(i+this.borderTopWidth+this.borderBottomWidth));else if("TABLE"===this.tagName){var u=z.convertInt(this.android("layout_width"));if(u>0&&(this.bounds.width>u&&this.android("layout_width",z.formatPX(this.bounds.width)),this.has("width",H.CSS_STANDARD.AUTO,{map:"initial"})&&this.renderChildren.every(function(t){return t.inlineWidth}))){var f=!0,g=!1,p=void 0;try{for(var m,v=this.renderChildren[Symbol.iterator]();!(f=(m=v.next()).done);f=!0){var y=m.value;y.android("layout_width","0px"),y.android("layout_columnWeight","1")}}catch(t){g=!0,p=t}finally{try{f||null==v.return||v.return()}finally{if(g)throw p}}}a="content-box"===this.css("boxSizing")||V.isUserAgent(H.USER_AGENT.EDGE|H.USER_AGENT.FIREFOX)}else if(this.styleElement&&!this.hasBit("excludeResource",H.NODE_RESOURCE.BOX_SPACING)){if("TABLE"!==e.tagName&&"border-box"!==this.css("boxSizing")){var b=z.convertInt(this.android("minWidth")),A=z.convertInt(this.android("minHeight")),T=this.paddingLeft+this.paddingRight+this.borderLeftWidth+this.borderRightWidth,_=r.getPaddedHeight(this);n>0&&T>0&&this.toInt("width",0,{map:"initial"})>0&&this.android("layout_width",z.formatPX(n+T)),i>0&&_>0&&this.toInt("height",0,{map:"initial"})>0&&(0===this.lineHeight||this.lineHeight<this.box.height||this.lineHeight===this.toInt("height"))&&this.android("layout_height",z.formatPX(i+_)),b>0&&T>0&&this.android("minWidth",z.formatPX(b+T)),A>0&&_>0&&this.android("minHeight",z.formatPX(A+_))}a=!0}a&&(this.modifyBox(H.BOX_STANDARD.PADDING_TOP,this.borderTopWidth),this.modifyBox(H.BOX_STANDARD.PADDING_RIGHT,this.borderRightWidth),this.modifyBox(H.BOX_STANDARD.PADDING_BOTTOM,this.borderBottomWidth),this.modifyBox(H.BOX_STANDARD.PADDING_LEFT,this.borderLeftWidth))}}},{key:"bindWhiteSpace",value:function(t){var e=this;if(!this.hasAlign(H.NODE_ALIGNMENT.FLOAT)&&(this.linearHorizontal||this.of(H.NODE_STANDARD.RELATIVE,H.NODE_ALIGNMENT.HORIZONTAL,H.NODE_ALIGNMENT.MULTILINE)||this.of(H.NODE_STANDARD.CONSTRAINT,H.NODE_ALIGNMENT.HORIZONTAL))){var n=this.css("textAlign"),i=this.toInt("textIndent"),r=this.valueBox(H.BOX_STANDARD.PADDING_LEFT),a=this.is(H.NODE_STANDARD.RELATIVE),o=this.box.left+(i>0?this.toInt("textIndent"):i<0&&1===r[0]?r[0]:0);this.each(function(e,i){if(!(e.floating||a&&e.alignParent("left",t)||0===i&&("left"!==n||e.plainText)||["SUP","SUB"].includes(e.tagName))){var r=Math.round(e.actualLeft()-o);r>=1&&e.modifyBox(H.BOX_STANDARD.MARGIN_LEFT,r)}o=e.actualRight()},!0)}else if(this.linearVertical){(this.initial.children.some(function(t){return z.hasValue(t.dataset.include)})?this.initial.children:this.renderChildren).forEach(function(t){var n=function(){var n=t;do{n=n.previousSibling(!0,!1,!1)}while(n&&!e.initial.children.includes(n));return n}(),i=V.getElementsBetweenSiblings(n?n.length>0&&!n.styleElement?n.lastElementChild:n.baseElement:null,t.baseElement).filter(function(t){var e=V.getNodeFromElement(t);return e&&(e.lineBreak||e.excluded&&e.blockStatic)});if(i.length>0){var r;if(r=n?n.layoutHorizontal&&n.length>0&&n.renderChildren.some(function(t){return!t.floating})?n.renderChildren.filter(function(t){return!t.floating}).sort(function(t,e){return t.linear.bottom<e.linear.bottom?1:-1})[0].linear.bottom:n.linear.bottom:e.box.top,1===i.length&&"BR"===i[0].tagName&&n&&n.inline&&t.inline)return;var a=Math.round(t.linear.top-r);a>=1&&t.modifyBox(H.BOX_STANDARD.MARGIN_TOP,a)}})}}},{key:"alignLinearLayout",value:function(t){var e=this;if(this.linearHorizontal){var n=this.renderParent,i=this.renderChildren,a=i.filter(function(t){return!t.floating&&(t.styleElement||0===t.renderChildren.length)});if(a.length>0&&a.every(function(t){return t.baseline||t.has("verticalAlign",H.CSS_STANDARD.UNIT)})&&(a.some(function(t){return t.toInt("verticalAlign")<0})&&a.some(function(t){return t.toInt("verticalAlign")>0})||a.some(function(t){return t.imageElement&&0!==t.toInt("verticalAlign")}))){var o=[],l=Math.max.apply(null,a.map(function(t){return t.toInt("verticalAlign")})),s=0;l>0&&(a.forEach(function(t){var e=t.toInt("verticalAlign"),n=(t.imageElement?t.bounds.height:0)+(e>0?e:0);n>=s&&(n>s&&(o.length=0),o.push(t),s=n)}),o.sort(function(t){return t.imageElement?-1:1}),a.forEach(function(t){if(!o.includes(t)){var e=t.toInt("verticalAlign");l>0&&t.modifyBox(H.BOX_STANDARD.MARGIN_TOP,s-(o[0].imageElement?t.bounds.height:0)),0!==e&&(t.modifyBox(H.BOX_STANDARD.MARGIN_TOP,-1*e,!0),t.css("verticalAlign","0px"))}}),o.forEach(function(t){return t.css("verticalAlign","0px")}))}if(i.some(function(t){return"SUB"===t.tagName})&&this.inlineHeight){var d=z.convertInt(r.getCustomizationValue(this.api,"SUB","android","layout_marginTop"));d>0&&this.android("layout_height",z.formatPX(this.bounds.height+d+r.getPaddedHeight(this)))}if(i.some(function(t){return t.imageElement&&t.baseline})||!this.hasAlign(H.NODE_ALIGNMENT.FLOAT)&&!i.some(function(t){return t.floating||!t.siblingflow})){var c=n.android("baselineAlignedChildIndex");if(n.renderChildren.some(function(t){return t.baseline&&t.textElement})||""!==c&&n.renderChildren.findIndex(function(t){return t===e})===parseInt(c)||i.some(function(t){return!t.alignOrigin||!t.baseline})||i.some(function(t){return t.nodeType<H.NODE_STANDARD.TEXT})&&i.some(function(t){return t.textElement&&t.baseline})||n.is(H.NODE_STANDARD.GRID)&&!i.some(function(t){return t.textElement&&t.baseline})){var h=G.textBaseline(i);h.length>0&&this.android("baselineAlignedChildIndex",""+i.indexOf(h[0]))}}else this.android("baselineAligned","false");if(t.ellipsisOnTextOverflow&&this.length>1&&i.every(function(t){return t.textElement&&!t.floating})){var u=i[i.length-1];u.textElement&&!u.multiLine&&u.textContent.trim().split(" ").length>1&&u.android("singleLine","true")}}}},{key:"alignRelativePosition",value:function(){var t=this,e=this.renderParent;if(this.inline||this.imageOrSvgElement&&"inline-block"===this.display&&!this.floating){var n=this.toInt("verticalAlign");0!==n&&(this.modifyBox(H.BOX_STANDARD.MARGIN_TOP,-1*n,!0),n<0&&"inline-block"!==this.display&&e.layoutHorizontal&&e.inlineHeight&&e.android("layout_height",z.formatPX(e.bounds.height+r.getPaddedHeight(e))))}if("relative"===this.position||e.is(H.NODE_STANDARD.FRAME)){var i=this.toInt("top"),a=this.toInt("bottom"),o=this.toInt("left");if(0!==i)if(i<0&&this.floating&&this.data("RESOURCE","backgroundImage")&&e.is(H.NODE_STANDARD.RELATIVE,H.NODE_STANDARD.LINEAR)){var l=!1;e.renderChildren.some(function(e){if(e===t)l=!0;else{if(""!==e.android("layout_below"))return!0;l&&e.modifyBox(H.BOX_STANDARD.MARGIN_TOP,Math.abs(i))}return!1})}else this.modifyBox(H.BOX_STANDARD.MARGIN_TOP,i,!0);else 0!==a&&this.modifyBox(H.BOX_STANDARD.MARGIN_TOP,-1*a,!0);0!==o&&("right"===this.float||"relative"===this.position&&this.autoMarginLeft?this.modifyBox(H.BOX_STANDARD.MARGIN_RIGHT,-1*o,!0):this.modifyBox(H.BOX_STANDARD.MARGIN_LEFT,o,!0))}if(!this.plainText&&!e.linearHorizontal){var s=this.lineHeight+this.toInt("verticalAlign")-this.actualHeight;s>0&&(this.modifyBox(H.BOX_STANDARD.MARGIN_TOP,Math.floor(s/2)),this.modifyBox(H.BOX_STANDARD.MARGIN_BOTTOM,Math.ceil(s/2)))}}},{key:"stringId",get:function(){return this.nodeId?"@+id/".concat(this.nodeId):""}},{key:"controlName",set:function(t){this._controlName=t},get:function(){if(this._controlName)return this._controlName;var t=W.MAP_ELEMENT[this.nodeName];return null!=t?(this.nodeType=t,r.getControlName(t)):""}},{key:"documentParent",set:function(t){this._documentParent=t},get:function(){return this._documentParent?this._documentParent:0===this.id?this:this.getParentElementAsNode(!1)||r.documentBody()}},{key:"renderParent",set:function(t){t!==this&&t.appendRendered(this),this._renderParent=t},get:function(){return this._renderParent||r.documentBody()}},{key:"anchored",get:function(){return this.constraint.horizontal&&this.constraint.vertical}},{key:"layoutHorizontal",get:function(){return this.linearHorizontal||this.hasAlign(H.NODE_ALIGNMENT.HORIZONTAL)||this.nodes.filter(function(t){return t.pageflow}).length>1&&(G.linearX(this.nodes)||this.is(H.NODE_STANDARD.FRAME)&&this.nodes.every(function(t){return t.domElement}))}},{key:"layoutVertical",get:function(){return this.linearVertical||this.hasAlign(H.NODE_ALIGNMENT.VERTICAL)||this.nodes.filter(function(t){return t.pageflow}).length>1&&G.linearY(this.nodes)||this.is(H.NODE_STANDARD.FRAME)&&this.nodes.some(function(t){return t.linearVertical})}},{key:"linearHorizontal",get:function(){return this._android.orientation===b.HORIZONTAL&&this.is(H.NODE_STANDARD.LINEAR,H.NODE_STANDARD.RADIO_GROUP)}},{key:"linearVertical",get:function(){return this._android.orientation===b.VERTICAL&&this.is(H.NODE_STANDARD.LINEAR,H.NODE_STANDARD.RADIO_GROUP)}},{key:"inlineWidth",get:function(){return"wrap_content"===this._android.layout_width}},{key:"inlineHeight",get:function(){return"wrap_content"===this._android.layout_height}},{key:"blockWidth",get:function(){return"match_parent"===this._android.layout_width}},{key:"blockHeight",get:function(){return"match_parent"===this._android.layout_height}}],[{key:"documentBody",value:function(){if(null==r._documentBody){var t=new r(0,document.body);t.hide(),t.setBounds(),r._documentBody=t}return r._documentBody}},{key:"getCustomizationValue",value:function(t,e,n,i){for(var r=[w[t],w[0]],a=0;a<r.length;a++){var o=r[a];if(o&&o.customizations&&o.customizations[e]&&o.customizations[e][n]&&z.isString(o.customizations[e][n][i]))return o.customizations[e][n][i]}return""}},{key:"getControlName",value:function(t){return v[H.NODE_STANDARD[t]]}},{key:"getPaddedHeight",value:function(t){return t.paddingTop+t.paddingBottom+t.borderTopWidth+t.borderBottomWidth}}]),r}()},U=function(t){function n(){return e(this,n),s(this,o(n).apply(this,arguments))}return a(n,F(androme.lib.base.Node)),n}(),j=function(t){function n(t,i,r,a){var l;return e(this,n),(l=s(this,o(n).call(this,t))).api=i.api,l.parent=r,l.depth=i.depth,l.nodeName="".concat(i.nodeName,"_GROUP"),l.documentParent=i.documentParent,Array.isArray(a)&&(l.children=a,a.length>0&&l.init()),l}return a(n,F(androme.lib.base.NodeGroup)),n}(),Y='!0\n<?xml version="1.0" encoding="utf-8"?>\n<layer-list xmlns:android="http://schemas.android.com/apk/res/android">\n!1\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<solid android:color="@color/{&color}" />\n\t\t</shape>\n\t</item>\n!1\n!2\n\t<item>\n       <shape android:shape="rectangle">\n\t        <gradient android:type="{&type}" android:startColor="@color/{&startColor}" android:centerColor="@color/{@centerColor}" android:endColor="@color/{&endColor}" android:angle="{@angle}" android:centerX="{@centerX}" android:centerY="{@centerY}" android:gradientRadius="{@gradientRadius}" android:useLevel="{@useLevel}" />\n\t\t</shape>\n\t</item>\n!2\n!3\n\t<item android:left="{@left}" android:top="{@top}" android:right="{@right}" android:bottom="{@bottom}" android:drawable="@drawable/{src}" width="{@width}" height="{@height}" />\n!3\n!4\n\t<item android:left="{@left}" android:top="{@top}" android:right="{@right}" android:bottom="{@bottom}">\n\t\t<bitmap android:src="@drawable/{src}" android:gravity="{@gravity}" android:tileMode="{@tileMode}" android:tileModeX="{@tileModeX}" android:tileModeY="{@tileModeY}" />\n\t</item>\n!4\n!8\n\t<item android:left="{@left}" android:top="{@top}" android:right="{@right}" android:bottom="{@bottom}">\n\t\t<shape android:shape="rectangle">\n!9\n\t\t\t<stroke android:width="{&width}" {borderStyle} />\n!9\n\t\t</shape>\n\t</item>\n!8\n!5\n\t<item android:left="{@left}" android:top="{@top}" android:right="{@right}" android:bottom="{@bottom}">\n\t\t<shape android:shape="rectangle">\n!6\n\t\t\t<stroke android:width="{&width}" {borderStyle} />\n!6\n!7\n\t\t\t<corners android:radius="{@radius}" android:topLeftRadius="{@topLeftRadius}" android:topRightRadius="{@topRightRadius}" android:bottomRightRadius="{@bottomRightRadius}" android:bottomLeftRadius="{@bottomLeftRadius}" />\n!7\n\t\t</shape>\n\t</item>\n!5\n</layer-list>\n!0',Z=androme.lib.base.NodeList,J=androme.lib.enumeration,K=androme.lib.util,$=androme.lib.dom,q=androme.lib.xml,Q=androme.lib.color,tt=androme.lib.base.Resource,et={background:'android:background="@drawable/{0}"',backgroundColor:'android:background="@color/{0}"'},nt={fontFamily:'android:fontFamily="{0}"',fontStyle:'android:textStyle="{0}"',fontWeight:'android:fontWeight="{0}"',fontSize:'android:textSize="{0}"',color:'android:textColor="@color/{0}"',backgroundColor:'android:background="@color/{0}"'},it={text:'android:text="{0}"'},rt={entries:'android:entries="@array/{0}"'},at={src:'android:src="@drawable/{0}"'};function ot(t){var e=!0,n=!1,i=void 0;try{for(var r,a=tt.STORED.drawables.entries()[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=c(r.value,2);if(o[1]===t)return o[0]}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}return""}function lt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i={solid:'android:color="@color/'.concat(t.color,'"'),groove:"",ridge:""};Object.assign(i,{double:i.solid,inset:i.solid,outset:i.solid,dotted:"".concat(i.solid,' android:dashWidth="3px" android:dashGap="1px"'),dashed:"".concat(i.solid,' android:dashWidth="1px" android:dashGap="1px"')});var r="groove"===t.style;if(parseInt(t.width)>1&&(r||"ridge"===t.style)){var a=K.isString(t.color)?t.color:"",o=st.getColor(a);if(""!==o){var l="1";9===o.length&&(o="#".concat(o.substring(3)),l="0.".concat(o.substring(1,3)));var s=Q.parseRGBA(Q.reduceToRGB(o,r||"#000000"===o?.3:-.3));s.length>0&&(a=st.addColor(s[0],l))}var d='android:color="@color/'.concat(a,'"');if(r)if(n)switch(e){case 0:case 1:i.groove=d;break;case 2:case 3:i.groove=i.solid}else switch(e){case 0:case 1:i.groove=i.solid;break;case 2:case 3:i.groove=d}else if(n)switch(e){case 0:case 1:i.ridge=i.solid;break;case 2:case 3:i.ridge=d}else switch(e){case 0:case 1:i.ridge=d;break;case 2:case 3:i.ridge=i.solid}}return i[t.style]||i.solid}var st=function(n){function r(){var t;return e(this,r),(t=s(this,o(r).apply(this,arguments)))._tagStyle={},t._tagCount={},t}return a(r,androme.lib.base.Resource),i(r,[{key:"reset",value:function(){d(o(r.prototype),"reset",this).call(this),this.file.reset(),this._tagStyle={},this._tagCount={}}},{key:"finalize",value:function(t){var e={};for(var n in this.processFontStyle(t),t.cache.each(function(t){var n=t.renderChildren.filter(function(t){return t.visible&&t.auto});n.length>1&&function(){for(var i=new Map,r="",a=!0,o=function(t){var e=!1;if(n[t].combine("_","android").some(function(n){if(n.startsWith("style=")){if(0===t)r=n;else if(""===r||n!==r)return a=!1,!0;e=!0}else i.has(n)||i.set(n,0),i.set(n,i.get(n)+1);return!1}),!a||""!==r&&!e)return a=!1,"break"},l=0;l<n.length;l++){if("break"===o(l))break}if(a){var s=!0,d=!1,h=void 0;try{for(var u,f=i.entries()[Symbol.iterator]();!(s=(u=f.next()).done);s=!0){var g=c(u.value,2);g[1]!==n.length&&i.delete(g[0])}}catch(t){d=!0,h=t}finally{try{s||null==f.return||f.return()}finally{if(d)throw h}}if(i.size>1){""!==r&&(r=K.trimString(r.substring(r.indexOf("/")+1),'"'));var p=[],m=!0,v=!1,y=void 0;try{for(var b,A=function(){var t=b.value.match(/(\w+):(\w+)="(.*?)"/);t&&(n.forEach(function(e){return e.delete(t[1],t[2])}),p.push(t[0]))},T=i.keys()[Symbol.iterator]();!(m=(b=T.next()).done);m=!0)A()}catch(t){v=!0,y=t}finally{try{m||null==T.return||T.return()}finally{if(v)throw y}}p.sort();var _="";for(var N in e)if(e[N].join(";")===p.join(";")){_=N;break}""!==_&&""!==r&&_.startsWith("".concat(r,"."))||(_=(""!==r?"".concat(r,"."):"")+K.capitalize(t.nodeId),e[_]=p),n.forEach(function(t){return t.attr("_","style","@style/".concat(_))})}}}()}),e)tt.STORED.styles.set(n,{name:n,attrs:e[n].join(";"),ids:[]})}},{key:"setBoxSpacing",value:function(){var t=this;d(o(r.prototype),"setBoxSpacing",this).call(this),this.cache.elements.forEach(function(e){var n=$.getElementCache(e.element,"boxSpacing");n&&!e.hasBit("excludeResource",J.NODE_RESOURCE.BOX_SPACING)&&(n.marginLeft!==n.marginRight||!e.alignParent("left",t.settings)||!e.alignParent("right",t.settings)||e.blockWidth||"relative"===e.position&&e.alignNegative||(e.modifyBox(J.BOX_STANDARD.MARGIN_LEFT,null),e.modifyBox(J.BOX_STANDARD.MARGIN_RIGHT,null)),"auto"===e.css("marginLeft")&&e.modifyBox(J.BOX_STANDARD.MARGIN_LEFT,null),"auto"===e.css("marginRight")&&e.modifyBox(J.BOX_STANDARD.MARGIN_RIGHT,null))})}},{key:"setBoxStyle",value:function(){var e=this;d(o(r.prototype),"setBoxStyle",this).call(this),this.cache.elements.forEach(function(n){var i=$.getElementCache(n.element,"boxStyle");if(i&&!n.hasBit("excludeResource",J.NODE_RESOURCE.BOX_STYLE)){var a=function(t,e,n){return-1===t.indexOf(" ")&&-1!==e.indexOf(" ")?/^[a-z]+$/.test(t)?"".concat("initial"===t?n:t," 0px"):"".concat(n," ").concat(t):t};i.backgroundColor.length>0&&(i.backgroundColor=r.addColor(i.backgroundColor[0],i.backgroundColor[2]));var o=[],l=i.backgroundRepeat.split(",").map(function(t){return t.trim()}),s=[],d=[],c=i.backgroundPositionX.split(",").map(function(t){return t.trim()}),u=i.backgroundPositionY.split(",").map(function(t){return t.trim()}),f=[];if(Array.isArray(i.backgroundImage)){o.push.apply(o,h(i.backgroundImage));for(var g=0;g<o.length;g++)if(o[g]&&"none"!==o[g]){s.push(e.imageDimensions.get($.cssResolveUrl(o[g]))),o[g]=r.addImageURL(o[g]);var p=c[g]||c[g-1],m=u[g]||u[g-1],v=a(p,m,"left"),y=a(m,p,"top");f[g]="".concat("initial"===v?"0px":v," ").concat("initial"===y?"0px":y)}else o[g]="",l[g]="",f[g]=""}else if(i.backgroundGradient)for(var b=0;b<i.backgroundGradient.length;b++){var A=i.backgroundGradient[b],T={type:A.type,startColor:A.startColor.length>0?r.addColor(A.startColor[0],A.startColor[2]):"",centerColor:"",endColor:A.endColor.length>0?r.addColor(A.endColor[0],A.endColor[2]):"",angle:"",centerX:"",centerY:"",gradientRadius:"",useLevel:""};switch(T.type){case"radial":var _=A,N=_.shapePosition.length>1?tt.parseBackgroundPosition(_.shapePosition[1],n.bounds,n.css("fontSize"),!0):null;_.centerColor.length>0&&(T.centerColor=r.addColor(_.centerColor[0],_.centerColor[2])),T.gradientRadius=K.formatPX(n.bounds.width),N&&(T.centerX="".concat("right"===N.horizontal?100-N.right:N.left,"%"),T.centerY="".concat("bottom"===N.vertical?100-N.bottom:N.top,"%"));break;case"linear":T.angle=""+45*Math.floor(A.angle/45)}d.push(T)}var E=et,R=n.companion;if(R&&R.htmlElement&&!R.visible&&!$.cssFromParent(R.element,"backgroundColor")){var D=$.getElementCache(R.element,"boxStyle");D.backgroundColor.length>0&&(i.backgroundColor=r.addColor(D.backgroundColor[0],D.backgroundColor[2]))}var I=tt.isBorderVisible(i.borderTop)||tt.isBorderVisible(i.borderRight)||tt.isBorderVisible(i.borderBottom)||tt.isBorderVisible(i.borderLeft)||i.borderRadius.length>0,O=o.filter(function(t){return""!==t}).length>0;if(I||O||d.length>0){var w=function(t,e,n,i,r,a){var o=parseInt(e.width),l=Math.floor(o/3),s=o%3,d=l+(2===s?1:0),c=l+(2===s?1:0),h="-".concat(K.formatPX(d+1)),u="-".concat(K.formatPX(d));t[5].push({top:n?"":u,right:i?"":h,bottom:r?"":u,left:a?"":h,6:[{width:K.formatPX(d),borderStyle:lt(e)}],7:H}),h="-".concat(K.formatPX(o+1)),u="-".concat(K.formatPX(o));var f="".concat(K.formatPX(o-l));t[5].push({top:n?f:h,right:i?f:u,bottom:r?f:u,left:a?f:h,6:[{width:K.formatPX(c),borderStyle:lt(e)}],7:H})},S=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];switch(e){case"stroke":if(t.border&&tt.isBorderVisible(t.border)){if(!i||r)return[{width:t.border.width,borderStyle:lt(t.border,r?n:-1)}];if(i)return[{width:K.formatPX(Math.ceil(parseInt(t.border.width)/2)),borderStyle:lt(t.border,n,!0)}]}return!1;case"backgroundColor":return 0!==t.backgroundColor.length&&""!==t.backgroundColor&&[{color:t.backgroundColor}];case"radius":if(1===t.borderRadius.length){if("0px"!==t.borderRadius[0])return[{radius:t.borderRadius[0]}]}else if(t.borderRadius.length>1){var a={};return t.borderRadius.forEach(function(t,e){return a["".concat(["topLeft","topRight","bottomRight","bottomLeft"][e],"Radius")]=t}),[a]}return!1}return!1},x=[i.borderTop,i.borderRight,i.borderBottom,i.borderLeft];x.forEach(function(t){tt.isBorderVisible(t)&&t.color.length>0&&(t.color=r.addColor(t.color[0],t.color[2]))});for(var L,B=[],C=[],P="",k=0;k<o.length;k++)if(""!==o[k]){var M=function(){var t=tt.parseBackgroundPosition(f[k],n.bounds,n.css("fontSize")),r=s[k],a="center"===t.horizontal&&"center"===t.vertical?"center":"".concat("center"===t.horizontal?"center_horizontal":t.horizontal,"|").concat("center"===t.vertical?"center_vertical":t.vertical),d="",c="",h="",u=null==r||r.width<n.bounds.width||r.height<n.bounds.height;switch(l[k]){case"repeat-x":u&&(c="repeat");break;case"repeat-y":u&&(h="repeat");break;case"no-repeat":d="disabled";break;case"repeat":u&&(d="repeat")}if(""!==a&&r&&r.width>0&&r.height>0&&0===n.renderChildren.length){if("repeat"===h){var g=n.viewWidth;if(g>0?e.settings.autoSizePaddingAndBorderWidth&&!n.hasBit("excludeResource",J.NODE_RESOURCE.BOX_SPACING)&&(g=n.viewWidth+n.paddingLeft+n.paddingRight):g=n.bounds.width-(n.borderLeftWidth+n.borderRightWidth),r.width<g){var p=K.convertInt(n.android("layout_width"));-1!==a.indexOf("left")?(t.right=g-r.width,0===n.viewWidth&&g>p&&n.android("layout_width",K.formatPX(n.bounds.width))):-1!==a.indexOf("right")?(t.left=g-r.width,0===n.viewWidth&&g>p&&n.android("layout_width",K.formatPX(n.bounds.width))):"center"!==a&&-1===a.indexOf("center_horizontal")||(t.right=Math.floor((g-r.width)/2),0===n.viewWidth&&g>p&&n.android("layout_width",K.formatPX(n.bounds.width)))}}if("repeat"===c){var m=n.viewHeight;if(m>0?e.settings.autoSizePaddingAndBorderWidth&&!n.hasBit("excludeResource",J.NODE_RESOURCE.BOX_SPACING)&&(m=n.viewHeight+n.paddingTop+n.paddingBottom):m=n.bounds.height-(n.borderTopWidth+n.borderBottomWidth),r.height<m){var v=K.convertInt(n.android("layout_height"));-1!==a.indexOf("top")?(t.bottom=m-r.height,0===n.viewHeight&&m>v&&n.android("layout_height",K.formatPX(n.bounds.height))):-1!==a.indexOf("bottom")?(t.top=m-r.height,0===n.viewHeight&&m>v&&n.android("layout_height",K.formatPX(n.bounds.height))):"center"!==a&&-1===a.indexOf("center_vertical")||(t.bottom=Math.floor((m-r.height)/2),0===n.viewHeight&&m>v&&n.android("layout_height",K.formatPX(n.bounds.height)))}}}if(i.backgroundSize.length>0&&(K.isPercent(i.backgroundSize[0])||K.isPercent(i.backgroundSize[1]))&&("100%"===i.backgroundSize[0]&&"100%"===i.backgroundSize[1]?(d="",c="",h="",a=""):"100%"===i.backgroundSize[0]?c="":"100%"===i.backgroundSize[1]&&(h=""),i.backgroundSize=[]),O)if(n.of(J.NODE_STANDARD.IMAGE,J.NODE_ALIGNMENT.SINGLE)&&1===f.length){n.android("src","@drawable/".concat(o[0])),t.left>0&&n.modifyBox(J.BOX_STANDARD.MARGIN_LEFT,t.left),t.top>0&&n.modifyBox(J.BOX_STANDARD.MARGIN_TOP,t.top);var y="";switch(a){case"left|top":case"left|center_vertical":case"left|bottom":y="fitStart";break;case"right|top":case"right|center_vertical":case"right|bottom":y="fitEnd";break;case"center":case"center_horizontal|top":case"center_horizontal|bottom":y="center"}if(n.android("scaleType",y),!I)return{v:void 0};o.length=0}else{"left|top"===a&&(a="");var b={top:0!==t.top?K.formatPX(t.top):"",right:0!==t.right?K.formatPX(t.right):"",bottom:0!==t.bottom?K.formatPX(t.bottom):"",left:0!==t.left?K.formatPX(t.left):"",gravity:a,tileMode:d,tileModeX:c,tileModeY:h,width:"",height:"",src:o[k]};""!==a||""!==d||""!==c||""!==h?C.push(b):(i.backgroundSize.length>0&&(b.width=i.backgroundSize[0],b.height=i.backgroundSize[1]),B.push(b))}}();if("object"===t(M))return M.v}C.sort(function(t,e){return"repeat"!==t.tileModeX&&"repeat"!==t.tileModeY&&"repeat"!==t.tileMode?1:"repeat"!==e.tileModeX&&"repeat"!==e.tileModeY&&"repeat"!==e.tileMode?-1:"repeat"===t.tileMode?-1:"repeat"===e.tileMode?1:"repeat"===e.tileModeX||"repeat"===e.tileModeY?1:-1});var X,G=S(i,"backgroundColor"),H=S(i,"radius");if(i.border&&!(parseInt(i.border.width)>1&&("groove"===i.border.style||"ridge"===i.border.style)||parseInt(i.border.width)>2&&"double"===i.border.style))!O&&d.length<=1?(H&&null==H.radius&&(H.radius="1px"),X=q.parseTemplate('!0\n<?xml version="1.0" encoding="utf-8"?>\n<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">\n!1\n\t<stroke android:width="{&width}" {borderStyle} />\n!1\n!2\n\t<solid android:color="@color/{&color}" />\n!2\n!3\n\t<corners android:radius="{&radius}" android:topLeftRadius="{@topLeftRadius}" android:topRightRadius="{@topRightRadius}" android:bottomLeftRadius="{@bottomLeftRadius}" android:bottomRightRadius="{@bottomRightRadius}" />\n!3\n!4\n\t<gradient android:type="{&type}" android:startColor="@color/{&startColor}" android:centerColor="@color/{@centerColor}" android:endColor="@color/{&endColor}" android:angle="{@angle}" android:centerX="{@centerX}" android:centerY="{@centerY}" android:gradientRadius="{@gradientRadius}" android:useLevel="{@useLevel}" />\n!4\n</shape>\n!0'),L={0:[{1:S(i,"stroke"),2:G,3:H,4:d.length>0&&d}]}):(X=q.parseTemplate(Y),L={0:[{1:G,2:d.length>0&&d,3:B.length>0&&B,4:C.length>0&&C,5:!(!tt.isBorderVisible(i.border)&&!H)&&[{6:S(i,"stroke"),7:H}],8:!1}]});else{X=q.parseTemplate(Y);var W=q.getTemplateBranch(L={0:[{1:G,2:d.length>0&&d,3:B.length>0&&B,4:C.length>0&&C,5:[],8:[]}]},"0"),z=x.filter(function(t){return tt.isBorderVisible(t)}),V=new Set(z.map(function(t){return t.width})),F=new Set(z.map(function(t){return lt(t)})),U=z[0];if(1===V.size&&1===F.size&&"groove"!==U.style&&"ridge"!==U.style){var j=parseInt(U.width);if(j>2&&"double"===U.style)w(W,U,tt.isBorderVisible(i.borderTop),tt.isBorderVisible(i.borderRight),tt.isBorderVisible(i.borderBottom),tt.isBorderVisible(i.borderLeft));else{var Z="-".concat(K.formatPX(j+1)),Q="-".concat(K.formatPX(j));W[5].push({top:tt.isBorderVisible(i.borderTop)?"":Z,right:tt.isBorderVisible(i.borderRight)?"":Q,bottom:tt.isBorderVisible(i.borderBottom)?"":Q,left:tt.isBorderVisible(i.borderLeft)?"":Z,6:S({border:z[0]},"stroke"),7:H})}}else for(var nt=0;nt<x.length;nt++){var it=x[nt];if(tt.isBorderVisible(it)){var rt=parseInt(it.width);if(rt>2&&"double"===it.style)w(W,it,0===nt,1===nt,2===nt,3===nt);else{var at=rt>1&&("groove"===it.style||"ridge"===it.style),st=at?Math.ceil(rt/2):rt,dt="-".concat(K.formatPX(st+1)),ct="-".concat(K.formatPX(st));W[5].push({top:0===nt?"":dt,right:1===nt?"":ct,bottom:2===nt?"":ct,left:3===nt?"":dt,6:S({border:it},"stroke",nt,at),7:H}),at&&(dt="-".concat(K.formatPX(rt+1)),ct="-".concat(K.formatPX(rt)),W[8].push({top:0===nt?"":dt,right:1===nt?"":ct,bottom:2===nt?"":ct,left:3===nt?"":dt,9:S({border:it},"stroke",nt,!0,!0)}))}}}}if(X){var ht=q.createTemplate(X,L);""===(P=ot(ht))&&(P="".concat(n.nodeName.toLowerCase(),"_").concat(n.nodeId),tt.STORED.drawables.set(P,ht))}if(n.formatted(K.formatString(E.background,P),0===n.renderExtension.size),O&&(n.data("RESOURCE","backgroundImage",!0),e.settings.autoSizeBackgroundImage&&!n.documentRoot&&!n.imageOrSvgElement&&"TABLE"!==n.renderParent.tagName&&!n.hasBit("excludeProcedure",J.NODE_PROCEDURE.AUTOFIT))){var ut={width:0,height:0};if(s.forEach(function(t){t&&(ut.width=Math.max(ut.width,t.width),ut.height=Math.max(ut.height,t.height))}),0===ut.width)for(var ft=n;ft&&!ft.documentBody&&(ft.hasWidth&&(ut.width=ft.bounds.width),ft.hasHeight&&(ut.height=ft.bounds.height),ft.pageflow&&!(ut.width>0&&ut.height>0));)ft=ft.documentParent;if(!n.has("width",J.CSS_STANDARD.UNIT)){var gt=n.bounds.width+(n.is(J.NODE_STANDARD.LINE)?0:n.borderLeftWidth+n.borderRightWidth);(0===ut.width||gt>0&&gt<ut.width)&&n.css("width",K.formatPX(gt))}if(!n.has("height",J.CSS_STANDARD.UNIT)){var pt=n.actualHeight+(n.is(J.NODE_STANDARD.LINE)?0:n.borderTopWidth+n.borderBottomWidth);(0===ut.height||pt>0&&pt<ut.height)&&(n.css("height",K.formatPX(pt)),n.marginTop<0&&n.modifyBox(J.BOX_STANDARD.MARGIN_TOP,null),n.marginBottom<0&&n.modifyBox(J.BOX_STANDARD.MARGIN_BOTTOM,null))}}}else!$.getElementCache(n.element,"fontStyle")&&K.isString(i.backgroundColor)&&n.formatted(K.formatString(E.backgroundColor,i.backgroundColor),0===n.renderExtension.size)}})}},{key:"setFontStyle",value:function(){var t=this;d(o(r.prototype),"setFontStyle",this).call(this);var e={};this.cache.visible.forEach(function(t){if(!t.hasBit("excludeResource",J.NODE_RESOURCE.FONT_STYLE)){$.getElementCache(t.element,"fontStyle")&&(null==e[t.nodeName]&&(e[t.nodeName]=[]),e[t.nodeName].push(t));var n=t.css("textShadow");"none"!==n&&[/^(rgb(?:a)?\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}(?:, [0-9.]+)?\)) ([0-9.]+[a-z]{2}) ([0-9.]+[a-z]{2}) ([0-9.]+[a-z]{2})$/,/^([0-9.]+[a-z]{2}) ([0-9.]+[a-z]{2}) ([0-9.]+[a-z]{2}) (.+)$/].some(function(e,i){var a=n.match(e);if(a){var o=Q.parseRGBA(a[0===i?1:4]);return o.length>0&&t.android("shadowColor","@color/".concat(r.addColor(o[0],o[2]))),t.android("shadowDx",""+K.convertInt(a[0===i?2:1])),t.android("shadowDy",""+K.convertInt(a[0===i?3:2])),t.android("shadowRadius",""+K.convertInt(a[0===i?4:3])),!0}return!1})}});var n=function(n){var i=[],a=new Z(e[n]);a.each(function(e){var n=e.id,a=e.companion,o=!1;!a||a.visible||!a.textElement&&"LABEL"!==a.tagName||(e=a);var l=Object.assign({},$.getElementCache(e.element,"fontStyle"));if(l.backgroundColor.length>0&&(l.backgroundColor=r.addColor(l.backgroundColor[0],l.backgroundColor[2])),l.fontFamily){var s=l.fontFamily.split(",")[0].replace(/"/g,"").toLowerCase().trim(),d="",c="";if(l.color.length>0&&(l.color=r.addColor(l.color[0],l.color[2])),t.settings.fontAliasResourceValue&&N[s]&&(s=N[s]),T[s]&&t.settings.targetAPI>=T[s]||t.settings.fontAliasResourceValue&&_[s]&&t.settings.targetAPI>=T[_[s]]?(o=!0,l.fontFamily=s,"normal"===l.fontStyle&&delete l.fontStyle,"400"===l.fontWeight&&delete l.fontWeight):(s=K.convertWord(s),l.fontFamily="@font/".concat(s+("normal"!==l.fontStyle?"_".concat(l.fontStyle):"")+("400"!==l.fontWeight?"_".concat(E[l.fontWeight]||l.fontWeight):"")),d=l.fontStyle,c=l.fontWeight,delete l.fontStyle,delete l.fontWeight),!o){var h=tt.STORED.fonts.get(s)||{};h["".concat(d,"-").concat(c)]=!0,tt.STORED.fonts.set(s,h)}}for(var u=nt,f=Object.keys(u),g=0;g<f.length;g++){null==i[g]&&(i[g]={});var p=l[f[g]];if(K.hasValue(p)&&e.supported("android",f[g])){var m=K.formatString(u[f[g]],p);null==i[g][m]&&(i[g][m]=[]),i[g][m].push(n)}}});var o=t._tagStyle[n];if(o){for(var l=0;l<o.length;l++)for(var s in o[l]){var d;if(i[l][s])(d=i[l][s]).push.apply(d,h(o[l][s]));else i[l][s]=o[l][s]}t._tagCount[n]+=a.visible.length}else t._tagCount[n]=a.visible.length;t._tagStyle[n]=i};for(var i in e)n(i)}},{key:"setImageSource",value:function(){d(o(r.prototype),"setImageSource",this).call(this),this.cache.visible.forEach(function(t){var e="";if(t.svgElement){var n=$.getElementCache(t.element,"imageSource");if(n){var i={0:[{width:K.formatPX(n.width),height:K.formatPX(n.height),viewportWidth:n.viewBoxWidth>0&&""+n.viewBoxWidth,viewportHeight:n.viewBoxHeight>0&&""+n.viewBoxHeight,alpha:n.opacity<1&&n.opacity,1:[]}]},a=q.getTemplateBranch(i,"0");n.children.forEach(function(t){var e={name:t.name,2:[],3:[]};t.nestedSVG?(t.x&&0!==t.x&&(e.translateX=""+t.x),t.y&&0!==t.y&&(e.translateY=""+t.y)):(1!==t.scaleX&&(e.scaleX=""+t.scaleX),1!==t.scaleY&&(e.scaleY=""+t.scaleY),0!==t.rotation&&(e.rotation=""+t.rotation),1!==t.skewX&&(e.pivotX=""+t.skewX),1!==t.skewY&&(e.pivotY=""+t.skewY),0!==t.translateX&&(e.translateX=""+t.translateX),0!==t.translateY&&(e.translateY=""+t.translateY)),t.children.forEach(function(t){t.clipPath?e[2].push({name:t.name,d:t.d}):e[3].push(t)}),a[1].push(e)});var o=q.createTemplate(q.parseTemplate('!0\n<?xml version="1.0" encoding="utf-8"?>\n<vector xmlns:android="http://schemas.android.com/apk/res/android" android:width="{width}" android:height="{height}" android:viewportWidth="{@viewportWidth}" android:viewportHeight="{@viewportHeight}" android:alpha="{@alpha}">\n!1\n\t<group android:name="{@name}" android:rotation="{@rotation}" android:pivotX="{@pivotX}" android:pivotY="{@pivotY}" android:scaleX="{@scaleX}" android:scaleY="{@scaleY}" android:translateX="{@translateX}" android:translateY="{@translateY}">\n!2\n\t\t<clip-path android:name="{@name}"\n\t\t\tandroid:pathData="{d}" />\n!2\n!3\n\t\t<path android:name="{@name}"\n\t\t\tandroid:fillColor="{@fillColor}" android:fillAlpha="{@fillAlpha}" android:strokeColor="{@strokeColor}" android:strokeWidth="{@strokeWidth}" android:strokeAlpha="{@strokeAlpha}" android:strokeLineCap="{@strokeLineCap}" android:strokeLineJoin="{@strokeLineJoin}" android:strokeMiterLimit="{@strokeMiterLimit}"\n\t\t\tandroid:pathData="{d}" />\n!3\n\t</group>\n!1\n</vector>\n!0'),i);""===(e=ot(o))&&(e="".concat(t.nodeName.toLowerCase(),"_").concat(t.nodeId),tt.STORED.drawables.set(e,o))}}else if((t.imageElement||"INPUT"===t.tagName&&"image"===t.element.type)&&!t.hasBit("excludeResource",J.NODE_RESOURCE.IMAGE_SOURCE)){var l=t.element;e=t.imageElement?r.addImageSrcSet(l):r.addImage({mdpi:l.src})}""!==e&&(t.formatted(K.formatString(at.src,e),0===t.renderExtension.size),$.setElementCache(t.element,"imageSource",e))})}},{key:"setValueString",value:function(){var t=this;d(o(r.prototype),"setValueString",this).call(this),this.cache.visible.forEach(function(e){var n=$.getElementCache(e.element,"valueString");if(n){if(e.renderParent.is(J.NODE_STANDARD.RELATIVE)&&e.alignParent("left",t.settings)&&!$.cssParent(e.element,"whiteSpace","pre","pre-wrap")){for(var i=e.textContent,a=0,o=0;o<i.length;o++){switch(i.charCodeAt(o)){case 32:continue;case 160:a++;continue}break}0===a&&(n.value=n.value.replace(/^(\s|&#160;)+/,""))}if(e.htmlElement){switch(e.css("fontVariant")){case"small-caps":n.value=n.value.toUpperCase()}var l=e.css("textDecoration").match(/(underline|line-through)/);if(l)switch(l[0]){case"underline":n.value="<u>".concat(n.value,"</u>");break;case"line-through":n.value="<strike>".concat(n.value,"</strike>")}}var s=r.addString(n.value,n.name,t.settings);if(""!==s){var d=it;e.toInt("textIndent")+e.bounds.width>0&&e.formatted(K.formatString(d.text,isNaN(parseInt(s))||""+parseInt(s)!==s?"@string/".concat(s):s),0===e.renderExtension.size)}}})}},{key:"setOptionArray",value:function(){var t=this;d(o(r.prototype),"setOptionArray",this).call(this),this.cache.visible.forEach(function(e){var n=$.getElementCache(e.element,"optionArray");if(n){var i=[];if(n.numberArray&&(t.settings.numberResourceValue?n.stringArray=n.numberArray:i.push.apply(i,h(n.numberArray))),n.stringArray&&i.push.apply(i,h(n.stringArray.map(function(e){var n=r.addString(e,"",t.settings);return""!==n?"@string/".concat(n):""}).filter(function(t){return t}))),i.length>0){var a=i.join("-"),o="",l=!0,s=!1,d=void 0;try{for(var u,f=tt.STORED.arrays.entries()[Symbol.iterator]();!(l=(u=f.next()).done);l=!0){var g=c(u.value,2),p=g[0];if(a===g[1].join("-")){o=p;break}}}catch(t){s=!0,d=t}finally{try{l||null==f.return||f.return()}finally{if(s)throw d}}""===o&&tt.STORED.arrays.set(o="".concat(e.nodeId,"_array"),i),e.formatted(K.formatString(rt.entries,o),0===e.renderExtension.size)}}})}},{key:"addTheme",value:function(t,e,n){if(n.item){var i=q.getTemplateBranch(e,"0");for(var a in n.item){var o=n.item[a],l=Q.parseHex(o);""!==l&&(o="@color/".concat(r.addColor(l))),i[1].push({name:a,value:o})}}var s=q.createTemplate(q.parseTemplate(t),e);this.addFile(n.output.path,n.output.file,s)}},{key:"processFontStyle",value:function(t){var e=this;function n(t,e,n){e.split(";").forEach(function(e){for(var i=0;i<t.length;i++)if(t[i]){var r=-1,a="";for(var o in t[i])if(o===e){r=i,a=o,i=t.length;break}if(-1!==r){t[r][a]=t[r][a].filter(function(t){return!n.includes(t)}),0===t[r][a].length&&delete t[r][a];break}}})}var i={},r={},a={},o={},l=new Set;for(var s in this._tagStyle){i[s]={},r[s]={};var d=this._tagCount[s],c=this._tagStyle[s].filter(function(t){return Object.keys(t).length>0}).sort(function(t,e){var n=0,i=0,r=0,a=0;for(var o in t)n=Math.max(t[o].length,n),r+=t[o].length;for(var l in e)e[l]&&(i=Math.max(e[l].length,i),a+=e[l].length);return n!==i?n>i?-1:1:r>=a?-1:1});do{if(1===c.length){for(var u in c[0]){var f=c[0][u];1===f.length?r[s][u]=f:f.length>1&&(i[s][u]=f)}c.length=0}else{for(var g={},p={},m=function(t){if(!c[t])return"continue";var e={},r={},a=new Set;for(var o in c[t]){var l=c[t][o],u=!1;if(l&&0!==l.length&&(l.length===d?(g[o]=l.slice(),c[t]={},u=!0):1===l.length&&(p[o]=l.slice(),c[t][o]=[],u=!0),!u)){for(var f={},m=!1,v=0;v<c.length;v++)if(t!==v&&c[v])for(var y in c[v]){var b=c[v][y];if(b.length>0){var A=!0,T=!1,_=void 0;try{for(var N,E=l[Symbol.iterator]();!(A=(N=E.next()).done);A=!0){var R=N.value;b.includes(R)&&(null==f[y]&&(f[y]=[]),f[y].push(R))}}catch(t){T=!0,_=t}finally{try{A||null==E.return||E.return()}finally{if(T)throw _}}}}for(var D in f)f[D].length>1&&(e[[o,D].sort().join(";")]=f[D],m=!0);m||(e[o]=l)}}for(var I in e)for(var O in e)if(I!==O&&e[I].join("")===e[O].join("")){var w=e[I].join(",");r[w]=r[w]?new Set(h(r[w]).concat(h(O.split(";")))):new Set(h(I.split(";")).concat(h(O.split(";")))),a.add(I).add(O)}for(var S in a.forEach(function(t){return delete e[t]}),e)n(c,S,e[S]),i[s][S]=e[S];for(var x in r){var L=Array.from(r[x]).sort().join(";"),B=x.split(",").map(function(t){return parseInt(t)});n(c,L,B),i[s][L]=B}},v=0;v<c.length;v++)m(v);var y=Object.keys(g);for(var b in y.length>0&&(y.length>1||g[y[0]].length>1?i[s][y.join(";")]=g[y[0]]:Object.assign(p,g)),p)r[s][b]=p[b];for(v=0;v<c.length;v++)c[v]&&0===Object.keys(c[v]).length&&delete c[v];c=c.filter(function(t){if(t)for(var e in t)if(t[e]&&t[e].length>0)return!0;return!1})}}while(c.length>0)}var A=function(t){var e=i[t],n=[];for(var r in e)n.push({name:"",attrs:r,ids:e[r]});n.sort(function(t,e){var n=[t.ids.length,e.ids.length],i=n[0],r=n[1];if(i===r){var a=[t.attrs.split(";").length,e.attrs.split(";").length];i=a[0],r=a[1]}return i>=r?-1:1}),n.forEach(function(e,n){return e.name=K.capitalize(t)+(n>0?"_".concat(n):"")}),a[t]=n};for(var T in i)A(T);for(var T in a){var _=!0,N=!1,E=void 0;try{for(var R,D=a[T][Symbol.iterator]();!(_=(R=D.next()).done);_=!0){var I=R.value,O=!0,w=!1,S=void 0;try{for(var x,L=I.ids[Symbol.iterator]();!(O=(x=L.next()).done);O=!0){var B=x.value;null==o[B]&&(o[B]={styles:[],attrs:[]}),o[B].styles.push(I.name)}}catch(t){w=!0,S=t}finally{try{O||null==L.return||L.return()}finally{if(w)throw S}}}}catch(t){N=!0,E=t}finally{try{_||null==D.return||D.return()}finally{if(N)throw E}}var C=r[T];if(C)for(var k in C){var M=!0,X=!1,G=void 0;try{for(var H,W=C[k][Symbol.iterator]();!(M=(H=W.next()).done);M=!0){var z=H.value;null==o[z]&&(o[z]={styles:[],attrs:[]}),o[z].attrs.push(k)}}catch(t){X=!0,G=t}finally{try{M||null==W.return||W.return()}finally{if(X)throw G}}}}var V=function(n){var i=t.cache.find("id",parseInt(n));if(i){var r=o[n].styles,a=o[n].attrs;r.length>0&&(l.add(r.join(".")),i.attr("_","style","@style/".concat(r.pop()))),a.length>0&&a.sort().forEach(function(t){return i.formatted(P(t,e.settings,!0),!1)})}};for(var F in o)V(F);var U=!0,j=!1,Y=void 0;try{for(var Z,J=function(){var t="";Z.value.split(".").forEach(function(e){var n=e.match(/^(\w*?)(?:_([0-9]+))?$/);if(n){var i=a[n[1].toUpperCase()][null==n[2]?0:parseInt(n[2])];i.name=e,i.parent=t,tt.STORED.styles.set(e,i),t=e}})},$=l[Symbol.iterator]();!(U=(Z=$.next()).done);U=!0)J()}catch(t){j=!0,Y=t}finally{try{U||null==$.return||$.return()}finally{if(j)throw Y}}}}],[{key:"getStored",value:function(t){return tt.STORED[t]}},{key:"formatOptions",value:function(e,n){for(var i in e){var r=e[i];if("object"===t(r))for(var a in r)if(null!=r[a]){var o=""+r[a];switch(i){case"android":switch(a){case"text":if(!o.startsWith("@string/")&&""!==(o=this.addString(o,"",n))){r[a]="@string/".concat(o);continue}break;case"src":if(/^\w+:\/\//.test(o)&&""!==(o=this.addImage({mdpi:o}))){r[a]="@drawable/".concat(o);continue}}}var l=Q.parseHex(o);""!==l&&(r[a]="@color/".concat(this.addColor(l)))}}return e}},{key:"addString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=(arguments.length>2?arguments[2]:void 0).numberResourceValue,i=void 0!==n&&n;if(""!==t){""===e&&(e=t);var r=K.isNumber(t);if(i||!r){var a=!0,o=!1,l=void 0;try{for(var s,d=tt.STORED.strings.entries()[Symbol.iterator]();!(a=(s=d.next()).done);a=!0){var h=c(s.value,2);if(h[1]===t)return h[0]}}catch(t){o=!0,l=t}finally{try{a||null==d.return||d.return()}finally{if(o)throw l}}e=e.trim().toLowerCase().replace(/[^a-z0-9]/g,"_").replace(/_+/g,"_").split("_").slice(0,4).join("_").replace(/_+$/g,""),r||/^[0-9]/.test(e)||D.includes(e)?e="__".concat(e):""===e&&(e="__symbol".concat(Math.ceil(1e5*Math.random()))),tt.STORED.strings.has(e)&&(e=x("strings",e,1)),tt.STORED.strings.set(e,t)}return e}return""}},{key:"addImageSrcSet",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={},i=t.srcset.trim();if(""!==i){var r=t.src.substring(0,t.src.lastIndexOf("/")+1);i.split(",").forEach(function(t){var e=/^(.*?)\s*([0-9]+\.?[0-9]*x)?$/.exec(t.trim());if(e){null==e[2]&&(e[2]="1x");var i=r+K.lastIndexOf(e[1]);switch(e[2]){case"0.75x":n.ldpi=i;break;case"1x":n.mdpi=i;break;case"1.5x":n.hdpi=i;break;case"2x":n.xhdpi=i;break;case"3x":n.xxhdpi=i;break;case"4x":n.xxxhdpi=i}}})}return null==n.mdpi&&(n.mdpi=t.src),this.addImage(n,e)}},{key:"addImage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";if(t&&t.mdpi){n=K.lastIndexOf(t.mdpi);var i=K.lastIndexOf(n,".").toLowerCase();switch(n=n.replace(/.\w+$/,"").replace(/-/g,"_"),i){case"bmp":case"cur":case"gif":case"ico":case"jpg":case"png":n=tt.insertStoredAsset("images",e+n,t);break;default:n=""}}return n}},{key:"addImageURL",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=$.cssResolveUrl(t);return""!==n?this.addImage({mdpi:n},e):""}},{key:"addColor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1";if(""!==(t=t.toUpperCase().trim())){var n=parseFloat(e)<1?"#".concat(Q.convertToHex("255",parseFloat(e))+t.substring(1)):t,i=tt.STORED.colors.get(n)||"";if(""===i){var r=Q.getColorNearest(t);r&&(r.name=K.camelToLowerCase(r.name),i=n===r.hex?r.name:x("color",r.name,1),tt.STORED.colors.set(n,i))}return i}return""}},{key:"getColor",value:function(t){var e=!0,n=!1,i=void 0;try{for(var r,a=tt.STORED.colors.entries()[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=c(r.value,2);if(o[1]===t)return o[0]}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}return""}}]),r}(),dt=androme.lib.base.NodeList,ct=androme.lib.enumeration,ht=androme.lib.util,ut=androme.lib.dom,ft=androme.lib.xml,gt={relativeParent:{top:"layout_alignParentTop",bottom:"layout_alignParentBottom"},relative:{top:"layout_alignTop",bottom:"layout_alignBottom",baseline:"layout_alignBaseline",bottomTop:"layout_above",topBottom:"layout_below"},constraint:{top:"layout_constraintTop_toTopOf",bottom:"layout_constraintBottom_toBottomOf",baseline:"layout_constraintBaseline_toBaselineOf",bottomTop:"layout_constraintBottom_toTopOf",topBottom:"layout_constraintTop_toBottomOf"}},pt={leftTop:["left","top"],rightBottom:["right","bottom"],rightLeftBottomTop:["rightLeft","bottomTop"],leftRightTopBottom:["leftRight","topBottom"],widthHeight:["Width","Height"],horizontalVertical:["Horizontal","Vertical"]};function mt(t,e,n){return t.has(e)&&t.get(e)!==n?x("dimens",e,1):e}function vt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];[b.HORIZONTAL,b.VERTICAL].forEach(function(i,r){t.constraint[i]||""!==e&&i!==e||(t.app(gt.constraint[0===r?"left":"top"],"parent"),t.app(gt.constraint[0===r?"right":"bottom"],"parent"),t.constraint[i]=!0,n&&t.app("layout_constraint".concat(i.charAt(0).toUpperCase()+i.substring(1),"_bias"),t["".concat(i,"Bias")]))})}var yt=function(n){function l(){var t;return e(this,l),(t=s(this,o(l).apply(this,arguments)))._merge={},t}return a(l,androme.lib.base.Controller),i(l,[{key:"initNode",value:function(t){t.api=this.settings.targetAPI}},{key:"finalize",value:function(t){this.setAttributes(t);for(var e=h(t.views).concat(h(t.includes)),n=0;n<e.length;n++){var i=e[n];if(i.content=ft.removePlaceholderAll(i.content).replace(/\n\n/g,"\n"),this.settings.dimensResourceValue){for(var r=i.content,a=st.getStored("dimens"),o=/\s+\w+:\w+="({%(\w+),(\w+),(-?\w+)})"/g,l=void 0;null!=(l=o.exec(r));){var s=mt(a,"".concat(l[2],"_").concat(M(l[3],this.settings)),l[4]);a.set(s,l[4]),r=r.replace(RegExp(l[1],"g"),"@dimen/".concat(s))}i.content=r}i.content=P(i.content,this.settings),i.content=ft.replaceTab(i.content,this.settings)}}},{key:"reset",value:function(){d(o(l.prototype),"reset",this).call(this),S(),this._merge={}}},{key:"setConstraints",value:function(){var e=this;Object.assign(gt.relativeParent,{left:M("layout_alignParentLeft",this.settings),right:M("layout_alignParentRight",this.settings)}),Object.assign(gt.relative,{left:M("layout_alignLeft",this.settings),right:M("layout_alignRight",this.settings),leftRight:M("layout_toRightOf",this.settings),rightLeft:M("layout_toLeftOf",this.settings)}),Object.assign(gt.constraint,{left:M("layout_constraintLeft_toLeftOf",this.settings),right:M("layout_constraintRight_toRightOf",this.settings),leftRight:M("layout_constraintLeft_toRightOf",this.settings),rightLeft:M("layout_constraintRight_toLeftOf",this.settings)});var n,i=gt.relativeParent,r=!1,a=!1;function o(t,e){return r?"parent"===t.app(n[e]):"true"===t.android(i[e])}function l(t,e){return t[r?"app":"android"](n[e])}function s(t){for(var e=arguments.length,i=Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];t.delete.apply(t,[r?"app":"android"].concat(h(i.map(function(t){return n[t]}))))}function d(t,e,n){if(!t.constraint[n]){for(var i=[],r=t;r&&!i.includes(r.stringId);){i.push(r.stringId);var a=l(r,n===b.HORIZONTAL?"leftRight":"topBottom");if(a){if((r=e.find("nodeId",L(a)))&&r.constraint[n])return!0}else r=null}return!1}return!0}this.cache.visible.forEach(function(u){a=u.is(ct.NODE_STANDARD.RELATIVE),r=u.is(ct.NODE_STANDARD.CONSTRAINT);var f=u.flex;if(a||r||f.enabled){var g=function(){var r=new dt(u.renderChildren.filter(function(t){return t.auto}),u);if(0===r.length)return{v:void 0};var g=dt.cleared(u.initial.children);if(a){var p=function(t){t&&t.textElement&&(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||arguments.length>2&&void 0!==arguments[2]&&arguments[2]||!t.hasWidth&&!t.multiLine&&t.textContent.trim().split(" ").length>1)&&t.android("singleLine","true")},m=function(t){if(r.length>1){var e=dt.textBaseline(t.filter(function(t){return t.baseline&&0===t.toInt("top")&&0===t.toInt("bottom")}));if(e.length>0){var i=e[0],a=[],o=null,l=!0,s=!1,d=void 0;try{for(var c,h=t[Symbol.iterator]();!(l=(c=h.next()).done);l=!0){var u=c.value;u!==i&&(u.baseline&&(u.nodeType<=ct.NODE_STANDARD.INLINE||u.linearHorizontal&&u.renderChildren.some(function(t){return t.baseline&&t.nodeType<=ct.NODE_STANDARD.INLINE}))&&(!i.imageElement&&u.imageElement?a.push(u):u.alignOrigin?u.android(gt.relative[u.imageElement||u.is(ct.NODE_STANDARD.BUTTON)?"bottom":"baseline"],i.stringId):"relative"===i.position&&u.bounds.height<i.bounds.height&&0===u.lineHeight&&u.android(gt.relative[ht.convertInt(i.top)>0?"top":"bottom"],i.stringId)),i.imageElement&&(!o||u.bounds.height>o.bounds.height)&&(o=u))}}catch(t){s=!0,d=t}finally{try{l||null==h.return||h.return()}finally{if(s)throw d}}if(a.length>0){a.sort(function(t,e){return t.bounds.height>=e.bounds.height?-1:1});for(var f=0;f<a.length;f++)0===f?i.android(n.bottom,a[f].stringId):a[f].android(n.bottom,a[0].stringId);o=null}o&&(o.imageElement?o.bounds.height>i.bounds.height?o.delete("android",n.bottom):o=null:o.delete("android",n.baseline),o&&i.android(n.bottom,o.stringId))}}};n=gt.relative;var v=[],y=[],A=u.toInt("textIndent"),T="nowrap"===u.css("whiteSpace"),_=u.box.width;if(u.renderParent.overflowX)_=u.viewWidth||_||u.renderParent.toInt("width",0,{map:"initial"});else if(u.renderParent.hasAlign(ct.NODE_ALIGNMENT.FLOAT)){var N=Math.min.apply(null,r.list.map(function(t){return t.linear.left}));_=Math.max.apply(null,r.list.map(function(t){return t.linear.right}))-N}else{var E=Math.max.apply(null,u.documentParent.initial.children.filter(function(t){return"left"===t.float&&t.siblingIndex<u.siblingIndex}).map(function(t){return t.linear.right}));r.list.some(function(t){return t.linear.left===E})&&(_=u.box.right-E)}_=Math.ceil(_);var R=0,D=0,I=null,O=null;A<0&&Math.abs(A)<=u.paddingLeft&&(D=Math.abs(A),u.modifyBox(ct.BOX_STANDARD.PADDING_LEFT,u.paddingLeft+A),u.modifyBox(ct.BOX_STANDARD.PADDING_LEFT,null));for(var w=[],S=ut.isUserAgent(ct.USER_AGENT.EDGE|ct.USER_AGENT.FIREFOX),x=0;x<r.length;x++){var B=r.get(x),P=r.get(x-1),k=B.bounds;if(B.inlineText&&!B.hasWidth){var X=c(ut.getRangeClientRect(B.element),2),G=X[0],H=X[1];G&&(H||G.width<B.box.width)&&(k=G,S&&H&&!/^\s*\n+/.test(B.textContent)&&w.push(B))}var W=i["right"===B.float?"right":"left"],z=n["right"===B.float?"rightLeft":"leftRight"];if(0===x)B.android(W,"true"),!u.inline&&A>0&&B.modifyBox(ct.BOX_STANDARD.MARGIN_LEFT,A),(!B.siblingflow||B.floating&&"relative"===B.position||B.multiLine&&A<0)&&(I=B),v[v.length]=[B];else{var V=v[v.length-1],F=ut.getElementsBetweenSiblings(P.baseElement,B.baseElement,!1,!0),U=B instanceof j&&!B.hasAlign(ct.NODE_ALIGNMENT.SEGMENTED),Y=B.previousSibling(),Z=R+B.marginLeft+k.width-(S?B.borderRightWidth:0),J=!1;if(1===x&&P.textElement&&B.textElement&&(J=0===F.length&&!/\s+$/.test(P.textContent)&&!/^\s+/.test(B.textContent)),T||J||["SUP","SUB"].includes(B.tagName)||!("left"!==P.float||B.linear.top>=P.linear.bottom)||!("right"!==B.float&&Math.floor(Z)-(B.styleElement&&B.inlineStatic?B.paddingLeft+B.paddingRight:0)>_||B.multiLine&&ut.hasLineBreak(B.element)||P.multiLine&&""!==P.textContent.trim()&&!/^\s*\n+/.test(P.textContent)&&!/\n+\s*$/.test(P.textContent)&&ut.hasLineBreak(P.element)||Y&&Y.lineBreak||B.preserveWhiteSpace&&/^\n+/.test(B.textContent)||B.blockStatic||U||g.has(B)||w.includes(P)||F.length>0&&F.some(function(t){return ut.isLineBreak(t)})||B.floating&&("left"===B.float&&ht.withinFraction(B.linear.left,u.box.left)||"right"===B.float&&ht.withinFraction(B.linear.right,u.box.right)||B.linear.top>=P.linear.bottom)))1===x&&D>0&&!P.plainText?(B.anchor(W,"true"),B.modifyBox(ct.BOX_STANDARD.PADDING_LEFT,D)):B.anchor(z,P.stringId),(J||Z>_)&&p(B),O&&B.anchor(n.topBottom,O.stringId),V.push(B);else{O=V.filter(function(t){return!t.floating})[0]||V[0];for(var K=0;K<V.length;K++)V[K]!==O&&V[K].linear.bottom>O.linear.bottom&&(!V[K].floating||V[K].floating&&O.floating)&&(O=V[K]);(U||P instanceof j&&x===r.length-1)&&(B.constraint.marginVertical=O.stringId),B.anchor(n.topBottom,O.stringId),I&&B.linear.top<I.bounds.bottom&&!ht.withinRange(B.bounds.top,I.bounds.top,1)&&!ht.withinRange(B.bounds.bottom,I.bounds.bottom,1)?B.anchor(z,I.stringId):(B.anchor(W,"true"),I=null),e.settings.ellipsisOnTextOverflow&&P.linearHorizontal&&p(P.children[P.children.length-1],!0),D>0&&(e.settings.ellipsisOnTextOverflow&&1===v.length&&1===v[0].length&&v[0][0].textElement&&p(v[0][0],!0),B.modifyBox(ct.BOX_STANDARD.PADDING_LEFT,D)),m(y),u.alignmentType^=ct.NODE_ALIGNMENT.HORIZONTAL,u.alignmentType|=ct.NODE_ALIGNMENT.MULTILINE,R=0,y.length=0,v.push([B])}}R+=k.width+B.marginLeft+B.marginRight+(!P||P.floating||P.plainText||P.preserveWhiteSpace||""===P.textContent.trim()||/\s+$/.test(P.textContent)||B.floating||B.plainText||B.preserveWhiteSpace||""===B.textContent.trim()||/^\s+/.test(B.textContent)?0:e.settings.whitespaceHorizontalOffset),B.floating||y.push(B)}if(m(y),u.marginTop<0&&"relative"===r.get(0).position&&v[0].forEach(function(t,e){return t.modifyBox(ct.BOX_STANDARD.MARGIN_TOP,u.marginTop*(0===e?1:-1),!0)}),u.baseline&&1===v.length&&v[0].forEach(function(t){switch(t.css("verticalAlign")){case"top":t.anchor(i.top,"true");break;case"middle":v[0].forEach(function(e){return e.bounds.height<=t.bounds.height&&e.anchor("layout_centerVertical","true")})}}),e.settings.ellipsisOnTextOverflow){var $=!u.ascend().some(function(t){return t.hasWidth});if(u.ascend(!0).some(function(t){return t.is(ct.NODE_STANDARD.GRID)})||1!==v.length&&!u.hasAlign(ct.NODE_ALIGNMENT.HORIZONTAL))for(var q=0;q<v.length;q++){var Q=v[q];if(Q.length>1){var tt=Q[Q.length-1];tt.inlineText&&p(tt,!1,$)}}else for(var et=1;et<r.length;et++){var nt=r.get(et);nt.multiLine||nt.floating||nt.alignParent("left",e.settings)||p(nt,!1,$)}}}else if(n=gt.constraint,u.hasAlign(ct.NODE_ALIGNMENT.HORIZONTAL)){var it=function(t,e){return t.bounds.height>=e.bounds.height?-1:1},rt=dt.textBaseline(r.list)[0],at=r.list.filter(function(t){return t.textElement&&t.baseline}).sort(it),ot=r.list.filter(function(t){return t.imageElement&&t.baseline}).sort(it);if(ot.length>0){var lt=ot[0];ot.forEach(function(t,e){return e>0&&t.app(n.baseline,lt.stringId)}),rt.imageElement||rt.app(n.bottom,lt.stringId),ot=ot.filter(function(t){return t!==lt})}for(var st=function(t){var e=r.get(t),i=rt;if(0===t)e.app(n.left,"parent");else{var a=r.get(t-1);e.app(n.leftRight,a.stringId),a.floating||e.floating||(e.constraint.marginHorizontal=a.stringId)}if(ot.includes(e))return"continue";var o=e.css("verticalAlign");switch("baseline"===o&&"TEXTAREA"===e.tagName&&(o="text-bottom"),i&&!o.startsWith("text")&&i!==e||(i=null,at.some(function(t){return t!==e&&(i=t,!0)}),i||r.list.slice().sort(function(t,e){return t.nodeType<=e.nodeType?-1:1}).some(function(t){return t!==e&&(i=t,!0)})),o){case"text-top":i&&e.app(n.top,i.stringId);break;case"top":e.app(n.top,"parent");break;case"middle":vt(e,b.VERTICAL);break;case"baseline":i&&e.app(n.baseline,i.stringId);break;case"text-bottom":i&&e.app(n.bottom,i.stringId);break;case"bottom":e.app(n.bottom,"parent")}},ft=0;ft<r.length;ft++)st(ft)}else!function(){var i=c(r.partition(function(t){return!t.pageflow||"relative"===t.position&&t.alignNegative}),2),a=i[0],g=i[1],p=u.hasAlign(ct.NODE_ALIGNMENT.PERCENT),m=u.toInt("columnCount");if(p)u.android("layout_width","match_parent");else if(0===m){g.each(function(t){var i=u.renderParent.is(ct.NODE_STANDARD.GRID)&&!u.styleElement?u:t.documentParent;t.autoMarginHorizontal?vt(t,b.HORIZONTAL):((t.linear.left<=i.box.left||ht.withinFraction(t.linear.left,i.box.left))&&t.anchor(n.left,"parent",b.HORIZONTAL),(t.linear.right>=i.box.right||ht.withinFraction(t.linear.right,i.box.right))&&t.anchor(n.right,"parent",i.hasWidth||"right"===t.float||t.autoMarginLeft?b.HORIZONTAL:"")),t.linear.top<=i.box.top||ht.withinFraction(t.linear.top,i.box.top)?t.anchor(n.top,"parent",b.VERTICAL):(t.linear.bottom>=i.box.bottom||ht.withinFraction(t.linear.bottom,i.box.bottom))&&t.anchor(n.bottom,"parent",i.hasHeight?b.VERTICAL:""),g.each(function(i){if(t!==i){var a=i.stringId,l=d(i,r,b.HORIZONTAL)?b.HORIZONTAL:"",s=d(i,r,b.VERTICAL)?b.VERTICAL:"",c=t.intersectY(i.linear),h=t.alignOrigin&&i.alignOrigin;t.hasWidth||t.linear.left!==i.linear.left||t.linear.right!==i.linear.right||(o(t,"right")||t.anchor(n.left,a),o(t,"left")||t.anchor(n.right,a)),(ht.withinFraction(t.linear.left,i.linear.right)||h&&ht.withinRange(t.linear.left,i.linear.right,e.settings.whitespaceHorizontalOffset))&&("right"===t.float&&t.float!==i.float||t.anchor(n.leftRight,a,l,t.withinX(i.linear))),(ht.withinFraction(t.linear.right,i.linear.left)||h&&ht.withinRange(t.linear.right,i.linear.left,e.settings.whitespaceHorizontalOffset))&&t.anchor(n.rightLeft,a,l,t.withinX(i.linear));var u=o(t,"top"),g=o(t,"bottom"),p=!f.enabled&&!t.inlineElement;(ht.withinFraction(t.linear.top,i.linear.bottom)||h&&c&&ht.withinRange(t.linear.top,i.linear.bottom,e.settings.whitespaceVerticalOffset))&&(c||!g||p)&&t.anchor(n.topBottom,a,s,c),(ht.withinFraction(t.linear.bottom,i.linear.top)||h&&c&&ht.withinRange(t.linear.bottom,i.linear.top,e.settings.whitespaceVerticalOffset))&&(c||!u||p)&&t.anchor(n.bottomTop,a,s,c),u||g||(t.linear.top===i.linear.top&&t.anchor(n.top,a,s),t.linear.bottom===i.linear.bottom&&t.anchor(n.bottom,a,s))}})}).each(function(t){var e=l(t,"leftRight");e&&(t.constraint.horizontal||(t.constraint.horizontal=f.enabled||d(t,g,b.HORIZONTAL)),t.constraint.marginHorizontal=e);var i=l(t,"topBottom");if(i&&(t.constraint.vertical||(t.constraint.vertical=f.enabled||d(t,g,b.VERTICAL)),t.constraint.marginVertical=i,s(t,"top")),o(t,"left")&&o(t,"right"))if(t.autoMargin)t.autoMarginLeft&&s(t,"left"),t.autoMarginRight&&s(t,"right"),t.autoMarginHorizontal&&(u.hasWidth&&!t.has("width",ct.CSS_STANDARD.PERCENT)?t.android("layout_width","match_parent"):t.inlineElement&&!t.hasWidth&&t.android("layout_width","wrap_content"));else if(t.floating)s(t,"right"===t.float?"left":"right");else if(t.inlineElement)if(t.nodeType<=ct.NODE_STANDARD.IMAGE)switch(t.css("textAlign")){case"center":break;case"right":case"end":s(t,"left");break;default:s(t,"right")}else s(t,"right");else s(t,"right"),t.android("layout_width","match_parent");if(l(t,"bottomTop")&&s(t,"bottom"),t.plainText||!t.styleElement&&t.renderChildren.some(function(t){return t.textElement})){var r=t.cssParent("textAlign");"right"===r?(t.anchor(n.right,"parent",b.HORIZONTAL),t.constraint.horizontal=!0):"center"===r&&(t.constraint.horizontal=!1,vt(t,b.HORIZONTAL))}});for(var v=0;v<g.length;v++){var y=g.get(v);if(!y.anchored){var A=ht.searchObject(y.get("app"),"*constraint*"),T=!0,_=!1,N=void 0;try{for(var E,R=function(){var t=c(E.value,2),n=t[0],i=t[1];"parent"!==i&&g.list.filter(function(t){return t.anchored}).find(function(t){return t.stringId===i})&&(-1!==ht.indexOf(n,M("Left",e.settings),M("Right",e.settings))&&(y.constraint.horizontal=!0),-1!==ht.indexOf(n,"Top","Bottom","Baseline","above","below")&&(y.constraint.vertical=!0))},D=A[Symbol.iterator]();!(T=(E=D.next()).done);T=!0)R()}catch(t){_=!0,N=t}finally{try{T||null==D.return||D.return()}finally{if(_)throw N}}y.anchored&&(v=-1)}}a.length>0&&a.each(function(t){var e=!1;null!=t.right&&t.toInt("right")>=0&&(t.anchor(n.right,"parent",b.HORIZONTAL),t.toInt("left")>0&&(t.anchor(n.left,"parent"),t.modifyBox(ct.BOX_STANDARD.MARGIN_LEFT,t.toInt("left")),e=!0)),e||null==t.left||0!==t.toInt("left")||(t.anchor(n.left,"parent",b.HORIZONTAL),t.toInt("right")>0&&(t.anchor(n.right,"parent"),t.modifyBox(ct.BOX_STANDARD.MARGIN_RIGHT,t.toInt("right")))),null!=t.top&&0===t.toInt("top")&&t.anchor(n.top,"parent",b.VERTICAL),null!=t.bottom&&t.toInt("bottom")>=0&&t.anchor(n.bottom,"parent",b.VERTICAL),0!==t.left||0!==t.right||t.floating||t.has("width",ct.CSS_STANDARD.PERCENT)||t.android("layout_width","match_parent"),0===t.top&&0===t.bottom&&t.android("layout_height","match_parent")})}if(f.enabled||m>0||!e.settings.constraintChainDisabled&&g.length>1){var I=[],O=[];if(f.enabled)if("nowrap"===f.wrap)switch(f.direction){case"row-reverse":var w=g.clone();w.list.reverse(),I.push(w);break;case"row":I.push(g.clone());break;case"column-reverse":var S=g.clone();S.list.reverse(),O.push(S);break;case"column":O.push(g.clone())}else{var x=function(){for(var t in P)P[t].reverse()},B=g.clone(),P={},k=[];switch(f.direction){case"row-reverse":case"column-reverse":B.list.reverse()}switch(B.each(function(t){var e=t.linear.top;null==P[e]&&(P[e]=[],k.push(e)),P[e].push(t)}),f.wrap){case"wrap":"column-reverse"===f.direction&&x();break;case"wrap-reverse":-1!==f.direction.indexOf("row")?k.reverse():"column"===f.direction&&x()}for(var X=0;X<k.length;X++){I.push(new dt(P[k[X]]))}}else if(m>0)!function(){for(var t=[],n=Math.ceil(g.length/Math.min(m,g.length)),i=0,r=0;i<g.length;i++){var a=g.get(i);i%n==0&&(i>0&&r++,null==t[r]&&(t[r]=[])),t[r].push(a)}for(var o=[],l=ht.convertInt(u.css("columnGap"))||16,s=t.map(function(t){return Math.max.apply(null,t.map(function(t){return t.marginLeft+t.marginRight}))}).reduce(function(t,e){return t+e},0),d=Math.max((s+l*(m-1))/u.box.width/m,.01),c=0;c<t.length;c++){var h=t[c],f=h[0];c>0&&f.android("layout_".concat(M("marginLeft",e.settings)),ht.formatPX(f.marginLeft+l)),o.push(f),h.forEach(function(t){t.hasWidth||(t.android("layout_width","0px"),t.app("layout_constraintWidth_percent",(1/m-d).toFixed(2)))}),O.push(new dt(h))}I.push(new dt(o))}();else{var G=function(e,n,i,r){var a=gt.constraint,o=[],l=[],s=[];switch(i){case b.HORIZONTAL:o.push(a.left,a.right),l.push("linear.top","linear.bottom"),s.push(a.leftRight,a.rightLeft);break;case b.VERTICAL:o.push(a.top,a.bottom),l.push("linear.left","linear.right"),s.push(a.topBottom,a.bottomTop)}return l.map(function(a){var d=ht.sortAsc(n.list.filter(function(t){return ht.sameValue(e,t,a)&&t[i===b.HORIZONTAL?"intersectX":"intersectY"](e.linear)}),l[0]);if(d.length>1){if(!r||!d.some(function(t){return t.floating})&&"parent"===d[0].app(o[0])&&"parent"===d[d.length-1].app(o[1]))return d;var c=function(){var t,n=new Set([e]);do{t=!1,Array.from(n).some(function(e){return d.some(function(i){return n.has(i)||i.app(s[0])!==e.stringId&&i.app(s[1])!==e.stringId||(n.add(i),t=!0),t})})}while(t);return{v:Array.from(n)}}();if("object"===t(c))return c.v}return[]}).reduce(function(t,e){return t.length>=e.length?t:e})},H=function(t){var e=t.map(function(t){return t.id}).sort().join("-");return!W.has(e)&&null!=W.add(e)},W=new Set,z=g.list.filter(function(t){return!t.constraint.horizontal}),V=g.list.filter(function(t){return!t.constraint.vertical});g.list.some(function(t){var e=[],n=[];return z.includes(t)&&(e.push.apply(e,h(G(t,g,b.HORIZONTAL,!p))),e.length>1&&H(e)&&I.push(new dt(e).sortAsc("linear.left"))),V.includes(t)&&!p&&(n.push.apply(n,h(G(t,g,b.VERTICAL,!0))),n.length>1&&H(n)&&O.push(new dt(n).sortAsc("linear.top"))),e.length===g.length||n.length===g.length}),I.sort(function(t,e){return t.length>=e.length?-1:1}),O.sort(function(t,e){return t.length>=e.length?-1:1})}[I,O].forEach(function(t,i){if(t.length>0){var a=0===i?1:0,c=[];t.forEach(function(h,g){if(h.length>0){var v=[pt.horizontalVertical[i],pt.horizontalVertical[a]],y=v[0],A=v[1],T=[pt.leftTop[i],pt.leftTop[a]],_=T[0],N=T[1],E=[pt.rightBottom[i],pt.rightBottom[a]],R=E[0],D=E[1],I=[pt.widthHeight[i],pt.widthHeight[a]],O=I[0],w=I[1],S=y.toLowerCase(),x=A.toLowerCase(),L=O.toLowerCase();if(f.enabled)h.list.some(function(t){return t.flex.order>0})&&h[-1!==f.direction.indexOf("reverse")?"sortDesc":"sortAsc"]("flex.order");else if(!p&&0===m&&h.list.every(function(t){return d(t,r,S)}))return;h.parent=u;for(var B=h.get(0),C=h.get(),P=!1,k=!1,M=-1,X=0===i?["left","leftRight","top",b.VERTICAL,"hasWidth","right","marginHorizontal"]:["top","topBottom","left",b.HORIZONTAL,"hasHeight","bottom","marginVertical"],G=0;G<h.length;G++){var H=h.get(G);if(0===G){if(!o(H,X[0])){P=!0;break}}else if(!l(H,X[1])){P=!0;break}}if(!P){if(h.list.every(function(t){return ht.sameValue(B,t,"linear.".concat(X[2]))}))for(var W=1;W<h.length;W++){var z=h.get(W);z.constraint[X[3]]||z.anchor(n[X[2]],B.stringId,X[3])}f.enabled||0!==u[X[4]]||(s(C,X[5]),C.constraint[X[6]]=l(C,X[1]))}p?(B.anchor(n[_],"parent",S),C.anchor(n[R],"parent",S),u.renderParent.autoMarginHorizontal||B.app("layout_constraint".concat(y,"_bias"),"right"===B.float&&"right"===C.float?"1":"0")):(B.anchor(n[_],"parent",S),C.anchor(n[R],"parent",S));for(var V=function(e){var r=h.get(e),a=h.get(e+1),d=h.get(e-1);if(f.enabled){r.linear[N]===u.box[N]&&r.linear[D]===u.box[D]&&vt(r,x);var v=t[g+1];if(v){var b=v.get(e);b&&r.withinY(b.linear)&&(r.anchor(n.bottomTop,b.stringId),o(r,"bottom")||s(r,"bottom"))}}else if(p){if(0===c.length)r.anchor(n.top,"parent");else{var T,E=c[c.length-1],I=Math.max.apply(null,E.list.map(function(t){return t.linear.bottom}));(T=h.length===E.length?E.get(e):E.list.find(function(t){return t.linear.bottom===I}))&&r.anchor(n.topBottom,T.stringId)}var S=r.css("width");ht.isPercent(S)&&(r.android("layout_width","0px"),r.app("layout_constraint".concat(O,"_percent"),(parseInt(S)/100).toFixed(2))),r.constraint.horizontal=!0,r.constraint.vertical=!0}else m>0&&(0===i&&r.app("layout_constraint".concat(A,"_bias"),"0"),1===i&&e>0&&r.anchor(n.left,B.stringId),r.constraint.horizontal=!0,r.constraint.vertical=!0);if(a&&(r.anchor(n[pt.rightLeftBottomTop[i]],a.stringId),M=Math.max(a.linear[_]-r.linear[R],M)),d&&(r.anchor(n[pt.leftRightTopBottom[i]],d.stringId),r.constraint["margin".concat(y)]=d.stringId),r.constraint["chain".concat(y)]=!0,!r.has(L)||r.has(L,ct.CSS_STANDARD.PERCENT)){var C=r.styleMap["min".concat(O)],P=r.styleMap["max".concat(O)];ht.isUnit(C)&&(r.app("layout_constraint".concat(O,"_min"),C),r.android("layout_".concat(L),"0px")),ht.isUnit(P)&&(r.app("layout_constraint".concat(O,"_max"),P),r.android("layout_".concat(L),"0px"))}if(f.enabled){switch(r.app("layout_constraint".concat(y,"_weight"),""+r.flex.grow),0===r["view".concat(O)]&&0===r.flex.grow&&r.flex.shrink<=1?r.android("layout_".concat(L),"wrap_content"):r.flex.grow>0&&r.android("layout_".concat(L),"0px"),0===r.flex.shrink&&r.app("layout_constrained".concat(O),"true"),r.flex.alignSelf){case"flex-start":r.anchor(n[N],"parent",x);break;case"flex-end":r.anchor(n[D],"parent",x);break;case"baseline":h.list.some(function(t){return t!==r&&t.nodeType<=ct.NODE_STANDARD.TEXT&&(r.anchor(n.baseline,t.stringId),!0)})&&(s(r,"top","bottom"),h.each(function(t){l(t,"top")===r.stringId&&s(t,"top"),l(t,"bottom")===r.stringId&&s(t,"bottom")}),r.constraint.vertical=!0);break;case"center":case"stretch":"center"!==r.flex.alignSelf&&r.android("layout_".concat(w.toLowerCase()),"0px"),r.constraint[x]=!1,vt(r,x)}if("auto"!==r.flex.basis){var k=ht.convertInt(r.flex.basis);k>0&&(ht.isPercent(r.flex.basis)?r.app("layout_constraint".concat(O,"_percent"),(k/100).toFixed(2)):(r.app("layout_constraint".concat(O,"_min"),ht.formatPX(k)),r.constraint["min".concat(O)]=!0))}}},F=0;F<h.length;F++)V(F);var U="layout_constraint".concat(y,"_chainStyle");if(f.enabled&&"normal"!==f.justifyContent&&0===Math.max.apply(null,h.list.map(function(t){return t.flex.grow}))){switch(f.justifyContent){case"space-between":B.app(U,"spread_inside");break;case"space-evenly":B.app(U,"spread"),h.each(function(t){return t.app("layout_constraint".concat(y,"_weight"),""+(t.flex.grow||1))});break;case"space-around":B.app("layout_constraint".concat(y,"_chainStyle"),"spread_inside"),B.constraint[S]=!1,C.constraint[S]=!1,e.addGuideline(B,S,!0,!1),e.addGuideline(C,S,!0,!0);break;default:var j=f.justifyContent;if(-1!==f.direction.indexOf("reverse"))switch(f.justifyContent){case"flex-start":j="flex-end";break;case"flex-end":j="flex-start"}var Y="0.5";switch(j){case"flex-start":Y="0";break;case"flex-end":Y="1"}B.app(U,"packed"),B.app("layout_constraint".concat(y,"_bias"),Y)}k=!0}else if(p)B.app(U,"packed");else if(!f.enabled&&m>0)B.app(U,0===i?"spread_inside":"packed"),k=0===i;else{var Z=ht.withinFraction(u.box.left,B.linear.left),J=ht.withinFraction(C.linear.right,u.box.right),K=ht.withinFraction(u.box.top,B.linear.top),$=ht.withinFraction(C.linear.bottom,u.box.bottom);if(S===b.HORIZONTAL&&Z&&J||S===b.VERTICAL&&K&&$)f.enabled||h.length>2?!f.enabled&&u.inlineElement?(B.app(U,"packed"),B.app("layout_constraint".concat(y,"_bias"),0===i&&"right"===u.float?"1":"0")):(B.app(U,"spread_inside"),k=!0):M>e.settings["constraintChainPacked".concat(y,"Offset")]&&(o(B,_)&&s(B,pt.rightLeftBottomTop[i]),o(C,R)&&s(C,pt.leftRightTopBottom[i]));else if(M<=e.settings["chainPacked".concat(y,"Offset")]||"nowrap"!==u.flex.wrap||S===b.HORIZONTAL&&(Z||J)){B.app(U,"packed");var q="";S===b.HORIZONTAL&&(Z?q="0":J&&(q="1")),""===q&&(q=h["".concat(S,"Bias")]),B.app("layout_constraint".concat(y,"_bias"),q)}else B.app(U,"spread"),k=!0;f.enabled||((0===i?[[N,D],[D,N]]:[[_,R],[R,_]]).forEach(function(t){h.list.some(function(e){return!ht.sameValue(B,e,"linear.".concat(t[1]))})&&h.list.every(function(e){return ht.sameValue(B,e,"linear.".concat(t[0]))})&&h.each(function(e){return s(e,t[1])})}),h.each(function(e){var n=!0,i=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var l=a.value;l.find("id",e.id)&&l.clear()}}catch(t){i=!0,r=t}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}}))}k&&h.each(function(t){delete t.constraint.marginHorizontal,delete t.constraint.marginVertical}),c.push(h)}})}})}g.each(function(t){t.constraint.horizontal=d(t,r,b.HORIZONTAL),t.constraint.vertical=d(t,r,b.VERTICAL)}),f.enabled?"nowrap"!==f.wrap&&["topBottom","bottomTop"].forEach(function(t,e){g.each(function(i){if(o(i,0===e?"bottom":"top")){for(var a=[i],d=!1,c=i;c;){var h=l(c,t);if(h){if((c=r.find("nodeId",L(h)))&&i.withinY(c.linear)&&(a.push(c),o(c,0===e?"top":"bottom"))){d=!0;break}}else c=null}if(!d)for(var u=function(){var t=a[f];g.list.some(function(e){return t!==e&&e.linear.top===t.linear.top&&e.linear.bottom===t.linear.bottom&&(s(t,"topBottom","bottomTop"),t.app(n.top,e.stringId),t.app(n.bottom,e.stringId),!0)})},f=0;f<a.length;f++)u()}})}):0===m&&function(){var t=function(t,e){s(t,e),v[t.stringId][e]=null};g.each(function(t){[["top","bottom","topBottom"],["bottom","top","bottomTop"]].forEach(function(e){o(t,e[1])&&!l(t,e[2])&&["leftRight","rightLeft"].forEach(function(i){var r=l(t,i);if(r){var a=g.find("stringId",r);a&&l(a,e[2])&&(ht.withinFraction(t.linear[e[0]],a.linear[e[0]])&&t.anchor(n[e[0]],a.stringId),ht.withinFraction(t.linear[e[1]],a.linear[e[1]])&&t.anchor(n[e[1]],a.stringId))}})})});var i=g.list.filter(function(t){return!t.anchored&&(o(t,"top")||o(t,"right")||o(t,"bottom")||o(t,"left"))});0===r.list.filter(function(t){return t.anchored}).length&&0===i.length&&i.push(r.get(0)),i.forEach(function(t){return e.addGuideline(t,"",!1,!1)});var a=c(r.partition(function(t){return t.anchored}),2),h=a[0];a[1].each(function(t){if(ht.withinRange(t.horizontalBias(e.settings),.5,.01)&&ht.withinRange(t.verticalBias(e.settings),.5,.01))vt(t);else if(e.settings.constraintCirclePositionAbsolute&&h.length>0&&!t.constraint.horizontal&&!t.constraint.vertical){var n=h.get(0),i=t.center,r=n.center,a=Math.abs(i.x-r.x),o=Math.abs(i.y-r.y),l=Math.round(Math.atan(Math.min(a,o)/Math.max(a,o))*(180/Math.PI)),s=Math.round(Math.sqrt(Math.pow(a,2)+Math.pow(o,2)));i.y>r.y?i.x>r.x?a>o?l+=90:l=180-l:a>o?l=270-l:l+=180:i.y<r.y?r.x>i.x?a>o?l+=270:l=360-l:a>o&&(l=90-l):l=i.x>r.x?90:270,t.delete("app","layout_constraint*"),t.app("layout_constraintCircle",n.stringId),t.app("layout_constraintCircleRadius",C("".concat(t.nodeName),"constraintcircleradius",ht.formatPX(s),e.settings)),t.app("layout_constraintCircleAngle",""+l),t.constraint.horizontal=!0,t.constraint.vertical=!0}else e.addGuideline(t)});for(var f=null,p=null,m=Math.max.apply(null,r.list.map(function(t){return t.linear.bottom})),v={},y=function(t){var i=r.get(t),a=o(i,"top"),c=o(i,"right"),h=o(i,"bottom"),g=o(i,"left");if(v[i.stringId]={leftRight:l(i,"leftRight"),rightLeft:l(i,"rightLeft"),topBottom:l(i,"topBottom"),bottomTop:l(i,"bottomTop")},(h&&l(i,"topBottom")&&i.hasHeight||a&&h&&!i.has("marginTop",ct.CSS_STANDARD.AUTO)&&i.linear.bottom<m)&&(s(i,"bottom"),h=!1),i.pageflow)[[g,c,"rightLeft","leftRight","right","left","Horizontal"],[a,h,"bottomTop","topBottom","bottom","top","Vertical"]].forEach(function(t,n){if(t[0]||t[1]){var r=t[0]&&t[1],a=i;if(!r)do{var d=l(a,t[0]?t[2]:t[3]);if(d){if((a=e.findByStringId(d))&&(t[0]&&o(a,t[4])||t[1]&&o(a,t[5]))){r=!0;break}}else a=null}while(a);if(r&&(u.constraint["layout".concat(t[6])]=!0),!i.constraint["chain".concat(t[6])])if(t[0]&&t[1])i.autoMargin||i.linearVertical||i.android("layout_".concat(0===n?"width":"height"),"match_parent",!1);else if(t[1]&&r){var c=e.findByStringId(l(i,t[3]));c&&0===c.marginBottom&&s(i,t[4])}}}),c?p||(p=!1,p=d(i,r,b.HORIZONTAL)):g&&(i.is(ct.NODE_STANDARD.TEXT)&&"center"===i.cssParent("textAlign",!0)&&i.anchor(n.right,"parent"),!i.textElement||i.hasWidth||0!==i.toInt("maxWidth")||!i.multiLine||ut.hasLineBreak(i.element)||r.list.some(function(t){return l(t,"rightLeft")===i.stringId})||i.android("layout_width","match_parent")),h&&(f||(f=!1,f=d(i,r,b.VERTICAL)));else{if(g&&c&&null==i.right&&i.hasWidth)switch(i.cssParent("textAlign",!0)){case"center":case"right":case"end":break;default:s(i,"right")}if(a&&h&&null==i.bottom&&i.hasHeight)switch(i.css("verticalAlign")){case"bottom":case"text-bottom":case"middle":break;default:s(i,"bottom")}g&&c&&!u.hasWidth&&(u.constraint.layoutWidth=!0),a&&h&&!u.hasHeight&&(u.constraint.layoutHeight=!0),c&&i.toInt("right")>0&&i.modifyBox(ct.BOX_STANDARD.MARGIN_RIGHT,Math.max(i.toInt("right")-u.paddingRight,0)),h&&i.toInt("bottom")>0&&i.modifyBox(ct.BOX_STANDARD.MARGIN_BOTTOM,Math.max(i.toInt("bottom")-u.paddingBottom,0)),c&&h&&u.documentRoot&&(u.hasWidth||(u.constraint.layoutWidth=!1,u.constraint.layoutHorizontal=!1),u.hasHeight||(u.constraint.layoutHeight=!1,u.constraint.layoutVertical=!1))}},A=0;A<r.length;A++)y(A);var T=function(e){var n=function(n){e!==n&&["leftRight","rightLeft","bottomTop","topBottom"].forEach(function(i){if(v[e][i]&&v[e][i]===v[n][i]){var a=r.find("stringId",v[e][i]);a&&[r.find("stringId",e),r.find("stringId",n)].some(function(r,o){if(r){var s=0===o?e:n;switch(i){case"leftRight":case"rightLeft":if((l(r,"left")||l(r,"right"))&&l(a,"rightLeft"===i?"leftRight":"rightLeft")!==s)return t(r,i),!0;break;case"bottomTop":case"topBottom":if((l(r,"top")||l(r,"bottom"))&&l(a,"topBottom"===i?"bottomTop":"topBottom")!==s)return t(r,i),!0}}return!1})}})};for(var i in v)n(i)};for(var _ in v)T(_);!1===p&&(u.constraint.layoutWidth=!0),!1===f&&(u.constraint.layoutHeight=!0)}()}();r.each(function(t){if(t.constraint.marginHorizontal){var n=e.findByStringId(t.constraint.marginHorizontal);if(n){var i=t.linear.left-n.actualRight();i>=1&&t.modifyBox(ct.BOX_STANDARD.MARGIN_LEFT,i)}}if(t.constraint.marginVertical){var r=e.findByStringId(t.constraint.marginVertical);if(r){var a=t.linear.top-r.linear.bottom;a>=1&&t.modifyBox(ct.BOX_STANDARD.MARGIN_TOP,a)}}})}();if("object"===t(g))return g.v}else if(u.linearHorizontal){var p=Math.max.apply(null,u.renderChildren.map(function(t){return t.toInt("lineHeight")}));if(p>0){var m=Number.MAX_VALUE,v=0;u.renderChildren.every(function(t){var e=p-t.bounds.height;return e>0&&(m=Math.min(e,m),p===t.toInt("lineHeight")&&(v=Math.max(t.toInt("top")<0?Math.abs(t.toInt("top")):0,v)),!0)})&&(u.modifyBox(ct.BOX_STANDARD.PADDING_TOP,Math.floor(m/2)),u.modifyBox(ct.BOX_STANDARD.PADDING_BOTTOM,Math.ceil(m/2)+v))}}})}},{key:"createGroup",value:function(t,e,n){var i=new j(this.cache.nextId,e,t,n);return n.length>0&&n.forEach(function(t){return t.inherit(i,"data")}),this.cache.append(i),i}},{key:"renderGroup",value:function(t,e,n,i){var r=this,a=ht.hasValue(t.dataset.target)&&!ht.hasValue(t.dataset.include);switch("number"==typeof n&&(t.nodeType=n,n=U.getControlName(n)),n){case v.LINEAR:i={android:{orientation:i&&i.horizontal?b.HORIZONTAL:b.VERTICAL}};break;case v.GRID:i={android:{columnCount:i&&ht.convertInt(i.columnCount)>0?""+i.columnCount:"2",rowCount:i&&ht.convertInt(i.rowCount>0)?""+i.rowCount:""}};break;default:i={}}t.setNodeType(n);var o="",s="";if(t.overflowX||t.overflowY){var d=[];t.overflowX&&t.overflowY?d.push(v.SCROLL_HORIZONTAL,v.SCROLL_VERTICAL):(t.overflowX&&d.push(v.SCROLL_HORIZONTAL),t.overflowY&&d.push(v.SCROLL_VERTICAL));var c=null,h=d.map(function(n,i){var a=new U(r.cache.nextId,0===i?t.element:void 0);a.api=r.settings.targetAPI,a.nodeName=t.nodeName,a.documentParent=t.documentParent,a.setNodeType(n),0===i?(a.inherit(t,"initial","base","data","style","styleMap"),a.parent=e,a.render(e)):(a.init(),a.inherit(t,"dimensions"),a.inherit(t,"initial","style","styleMap"),c&&(c.css("overflow","visible scroll"),c.css("overflowX","scroll"),c.css("overflowY","visible"),a.parent=c,a.render(c)),a.css("overflow","scroll visible"),a.css("overflowX","visible"),a.css("overflowY","scroll"),t.has("height",ct.CSS_STANDARD.UNIT)&&a.css("height",ht.formatPX(t.toInt("height")+t.paddingTop+t.paddingBottom))),a.resetBox(ct.BOX_STANDARD.PADDING);var l=ht.repeat(a.renderDepth);return o+="{<".concat(a.id,"}").concat(l,"<").concat(n,"{@").concat(a.id,"}>\n")+"{:".concat(a.id,"}"),s="".concat(l,"</").concat(n,">\n{>").concat(a.id,"}")+(1===i?"\n":"")+s,c=a,r.cache.append(a),a});2===h.length?(t.android("layout_width","wrap_content"),t.android("layout_height","wrap_content")):t.android(t.overflowX?"layout_width":"layout_height","wrap_content"),t.removeElement(),t.resetBox(ct.BOX_STANDARD.MARGIN),t.parent=h[h.length-1],t.render(t.parent)}else t.render(a?t:e);return t.apply(i),l.getEnclosingTag(a||ht.hasValue(e.dataset.target)||0===t.renderDepth&&!t.documentRoot?-1:t.renderDepth,n,t.id,ft.formatPlaceholder(t.id),o,s)}},{key:"renderNode",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=ht.hasValue(t.dataset.target)&&!ht.hasValue(t.dataset.include);switch("number"==typeof n&&(t.nodeType=n,n=U.getControlName(n)),t.setNodeType(n),t.tagName){case"IMG":if(!i){var a=t.element,o=t.has("width",ct.CSS_STANDARD.PERCENT),s=t.has("height",ct.CSS_STANDARD.PERCENT),d=t.toInt("width"),c=t.toInt("height"),h="";if(o||s)h=o&&s?"fitXY":"fitCenter";else{if(0===d){var u=/width="([0-9]+)"/.exec(a.outerHTML);u&&(d=parseInt(u[1]),t.css("width",ht.formatPX(u[1])))}if(0===c){var f=/height="([0-9]+)"/.exec(a.outerHTML);f&&(c=parseInt(f[1]),t.css("height",ht.formatPX(f[1])))}switch(t.css("objectFit")){case"contain":h="centerInside";break;case"cover":h="centerCrop";break;case"scale-down":h="fitCenter";break;case"none":h="matrix";break;default:h="fitXY"}}if(""!==h&&t.android("scaleType",h),(d>0&&0===c||0===d&&c>0)&&t.android("adjustViewBounds","true"),t.pageflow)e.layoutHorizontal&&t.baseline&&t.android("baselineAlignBottom","true");else{var g=t.toInt("left"),p=t.toInt("top");if(g<0||p<0){var m=new U(this.cache.nextId,t.element);return m.api=this.settings.targetAPI,m.excludeProcedure|=ct.NODE_PROCEDURE.ALL,m.excludeResource|=ct.NODE_RESOURCE.ALL,m.android("layout_width",d>0?ht.formatPX(d):"wrap_content"),m.android("layout_height",c>0?ht.formatPX(c):"wrap_content"),m.setBounds(),m.setNodeType(v.FRAME),m.render(e),g<0&&(t.modifyBox(ct.BOX_STANDARD.MARGIN_LEFT,g,!0),m.css("left","0px")),p<0&&(t.modifyBox(ct.BOX_STANDARD.MARGIN_TOP,p,!0),m.css("top","0px")),t.parent=m,this.cache.append(m),l.getEnclosingTag(m.renderDepth,v.FRAME,m.id,this.renderNode(t,m,n,!0))}}}break;case"TEXTAREA":var y=t.element;if(t.android("minLines","2"),y.rows>2&&t.android("maxLines",""+y.rows),y.maxLength>0&&t.android("maxLength",""+y.maxLength),!t.hasWidth){var A=ht.convertInt(y.cols);A>0&&t.css("width",ht.formatPX(10*A))}t.android("hint",y.placeholder),t.android("scrollbars",b.VERTICAL),t.android("inputType","textMultiLine"),t.overflowX&&t.android("scrollHorizontally","true");break;case"INPUT":var T=t.element;switch(T.type){case"radio":if(!i){var _=e.children.map(function(t){t.renderAs&&(t=t.renderAs);var e=t.element;return t.visible&&!t.rendered&&"radio"===e.type&&e.name===T.name?t:null}).filter(function(t){return t});if(_.length>1){var N=this.createGroup(e,t,_);N.setNodeType(v.RADIO_GROUP),N.inherit(t,"alignment"),N.render(e);var E="",R="",D=!0,I=!1,O=void 0;try{for(var w,S=N.children[Symbol.iterator]();!(D=(w=S.next()).done);D=!0){var x=w.value;x.element.checked&&(R=x.stringId),E+=this.renderNode(x,N,ct.NODE_STANDARD.RADIO,!0)}}catch(t){I=!0,O=t}finally{try{D||null==S.return||S.return()}finally{if(I)throw O}}return N.android("orientation",dt.linearX(_,_.every(function(t){return t.documentParent===_[0].documentParent}))?b.HORIZONTAL:b.VERTICAL),N.alignmentType|=ct.NODE_ALIGNMENT.SEGMENTED,""!==R&&N.android("checkedButton",R),l.getEnclosingTag(N.renderDepth,v.RADIO_GROUP,N.id,E)}}break;case"password":t.android("inputType","textPassword");break;case"text":t.android("inputType","text");break;case"range":ht.hasValue(T.min)&&t.android("min",T.min),ht.hasValue(T.max)&&t.android("max",T.max),ht.hasValue(T.value)&&t.android("progress",T.value)}switch(T.type){case"text":case"search":case"tel":case"url":case"email":case"password":if(!t.hasWidth){var L=ht.convertInt(T.size);L>0&&t.css("width",ht.formatPX(10*L))}}}switch(t.controlName){case v.TEXT:var B=[];t.overflowX&&B.push(b.HORIZONTAL),t.overflowY&&B.push(b.VERTICAL),B.length>0&&t.android("scrollbars",B.join("|")),t.has("maxWidth",ct.CSS_STANDARD.UNIT)&&t.android("maxWidth",t.css("maxWidth")),t.has("maxHeight",ct.CSS_STANDARD.UNIT)&&t.android("maxHeight",t.css("maxHeight")),"nowrap"===t.css("whiteSpace")&&t.android("singleLine","true");break;case v.LINE:t.hasHeight||t.android("layout_height",ht.formatPX(t.borderTopWidth+t.borderBottomWidth+t.paddingTop+t.paddingBottom||1))}return t.render(r?t:e),l.getEnclosingTag(r||ht.hasValue(e.dataset.target)||0===t.renderDepth&&!t.documentRoot?-1:t.renderDepth,t.controlName,t.id)}},{key:"renderNodeStatic",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;a||((a=new U).api=this.settings.targetAPI),a.apply(st.formatOptions(n,this.settings));var s=Math.max(0,e),d="";switch("number"==typeof t?(a.nodeType=t,d=U.getControlName(t)):d=t,d){case"include":case"merge":case"menu":break;default:a.setNodeType(d)}var c=a.styleElement?a.nodeName:d;ht.hasValue(i)&&(isNaN(parseInt(i))||(i=C(c,"width",i,this.settings)),a.android("layout_width",i,!1)),ht.hasValue(r)&&(isNaN(parseInt(r))||(r=C(c,"height",r,this.settings)),a.android("layout_height",r,!1)),a.renderDepth=s;var h=l.getEnclosingTag(a.documentRoot||0!==e?e:-1,d,a.id,o?ft.formatPlaceholder(a.id):"");if(this.settings.showAttributes&&0===a.id){var u=ht.repeat(s+1),f=a.combine().map(function(t){return"\n".concat(u+t)}).join("");h=h.replace(ft.formatPlaceholder(a.id,"@"),f)}return n.stringId=a.stringId,h}},{key:"renderInclude",value:function(t,e,n){return this._merge[n]="true"===t.dataset.includeMerge,t.documentRoot=!this._merge[n],this.renderNodeStatic("include",e.renderDepth+1,{layout:"@layout/".concat(n)})}},{key:"renderMerge",value:function(t,e){var n=e.join("");if(this._merge[t]){var i=new U;i.api=this.settings.targetAPI,i.documentRoot=!0,n=this.renderNodeStatic("merge",0,{},"","",i,!0).replace("{:0}",n)}return n}},{key:"renderColumnSpace",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r="";return ht.isPercent(e)&&(r=(parseInt(e)/100).toFixed(2),e="0px"),this.renderNodeStatic(ct.NODE_STANDARD.SPACE,t,{android:{layout_columnWeight:r,layout_columnSpan:""+i}},e,ht.hasValue(n)?n:"wrap_content")}},{key:"baseRenderDepth",value:function(t){return this._merge[t]?0:-1}},{key:"setBoxSpacing",value:function(t){var e=this;t.cache.visible.forEach(function(t){return t.setBoxSpacing(e.settings)})}},{key:"setDimensions",value:function(t){var e=this,n={};function i(t,e,i,r,a){var o=n[t],l=i;if(5===arguments.length){if(!a||!/(px|dp|sp)$/.test(a))return;l+=",".concat(r,",").concat(a)}null==o[l]&&(o[l]=[]),o[l].push(e)}function r(t,e,n){var i=ht.convertEnum(parseInt(e),ct.BOX_STANDARD,y);if(""!==i){var r=M(i,n);return[r,t.android(r)||"0px"]}return["","0px"]}if(t.cache.visible.forEach(function(t){if(e.settings.dimensResourceValue){var a=t.nodeName.toLowerCase();null==n[a]&&(n[a]={});for(var o=Object.keys(ct.BOX_STANDARD),l=0;l<o.length;l++){var s=o[l],d=r(t,s,e.application.settings);if(""!==d[0]&&"0px"!==d[1]){var h="".concat(ct.BOX_STANDARD[s].toLowerCase(),",").concat(d[0],",").concat(d[1]);i(a,t,h)}}["android:layout_width:width","android:layout_height:height","android:minWidth:min_width","android:minHeight:min_height","app:layout_constraintWidth_min:constraint_width_min","app:layout_constraintHeight_min:constraint_height_min"].forEach(function(e){var n=c(e.split(":"),3),r=n[1];i(a,t,n[2],r,t[n[0]](r))})}}),this.settings.dimensResourceValue){var a=st.getStored("dimens");for(var o in n){var l=n[o],s=function(t){var n=c(t.split(","),3),i=n[0],r=n[1],s=n[2],d=mt(a,"".concat(o,"_").concat(M(i,e.settings)),s);l[t].forEach(function(t){return t[-1!==r.indexOf("constraint")?"app":"android"](r,"@dimen/".concat(d))}),a.set(d,s)};for(var d in l)s(d)}}}},{key:"addGuideline",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=gt.constraint;t.pageflow&&(null==a&&(a="right"===t.float||null==t.left&&null!=t.right||t.textElement&&"right"===t.css("textAlign")||t.alignParent("right",this.settings)),null==i&&!0===a&&(i=!0)),t.dataset.constraintPercent&&(i="true"===t.dataset.constraintPercent);var l=t.documentParent,s="layout_constraintGuide_".concat(i?"percent":"begin");[b.HORIZONTAL,b.VERTICAL].forEach(function(d,c){if(!t.constraint[d]&&(""===n||d===n)){var h="",u="",f="",g="",p=!1,m=0;switch(c){case 0:h=a?"right":"left",u=a?"left":"right",f=a?"rightLeft":"leftRight",g=a?"leftRight":"rightLeft","relative"===t.position&&t.toInt("left")<0&&(m=t.toInt("left"));break;case 1:h=a?"bottom":"top",u=a?"top":"bottom",f=a?"bottomTop":"topBottom",g=a?"topBottom":"bottomTop","relative"===t.position&&t.toInt("top")<0&&(m=t.toInt("top"))}var y=t.pageflow?"bounds":"linear",A=i?Math.abs(t[y][h]+m-(l.documentBody?0:l.box[h]))/l.box[0===c?"width":"height"]:0;if(i||(p=l.renderChildren.some(function(e){if(e!==t&&e.constraint[d]&&(!e.constraint["chain".concat(ht.capitalize(d))]||e.constraint["margin".concat(ht.capitalize(d))])){if(ht.withinFraction(t.linear[h]+m,e.linear[u]))return t.anchor(o[f],e.stringId,d,!0),!0;if(ht.withinFraction(t.linear[u]+m,e.linear[h]))return t.anchor(o[g],e.stringId,d,!0),!0;if(ht.withinFraction(t.bounds[h]+m,e.bounds[h]))return t.anchor(o[1===c&&t.textElement&&t.baseline&&e.textElement&&e.baseline?"baseline":h],e.stringId,d,!0),!0;if(ht.withinFraction(t.bounds[u]+m,e.bounds[u]))return t.anchor(o[u],e.stringId,d,!0),!0}return!1})),!p){var T=l.constraint.guideline||{},_=i?parseFloat(Math.abs(A-(a?1:0)).toFixed(e.settings.constraintPercentAccuracy)):a?t[y][h]+m-l.box[u]:t[y][h]+m-l.box[h];if(!i&&!a)if(_<0){var N=l["padding".concat(ht.capitalize(h))];_=N>=Math.abs(_)?0:Math.abs(_)-N}else l.documentBody&&(_=t[y][h]+m);if(0===_)t.anchor(o[h],"parent",d,!0);else{var E={android:{orientation:0===c?b.VERTICAL:b.HORIZONTAL},app:r({},s,""+_)},R=ht.optional(T,"".concat(d,".").concat(s,".").concat(h),"object");if(R)for(var D in R)if(R[D]===_){t.anchor(o[h],D,d,!0),t.delete("app",o[u]),p=!0;break}if(!p){i||(E.app[s]=C(t.nodeName,"constraintguide_begin",ht.formatPX(_),e.settings)),e.appendAfter(t.id,e.renderNodeStatic(v.GUIDELINE,t.renderDepth,E,"wrap_content","wrap_content"));var I=E.stringId;t.anchor(o[h],I,d,!0),t.delete("app",o[u]),t.constraint["".concat(d,"Guideline")]=I,null==T[d]&&(T[d]={}),null==T[d][s]&&(T[d][s]={}),null==T[d][s][h]&&(T[d][s][h]={}),T[d][s][h][I]=_,l.constraint.guideline=T}}}}})}},{key:"setAttributes",value:function(t){if(this.settings.showAttributes)for(var e=t.cache.visible.map(function(t){return{pattern:ft.formatPlaceholder(t.id,"@"),attributes:function(t){for(var e in"rtl"===t.dir&&(t.nodeType<ct.NODE_STANDARD.INLINE?t.android("textDirection","rtl"):t.length>0&&t.android("layoutDirection","rtl")),t.dataset)/^attr[A-Z]+/.test(e)&&function(){var n=ht.capitalize(e.substring(4),!1);t.dataset[e].split(";").forEach(function(e){var i=c(e.split("::"),2),r=i[0],a=i[1];ht.hasValue(r)&&ht.hasValue(a)&&t.attr(n,r,a)})}();var n=ht.repeat(t.renderDepth+1);return t.combine().map(function(t){return"\n".concat(n+t)}).join("")}(t)}}),n=h(t.views).concat(h(t.includes)),i=function(){var t=n[r];e.forEach(function(e){return t.content=t.content.replace(e.pattern,e.attributes)}),t.content=t.content.replace("{#0}",function(t){var e="";for(var n in A)RegExp("\\s+".concat(n,":")).test(t)&&(e+="\n\txmlns:".concat(n,'="').concat(A[n],'"'));return e}(t.content))},r=0;r<n.length;r++)i()}},{key:"findByStringId",value:function(t){return this.cache.find("stringId",t)}},{key:"baseTemplate",get:function(){return'<?xml version="1.0" encoding="utf-8"?>\n{:0}'}},{key:"settingsInternal",get:function(){return{includes:!0,layout:{pathName:"res/layout",fileExtension:"xml"},inline:{always:["BR"],tagName:R},unsupported:{tagName:["OPTION","MAP","AREA"]}}}}],[{key:"getEnclosingTag",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=ht.repeat(Math.max(0,t)),l=r+"{<".concat(n,"}");return l+=""!==i?o+"<".concat(e).concat(0===t?"{#0}":"","{@").concat(n,"}>\n")+i+o+"</".concat(e,">\n"):o+"<".concat(e).concat(0===t?"{#0}":"","{@").concat(n,"} />\n"),l+="{>".concat(n,"}")+a}}]),l}(),bt=androme.lib.util,At=androme.lib.xml;function Tt(t){for(var e,n=[],i=/<!-- image: (.+) -->\n<!-- filename: (.+)\/(.*?\.\w+) -->/;null!=(e=i.exec(t));)n.push({uri:e[1],pathname:e[2],filename:e[3],content:""}),t=t.replace(e[0],"");return n}function _t(t){for(var e,n=[],i=/<\?xml[\w\W]*?(<!-- filename: (.+)\/(.*?\.xml) -->)/;null!=(e=i.exec(t));)n.push({content:e[0].replace(e[1],"").trim(),pathname:e[2],filename:e[3]}),t=t.replace(e[0],"");return n}function Nt(t,e,n){return{pathname:t,filename:e,content:n}}function Et(t,e){return(""+t).toLowerCase()>=(""+e).toLowerCase()?1:-1}var Rt=function(t){function n(t){var i;return e(this,n),(i=s(this,o(n).call(this))).settings=t,i}return a(n,androme.lib.base.File),i(n,[{key:"saveAllToDisk",value:function(t){for(var e=[],n=h(t.views).concat(h(t.includes)),i=0;i<n.length;i++){var r=n[i];e.push(Nt(r.pathname,0===i?this.settings.outputMainFileName:"".concat(r.filename,".xml"),r.content))}var a=this.resourceDrawableToXml();e.push.apply(e,h(_t(this.resourceStringToXml()))),e.push.apply(e,h(_t(this.resourceStringArrayToXml()))),e.push.apply(e,h(_t(this.resourceFontToXml()))),e.push.apply(e,h(_t(this.resourceColorToXml()))),e.push.apply(e,h(_t(this.resourceStyleToXml()))),e.push.apply(e,h(_t(this.resourceDimenToXml()))),e.push.apply(e,h(Tt(a)).concat(h(_t(a)))),this.saveToDisk(e)}},{key:"layoutAllToXml",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},i=[],r=h(t.views).concat(h(t.includes)),a=0;a<r.length;a++){var o=r[a];n[o.filename]=o.content,e&&i.push(Nt(o.pathname,0===a?this.settings.outputMainFileName:"".concat(o.filename,".xml"),o.content))}return e&&this.saveToDisk(i),n}},{key:"resourceAllToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml()};for(var n in e)""===e[n]&&delete e[n];if(t){var i=[];for(var r in e)"drawable"===r&&i.push.apply(i,h(Tt(e[r]))),i.push.apply(i,h(_t(e[r])));this.saveToDisk(i)}return e}},{key:"resourceStringToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={0:[{1:[]}]};this.stored.strings=new Map(h(this.stored.strings.entries()).sort(Et));var n=At.getTemplateBranch(e,"0");""===this.appName||this.stored.strings.has("app_name")||n[1].push({name:"app_name",value:this.appName});var i=!0,r=!1,a=void 0;try{for(var o,l=this.stored.strings.entries()[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var s=c(o.value,2);n[1].push({name:s[0],value:s[1]})}}catch(t){r=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(r)throw a}}var d=At.createTemplate(At.parseTemplate('!0\n<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<string name="{name}">{value}</string>\n!1\n</resources>\n\x3c!-- filename: res/values/strings.xml --\x3e\n!0'),e);return d=At.replaceTab(d,this.settings,!0),t&&this.saveToDisk(_t(d)),d}},{key:"resourceStringArrayToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.arrays.size>0){var n={0:[{1:[]}]};this.stored.arrays=new Map(h(this.stored.arrays.entries()).sort());var i=At.getTemplateBranch(n,"0"),r=!0,a=!1,o=void 0;try{for(var l,s=this.stored.arrays.entries()[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var d=c(l.value,2),u=d[1],f={name:d[0],2:[]},g=f[2],p=!0,m=!1,v=void 0;try{for(var y,b=u[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){g.push({value:y.value})}}catch(t){m=!0,v=t}finally{try{p||null==b.return||b.return()}finally{if(m)throw v}}i[1].push(f)}}catch(t){a=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}e=At.createTemplate(At.parseTemplate('!0\n<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<string-array name="{name}">\n!2\n\t\t<item>{value}</item>\n!2\n\t</string-array>\n!1\n</resources>\n\x3c!-- filename: res/values/string_arrays.xml --\x3e\n!0'),n),e=At.replaceTab(e,this.settings,!0),t&&this.saveToDisk(_t(e))}return e}},{key:"resourceFontToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.fonts.size>0){this.stored.fonts=new Map(h(this.stored.fonts.entries()).sort());var n=this.settings.targetAPI<u.OREO?"app":"android",i=!0,r=!1,a=void 0;try{for(var o,l=this.stored.fonts.entries()[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var s=c(o.value,2),d=s[0],f=s[1],g={0:[{name:d,namespace:"xmlns:".concat(n,'="').concat(A[n],'"'),1:[]}]},p=At.getTemplateBranch(g,"0");for(var m in f){var v=c(m.split("-"),2),y=v[0],b=v[1];p[1].push({style:y,weight:b,font:"@font/".concat(d+("normal"===y&&"400"===b?"_".concat(y):("normal"!==y?"_".concat(y):"")+("400"!==b?"_".concat(E[b]||b):"")))})}e+="\n\n"+At.createTemplate(At.parseTemplate('!0\n<?xml version="1.0" encoding="utf-8"?>\n<font-family {namespace}>\n!1\n\t<font android:fontStyle="{style}" android:fontWeight="{weight}" android:font="{font}" />\n!1\n</font-family>\n\x3c!-- filename: res/font/{name}.xml --\x3e\n!0'),g)}}catch(t){r=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(r)throw a}}this.settings.targetAPI<u.OREO&&(e=e.replace(/android/g,"app")),e=At.replaceTab(e,this.settings),t&&this.saveToDisk(_t(e))}return e.trim()}},{key:"resourceColorToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.colors.size>0){var n={0:[{1:[]}]};this.stored.colors=new Map(h(this.stored.colors.entries()).sort());var i=At.getTemplateBranch(n,"0"),r=!0,a=!1,o=void 0;try{for(var l,s=this.stored.colors.entries()[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var d=c(l.value,2);i[1].push({name:d[0],value:d[1]})}}catch(t){a=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}e=At.createTemplate(At.parseTemplate('!0\n<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<color name="{value}">{name}</color>\n!1\n</resources>\n\x3c!-- filename: res/values/colors.xml --\x3e\n!0'),n),e=At.replaceTab(e,this.settings),t&&this.saveToDisk(_t(e))}return e}},{key:"resourceStyleToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.styles.size>0){var n={0:[{1:[]}]},i=Array.from(this.stored.styles.values()).sort(function(t,e){return(""+t.name).toLowerCase()>=(""+e.name).toLowerCase()?1:-1}),r=At.getTemplateBranch(n,"0"),a=!0,o=!1,l=void 0;try{for(var s,d=function(){var t=s.value,e={name1:t.name,parent:t.parent||"",2:[]};t.attrs.split(";").sort().forEach(function(t){var n=c(t.split("="),2);e[2].push({name2:n[0],value:n[1].replace(/"/g,"")})}),r[1].push(e)},h=i[Symbol.iterator]();!(a=(s=h.next()).done);a=!0)d()}catch(t){o=!0,l=t}finally{try{a||null==h.return||h.return()}finally{if(o)throw l}}e=P(e=At.createTemplate(At.parseTemplate('!0\n<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<style name="{name1}" parent="{@parent}">\n!2\n\t\t<item name="{name2}">{value}</item>\n!2\n\t</style>\n!1\n</resources>\n\x3c!-- filename: res/values/styles.xml --\x3e\n!0'),n),this.settings,!0),e=At.replaceTab(e,this.settings),t&&this.saveToDisk(_t(e))}return e}},{key:"resourceDimenToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.dimens.size>0){var n={0:[{1:[]}]};this.stored.dimens=new Map(h(this.stored.dimens.entries()).sort());var i=At.getTemplateBranch(n,"0"),r=!0,a=!1,o=void 0;try{for(var l,s=this.stored.dimens.entries()[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var d=c(l.value,2);i[1].push({name:d[0],value:d[1]})}}catch(t){a=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}e=P(e=At.createTemplate(At.parseTemplate('!0\n<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<dimen name="{name}">{value}</dimen>\n!1\n</resources>\n\x3c!-- filename: res/values/dimens.xml --\x3e\n!0'),n),this.settings),e=At.replaceTab(e,this.settings),t&&this.saveToDisk(_t(e))}return e}},{key:"resourceDrawableToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.drawables.size>0||this.stored.images.size>0){var n={0:[]},i=n[0],r=!0,a=!1,o=void 0;try{for(var l,s=this.stored.drawables.entries()[Symbol.iterator]();!(r=(l=s.next()).done);r=!0){var d=c(l.value,2),u=d[1];i.push({name:"res/drawable/".concat(b=d[0],".xml"),value:u})}}catch(t){a=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}var f=!0,g=!1,p=void 0;try{for(var m,v=this.stored.images.entries()[Symbol.iterator]();!(f=(m=v.next()).done);f=!0){var y=c(m.value,2),b=y[0],A=y[1];if(Object.keys(A).length>1)for(var T in A)i.push({name:"res/drawable-".concat(T,"/").concat(b,".").concat(bt.lastIndexOf(A[T],".")),value:"\x3c!-- image: ".concat(A[T]," --\x3e")});else A.mdpi&&i.push({name:"res/drawable/".concat(b,".").concat(bt.lastIndexOf(A.mdpi,".")),value:"\x3c!-- image: ".concat(A.mdpi," --\x3e")})}}catch(t){g=!0,p=t}finally{try{f||null==v.return||v.return()}finally{if(g)throw p}}e=P(e=At.createTemplate(At.parseTemplate("!0\n{value}\n\x3c!-- filename: {name} --\x3e\n!0"),n),this.settings),e=At.replaceTab(e,this.settings),t&&this.saveToDisk(h(Tt(e)).concat(h(_t(e))))}return e}}]),n}(),Dt=function(t){function n(){return e(this,n),s(this,o(n).apply(this,arguments))}return a(n,androme.lib.base.extensions.External),n}(),It=function(t){function n(){return e(this,n),s(this,o(n).apply(this,arguments))}return a(n,androme.lib.base.extensions.Origin),n}(),Ot=function(t){function n(){return e(this,n),s(this,o(n).apply(this,arguments))}return a(n,androme.lib.base.extensions.Custom),i(n,[{key:"afterInsert",value:function(){var t=this.node,e=Object.assign({},this.options[t.element.id]);t.apply(st.formatOptions(e,this.application.settings))}}]),n}(),wt=androme.lib.enumeration,St=androme.lib.util,xt=androme.lib.dom,Lt=function(t){function n(){return e(this,n),s(this,o(n).apply(this,arguments))}return a(n,androme.lib.base.extensions.Accessibility),i(n,[{key:"afterRender",value:function(){Array.from(this.application.cacheProcessing.elements).forEach(function(t){if(!t.hasBit("excludeProcedure",wt.NODE_PROCEDURE.ACCESSIBILITY)){var e=t.element;switch(t.controlName){case v.EDIT:t.companion||[t.nextElementSibling,t.previousElementSibling].some(function(n){var i=xt.getNodeFromElement(n),r=n&&n.parentElement&&"LABEL"===n.parentElement.tagName?xt.getNodeFromElement(n.parentElement):null;if(i&&i.visible&&i.pageflow){if(St.hasValue(n.htmlFor)&&n.htmlFor===e.id)return i.android("labelFor",t.stringId),!0;if(i.textElement&&r)return r.android("labelFor",t.stringId),!0}return!1});case v.SELECT:case v.CHECKBOX:case v.RADIO:case v.BUTTON:e.disabled&&t.android("focusable","false")}}})}}]),n}(),Bt=androme.lib.enumeration,Ct=androme.lib.constant,Pt=androme.lib.util,kt=androme.lib.base.Resource,Mt=function(t){function n(){return e(this,n),s(this,o(n).apply(this,arguments))}return a(n,androme.lib.base.extensions.List),i(n,[{key:"processChild",value:function(){var t=this.node,e=t.data(Ct.EXT_NAME.LIST,"mainData");if(e){var n=this.parent,i=this.application.viewController,a=this.application.settings,o=Pt.convertInt(n.css("paddingLeft"))+Pt.convertInt(n.cssInitial("marginLeft",!0)),l=0,s=t.marginLeft;t.modifyBox(Bt.BOX_STANDARD.MARGIN_LEFT,null),n.is(Bt.NODE_STANDARD.GRID)?(l=Pt.convertInt(n.android("columnCount")),s+=o):n.children[0]===t&&(s+=o);var d=t.children.find(function(t){return"left"===t.float&&Pt.convertInt(t.cssInitial("marginLeft",!0))<0&&Math.abs(Pt.convertInt(t.cssInitial("marginLeft",!0)))<=Pt.convertInt(t.documentParent.cssInitial("marginLeft",!0))});if(d&&""===e.ordinal){var c="";d.parent=n,c=d.inlineText||0===d.children.length?i.renderNode(d,n,Bt.NODE_STANDARD.TEXT):d.children.every(function(t){return t.pageflow})?i.renderGroup(d,n,Bt.NODE_STANDARD.RELATIVE):i.renderGroup(d,n,Bt.NODE_STANDARD.CONSTRAINT),i.prependBefore(t.id,c),3===l&&t.android("layout_columnSpan","2"),s+=d.marginLeft,d.modifyBox(Bt.BOX_STANDARD.MARGIN_LEFT,null),!d.hasWidth&&s>0&&d.android("minWidth",Pt.formatPX(s))}else{var h=l>0?"0":"",u="inside"===t.css("listStylePosition"),f=!["","none"].includes(t.css("listStyleImage")),g="",p=0,m=0;if(""!==e.imageSrc){var y=kt.parseBackgroundPosition(e.imagePosition,t.bounds,t.css("fontSize"));p=y.left,m=y.top,g=st.addImageURL(e.imageSrc)}var b=""!==g&&!f||0===o&&0===t.marginLeft?"":"right";""===b&&(s+=t.paddingLeft,t.modifyBox(Bt.BOX_STANDARD.PADDING_LEFT,null)),p>0&&s>p&&(s-=p);var A,T=(s=Math.max(s,20))>0?C(t.nodeName,M("min_width",a),Pt.formatPX(s),a):"",_=s<=24?6:s<=32?8:10,N=p>0?Pt.formatPX(p):"",E={android:{layout_columnWeight:h}};if(u)""!==N&&(N=C(t.nodeName,M("margin_left",a),N,a)),i.prependBefore(t.id,i.renderNodeStatic(Bt.NODE_STANDARD.SPACE,n.renderDepth+1,{android:r({minWidth:T,layout_columnWeight:h},M("layout_marginLeft",a),N)},"wrap_content","wrap_content")),Object.assign(E.android,{minWidth:C(t.nodeName,M("min_width",a),Pt.formatPX(24),a)});else Object.assign(E.android,(r(A={minWidth:T,gravity:s>20?M(b,a):""},M("layout_marginLeft",a),N),r(A,M("paddingLeft",a),""===b&&""===g?Pt.formatPX(_):20===s?"2px":""),r(A,M("paddingRight",a),"right"===b&&s>20?Pt.formatPX(_):""),r(A,"paddingTop",t.paddingTop>0?Pt.formatPX(t.paddingTop):""),A)),3===l&&t.android("layout_columnSpan","2");if("DT"===t.tagName&&""===g)t.android("layout_columnSpan",""+l);else{Object.assign(E.android,""!==g?{src:"@drawable/".concat(g),layout_marginTop:m>0?Pt.formatPX(m):"",baselineAlignBottom:"true",scaleType:u||"right"!==b?"fitStart":"fitEnd"}:{text:e.ordinal});var R=new U(this.application.cacheProcessing.nextId,document.createElement("SPAN"));R.api=t.api,R.alignmentType=Bt.NODE_ALIGNMENT.SPACE,R.nodeName="".concat(t.tagName,"_ORDINAL"),R.setNodeType(v.SPACE),R.inherit(t,"style"),""!==e.ordinal&&!/[A-Za-z0-9]+\./.test(e.ordinal)&&R.toInt("fontSize")>12&&R.css("fontSize","12px"),t.companion=R,this.application.cacheProcessing.append(R),i.prependBefore(t.id,i.renderNodeStatic(""!==g?Bt.NODE_STANDARD.IMAGE:""!==e.ordinal?Bt.NODE_STANDARD.TEXT:Bt.NODE_STANDARD.SPACE,n.renderDepth+1,E,"wrap_content","wrap_content",R))}}l>0&&t.android("layout_columnWeight","1")}return{output:"",complete:!0}}},{key:"beforeInsert",value:function(){var t=this.node;if(t.is(Bt.NODE_STANDARD.GRID))for(var e=t.android("columnCount"),n=0;n<t.renderChildren.length;n++){var i=t.renderChildren[n],r=t.renderChildren[n-1],a=0;if(r)Pt.convertInt(r.android("layout_marginBottom"))>0&&(a+=Pt.convertInt(r.android("layout_marginBottom")),r.delete("android","layout_marginBottom"),r.modifyBox(Bt.BOX_STANDARD.MARGIN_BOTTOM,null));var o=Pt.convertInt(i.android("layout_marginTop"));o>0&&(a+=o,i.delete("android","layout_marginTop"),i.modifyBox(Bt.BOX_STANDARD.MARGIN_TOP,null)),a>0&&this.application.viewController.prependBefore(i.id,this.application.viewController.renderNodeStatic(Bt.NODE_STANDARD.SPACE,i.renderDepth,{android:{layout_columnSpan:""+e}},"match_parent",Pt.formatPX(a)),0)}}},{key:"afterInsert",value:function(){var t=this.node;t.is(Bt.NODE_STANDARD.GRID)&&t.blockStatic&&!t.has("width")&&t.android("layout_width","match_parent")}}]),n}(),Xt=androme.lib.enumeration,Gt=androme.lib.constant,Ht=androme.lib.util,Wt=androme.lib.dom,zt=function(t){function n(){return e(this,n),s(this,o(n).apply(this,arguments))}return a(n,androme.lib.base.extensions.Grid),i(n,[{key:"processChild",value:function(){var t=this.node,e=t.data(Gt.EXT_NAME.GRID,"cellData");return e&&(e.rowSpan>1&&t.android("layout_rowSpan",""+e.rowSpan),e.columnSpan>1&&t.android("layout_columnSpan",""+e.columnSpan),"table"===t.parent.display&&"table-cell"===t.display&&t.android("layout_gravity","fill")),d(o(n.prototype),"processChild",this).call(this)}},{key:"afterRender",value:function(){var t=this,e=!0,n=!1,i=void 0;try{for(var r,a=this.subscribers[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=r.value;"table"===o.display&&"collapse"===o.css("borderCollapse")||function(){var e=o.data(Gt.EXT_NAME.GRID,"mainData");e&&o.each(function(n){var i=n.data(Gt.EXT_NAME.GRID,"cellData");if(i){var r=Wt.getBoxSpacing(n.documentParent.element,!0),a=e.padding;if(i.cellFirst&&(a.top=r.paddingTop+r.marginTop),i.rowStart&&(a.left=Math.max(r.marginLeft+r.paddingLeft,a.left)),i.rowEnd){var o=r.marginBottom+r.paddingBottom+(i.cellLast?0:r.marginTop+r.paddingTop);o>0&&(i.cellLast?a.bottom=o:t.application.viewController.appendAfter(n.id,t.application.viewController.renderColumnSpace(n.renderDepth,"match_parent",Ht.formatPX(o),e.columnCount))),a.right=Math.max(r.marginRight+r.paddingRight,a.right)}}},!0)}()}}catch(t){n=!0,i=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw i}}var l=!0,s=!1,d=void 0;try{for(var c,h=this.subscribers[Symbol.iterator]();!(l=(c=h.next()).done);l=!0){var u=c.value,f=u.data(Gt.EXT_NAME.GRID,"mainData");f&&(u.modifyBox(Xt.BOX_STANDARD.PADDING_TOP,f.padding.top),u.modifyBox(Xt.BOX_STANDARD.PADDING_RIGHT,f.padding.right),u.modifyBox(Xt.BOX_STANDARD.PADDING_BOTTOM,f.padding.bottom),u.modifyBox(Xt.BOX_STANDARD.PADDING_LEFT,f.padding.left))}}catch(t){s=!0,d=t}finally{try{l||null==h.return||h.return()}finally{if(s)throw d}}}}]),n}(),Vt=androme.lib.constant,Ft=androme.lib.util,Ut=function(t){function n(){return e(this,n),s(this,o(n).apply(this,arguments))}return a(n,androme.lib.base.extensions.Table),i(n,[{key:"processNode",value:function(){var t=d(o(n.prototype),"processNode",this).call(this),e=this.node;if(Ft.convertInt(e.android("columnCount"))>1){var i=!!e.data(Vt.EXT_NAME.TABLE,"expand");if(e.each(function(t){if("0px"===t.css("width"))t.android("layout_width","0px"),t.android("layout_columnWeight",""+(t.element.colSpan||1));else{var e=t.data(Vt.EXT_NAME.TABLE,"expand"),n=!!t.data(Vt.EXT_NAME.TABLE,"exceed"),r=!!t.data(Vt.EXT_NAME.TABLE,"downsized");if(null!=e)if(e){var a=Ft.convertFloat(t.data(Vt.EXT_NAME.TABLE,"percent"))/100;a>0&&(t.android("layout_width","0px"),t.android("layout_columnWeight",Ft.trimEnd(a.toFixed(3),"0")),i=!0)}else t.android("layout_columnWeight","0");r&&(n?t.android("layout_columnWeight","0.01"):(t.textElement&&t.android("maxLines","1"),t.has("width")&&t.toInt("width")<t.bounds.width&&t.android("layout_width",Ft.formatPX(t.bounds.width))))}}),i&&!e.hasWidth){var r=0;e.ascend().some(function(t){return!!t.hasWidth&&(r=t.bounds.width,!0)}),e.bounds.width>=r?e.android("layout_width","match_parent"):e.css("width",Ft.formatPX(e.bounds.width))}}return t}},{key:"processChild",value:function(){var t=this.node,e=Ft.convertInt(t.data(Vt.EXT_NAME.TABLE,"rowSpan")),n=Ft.convertInt(t.data(Vt.EXT_NAME.TABLE,"colSpan")),i=Ft.convertInt(t.data(Vt.EXT_NAME.TABLE,"spaceSpan"));(e>1&&t.android("layout_rowSpan",""+e),n>1&&t.android("layout_columnSpan",""+n),i>0)&&this.application.viewController.appendAfter(t.id,this.application.viewController.renderColumnSpace(this.parent.renderDepth+1,"wrap_content","wrap_content",i));return{output:"",complete:!0}}}]),n}();function jt(){var t=Zt.application;return!(!t.settings.autoCloseOnWrite||t.loading||t.closed)&&(t.finalize(),!0)}var Yt,Zt,Jt,Kt,$t=!1,qt=androme.lib.enumeration.APP_FRAMEWORK.ANDROID,Qt={lib:{base:{View:U,Resource:st},enumeration:m,constant:I,util:X},system:{customize:function(t,e,n){if(w[t]){var i=w[t].customizations;null==i[e]&&(i[e]={}),Object.assign(i[e],n)}},addXmlNs:function(t,e){A[t]=e},writeLayoutAllXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if($t){var e=Zt.application;if(e.closed||jt())return Jt.file.layoutAllToXml(e.viewData,t)}return""},writeResourceAllXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if($t&&(Zt.application.closed||jt()))return Jt.file.resourceAllToXml(t);return""},writeResourceStringXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if($t&&(Zt.application.closed||jt()))return Jt.file.resourceStringToXml(t);return""},writeResourceArrayXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if($t&&(Zt.application.closed||jt()))return Jt.file.resourceStringArrayToXml(t);return""},writeResourceFontXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if($t&&(Zt.application.closed||jt()))return Jt.file.resourceFontToXml(t);return""},writeResourceColorXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if($t&&(Zt.application.closed||jt()))return Jt.file.resourceColorToXml(t);return""},writeResourceStyleXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if($t&&(Zt.application.closed||jt()))return Jt.file.resourceStyleToXml(t);return""},writeResourceDimenXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if($t&&(Zt.application.closed||jt()))return Jt.file.resourceDimenToXml(t);return""},writeResourceDrawableXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if($t&&(Zt.application.closed||jt()))return Jt.file.resourceDrawableToXml(t);return""}},create:function(){var t,e=androme.lib.constant.EXT_NAME;Kt=Object.assign({},O);var n=new Rt(Kt);return Yt=new androme.lib.base.Application(qt),Zt=new yt,Jt=new st(n),Yt.registerController(Zt),Yt.registerResource(Jt),Yt.nodeObject=U,Yt.builtInExtensions=(r(t={},e.EXTERNAL,new Dt(e.EXTERNAL,qt)),r(t,e.ORIGIN,new It(e.ORIGIN,qt)),r(t,e.CUSTOM,new Ot(e.CUSTOM,qt)),r(t,e.ACCESSIBILITY,new Lt(e.ACCESSIBILITY,qt)),r(t,e.LIST,new Mt(e.LIST,qt,["UL","OL","DL","DIV"])),r(t,e.TABLE,new Ut(e.TABLE,qt,["TABLE"])),r(t,e.GRID,new zt(e.GRID,qt,["FORM","UL","OL","DL","DIV","TABLE","NAV","SECTION","ASIDE","MAIN","HEADER","FOOTER","P","ARTICLE","FIELDSET","SPAN"])),t),$t=!0,{application:Yt,framework:qt,settings:Kt}},cached:function(){return $t?{application:Yt,framework:qt,settings:Kt}:Qt.create()}};return Qt}();
