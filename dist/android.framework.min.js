var android=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?s(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=t[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(t){return function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f;!function(t){t[t.NONE=0]="NONE",t[t.CHECKBOX=1]="CHECKBOX",t[t.RADIO=2]="RADIO",t[t.EDIT=3]="EDIT",t[t.SELECT=4]="SELECT",t[t.RANGE=5]="RANGE",t[t.SVG=6]="SVG",t[t.TEXT=7]="TEXT",t[t.IMAGE=8]="IMAGE",t[t.BUTTON=9]="BUTTON",t[t.INLINE=10]="INLINE",t[t.LINE=11]="LINE",t[t.SPACE=12]="SPACE",t[t.BLOCK=13]="BLOCK",t[t.FRAME=14]="FRAME",t[t.LINEAR=15]="LINEAR",t[t.GRID=16]="GRID",t[t.RELATIVE=17]="RELATIVE",t[t.CONSTRAINT=18]="CONSTRAINT"}(f||(f={}));var p,g=Object.freeze({get CONTAINER_NODE(){return f}}),m={DELEGATE_FIXED:"android.delegate.fixed",DELEGATE_MAXWIDTHHEIGHT:"android.delegate.max-width-height",DELEGATE_PERCENT:"android.delegate.percent",DELEGATE_RADIOGROUP:"android.delegate.radiogroup",DELEGATE_SCROLLBAR:"android.delegate.scrollbar",DELEGATE_VERTICALALIGN:"android.delegate.verticalalign",CONSTRAINT_GUIDELINE:"android.constraint.guideline",RESOURCE_INCLUDES:"android.resource.includes",RESOURCE_BACKGROUND:"android.resource.background",RESOURCE_SVG:"android.resource.svg",RESOURCE_STRINGS:"android.resource.strings",RESOURCE_FONTS:"android.resource.fonts",RESOURCE_DIMENS:"android.resource.dimens",RESOURCE_STYLES:"android.resource.styles"},v={CHECKBOX:"CheckBox",RADIO:"RadioButton",EDIT:"EditText",SELECT:"Spinner",RANGE:"SeekBar",SVG:"ImageView",TEXT:"TextView",IMAGE:"ImageView",BUTTON:"Button",LINE:"View",SPACE:"Space",FRAME:"FrameLayout",LINEAR:"LinearLayout",GRID:"GridLayout",RELATIVE:"RelativeLayout",CONSTRAINT:"android.support.constraint.ConstraintLayout",GUIDELINE:"android.support.constraint.Guideline"},y={PLAINTEXT:f.TEXT,HR:f.LINE,SVG:f.SVG,IMG:f.IMAGE,SELECT:f.SELECT,RANGE:f.RANGE,TEXT:f.EDIT,PASSWORD:f.EDIT,NUMBER:f.EDIT,EMAIL:f.EDIT,SEARCH:f.EDIT,URL:f.EDIT,CHECKBOX:f.CHECKBOX,RADIO:f.RADIO,BUTTON:f.BUTTON,SUBMIT:f.BUTTON,RESET:f.BUTTON,TEXTAREA:f.EDIT},b={MARGIN:"layout_margin",MARGIN_VERTICAL:"layout_marginVertical",MARGIN_HORIZONTAL:"layout_marginHorizontal",MARGIN_TOP:"layout_marginTop",MARGIN_RIGHT:"layout_marginRight",MARGIN_BOTTOM:"layout_marginBottom",MARGIN_LEFT:"layout_marginLeft",PADDING:"padding",PADDING_VERTICAL:"paddingVertical",PADDING_HORIZONTAL:"paddingHorizontal",PADDING_TOP:"paddingTop",PADDING_RIGHT:"paddingRight",PADDING_BOTTOM:"paddingBottom",PADDING_LEFT:"paddingLeft"},E={HORIZONTAL:"horizontal",VERTICAL:"vertical"},w={relativeParent:{left:"layout_alignParentLeft",top:"layout_alignParentTop",right:"layout_alignParentRight",bottom:"layout_alignParentBottom",centerHorizontal:"layout_centerHorizontal",centerVertical:"layout_centerVertical"},relative:{left:"layout_alignLeft",top:"layout_alignTop",right:"layout_alignRight",bottom:"layout_alignBottom",baseline:"layout_alignBaseline",leftRight:"layout_toRightOf",rightLeft:"layout_toLeftOf",topBottom:"layout_below",bottomTop:"layout_above"},constraint:{left:"layout_constraintLeft_toLeftOf",top:"layout_constraintTop_toTopOf",right:"layout_constraintRight_toRightOf",bottom:"layout_constraintBottom_toBottomOf",leftRight:"layout_constraintLeft_toRightOf",rightLeft:"layout_constraintRight_toLeftOf",baseline:"layout_constraintBaseline_toBaselineOf",topBottom:"layout_constraintTop_toBottomOf",bottomTop:"layout_constraintBottom_toTopOf"}},T={android:"http://schemas.android.com/apk/res/android",app:"http://schemas.android.com/apk/res-auto",aapt:"http://schemas.android.com/aapt",tools:"http://schemas.android.com/tools"},x=["abstract","assert","boolean","break","byte","case","catch","char","class","const","continue","default","double","do","else","enum","extends","false","final","finally","float","for","goto","if","implements","import","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","void","volatile","while"],A=Object.freeze({EXT_ANDROID:m,CONTAINER_ANDROID:v,ELEMENT_ANDROID:y,SUPPORT_ANDROID:{DRAWER:"android.support.v4.widget.DrawerLayout",NAVIGATION_VIEW:"android.support.design.widget.NavigationView",COORDINATOR:"android.support.design.widget.CoordinatorLayout",APPBAR:"android.support.design.widget.AppBarLayout",COLLAPSING_TOOLBAR:"android.support.design.widget.CollapsingToolbarLayout",TOOLBAR:"android.support.v7.widget.Toolbar",FLOATING_ACTION_BUTTON:"android.support.design.widget.FloatingActionButton",BOTTOM_NAVIGATION:"android.support.design.widget.BottomNavigationView"},BOX_ANDROID:b,AXIS_ANDROID:E,LAYOUT_ANDROID:w,XMLNS_ANDROID:T,PREFIX_ANDROID:{MENU:"ic_menu_",DIALOG:"ic_dialog_"},RESERVED_JAVA:x});function S(t,e,n){return(!n||n>=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:0))&&(t.attr=e),!0}var R=(a(p={},28,{android:{},app:{},customizations:{}}),a(p,27,{android:{accessibilityHeading:!1,accessibilityPaneTitle:!1,appComponentFactory:!1,buttonCornerRadius:!1,cantSaveState:!1,dialogCornerRadius:!1,fallbackLineSpacing:!1,firstBaselineToTopHeight:!1,fontVariationSettings:!1,lastBaselineToBottomHeight:!1,lineHeight:!1,maxLongVersionCode:!1,outlineAmbientShadowColor:!1,outlineSpotShadowColor:!1,screenReaderFocusable:!1,textFontWeight:!1,ttcIndex:!1,versionCodeMajor:!1,versionMajor:!1,widgetFeatures:!1,windowLayoutInDisplayCutoutMode:!1},app:{},customizations:{}}),a(p,26,{android:{classLoader:!1,navigationBarDividerColor:!1,showWhenLocked:!1,turnScreenOn:!1,windowLightNavigationBar:!1},app:{},customizations:{}}),a(p,25,{android:{fontWeight:!1,layout_marginHorizontal:!1,layout_marginVertical:!1,paddingHorizontal:!1,paddingVertical:!1},app:{},customizations:{}}),a(p,24,{android:{colorSecondary:!1,contextDescription:!1,contextUri:!1,roundIcon:!1,shortcutDisabledMessage:!1,shortcutId:!1,shortcutLongLabel:!1,shortcutShortLabel:!1,showMetadataInPreview:!1},app:{},customizations:{}}),a(p,23,{android:{backupInForeground:!1,bitmap:!1,buttonGravity:!1,canControlMagnification:!1,canPerformGestures:!1,canRecord:!1,collapseIcon:!1,contentInsetEndWithActions:!1,contentInsetStartWithNavigation:!1,contextPopupMenuStyle:!1,countDown:!1,defaultHeight:!1,defaultToDeviceProtectedStorage:!1,defaultWidth:!1,directBootAware:!1,enableVrMode:!1,endX:!1,endY:!1,externalService:!1,fillType:!1,forceHasOverlappingRendering:!1,hotSpotX:!1,hotSpotY:!1,languageTag:!1,level:!1,listMenuViewStyle:!1,maxButtonHeight:!1,networkSecurityConfig:!1,numberPickerStyle:!1,offset:!1,pointerIcon:!1,popupEnterTransition:!1,popupExitTransition:!1,preferenceFragmentStyle:!1,resizeableActivity:!1,startX:!1,startY:!1,subMenuArrow:!1,supportsLocalInteraction:!1,supportsPictureInPicture:!1,textAppearancePopupMenuHeader:!1,tickMark:!1,tickMarkTint:!1,tickMarkTintMode:!1,titleMargin:!1,titleMarginBottom:!1,titleMarginEnd:!1,titleMarginStart:!1,titleMarginTop:!1,tunerCount:!1,use32bitAbi:!1,version:!1,windowBackgroundFallback:!1},app:{},customizations:{}}),a(p,22,{android:{allowUndo:!1,autoVerify:!1,breakStrategy:!1,colorBackgroundFloating:!1,contextClickable:!1,drawableTint:!1,drawableTintMode:!1,end:function(t){return S(t,"right")},extractNativeLibs:!1,fingerprintAuthDrawable:!1,fraction:!1,fullBackupContent:!1,hyphenationFrequency:!1,lockTaskMode:!1,logoDescription:!1,numbersInnerTextColor:!1,scrollIndicators:!1,showForAllUsers:!1,start:function(t){return S(t,"left")},subtitleTextColor:!1,supportsAssist:!1,supportsLaunchVoiceAssistFromKeyguard:!1,thumbPosition:!1,titleTextColor:!1,trackTint:!1,trackTintMode:!1,usesCleartextTraffic:!1,windowLightStatusBar:!1},app:{},customizations:{}}),a(p,21,{android:{accessibilityTraversalAfter:!1,accessibilityTraversalBefore:!1,collapseContentDescription:!1,dialogPreferredPadding:!1,resizeClip:!1,revisionCode:!1,searchHintIcon:!1},app:{},customizations:{}}),a(p,20,{android:{actionBarPopupTheme:!1,actionBarTheme:!1,actionModeFindDrawable:!1,actionModeShareDrawable:!1,actionModeWebSearchDrawable:!1,actionOverflowMenuStyle:!1,amPmBackgroundColor:!1,amPmTextColor:!1,ambientShadowAlpha:!1,autoRemoveFromRecents:!1,backgroundTint:!1,backgroundTintMode:!1,banner:!1,buttonBarNegativeButtonStyle:!1,buttonBarNeutralButtonStyle:!1,buttonBarPositiveButtonStyle:!1,buttonTint:!1,buttonTintMode:!1,calendarTextColor:!1,checkMarkTint:!1,checkMarkTintMode:!1,closeIcon:!1,colorAccent:!1,colorButtonNormal:!1,colorControlActivated:!1,colorControlHighlight:!1,colorControlNormal:!1,colorEdgeEffect:!1,colorPrimary:!1,colorPrimaryDark:!1,commitIcon:!1,contentAgeHint:!1,contentInsetEnd:!1,contentInsetLeft:!1,contentInsetRight:!1,contentInsetStart:!1,controlX1:!1,controlX2:!1,controlY1:!1,controlY2:!1,country:!1,datePickerDialogTheme:!1,datePickerMode:!1,dayOfWeekBackground:!1,dayOfWeekTextAppearance:!1,documentLaunchMode:!1,elegantTextHeight:!1,elevation:!1,excludeClass:!1,excludeId:!1,excludeName:!1,fastScrollStyle:!1,fillAlpha:!1,fillColor:!1,fontFeatureSettings:!1,foregroundTint:!1,foregroundTintMode:!1,fragmentAllowEnterTransitionOverlap:!1,fragmentAllowReturnTransitionOverlap:!1,fragmentEnterTransition:!1,fragmentExitTransition:!1,fragmentReenterTransition:!1,fragmentReturnTransition:!1,fragmentSharedElementEnterTransition:!1,fragmentSharedElementReturnTransition:!1,fromId:!1,fullBackupOnly:!1,goIcon:!1,headerAmPmTextAppearance:!1,headerDayOfMonthTextAppearance:!1,headerMonthTextAppearance:!1,headerTimeTextAppearance:!1,headerYearTextAppearance:!1,hideOnContentScroll:!1,indeterminateTint:!1,indeterminateTintMode:!1,inset:!1,isGame:!1,launchTaskBehindSourceAnimation:!1,launchTaskBehindTargetAnimation:!1,layout_columnWeight:!1,layout_rowWeight:!1,letterSpacing:!1,matchOrder:!1,maxRecentsv:!1,maximumAngle:!1,minimumHorizontalAngle:!1,minimumVerticalAngle:!1,multiArch:!1,navigationBarColor:!1,navigationContentDescription:!1,navigationIcon:!1,nestedScrollingEnabled:!1,numbersBackgroundColor:!1,numbersSelectorColor:!1,numbersTextColor:!1,outlineProvider:!1,overlapAnchor:!1,paddingMode:!1,pathData:!1,patternPathData:!1,persistableMode:!1,popupElevation:!1,popupTheme:!1,progressBackgroundTint:!1,progressBackgroundTintMode:!1,progressTint:!1,progressTintMode:!1,propertyXName:!1,propertyYName:!1,queryBackground:!1,recognitionService:!1,relinquishTaskIdentity:!1,reparent:!1,reparentWithOverlay:!1,restrictionType:!1,resumeWhilePausing:!1,reversible:!1,searchIcon:!1,searchViewStyle:!1,secondaryProgressTint:!1,secondaryProgressTintMode:!1,selectableItemBackgroundBorderless:!1,sessionService:!1,setupActivity:!1,showText:!1,slideEdge:!1,splitTrack:!1,spotShadowAlpha:!1,src:function(t,e,n){return n.svgElement&&(t.obj="app",t.attr="srcCompat"),!0},stackViewStyle:!1,stateListAnimator:!1,statusBarColor:!1,strokeAlpha:!1,strokeColor:!1,strokeLineCap:!1,strokeLineJoin:!1,strokeMiterLimit:!1,strokeWidth:!1,submitBackground:!1,subtitleTextAppearance:!1,suggestionRowLayout:!1,switchStyle:!1,targetName:!1,textAppearanceListItemSecondary:!1,thumbTint:!1,thumbTintMode:!1,tileModeX:!1,tileModeY:!1,timePickerDialogTheme:!1,timePickerMode:!1,timePickerStyle:!1,tintMode:!1,titleTextAppearance:!1,toId:!1,toolbarStyle:!1,touchscreenBlocksFocus:!1,transitionGroup:!1,transitionName:!1,transitionVisibilityMode:!1,translateX:!1,translateY:!1,translationZ:!1,trimPathEnd:!1,trimPathOffset:!1,trimPathStart:!1,viewportHeight:!1,viewportWidth:!1,voiceIcon:!1,windowActivityTransitions:!1,windowAllowEnterTransitionOverlap:!1,windowAllowReturnTransitionOverlap:!1,windowClipToOutline:!1,windowContentTransitionManager:!1,windowContentTransitions:!1,windowDrawsSystemBarBackgrounds:!1,windowElevation:!1,windowEnterTransition:!1,windowExitTransition:!1,windowReenterTransition:!1,windowReturnTransition:!1,windowSharedElementEnterTransition:!1,windowSharedElementExitTransition:!1,windowSharedElementReenterTransition:!1,windowSharedElementReturnTransition:!1,windowSharedElementsUseOverlay:!1,windowTransitionBackgroundFadeDuration:!1,yearListItemTextAppearance:!1,yearListSelectorColor:!1},app:{},customizations:{}}),a(p,19,{android:{allowEmbedded:!1,windowSwipeToDismiss:!1},app:{},customizations:{}}),a(p,18,{android:{accessibilityLiveRegion:!1,addPrintersActivity:!1,advancedPrintOptionsActivity:!1,apduServiceBanner:!1,autoMirrored:!1,category:!1,fadingMode:!1,fromScene:!1,isAsciiCapable:!1,keySet:!1,requireDeviceUnlock:!1,ssp:!1,sspPattern:!1,sspPrefix:!1,startDelay:!1,supportsSwitchingToNextInputMethod:!1,targetId:!1,toScene:!1,transition:!1,transitionOrdering:!1,vendor:!1,windowTranslucentNavigation:!1,windowTranslucentStatus:!1},app:{},customizations:{}}),a(p,17,{android:{canRequestEnhancedWebAccessibility:function(t,e){return e<26},canRequestFilterKeyEvents:!1,canRequestTouchExplorationMode:!1,childIndicatorEnd:!1,childIndicatorStart:!1,indicatorEnd:!1,indicatorStart:!1,layoutMode:!1,mipMap:!1,mirrorForRtl:!1,requiredAccountType:!1,requiredForAllUsers:!1,restrictedAccountType:!1,windowOverscan:!1},app:{},customizations:{}}),a(p,16,{android:{checkedTextViewStyle:!1,format12Hour:!1,format24Hour:!1,initialKeyguardLayout:!1,labelFor:!1,layoutDirection:!1,layout_alignEnd:function(t){return S(t,"layout_alignRight")},layout_alignParentEnd:function(t){return S(t,"layout_alignParentRight")},layout_alignParentStart:function(t){return S(t,"layout_alignParentLeft")},layout_alignStart:function(t){return S(t,"layout_alignLeft")},layout_marginEnd:function(t){return S(t,"layout_marginRight")},layout_marginStart:function(t){return S(t,"layout_marginLeft")},layout_toEndOf:function(t){return S(t,"layout_toRightOf")},layout_toStartOf:function(t){return S(t,"layout_toLeftOf")},listPreferredItemPaddingEnd:function(t){return S(t,"listPreferredItemPaddingRight")},listPreferredItemPaddingStart:function(t){return S(t,"listPreferredItemPaddingLeft")},paddingEnd:function(t){return S(t,"paddingRight")},paddingStart:function(t){return S(t,"paddingLeft")},permissionFlags:!1,permissionGroupFlags:!1,presentationTheme:!1,showOnLockScreen:!1,singleUser:!1,subtypeId:!1,supportsRtl:!1,textAlignment:!1,textDirection:!1,timeZone:!1,widgetCategory:!1},app:{},customizations:{}}),a(p,15,{android:{fontFamily:!1,importantForAccessibility:!1,isolatedProcess:!1,keyboardLayout:!1,mediaRouteButtonStyle:!1,mediaRouteTypes:!1,parentActivityName:!1},app:{},customizations:{}}),a(p,14,{android:{},app:{},customizations:{}}),a(p,0,{android:{},app:{},customizations:{Button:{android:{textAllCaps:"false"}}}}),p),I={android:{amPmBackgroundColor:function(t,e){return S(t,"headerBackground",e,23)},amPmTextColor:function(t,e){return S(t,"headerTextColor",e,23)},animationResolution:function(t,e){return e<16},canRequestEnhancedWebAccessibility:function(t,e){return e<26},dayOfWeekBackground:function(t,e){return e<23},dayOfWeekTextAppearance:function(t,e){return e<23},directionDescriptions:function(t,e){return e<23},headerAmPmTextAppearance:function(t,e){return S(t,"headerTextColor",e,23)},headerDayOfMonthTextAppearance:function(t,e){return S(t,"headerTextColor",e,23)},headerMonthTextAppearance:function(t,e){return S(t,"headerTextColor",e,23)},headerTimeTextAppearance:function(t,e){return S(t,"headerTextColor",e,23)},headerYearTextAppearance:function(t,e){return S(t,"headerTextColor",e,23)},showOnLockScreen:function(t,e){return S(t,"showForAllUsers",e,23)},targetDescriptions:function(t,e){return e<23},yearListItemTextAppearance:function(t,e){return S(t,"yearListTextColor",e,23)},yearListSelectorColor:function(t,e){return e<23}}},_={builtInExtensions:["androme.external","android.delegate.fixed","android.delegate.max-width-height","android.delegate.percent","android.delegate.radiogroup","android.delegate.scrollbar","androme.substitute","androme.sprite","androme.css-grid","androme.flexbox","androme.table","androme.list","androme.grid","androme.relative","androme.verticalalign","androme.whitespace","androme.accessibility","android.constraint.guideline","android.resource.includes","android.resource.background","android.resource.svg","android.resource.strings","android.resource.fonts","android.resource.dimens","android.resource.styles"],targetAPI:26,resolutionDPI:160,supportRTL:!0,preloadImages:!0,ellipsisOnTextOverflow:!0,supportNegativeLeftTop:!0,floatOverlapDisabled:!1,collapseUnattributedElements:!0,customizationsOverwritePrivilege:!0,showAttributes:!0,convertPixels:"dp",insertSpaces:4,handleExtensionsAsync:!0,autoCloseOnWrite:!0,outputDirectory:"app/src/main",outputMainFileName:"activity_main.xml",outputArchiveFileType:"zip",outputMaxProcessingTime:30},k='<?xml version="1.0" encoding="utf-8"?>\n{:0}',C=androme.lib.base.SvgPath,P=androme.lib.color,N=androme.lib.constant,O=androme.lib.dom,L=androme.lib.util,B=androme.lib.svg,D=androme.lib.xml;function M(t){return t?t.opaque?t.valueARGB:t.valueRGB:""}function X(t){return L.isPercent(t)?parseInt(t)/100:.5}var z=function(n){function a(){return e(this,a),d(this,o(a).apply(this,arguments))}return i(a,androme.lib.base.Resource),r(a,[{key:"addStyleTheme",value:function(t,e,n){if(n.items&&L.isArray(e.items)&&this.application){var r=a.formatOptions(n.items,this.application.extensionManager.optionValueAsBoolean(m.RESOURCE_STRINGS,"numberResourceValue"));for(var i in r)e.items.push({name:i,value:r[i]})}var o=D.createTemplate(D.parseTemplate(t),e);this.fileHandler&&this.fileHandler.addAsset(n.output.path,n.output.file,o)}},{key:"userSettings",get:function(){return this.application.userSettings}}],[{key:"createBackgroundGradient",value:function(t,e,n){for(var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=[],o=t.svgElement||e.some(function(t){return t.colorStop.filter(function(t){return parseInt(t.offset)>0}).length>0}),l=Array.isArray(d=e),s=0,d=l?d:d[Symbol.iterator]();;){var c;if(l){if(s>=d.length)break;c=d[s++]}else{if((s=d.next()).done)break;c=s.value}var u=c,f={type:u.type,startColor:o?"":a.addColor(u.colorStop[0].color),centerColor:!o&&u.colorStop.length>2?a.addColor(u.colorStop[1].color):"",endColor:o?"":a.addColor(u.colorStop[u.colorStop.length-1].color),colorStop:[]};switch(u.type){case"radial":if(t.svgElement)n&&function(){var t=u,e=[],r=void 0,a=void 0,i=void 0,o=void 0;switch(n.element.tagName){case"path":if(n.d.split(" ").map(function(t){return t.replace(/[^-\d.,]/g,"").trim()}).forEach(function(t){if(""!==t){var n=t.split(",").map(function(t){return L.convertFloat(t)});n.length>=2&&(e.push({x:n[0],y:n[1]}),n.length>=4&&e.push({x:n[n.length-2],y:n[n.length-1]}))}}),!e.length)break;case"polygon":n.element instanceof SVGPolygonElement&&e.push.apply(e,h(C.toPoints(n.element.points))),r=L.minArray(e.map(function(t){return t.x})),a=L.minArray(e.map(function(t){return t.y})),i=L.maxArray(e.map(function(t){return t.x}))-r,o=L.maxArray(e.map(function(t){return t.y}))-a;break;case"rect":var l=n.element;r=l.x.baseVal.value,a=l.y.baseVal.value,i=l.width.baseVal.value,o=l.height.baseVal.value;break;case"circle":var s=n.element;r=s.cx.baseVal.value-s.r.baseVal.value,a=s.cy.baseVal.value-s.r.baseVal.value,o=i=2*s.r.baseVal.value;break;case"ellipse":var d=n.element;r=d.cx.baseVal.value-d.rx.baseVal.value,a=d.cy.baseVal.value-d.ry.baseVal.value,i=2*d.rx.baseVal.value,o=2*d.ry.baseVal.value}if(void 0!==r&&void 0!==a&&void 0!==i&&void 0!==o){var c=X(t.cxAsString),p=X(t.cyAsString);f.centerX=""+(r+i*c),f.centerY=""+(a+o*p),f.gradientRadius=""+(i+o)/2*(L.isPercent(t.rAsString)?parseInt(t.rAsString)/100:1)}}();else{var p=void 0;u.shapePosition&&u.shapePosition.length>1&&(p=O.getBackgroundPosition(u.shapePosition[1],t.bounds,t.dpi,t.fontSize,!0,!o)),o?(f.gradientRadius=""+t.bounds.width,p&&(f.centerX=""+p.left,f.centerY=""+p.top)):(f.gradientRadius=L.formatPX(t.bounds.width),p&&(f.centerX=L.convertPercent(p.left),f.centerY=L.convertPercent(p.top)))}break;case"linear":if(t.svgElement){var g=u;f.startX=""+g.x1,f.startY=""+g.y1,f.endX=""+g.x2,f.endY=""+g.y2}else{var m=u;if(void 0!==m.angle)if(o){var v=Math.round(t.bounds.width/2),y=Math.round(t.bounds.height/2);f.startX=""+Math.round(B.getRadiusX(m.angle+180,v)+v),f.startY=""+Math.round(B.getRadiusY(m.angle+180,y)+y),f.endX=""+Math.round(B.getRadiusX(m.angle,v)+v),f.endY=""+Math.round(B.getRadiusY(m.angle,y)+y)}else f.angle=""+45*Math.floor(m.angle/45)}}if(o)for(var b=0;b<u.colorStop.length;b++){var E=u.colorStop[b],w=r?"@color/".concat(a.addColor(E.color)):M(P.parseRGBA(E.color)),T=parseInt(E.offset);0===b?t.svgElement||0===T||f.colorStop.push({color:w,offset:"0",opacity:E.opacity}):0===T&&(T=b<u.colorStop.length-1?Math.round((parseInt(u.colorStop[b-1].offset)+parseInt(u.colorStop[b+1].offset))/2):100),f.colorStop.push({color:w,offset:(T/100).toFixed(2),opacity:E.opacity})}i.push(f)}return i}},{key:"formatOptions",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var r in e)if(e.hasOwnProperty(r)){var a=e[r];if("object"===t(a))for(var i in a)if(a.hasOwnProperty(i)){var o=""+a[i];switch(i){case"text":if(!o.startsWith("@string/")&&""!==(o=this.addString(o,"",n))){a[i]="@string/".concat(o);continue}break;case"src":case"srcCompat":if(N.REGEX_PATTERN.URI.test(o)&&""!==(o=this.addImage({mdpi:o}))){a[i]="@drawable/".concat(o);continue}}var l=P.parseRGBA(o);if(l){var s=this.addColor(l);""!==s&&(a[i]="@color/".concat(s))}}}return e}},{key:"getOptionArray",value:function(t){for(var e=[],n=[],r=-1;++r<t.children.length;){var a=t.children[r].text.trim();if(""!==a)if(n&&0===e.length&&L.isNumber(a))n.push(a);else{if(n&&n.length){r=-1,n=null;continue}""!==a&&e.push(D.replaceEntity(a))}}return[e.length?e:null,n&&n.length?n:null]}},{key:"addString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(""!==t){""===e&&(e=t.trim());var r=L.isNumber(t);if(!r||n){var i=a.STORED.strings.entries(),o=Array.isArray(i),l=0;for(i=o?i:i[Symbol.iterator]();;){var s;if(o){if(l>=i.length)break;s=i[l++]}else{if((l=i.next()).done)break;s=l.value}var d=u(s,2);if(d[1]===t)return d[0]}e=e.toLowerCase().replace(/[^a-z\d]/g,"_").replace(/_+/g,"_").split("_").slice(0,4).join("_").replace(/_+$/g,""),r||/^\d/.test(e)||x.includes(e)?e="__".concat(e):""===e&&(e="__symbol".concat(Math.ceil(1e5*Math.random()))),a.STORED.strings.has(e)&&(e=a.generateId("string",e,1)),a.STORED.strings.set(e,t)}return e}return""}},{key:"addImageSrcSet",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={},r=t.srcset.trim();if(""!==r){var a=t.src.substring(0,t.src.lastIndexOf("/")+1);r.split(",").forEach(function(t){var e=/^(.*?)\s*(\d+\.?\d*x)?$/.exec(t.trim());if(e){L.hasValue(e[2])||(e[2]="1x");var r=a+L.lastIndexOf(e[1]);switch(e[2]){case"0.75x":n.ldpi=r;break;case"1x":n.mdpi=r;break;case"1.5x":n.hdpi=r;break;case"2x":n.xhdpi=r;break;case"3x":n.xxhdpi=r;break;case"4x":n.xxxhdpi=r}}})}return void 0===n.mdpi&&(n.mdpi=t.src),this.addImage(n,e)}},{key:"addImage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";if(t&&t.mdpi){n=L.lastIndexOf(t.mdpi);var r=L.lastIndexOf(n,".").toLowerCase();switch(n=n.replace(/.\w+$/,"").replace(/-/g,"_"),r){case"bmp":case"cur":case"gif":case"ico":case"jpg":case"png":n=a.insertStoredAsset("images",e+n,t);break;default:n=""}}return n}},{key:"addImageUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=O.cssResolveUrl(t);return""!==n?this.addImage({mdpi:n},e):""}},{key:"addColor",value:function(t){if("string"==typeof t&&(t=P.parseRGBA(t)),t&&"#00000000"!==t.valueRGBA){var e=M(t),n=a.STORED.colors.get(e)||"";if(""===n){var r=P.getColorByShade(t.valueRGB);r&&(r.name=L.convertUnderscore(r.name),n=t.opaque||r.hex!==t.valueRGB?a.generateId("color",r.name,1):r.name,a.STORED.colors.set(e,n))}return n}return""}}]),a}(),H=androme.lib.util,G=androme.lib.xml;function W(t){return t?t.replace(/@\+?id\//,""):""}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({android:{},app:{}},e&&"object"===t(e)?e:{})}function F(t){return t?t.trim().replace(/[^\w$\-_.]/g,"_"):""}function U(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t){var r=parseFloat(t);if(!isNaN(r))return(t=(r/=e/160)>=1||0===r?""+Math.floor(r):r.toFixed(2))+(n?"sp":"dp")}return"0dp"}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return"dp"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dp")||n?t.replace(/([">])(-)?(\d+(?:\.\d+)?px)(["<])/g,function(t){return(arguments.length<=1?void 0:arguments[1])+((arguments.length<=2?void 0:arguments[2])||"")+U(arguments.length<=3?void 0:arguments[3],e,n)+(arguments.length<=4?void 0:arguments[4])}):t}function Y(t){return G.replaceTab(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}function Z(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return 0===t?0:0===e?1:parseFloat(Math.max(t/(t+e),0).toFixed(n))}function K(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:26;return t=t?t.trim():"",e&&n>=17&&(t=(t=t.replace(/left/g,"start").replace(/right/g,"end")).replace(/Left/g,"Start").replace(/Right/g,"End")),t}function q(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return H.flatMap(e,function(t){return T[t]?"xmlns:".concat(t,'="').concat(T[t],'"'):""}).join(" ")}var $=Object.freeze({stripId:W,createAttribute:V,validateString:F,convertUnit:U,replaceUnit:j,replaceTab:Y,calculateBias:Z,replaceRTL:K,getXmlNs:q}),J=androme.lib.base.NodeList,Q=androme.lib.base.Resource,tt=androme.lib.dom,et=androme.lib.enumeration,nt=androme.lib.util;function rt(t,e){var n=e-(t.hasHeight?t.height:t.bounds.height);n>0&&(t.modifyBox(2,Math.floor(n/2)-(t.inlineVertical?nt.convertInt(t.verticalAlign):0)),t.modifyBox(8,Math.ceil(n/2)))}var at=function(n){return function(a){function l(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return e(this,l),(t=d(this,o(l).call(this,n,r))).renderChildren=[],t.constraint={horizontal:!1,vertical:!1,current:{}},t._namespaces=new Set(["android","app"]),t._controlName="",t._fontSize=0,t._boxAdjustment=tt.newBoxModel(),t._boxReset=tt.newBoxModel(),t._containerType=0,t._localSettings={targetAPI:0,resolutionDPI:160,supportRTL:!1},t.__android={},t.__app={},a&&a(s(s(t))),t}return i(l,n),r(l,[{key:"attr",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a={};return this.supported(t,e,a)?(Object.keys(a).length&&(nt.isString(a.obj)&&(t=a.obj),nt.isString(a.attr)&&(e=a.attr),nt.isString(a.value)&&(n=a.value),"boolean"==typeof a.overwrite&&(r=a.overwrite)),c(o(l.prototype),"attr",this).call(this,t,e,n,r)):""}},{key:"android",value:function(t){return this.attr("android",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),this.__android[t]||""}},{key:"app",value:function(t){return this.attr("app",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),this.__app[t]||""}},{key:"apply",value:function(e){if("object"===t(e)){var n=Object.assign({},e);for(var r in c(o(l.prototype),"apply",this).call(this,n),n)this.formatted("".concat(r,'="').concat(n[r],'"'))}}},{key:"formatted",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.match(/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/);n&&this.attr(n[1]||"_",n[2],n[3],e)}},{key:"anchor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=this.renderParent;if(r)if(r.layoutConstraint){if(void 0===e||void 0===this.constraint.current[t]||n){e&&void 0===n&&(n="parent"===e);var a=w.constraint[t];if(a){if(this.app(this.localizeString(a),e,n),"parent"===e)switch(t){case"left":case"right":this.constraint.horizontal=!0;break;case"top":case"bottom":case"baseline":this.constraint.vertical=!0}return this.constraint.current[t]={documentId:e,horizontal:-1!==nt.indexOf(t.toLowerCase(),"left","right")},!0}}}else if(r.layoutRelative){return e&&void 0===n&&(n="true"===e),this.android(this.localizeString(w["true"===e?"relativeParent":"relative"][t]),e,n),!0}return!1}},{key:"anchorParent",value:function(t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.renderParent;if(n){var r=t===E.HORIZONTAL;if(n.layoutConstraint){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.constraint[t])return this.anchor(r?"left":"top","parent"),this.anchor(r?"right":"bottom","parent"),this.constraint[t]=!0,e&&this.app("layout_constraint".concat(nt.capitalize(t),"_bias"),this["".concat(t,"Bias")]),!0}else if(n.layoutRelative)return this.anchor(r?"left":"top","true"),this.anchor(r?"right":"bottom","true"),!0}return!1}},{key:"anchorDelete",value:function(){var t=this,e=this.renderParent;if(e){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];if(e.layoutConstraint)this.delete.apply(this,["app"].concat(h(r.map(function(e){return t.localizeString(w.constraint[e])}))));else if(e.layoutRelative)for(var i=0;i<r.length;i++){var o=r[i];this.alignSibling(o)?this.delete("android",w.relative[o],this.localizeString(w.relative[o])):w.relativeParent[o]&&this.delete("android",this.localizeString(w.relativeParent[o]))}}}},{key:"anchorClear",value:function(){var t=this.renderParent;t&&(t.layoutConstraint?this.anchorDelete.apply(this,h(Object.keys(w.constraint))):t.layoutRelative&&(this.anchorDelete.apply(this,h(Object.keys(w.relativeParent))),this.anchorDelete.apply(this,h(Object.keys(w.relative)))))}},{key:"alignParent",value:function(t){var e=this.renderParent;if(e)if(e.layoutConstraint){var n=w.constraint[t];if(n)return"parent"===this.app(this.localizeString(n))||"parent"===this.app(n)}else if(e.layoutRelative){var r=w.relativeParent[t];if(r)return"true"===this.android(this.localizeString(r))||"true"===this.android(r)}return!1}},{key:"alignSibling",value:function(t){var e=this.renderParent;if(e){if(e.layoutConstraint){var n=w.constraint[t],r=this.app(this.localizeString(n))||this.app(n);return""!==r&&"parent"!==r&&r!==e.documentId}if(e.layoutRelative){var a=w.relative[t];return""!==(this.android(this.localizeString(a))||this.android(a))}}return!1}},{key:"horizontalBias",value:function(){var t=this.documentParent;return t!==this?Z(Math.max(0,this.linear.left-t.box.left),Math.max(0,t.box.right-this.linear.right),this.localSettings.constraintPercentAccuracy):.5}},{key:"verticalBias",value:function(){var t=this.documentParent;return t!==this?Z(Math.max(0,this.linear.top-t.box.top),Math.max(0,t.box.bottom-this.linear.bottom),this.localSettings.constraintPercentAccuracy):.5}},{key:"supported",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.localSettings.targetAPI>0&&this.localSettings.targetAPI<28){var r=I[t];if(r&&"function"==typeof r[e]){var a=r[e](n,this.localSettings.targetAPI,this);if(!a||Object.keys(n).length)return a}for(var i=this.localSettings.targetAPI;i<=28;i++){var o=R[i];if(o&&o[t]&&void 0!==o[t][e]){var l=o[t][e];if("boolean"==typeof l)return l;if("function"==typeof l)return l(n,this.localSettings.targetAPI,this)}}}return!0}},{key:"combine",value:function(){for(var t=[],e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=this._namespaces.values(),i=Array.isArray(a),o=0;for(a=i?a:a[Symbol.iterator]();;){var l;if(i){if(o>=a.length)break;l=a[o++]}else{if((o=a.next()).done)break;l=o.value}var s=l,d=this["__".concat(s)];if(0===n.length||n.includes(s))for(var c in d)t.push("_"!==s?"".concat(s,":").concat(c,'="').concat(d[c],'"'):"".concat(c,'="').concat(d[c],'"'))}return t.sort(function(t,e){return t.startsWith("android:id=")?-1:e.startsWith("android:id=")?1:t>e?1:-1})}},{key:"localizeString",value:function(t){return this.hasBit("excludeProcedure",et.NODE_PROCEDURE.LOCALIZATION)?t:K(t,this.localSettings.supportRTL,this.localSettings.targetAPI)}},{key:"hide",value:function(t){t?this.android("visibility","invisible"):c(o(l.prototype),"hide",this).call(this)}},{key:"clone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new l(t||this.id,this.baseElement);if(Object.assign(r.localSettings,this.localSettings),r.tagName=this.tagName,t?r.setControlType(this.controlName,this.containerType):(r.controlId=this.controlId,r.controlName=this.controlName,r.containerType=this.containerType),r.alignmentType=this.alignmentType,r.depth=this.depth,r.visible=this.visible,r.excluded=this.excluded,r.rendered=this.rendered,r.renderDepth=this.renderDepth,r.renderParent=this.renderParent,r.documentParent=this.documentParent,r.documentRoot=this.documentRoot,this.length&&r.retain(this.duplicate()),e){Object.assign(r.unsafe("boxReset"),this._boxReset),Object.assign(r.unsafe("boxAdjustment"),this._boxAdjustment);var a=this._namespaces.values(),i=Array.isArray(a),o=0;for(a=i?a:a[Symbol.iterator]();;){var s;if(i){if(o>=a.length)break;s=a[o++]}else{if((o=a.next()).done)break;s=o.value}var d=s,c=this["__".concat(d)];for(var u in c)r.attr(d,u,"android"===d&&"id"===u?r.documentId:c[u])}}return n&&(r.anchorClear(),r.anchor("left",this.documentId)&&(Object.assign(r.unsafe("boxReset"),{marginLeft:1}),Object.assign(r.unsafe("boxAdjustment"),{marginLeft:0})),r.anchor("top",this.documentId)&&(Object.assign(r.unsafe("boxReset"),{marginTop:1}),Object.assign(r.unsafe("boxAdjustment"),{marginTop:0}))),r.inherit(this,"initial","base","alignment","styleMap"),Object.assign(r.unsafe("cached"),this.unsafe("cached")),r}},{key:"setControlType",value:function(t,e){if(e)this.containerType=e;else if(0===this.containerType)for(var n in v)if(v[n]===t){for(var r in f)if(f[f[r]]===n){this.containerType=f[r];break}break}if(this.controlName=t,""!==this.android("id")&&(this.controlId=W(this.android("id"))),""===this.controlId){var a=this.baseElement,i="";a&&("parent"===(i=F(a.id||a.name))||x.includes(i))&&(i="_".concat(i)),this.controlId=nt.convertWord(Q.generateId("android",i||nt.lastIndexOf(this.controlName,".").toLowerCase(),i?0:1)),this.android("id",this.documentId)}}},{key:"setLayout",value:function(){var t=this,e=this.absoluteParent,n=this.renderParent,r=this.renderChildren;this.documentBody&&(!this.hasWidth&&r.some(function(t){return t.alignParent("right")})&&this.android("layout_width","match_parent",!1),!this.hasHeight&&r.some(function(t){return t.alignParent("bottom")})&&this.android("layout_height","match_parent",!1));var a=!1;if(!this.android("layout_width")&&(!this.inlineStatic&&this.has("width")||this.toInt("width")>0&&!this.cssInitial("width"))){var i=this.css("width");if(nt.isUnit(i)){var o=n?nt.convertInt(n.android("layout_width")):0,l=this.convertPX(i);e===n&&o>0&&nt.convertInt(l)>=o?this.android("layout_width","match_parent"):this.android("layout_width",l),a=!0}else nt.isPercent(i)&&(n&&n.is(f.GRID)?(this.android("layout_width","0px",!1),this.android("layout_columnWeight",(parseInt(i)/100).toFixed(2),!1)):this.android("layout_width","100%"===i?"match_parent":this.convertPercent(i,!0)),a=!0)}if(this.has("minWidth")&&!this.constraint.minWidth){var s=this.convertPX(this.css("minWidth"));this.android("layout_width","wrap_content",!1),this.android("minWidth",s,!1),a=!0}if(!a)if(this.plainText)this.android("layout_width",n&&this.bounds.width>n.box.width&&this.multiLine&&this.alignParent("left")?"match_parent":"wrap_content",!1);else if(r.filter(function(t){return(t.inlineStatic||nt.isUnit(t.cssInitial("width")))&&!t.autoMargin.horizontal}).some(function(e){return Math.ceil(e.bounds.width)>=t.box.width}))this.android("layout_width","wrap_content",!1);else if(this.flexElement&&n&&n.hasWidth||!this.documentRoot&&r.some(function(t){return t.layoutVertical&&!t.hasWidth&&!t.floating&&!t.autoMargin.horizontal})||this.layoutFrame&&(2===J.floated(r).size||r.some(function(t){return t.blockStatic&&(t.autoMargin.leftRight||t.rightAligned)})))this.android("layout_width","match_parent",!1);else{(!(this.containerType<f.INLINE||!this.pageFlow||this.inlineFlow||this.tableElement||this.flexElement||!!e&&e.flexElement||!!e&&e.gridElement||!!n&&n.is(f.GRID))||this.blockStatic&&!this.has("maxWidth"))&&(e&&this.linear.width>=e.box.width||this.layoutVertical&&!this.autoMargin.horizontal||this.htmlElement&&this.blockStatic&&(this.documentBody||e&&(e.documentBody||e.blockStatic&&(this.singleChild||this.alignedVertically(this.previousSiblings()))))||this.groupParent&&r.some(function(e){return!(e.plainText&&e.multiLine)&&e.linear.width>=t.documentParent.box.width}))?this.android("layout_width","match_parent",!1):this.android("layout_width","wrap_content",!1)}var d=!1;if(!this.android("layout_height")&&(!this.inlineStatic&&this.has("height")||this.toInt("height")>0&&!this.cssInitial("height"))){var c=this.css("height");if(nt.isUnit(c)){var u=this.convertPX(c,!1);this.android("layout_height","hidden"===this.css("overflow")&&parseInt(u)<Math.floor(this.box.height)?"wrap_content":u),d=!0}else nt.isPercent(c)&&(this.android("layout_height","100%"===c?"match_parent":nt.formatPX(Math.ceil(this.bounds.height)-this.contentBoxHeight)),d=!0)}if(this.has("minHeight")&&!this.constraint.minHeight){var h=this.convertPX(this.css("minHeight"),!1);this.android("layout_height","wrap_content",!1),this.android("minHeight",h,!1),d=!0}d||this.android("layout_height","wrap_content",!1)}},{key:"setAlignment",value:function(){var t=this.renderParent;if(t){var e=function(t){if(!t.blockWidth){var e=[];if(t.autoMargin.leftRight?e.push("center_horizontal"):t.autoMargin.left?e.push(a):t.autoMargin.right&&e.push(r),t.autoMargin.topBottom?e.push("center_vertical"):t.autoMargin.top?e.push("bottom"):t.autoMargin.bottom&&e.push("top"),e.length)return t.mergeGravity.apply(t,[t.blockWidth?"gravity":"layout_gravity"].concat(e)),!0}return!1},n=function(t){switch(t){case"left":case"start":return r;case"right":case"end":return a;case"center":return"center_horizontal";default:return""}},r=this.localizeString("left"),a=this.localizeString("right"),i=this.cssInitial("textAlign",!0)||"";if(this.pageFlow){var o="";if(this.inlineVertical&&(t.layoutHorizontal&&!t.support.container.positionRelative||t.is(f.GRID))){var l="table-cell"===this.display?"gravity":"layout_gravity";switch(this.cssInitial("verticalAlign",!0)){case"top":this.mergeGravity(l,"top");break;case"middle":this.mergeGravity(l,"center_vertical");break;case"bottom":this.mergeGravity(l,"bottom")}}!this.blockWidth&&(t.layoutVertical||this.documentRoot&&(this.layoutVertical||this.layoutFrame))&&(this.floating?this.mergeGravity("layout_gravity","right"===this.float?a:r):e(this)),this.hasAlign(64)&&(this.hasAlign(512)||this.renderChildren.length&&this.renderChildren.every(function(t){return t.rightAligned})?o=a:this.groupParent&&!this.renderChildren.some(function(t){return"right"===t.float})&&(o=r)),t.layoutFrame&&!e(this)&&""!==(o=this.floating?this.float:o)&&(t.inlineWidth||this.singleChild&&!t.documentRoot)&&t.mergeGravity("layout_gravity",o),""!==o&&(this.blockWidth?""!==i&&o!==a||(i=o):this.mergeGravity("layout_gravity",o))}var s=this.cssParent("textAlign");""!==s&&this.localizeString(s)!==r&&(!t.layoutFrame||!this.pageFlow||this.floating||this.autoMargin.horizontal||this.blockWidth||this.mergeGravity("layout_gravity",n(s)),this.imageElement||""!==i||(i=s)),this.layoutConstraint||this.mergeGravity("gravity",n(i))}}},{key:"mergeGravity",value:function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=new Set(h(this.android(t).split("|")).concat(r).filter(function(t){return""!==t.trim()}).map(function(t){return e.localizeString(t)})),o="";switch(i.size){case 0:break;case 1:o=i.values().next().value;default:var l="",s="",d="";["center","fill"].forEach(function(t){var e="".concat(t,"_horizontal"),n="".concat(t,"_vertical");(i.has(t)||i.has(e)&&i.has(n))&&(i.delete(e),i.delete(n),i.add(t))});var c=i.values(),u=Array.isArray(c),f=0;for(c=u?c:c[Symbol.iterator]();;){var p;if(u){if(f>=c.length)break;p=c[f++]}else{if((f=c.next()).done)break;p=f.value}var g=p;switch(g){case"left":case"start":case"right":case"end":case"center_horizontal":l=g;break;case"top":case"bottom":case"center_vertical":s=g;break;default:d+=(""!==d?"|":"")+g}}var m=[l,s].filter(function(t){return t}).join("|");o=m+(""!==d?(""!==m?"|":"")+d:"")}return""!==o?this.android(t,o):(this.delete("android",t),"")}},{key:"applyOptimizations",value:function(){if(this.renderParent)switch(this.autoSizeBoxModel(),this.alignHorizontalLayout(),this.alignVerticalLayout(),this.cssParent("visibility",!0)){case"hidden":case"collapse":this.hide(!0)}}},{key:"applyCustomizations",value:function(){for(var t=[R[0],R[this.localSettings.targetAPI]],e=0;e<t.length;e++){var n=t[e];if(n&&n.customizations)for(var r=[this.tagName,this.controlName],a=0;a<r.length;a++){var i=n.customizations[r[a]];if(i)for(var o in i)for(var l in i[o])this.attr(o,l,i[o][l],this.localSettings.customizationsOverwritePrivilege)}}}},{key:"setBoxSpacing",value:function(){var t=this,e={marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};["margin","padding"].forEach(function(n,r){["Top","Left","Right","Bottom"].forEach(function(r){var a=n+r,i=0;"marginRight"===a&&t.inline&&t.bounds.right>=t.documentParent.box.right||(i+=0===t._boxReset[a]?t[a]:0),e[a]=i+=t._boxAdjustment[a]});var a,i,o,l=0===r?"layout_margin":"padding",s="".concat(n,"Top"),d="".concat(n,"Right"),c="".concat(n,"Bottom"),u="".concat(n,"Left"),h=t.localizeString("Left"),p=t.localizeString("Right"),g=t.renderParent;!t.supported("android","layout_marginHorizontal")||0===r&&g&&g.is(f.GRID)||(e[s]===e[d]&&e[d]===e[c]&&e[c]===e[u]?a=e[s]:(e[u]===e[d]&&(i=e[u]),e[s]===e[c]&&(o=e[s]))),void 0!==a?0!==a&&t.android(l,nt.formatPX(a)):(void 0!==i?0!==i&&t.android("".concat(l,"Horizontal"),nt.formatPX(i)):(0!==e[u]&&t.android(l+h,nt.formatPX(e[u])),0!==e[d]&&t.android(l+p,nt.formatPX(e[d]))),void 0!==o?0!==o&&t.android("".concat(l,"Vertical"),nt.formatPX(o)):(0!==e[s]&&t.android("".concat(l,"Top"),nt.formatPX(e[s])),0!==e[c]&&t.android("".concat(l,"Bottom"),nt.formatPX(e[c]))))})}},{key:"autoSizeBoxModel",value:function(){if(!this.hasBit("excludeProcedure",et.NODE_PROCEDURE.AUTOFIT)){var t=this.renderParent,e=nt.convertInt(this.android("layout_width")),n=nt.convertInt(this.android("layout_height"));if(this.is(f.BUTTON)&&0===n)this.has("minHeight")||this.android("layout_height",nt.formatPX(this.bounds.height+("outset"===this.css("borderStyle")?nt.convertInt(this.css("borderWidth")):0)));else if(this.is(f.LINE))"HR"!==this.element.tagName&&n>0&&this.toInt("height",!0)>0&&this.android("layout_height",nt.formatPX(n+this.borderTopWidth+this.borderBottomWidth));else if(t){var r=!1;this.tableElement?r="content-box"===this.css("boxSizing")||tt.isUserAgent(24):this.styleElement&&!this.hasBit("excludeResource",et.NODE_RESOURCE.BOX_SPACING)&&("border-box"===this.css("boxSizing")||t.tableElement||(e>0&&this.toInt("width",!this.imageElement)>0&&this.contentBoxWidth>0?this.android("layout_width",nt.formatPX(e+this.contentBoxWidth)):this.imageElement&&this.singleChild&&(e=nt.convertInt(t.android("layout_width")))>0&&t.android("layout_width",nt.formatPX(e+this.marginLeft+this.contentBoxWidth)),n>0&&this.toInt("height",!this.imageElement)>0&&this.contentBoxHeight>0?this.android("layout_height",nt.formatPX(n+this.contentBoxHeight)):this.imageElement&&this.singleChild&&(n=nt.convertInt(t.android("layout_height")))>0&&t.android("layout_height",nt.formatPX(n+this.marginTop+this.contentBoxHeight))),r=!0),r&&this.visibleStyle.borderWidth&&(this.modifyBox(256,this.borderLeftWidth),this.modifyBox(64,this.borderRightWidth),this.modifyBox(32,this.borderTopWidth),this.modifyBox(128,this.borderBottomWidth))}}}},{key:"alignHorizontalLayout",value:function(){if(this.layoutHorizontal){if(this.layoutLinear){var t,e=this.renderChildren;e.some(function(t){return t.floating})&&!e.some(function(t){return t.imageElement&&t.baseline})?this.android("baselineAligned","false"):(t=J.baseline(e.filter(function(t){return t.baseline&&!t.layoutRelative&&!t.layoutConstraint}),!0)[0])&&this.android("baselineAlignedChildIndex",""+e.indexOf(t));var n=Math.max(this.lineHeight,nt.maxArray(this.renderChildren.map(function(t){return t.lineHeight})));n>0&&rt(this,n)}if(!this.hasAlign(4096)&&!this.hasAlign(512)&&!this.visibleStyle.background){var r=this.find(function(t){return"left"===t.float})||this.renderChildren[0];if(r&&r.marginLeft<0){var a=Math.abs(r.marginLeft);a===this.marginLeft?(this.modifyBox(16,null),r.modifyBox(16,null)):a<this.marginLeft?(this.modifyBox(16,r.marginLeft),r.modifyBox(16,null)):(this.modifyBox(16,null),r.modifyBox(16,this.marginLeft))}}}}},{key:"alignVerticalLayout",value:function(){var t,e,n=this,r=this.renderParent;if(r&&!r.layoutHorizontal){var a=this.lineHeight;if(a){0===this.length?this.layoutHorizontal||(this.inlineStatic&&this.visibleStyle.background?rt(this,a):(t=n.android("minHeight"),e=a+n.contentBoxHeight,nt.convertInt(t)<e&&(n.android("minHeight",nt.formatPX(e)),n.mergeGravity("gravity","center_vertical")))):this.layoutVertical&&this.each(function(t){return!t.layoutHorizontal&&rt(t,a)},!0)}}}},{key:"documentId",get:function(){return this.controlId?"@+id/".concat(this.controlId):""}},{key:"anchored",set:function(t){this.constraint.horizontal=t,this.constraint.vertical=t},get:function(){return this.constraint.horizontal&&this.constraint.vertical}},{key:"containerType",set:function(t){this._containerType=t},get:function(){if(0===this._containerType){var t=y[this.tagName]||0;0!==t&&(this._containerType=t)}return this._containerType||0}},{key:"layoutFrame",get:function(){return this.is(f.FRAME)}},{key:"layoutLinear",get:function(){return this.is(f.LINEAR)}},{key:"layoutRelative",get:function(){return this.is(f.RELATIVE)}},{key:"layoutConstraint",get:function(){return this.is(f.CONSTRAINT)}},{key:"support",get:function(){return{container:{positionRelative:this.layoutRelative||this.layoutConstraint}}}},{key:"inlineWidth",get:function(){return"wrap_content"===this.android("layout_width")}},{key:"inlineHeight",get:function(){return"wrap_content"===this.android("layout_height")}},{key:"blockWidth",get:function(){return"match_parent"===this.android("layout_width")}},{key:"blockHeight",get:function(){return"match_parent"===this.android("layout_height")}},{key:"singleChild",get:function(){return this.renderParent?1===this.renderParent.length:!(!this.parent||0===this.parent.id)&&1===this.parent.length}},{key:"dpi",get:function(){return this.localSettings.resolutionDPI}},{key:"fontSize",get:function(){return 0===this._fontSize&&(this._fontSize=parseInt(nt.convertPX(this.css("fontSize"),this.dpi,0))||16),this._fontSize}},{key:"localSettings",set:function(t){Object.assign(this._localSettings,t)},get:function(){return this._localSettings}}],[{key:"documentBody",value:function(){if(void 0===l._documentBody){var t=new l(0,document.body);t.hide(),t.setBounds(),l._documentBody=t}return l._documentBody}},{key:"getCustomizationValue",value:function(t,e,n,r){for(var a=[R[t],R[0]],i=0;i<a.length;i++){var o=nt.optionalAsString(a[i],"customizations.".concat(e,".").concat(n,".").concat(r));if(nt.isString(o))return o}return""}},{key:"getControlName",value:function(t){return v[f[t]]}}]),l}()},it=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,at(androme.lib.base.Node)),n}(),ot=function(t){function n(t,r,a,i){var l;return e(this,n),(l=d(this,o(n).call(this,t,void 0,i))).tagName="".concat(r.tagName,"_GROUP"),l.documentParent=r.documentParent,l.retain(a),l}return i(n,at(androme.lib.base.NodeGroup)),n}(),lt=androme.lib.base.NodeList,st=androme.lib.color,dt=androme.lib.dom,ct=androme.lib.enumeration,ut=androme.lib.util,ht=androme.lib.xml;function ft(t){if(t.some(function(t){return t.floating})){var e=t.slice().sort(function(t,e){if(t.floating&&!e.floating)return"left"===t.float?-1:1;if(!t.floating&&e.floating)return"left"===e.float?1:-1;if(t.floating&&e.floating){if(t.float!==e.float)return"left"===t.float?-1:1;if("right"===t.float&&"right"===e.float)return-1}return 0});if(e.map(function(t){return t.id}).join("-")!==t.map(function(t){return t.id}).join("-"))return t.length=0,t.push.apply(t,h(e)),!0}return!1}function pt(t){return t.filter(function(t){return"text-bottom"===t.verticalAlign}).sort(function(t,e){return t.bounds.height===e.bounds.height?t.is(f.SELECT)?1:-1:t.bounds.height>e.bounds.height?-1:1})[0]}function gt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.textElement&&"center"!==t.cssParent("textAlign",!0)&&!t.hasWidth&&!t.multiLine&&(e||t.textContent.trim().split(" ").length>0)&&t.android("singleLine","true")}function mt(t,e,n){return t>0?(arguments.length>3&&void 0!==arguments[3]&&arguments[3]||(t-=e["padding".concat(n)]),e.documentBody&&(t-=e["margin".concat(n)]),Math.max(t,0)):t}function vt(t,e){var n=t.cssInitial("min".concat(e)),r=t.cssInitial("max".concat(e));ut.isUnit(n)&&(t.app("layout_constraint".concat(e,"_min"),n),t.constraint.minWidth=!0),ut.isUnit(r)&&(t.app("layout_constraint".concat(e,"_max"),r),t.constraint.minHeight=!0)}function yt(t,e,n,r){if(ut.isPercent(n))if(r)t.android("layout_".concat(e.toLowerCase()),t.convertPercent(n,"Width"===e));else if("100%"!==n){var a=parseInt(n)/100+(t.actualParent?t.contentBoxWidth/t.actualParent.box.width:0);t.app("layout_constraint".concat(e,"_percent"),a.toFixed(t.localSettings.constraintPercentAccuracy||4)),t.android("layout_".concat(e.toLowerCase()),"0px")}}function bt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.has("width")?t.css("width"):"";yt(t,"Width",n,e)}function Et(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.documentParent.hasHeight){var n=t.has("height")?t.css("height"):"";yt(t,"Height",n,e)}}var wt=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).localSettings={baseTemplate:k,layout:{pathName:"res/layout",fileExtension:"xml"},unsupported:{excluded:new Set(["BR"]),tagName:new Set(["OPTION","INPUT:hidden","MAP","AREA","IFRAME","svg"])},relative:{boxWidthWordWrapPercent:.9,superscriptFontScale:-4,subscriptFontScale:-4},constraint:{withinParentBottomOffset:3.5,percentAccuracy:4}},t}return i(n,androme.lib.base.Controller),r(n,[{key:"finalize",value:function(t){var e=this.userSettings;if(e.showAttributes)for(var n=function(t){for(var e in"rtl"===t.dir&&t.android(t.length?"layoutDirection":"textDirection","rtl"),t.dataset)/^attr[A-Z]+/.test(e)&&function(){var n=ut.capitalize(e.substring(4),!1);t.dataset[e].split(";").forEach(function(e){var r=u(e.split("::"),2),a=r[0],i=r[1];ut.hasValue(a)&&ut.hasValue(i)&&t.attr(n,a,i)})}();var n=ut.repeat(t.renderDepth+1);return t.combine().map(function(t){return"\n".concat(n+t)}).join("")},r=t.cache.visible.map(function(t){return{pattern:ht.formatPlaceholder(t.id,"@"),attributes:n(t)}}),a=h(t.views).concat(h(t.includes)),i=function(){var t=a[o];r.forEach(function(e){return t.content=t.content.replace(e.pattern,e.attributes)}),t.content=t.content.replace("{#0}",function(t){var e="";for(var n in T)RegExp("\\s+".concat(n,":")).test(t)&&(e+="\n\t".concat(q(n)));return e}(t.content))},o=0;o<a.length;o++)i();for(var l=h(t.views).concat(h(t.includes)),s=0;s<l.length;s++){var d=l[s];d.content=j(d.content,e.resolutionDPI,e.convertPixels),d.content=Y(d.content,e.insertSpaces),d.content=this.removePlaceholders(d.content).replace(/\n\n/g,"\n")}}},{key:"processUnknownParent",value:function(t){var e,n=[t.node,t.parent],r=n[0],a=n[1],i=!1;if(r.has("columnCount"))t.columnCount=r.toInt("columnCount"),t.setType(f.CONSTRAINT,256,4);else if(t.some(function(t){return!t.pageFlow}))t.setType(f.CONSTRAINT,32,2);else if(1===t.length){var o=r.item(0);r.documentRoot&&function(t,e){if(e.baseElement&&t.dataset.target){var n=document.getElementById(t.dataset.target);return!!n&&n!==e.baseElement}return!1}(o,r)?(r.hide(),i=!0):!(this.userSettings.collapseUnattributedElements&&r.positionStatic&&r.baseElement)||ut.hasValue(r.baseElement.id)||ut.hasValue(r.dataset.include)||ut.hasValue(r.dataset.target)||r.hasWidth||r.hasHeight||r.has("maxWidth")||r.has("maxHeight")||r.visibleStyle.background||r.has("textAlign")||r.has("verticalAlign")||!(r.toInt("lineHeight")>0)||r.rightAligned||r.autoMargin.horizontal||r.groupParent||r.companion||this.hasAppendProcessing(r.id)?t.setType(f.FRAME,2048):(o.documentRoot=r.documentRoot,o.siblingIndex=r.siblingIndex,o.parent=a,r.renderAs=o,r.resetBox(510,o,!0),r.hide(),e=o)}else t.init(),r.baseElement&&dt.hasLineBreak(r.baseElement,!0)?t.setType(f.LINEAR,16,2):this.checkConstraintFloat(t)?t.setType(f.CONSTRAINT,1024):t.linearX?(this.checkFrameHorizontal(t)?t.renderType=72:this.checkConstraintHorizontal(t)?t.setType(f.CONSTRAINT):this.checkRelativeHorizontal(t)?t.setType(f.RELATIVE):(t.setType(f.LINEAR),t.floated.size&&(t.renderPosition=ft(t.children))),t.add(8)):t.linearY?t.setType(f.LINEAR,16,r.documentRoot?2:0):t.every(function(t){return t.inlineFlow})?this.checkFrameHorizontal(t)?t.renderType=72:t.setType(f.RELATIVE,8,2):t.some(function(e){return e.alignedVertically(e.previousSiblings(),t.children,t.cleared)})?t.setType(f.LINEAR,16,2):t.setType(f.CONSTRAINT,2);return{layout:t,next:i,renderAs:e}}},{key:"processUnknownChild",value:function(t){var e=t.node,n=e.visibleStyle,r=!1;return e.inlineText||n.borderWidth&&e.textContent.length?t.setType(f.TEXT):n.backgroundImage&&!n.backgroundRepeat&&(!e.inlineText||e.toInt("textIndent")+e.bounds.width<0)?(t.setType(f.IMAGE,2048),e.exclude({resource:ct.NODE_RESOURCE.FONT_STYLE|ct.NODE_RESOURCE.VALUE_STRING})):e.block&&(n.borderWidth||n.backgroundImage||n.paddingVertical)?t.setType(f.LINE):e.documentRoot||(!this.userSettings.collapseUnattributedElements||0!==e.bounds.height||n.background||ut.hasValue(e.element.id)||ut.hasValue(e.dataset.include)?t.setType(n.background?f.TEXT:f.FRAME):(e.hide(),r=!0)),{layout:t,next:r}}},{key:"processTraverseHorizontal",value:function(t,e){var n=t.parent;return this.checkFrameHorizontal(t)?(t.node=this.createNodeGroup(t.node,t.children,t.parent),t.renderType|=72):void 0===e||t.length!==e.length?(t.node=this.createNodeGroup(t.node,t.children,t.parent),this.processLayoutHorizontal(t)):n.alignmentType|=8,{layout:t}}},{key:"processTraverseVertical",value:function(t,e){var n=t.parent;return!t.floated.size||!t.cleared.size||1===t.floated.size&&t.every(function(e,n){return 0===n||n===t.length-1||t.cleared.has(e)})?void 0===e||t.length!==e.length?n.layoutVertical||(t.node=this.createNodeGroup(t.node,t.children,n),t.setType(f.LINEAR,16)):n.alignmentType|=16:(t.node=this.createNodeGroup(t.node,t.children,n),t.renderType|=80),{layout:t}}},{key:"processLayoutHorizontal",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0;return this.checkConstraintFloat(t)?t.setType(f.CONSTRAINT,1024):this.checkConstraintHorizontal(t)?n=f.CONSTRAINT:this.checkRelativeHorizontal(t)?n=f.RELATIVE:(!e||t.linearX&&!t.floated.has("right"))&&(n=f.LINEAR,t.floated.size&&(t.renderPosition=ft(t.children))),0!==n&&t.setType(n,8),{layout:t}}},{key:"sortRenderPosition",value:function(t,e){if(t.layoutConstraint&&e.some(function(t){return!t.pageFlow})){for(var n=[],r=[],a=[],i=[],o=Array.isArray(s=e),l=0,s=o?s:s[Symbol.iterator]();;){var d;if(o){if(l>=s.length)break;d=s[l++]}else{if((l=s.next()).done)break;d=l.value}var c=d;c.pageFlow||c.actualParent!==t?a.push(c):c.zIndex>=0?i.push(c):r.push(c)}return n.push.apply(n,h(ut.sortAsc(r,"zIndex","id"))),n.push.apply(n,a),n.push.apply(n,h(ut.sortAsc(i,"zIndex","id"))),n}return[]}},{key:"checkFrameHorizontal",value:function(t){var e=u(t.partition(function(t){return t.floating}),2),n=e[0],r=e[1];if(2===t.floated.size||t.cleared.size||t.some(function(t){return t.pageFlow&&t.autoMargin.horizontal}))return!0;if(r.length){if(t.floated.has("right"))return!0;if(!this.userSettings.floatOverlapDisabled&&t.floated.has("left")){var a=ut.minArray(r.map(function(t){return t.siblingIndex}));return n.map(function(t){return t.siblingIndex}).some(function(t){return t<a})&&r.some(function(t){return t.blockStatic})}}return!1}},{key:"checkConstraintFloat",value:function(t){return 1===t.floated.size&&t.every(function(t){return t.floating&&t.marginLeft>=0&&t.marginRight>=0&&(!t.positionRelative||t.left>=0&&t.top>=0)})}},{key:"checkConstraintHorizontal",value:function(t){return!t.parent.hasHeight&&1!==new Set(t.map(function(t){return t.bounds.height})).size&&t.some(function(t){return"bottom"===t.verticalAlign})&&t.every(function(t){return t.inlineVertical&&(t.baseline||"bottom"===t.verticalAlign)})}},{key:"checkRelativeHorizontal",value:function(t){return 2!==t.floated.size&&t.some(function(t){return t.positionRelative||t.textElement||t.imageElement||!t.baseline})}},{key:"setConstraints",value:function(){for(var t=this,e=function(){if(r){if(a>=i.length)return"break";o=i[a++]}else{if((a=i.next()).done)return"break";o=a.value}var e=o;if(!e.hasBit("excludeProcedure",ct.NODE_PROCEDURE.CONSTRAINT)){var l=e.renderChildren.filter(function(t){return!t.positioned});if(l.length)if(e.layoutConstraint){for(var s=u(ut.partition(l,function(t){return t.pageFlow}),2),d=s[0],c=s[1],h=Math.max(c.length?ut.maxArray(e.renderChildren.map(function(t){return t.linear.bottom})):0,e.box.bottom),f=Array.isArray(g=c),p=0,g=f?g:g[Symbol.iterator]();;){var m;if(f){if(p>=g.length)break;m=g[p++]}else{if((p=g.next()).done)break;m=p.value}var v=m;if(!v.positionAuto&&(v.documentParent===v.absoluteParent||"fixed"===v.position)){if(v.hasWidth&&v.autoMargin.horizontal?v.has("left")&&v.autoMargin.right?(v.anchor("left","parent"),v.modifyBox(16,v.left)):v.has("right")&&v.autoMargin.left?(v.anchor("right","parent"),v.modifyBox(4,v.right)):(v.anchorParent(E.HORIZONTAL),v.modifyBox(16,v.left),v.modifyBox(4,v.right)):(v.has("left")&&(v.anchor("left","parent"),v.modifyBox(16,mt(v.left,e,"Left"))),!v.has("right")||v.hasWidth&&v.has("left")||(v.anchor("right","parent"),v.modifyBox(4,mt(v.right,e,"Right")))),v.hasHeight&&v.autoMargin.vertical)v.has("top")&&v.autoMargin.bottom?(v.anchor("top","parent"),v.modifyBox(2,v.top)):v.has("bottom")&&v.autoMargin.top?(v.anchor("bottom","parent"),v.modifyBox(8,v.bottom)):(v.anchorParent(E.VERTICAL),v.modifyBox(2,v.top),v.modifyBox(8,v.bottom));else{if(v.has("top")){var y=e.valueBox(32);v.anchor("top","parent"),v.modifyBox(2,mt(v.top,e,"Top",1===y[0]))}if(v.has("bottom")&&(!v.hasHeight||!v.has("top"))){var b=e.valueBox(128);v.anchor("bottom","parent"),v.modifyBox(8,mt(v.bottom,e,"Bottom",1===b[0]))}}v.positioned=!0}}if(e.layoutHorizontal)t.processConstraintHorizontal(e,d);else if(e.hasAlign(256))t.processConstraintColumn(e,d);else if(d.length>1)t.processConstraintChain(e,d,h);else for(var w=Array.isArray(x=d),T=0,x=w?x:x[Symbol.iterator]();;){var A;if(w){if(T>=x.length)break;A=x[T++]}else{if((T=x.next()).done)break;A=T.value}var S=A;S.autoMargin.leftRight||S.inlineStatic&&"center"===S.cssParent("textAlign",!0)?S.anchorParent(E.HORIZONTAL):S.rightAligned?S.anchor("right","parent"):(ut.withinFraction(S.linear.left,e.box.left)||S.linear.left<e.box.left)&&S.anchor("left","parent"),(ut.withinFraction(S.linear.top,e.box.top)||S.linear.top<e.box.top)&&S.anchor("top","parent"),t.withinParentBottom(S.linear.bottom,h)&&S.actualParent&&!S.actualParent.documentBody&&S.anchor("bottom","parent"),n.setConstraintDimension(S)}n.evaluateAnchors(d),l.forEach(function(r){r.anchored||(t.addGuideline(r,e),r.pageFlow&&n.evaluateAnchors(d)),!r.hasWidth&&r.alignParent("left")&&r.alignParent("right")&&r.android("layout_width","match_parent"),!r.hasHeight&&r.alignParent("top")&&r.alignParent("bottom")&&r.android("layout_height","match_parent")})}else e.layoutRelative&&t.processRelativeHorizontal(e,l)}},r=Array.isArray(i=this.cache.visible),a=0,i=r?i:i[Symbol.iterator]();;){var o;if("break"===e())break}}},{key:"renderNodeGroup",value:function(t){var e=[t.node,t.parent,t.containerType,t.alignmentType],n=e[0],r=e[1],a=e[2],i=e[3],o=V(),l=!1;switch(a){case f.LINEAR:ut.hasBit(i,16)?(o.android.orientation=E.VERTICAL,l=!0):ut.hasBit(i,8)&&(o.android.orientation=E.HORIZONTAL,l=!0);break;case f.GRID:o.android.rowCount=t.rowCount?""+t.rowCount:"",o.android.columnCount=t.columnCount?""+t.columnCount:"2",l=!0;break;case f.FRAME:case f.RELATIVE:case f.CONSTRAINT:l=!0}if(l){var s=ut.hasValue(n.dataset.target)&&!ut.hasValue(n.dataset.include),d=it.getControlName(a);return n.alignmentType|=i,n.setControlType(d,a),n.render(s?n:r),n.apply(o),this.getEnclosingTag(d,n.id,s?-1:n.renderDepth,ht.formatPlaceholder(n.id))}return""}},{key:"renderNode",value:function(t){var e=[t.node,t.parent],n=e[0],r=e[1];n.alignmentType|=t.alignmentType;var a=it.getControlName(t.containerType);n.setControlType(a,t.containerType);var i=ut.hasValue(n.dataset.target)&&!ut.hasValue(n.dataset.include);switch(n.element.tagName){case"IMG":if(!n.hasBit("excludeResource",ct.NODE_RESOURCE.IMAGE_SOURCE)){var o=n.element,l=n.has("width",32),s=n.has("height",32),d=n.toInt("width"),c=n.toInt("height"),u="";if(l||s)u=l&&s?"fitXY":"fitCenter";else{if(0===d){var h=/width="(\d+)"/.exec(o.outerHTML);h&&(d=parseInt(h[1]),n.css("width",ut.formatPX(h[1]),!0))}if(0===c){var p=/height="(\d+)"/.exec(o.outerHTML);p&&(c=parseInt(p[1]),n.css("height",ut.formatPX(p[1]),!0))}switch(n.css("objectFit")){case"contain":u="centerInside";break;case"cover":u="centerCrop";break;case"scale-down":u="fitCenter";break;case"none":u="matrix";break;default:u="fitXY"}}n.android("scaleType",u),(d>0&&0===c||0===d&&c>0)&&n.android("adjustViewBounds","true"),n.baseline&&n.android("baselineAlignBottom","true");var g=z.addImageSrcSet(o);if(""!==g&&n.android("src","@drawable/".concat(g)),!n.pageFlow&&n.left<0||n.top<0){var m=n.absoluteParent;if(m&&"hidden"===m.css("overflow")){var y=new it(this.cache.nextId,dt.createElement(n.actualParent?n.actualParent.baseElement:null),this.delegateNodeInit);return y.setControlType(v.FRAME,f.FRAME),y.inherit(n,"base"),y.exclude({procedure:ct.NODE_PROCEDURE.ALL,resource:ct.NODE_RESOURCE.ALL}),y.css({position:n.position,zIndex:n.zIndex}),r.appendTry(n,y),this.cache.append(y),y.android("layout_width",d>0?d<r.box.width?ut.formatPX(d):"match_parent":"wrap_content"),y.android("layout_height",c>0?c<r.box.height?ut.formatPX(c):"match_parent":"wrap_content"),y.render(i?y:r),y.companion=n,n.modifyBox(2,n.top),n.modifyBox(16,n.left),n.render(y),this.getEnclosingTag(v.FRAME,y.id,i?-1:y.renderDepth,this.getEnclosingTag(a,n.id,i?0:n.renderDepth))}}}break;case"TEXTAREA":var b=n.element;n.android("minLines","2"),b.rows>2&&n.android("lines",""+b.rows),b.maxLength>0&&n.android("maxLength",""+b.maxLength),!n.hasWidth&&b.cols>0&&n.css("width",ut.formatPX(8*b.cols),!0),n.android("hint",b.placeholder),n.android("scrollbars",E.VERTICAL),n.android("inputType","textMultiLine"),n.overflowX&&n.android("scrollHorizontally","true"),n.cssInitial("verticalAlign")||n.css("verticalAlign","text-bottom",!0);break;case"SELECT":n.element.size>1&&!n.cssInitial("verticalAlign")&&n.css("verticalAlign","text-bottom",!0);break;case"INPUT":var w=n.element;switch(w.type){case"password":n.android("inputType","textPassword");break;case"text":n.android("inputType","text");break;case"range":ut.hasValue(w.min)&&n.android("min",w.min),ut.hasValue(w.max)&&n.android("max",w.max),ut.hasValue(w.value)&&n.android("progress",w.value);break;case"image":if(!n.hasBit("excludeResource",ct.NODE_RESOURCE.IMAGE_SOURCE)){var T=z.addImage({mdpi:w.src});""!==T&&n.android("src","@drawable/".concat(T),0===n.renderExtension.size)}}switch(w.type){case"text":case"search":case"tel":case"url":case"email":case"password":!n.hasWidth&&w.size>0&&n.css("width",ut.formatPX(8*w.size),!0)}}if(n.inlineVertical)switch(n.verticalAlign){case"sub":n.modifyBox(8,Math.ceil(n.fontSize/this.localSettings.relative.subscriptFontScale));break;case"super":n.modifyBox(2,Math.ceil(n.fontSize/this.localSettings.relative.superscriptFontScale))}switch(n.controlName){case v.TEXT:var x=[];n.overflowX&&x.push(E.HORIZONTAL),n.overflowY&&x.push(E.VERTICAL),x.length&&n.android("scrollbars",x.join("|")),"nowrap"===n.css("whiteSpace")&&n.android("singleLine","true");var A=n.css("textShadow");if("none"!==A&&[/^(rgba?\(\d+, \d+, \d+(?:, [\d.]+)?\)) ([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+)$/,/^([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+) (.+)$/].some(function(t,e){var r=A.match(t);if(r){var a=st.parseRGBA(r[0===e?1:4]);if(a){var i=z.addColor(a);""!==i&&n.android("shadowColor","@color/".concat(i))}return n.android("shadowDx",""+ut.convertInt(r[0===e?2:1])),n.android("shadowDy",""+ut.convertInt(r[0===e?3:2])),n.android("shadowRadius",""+ut.convertInt(r[0===e?4:3])),!0}return!1}),n.has("maxWidth")){var S=n.convertPX(n.css("maxWidth"));n.android("maxWidth",S)}if(n.has("maxHeight")){var R=n.convertPX(n.css("maxHeight"),!1);n.android("maxHeight",R)}break;case v.BUTTON:n.cssInitial("verticalAlign")||n.css("verticalAlign","text-bottom",!0);break;case v.LINE:n.hasHeight||n.android("layout_height",ut.formatPX(n.contentBoxHeight||1))}return n.render(i?n:r),this.getEnclosingTag(a,n.id,i?-1:n.renderDepth)}},{key:"renderNodeStatic",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,l=Math.max(0,e);void 0===i?i=new it(0,void 0,this.delegateNodeInit):(i.renderDepth=l,i.rendered=!0),i.apply(n),i.android("layout_width",r,!1),i.android("layout_height",a,!1),0!==i.containerType&&""!==i.controlName||i.setControlType(t);var s=this.getEnclosingTag(t,i.id,i.documentRoot||0!==e?e:-1,o?ht.formatPlaceholder(i.id):"");if(this.userSettings.showAttributes&&0===i.id){var d=ut.repeat(l+1),c=i.combine().map(function(t){return"\n".concat(d+t)}).join("");s=s.replace(ht.formatPlaceholder(i.id,"@"),c)}return n.documentId=i.documentId,s}},{key:"renderSpace",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0;i=V(i);return ut.isPercent(e)&&(i.android.layout_columnWeight=(parseInt(e)/100).toFixed(2),e="0px"),ut.isPercent(n)&&(i.android.layout_rowWeight=(parseInt(n)/100).toFixed(2),n="0px"),r>0&&(i.android.layout_columnSpan=""+r),a>0&&(i.android.layout_rowSpan=""+a),this.renderNodeStatic(v.SPACE,t,i,e,ut.hasValue(n)?n:"wrap_content")}},{key:"addGuideline",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];"true"===t.dataset.constraintPercent&&(i=!0),"true"===t.dataset.constraintOpposite&&(o=!0);var l=e.groupParent?e:t.documentParent;[E.HORIZONTAL,E.VERTICAL].forEach(function(s,d){if(!t.constraint[s]&&(""===r||s===r)){var c,u,h,f,p=0===d,g=t.positionStatic?"bounds":"linear";p?(c=o?"right":"left",u=o?"left":"right",h=o?"rightLeft":"leftRight",f=o?"leftRight":"rightLeft"):(c=o?"bottom":"top",u=o?"top":"bottom",h=o?"bottomTop":"topBottom",f=o?"topBottom":"bottomTop");var m,y="layout_constraintGuide_",b=!1;if(!t.pageFlow&&ut.isPercent(t.css(c)))m=parseInt(t.css(c))/100,b=!0,y+="percent";else{if(!i&&!e.hasAlign(4))if(e.renderChildren.some(function(e){if(e!==t&&e.constraint[s]){var n=t.pageFlow&&e.pageFlow,r=!1;if(n&&(ut.withinFraction(t.linear[c],e.linear[u])?(t.anchor(h,e.documentId,!0),r=!0):ut.withinFraction(t.linear[u],e.linear[c])&&(t.anchor(f,e.documentId,!0),r=!0)),(n||!t.pageFlow&&!e.pageFlow)&&(ut.withinFraction(t.bounds[c],e.bounds[c])?(t.anchor(!p&&t.textElement&&e.textElement&&e.baseline&&t.baseline&&t.bounds.height===e.bounds.height?"baseline":c,e.documentId,!0),r=!0):ut.withinFraction(t.bounds[u],e.bounds[u])&&(t.anchor(u,e.documentId,!0),r=!0)),r)return e.constraint[s]=!0,!0}return!1}))return;if(t.positionAuto){var w=t.previousSiblings();if(w.length&&!t.alignedVertically(w)){var T=w[w.length-1];if(T.renderParent===t.renderParent)return t.anchor(p?"rightLeft":"top",T.documentId,!0),void(t.constraint[s]=T.constraint[s])}}if(i)m=parseFloat(Math.abs(Math.abs(t[g][c]-l.box[c])/l.box[p?"width":"height"]-(o?1:0)).toFixed(n.localSettings.constraint.percentAccuracy)),b=!0,y+="percent";else m=t[g][c]-l.box[o?u:c],y+="begin"}var x=e.constraint.guideline||{};if(t.pageFlow){if(t.inlineVertical){var A=ut.convertInt(t.verticalAlign);A<0&&(m+=A)}}else if(t.absoluteParent===t.documentParent)if(p)m=mt(m,l,"Left");else{var S=l.valueBox(32);m=mt(m,l,"Top",1===S[0])}if(m<=0)t.anchor(c,"parent",!0);else if(p&&l.hasWidth&&!t.has("right")&&m+t[g].width>=l.box.right||!p&&l.hasHeight&&!t.has("bottom")&&m+t[g].height>=l.box.bottom)t.anchor(u,"parent",!0);else{var R=ut.optionalAsObject(x,"".concat(s,".").concat(y,".").concat(c)),I=!1;if(R)for(var _ in R)if(parseInt(R[_])===m){t.anchor(c,_,!0),t.anchorDelete(u),I=!0;break}if(!I){var k=V({android:{orientation:0===d?E.VERTICAL:E.HORIZONTAL},app:a({},y,b?""+m:ut.formatPX(m))});n.appendAfter(t.id,n.renderNodeStatic(v.GUIDELINE,t.renderDepth,k,"wrap_content","wrap_content"));var C=k.documentId;t.anchor(c,C,!0),t.anchorDelete(u),ut.defaultWhenNull(x,s,y,c,C,""+m),e.constraint.guideline=x,t.constraint[p?"guidelineHorizontal":"guidelineVertical"]=C}}t.constraint[s]=!0}})}},{key:"createNodeGroup",value:function(t,e,n,r){var a=new ot(this.cache.nextId,t,e,this.delegateNodeInit);return a.siblingIndex=t.siblingIndex,n&&(n.appendTry(r||t,a),a.init()),this.cache.append(a),a}},{key:"createNodeWrapper",value:function(t,e,n,r){var a=new it(this.application.nextId,dt.createElement(t.actualParent?t.actualParent.baseElement:null,t.block),this.application.controllerHandler.delegateNodeInit);return t.documentRoot&&(a.documentRoot=!0,t.documentRoot=!1),a.inherit(t,"base","alignment"),n&&a.setControlType(n,r),a.exclude({section:ct.APP_SECTION.ALL,procedure:ct.NODE_PROCEDURE.CUSTOMIZATION,resource:ct.NODE_RESOURCE.ALL}),a.siblingIndex=t.siblingIndex,e&&(e.appendTry(t,a),t.siblingIndex=0,-1!==t.renderPosition&&(a.renderPositionId=t.renderPositionId,t.renderPosition=-1),t.parent=a),this.application.processing.cache.append(a,!e),t.unsetCache(),a}},{key:"processRelativeHorizontal",value:function(t,e){var n,r,a=dt.isUserAgent(24),i=lt.cleared(e),o=Math.ceil(function(){var n=t.renderParent;if(n)if(n.overflowX){if(t.has("width",2))return t.toInt("width",!0);if(n.has("width",2))return n.toInt("width",!0);if(n.has("width",32))return n.bounds.width-n.contentBoxWidth}else{var r=n.children.filter(function(e){return"left"===e.float&&e.siblingIndex<t.siblingIndex}).map(function(t){return t.linear.right});if(r.length){var a=ut.maxArray(r);if(e.some(function(t){return t.linear.left===a}))return t.box.right-a}}return t.box.width}()),l=o*this.localSettings.relative.boxWidthWordWrapPercent,s="nowrap"!==t.css("whiteSpace"),d=[],c=new Set,h=!1,f=0,p=u(ut.partition(e,function(t){return"right"===t.float}),2),g=p[0],m=p[1];ft(m),[m,g].forEach(function(e,u){for(var h=0===u?"left":"right",p=function(p){var g=e[p],m=e[p-1],v=g.bounds;if(g.inlineText&&!g.hasWidth){var y=dt.getRangeClientRect(g.element);(y.multiLine||y.width>0&&y.width<g.box.width)&&(v=y,g.multiLine=y.multiLine,a&&y.multiLine&&!/^\s*\n+/.test(g.textContent)&&c.add(g))}var b=0===u?"leftRight":"rightLeft",E=[];if(0===p)g.anchor(h,"true"),d.push([g]);else{var w=function(){return!g.rightAligned&&Math.floor(T)-(g.styleElement&&g.inlineStatic?g.paddingLeft+g.paddingRight:0)>o},T=(n&&d.length>1?n.linear.width:0)+f+g.marginLeft+("left"!==m.float||i.has(g)?v.width:0)-(a?g.borderRightWidth:0);(function(t,e){if("left"===e.float){if(e.marginRight<0)return t.modifyBox(16,e.bounds.width+(e.hasWidth?e.paddingLeft+e.borderLeftWidth:0)-Math.abs(e.marginRight)),t.anchor("left",e.documentId),e.modifyBox(4,null),!0}else if("right"===t.float&&"right"===e.float&&e.marginLeft<0){var n=Math.abs(e.marginLeft);return n<e.bounds.width&&t.modifyBox(4,e.bounds.width-n),t.anchor("right",e.documentId),e.modifyBox(16,null),!0}return!1})(g,m)&&(b="");var x=g.groupParent&&!g.hasAlign(128);E=!x&&m.inlineVertical&&g.inlineVertical?dt.getElementsBetween(m.element,g.element,!0):[];var A=function(){if(g.textElement){var t=!1;if(m.textElement&&(1===p&&g.plainText&&!m.rightAligned&&(t=0===E.length&&!/\s+$/.test(m.textContent)&&!/^\s+/.test(g.textContent)),s&&!t&&(c.has(m)||m.multiLine&&dt.hasLineBreak(m.element,!1,!0))))return!0;if(s&&!t&&(w()||g.multiLine&&dt.hasLineBreak(g.element)||g.preserveWhiteSpace&&/^\n+/.test(g.textContent)))return!0}return!1}(),S=d[d.length-1],R=g.previousSiblings();if(A||x||!g.textElement&&w()||g.linear.top>=m.linear.bottom&&(g.blockStatic||g.floating&&m.float===g.float)||!g.floating&&(m.blockStatic||R.length&&R.some(function(t){return t.lineBreak||t.excluded&&t.blockStatic})||E.some(function(t){return dt.isLineBreak(t)}))||i.has(g)){r=S.filter(function(t){return!t.floating})[0]||S[0];for(var I=0;I<S.length;I++)S[I]!==r&&S[I].linear.bottom>r.linear.bottom&&(!S[I].floating||S[I].floating&&r.floating)&&(r=S[I]);g.anchor("topBottom",r.documentId),n&&g.linear.bottom<=n.bounds.bottom?g.anchor(b,n.documentId):(g.anchor(h,"true"),n=void 0),A&&g.multiLine&&gt(m,s),f=Math.min(0,A&&!m.multiLine&&g.multiLine&&!i.has(g)?g.linear.right-t.box.right:0),d.push([g])}else""!==b&&g.anchor(b,m.documentId),r&&g.anchor("topBottom",r.documentId),S.push(g)}"left"===g.float&&(n=g);var _=0;if(E.length&&!E.some(function(t){return!!dt.getElementAsNode(t)||dt.isLineBreak(t)})){var k=dt.getRangeClientRect(E[0]),C=E.length>1?dt.getRangeClientRect(E[E.length-1]):null;k.multiLine||null!==C&&C.multiLine||(_=C?k.left-C.right:k.width)}Math.ceil(f+=_+g.marginLeft+v.width+g.marginRight)>=l&&!g.alignParent(h)&&gt(g,s)},g=0;g<e.length;g++)p(g)}),d.length>1&&(t.alignmentType|=4096,h=!0);for(var v=function(e){var n=d[e],r=lt.baseline(n),a=r[0],i=lt.baseline(n,!0)[0],o=pt(n);a&&o&&o.bounds.height>a.bounds.height?a.anchor("bottom",o.documentId):o=void 0;for(var l=[],s=0===e?"true":a?a.documentId:"",c=function(e){if(!h){if(r.includes(e)||e.actualParent&&e.actualHeight>=e.actualParent.box.height)return!0;t.hasHeight||t.css("height",ut.formatPX(t.bounds.height),!0)}return!1},u=Array.isArray(p=n),f=0,p=u?p:p[Symbol.iterator]();;){var g;if(u){if(f>=p.length)break;g=p[f++]}else{if((f=p.next()).done)break;g=f.value}var m=g;if(m!==a)if(m.baseline)l.push(m);else if(m.inlineVertical)switch(m.verticalAlign){case"text-top":i&&m.anchor("top",i.documentId);break;case"super":case"top":s&&m.anchor("top",s);break;case"middle":if(h){if(a){var v=Math.max(m.bounds.height,m.lineHeight),y=Math.max(a.bounds.height,a.lineHeight);v<y&&(m.anchor("top",a.documentId),m.modifyBox(2,Math.round((y-v)/2)))}}else m.anchor("centerVertical","true");break;case"text-bottom":i&&m!==o&&m.anchor("bottom",i.documentId);break;case"sub":case"bottom":c(m)&&(s=""),s&&m.anchor("bottom",s)}}if(a&&(function(t,e){for(var n=Array.isArray(a=e),r=0,a=n?a:a[Symbol.iterator]();;){var i;if(n){if(r>=a.length)break;i=a[r++]}else{if((r=a.next()).done)break;i=r.value}var o=i;o!==t&&(o.imageElement&&o.actualHeight>t.actualHeight?o.renderParent&&ut.withinFraction(o.linear.top,o.renderParent.box.top)&&o.anchor("top","true"):(o.baseElement&&0===o.length||o.layoutHorizontal&&o.renderChildren.every(function(t){return t.baseline}))&&o.anchor("baseline",t.documentId))}}(a,l),a.baselineActive=!0,t.lineHeight||a.lineHeight)){var b=0;(b=a.lineHeight?a.lineHeight-a.bounds.height:t.lineHeight-(a.bounds.height-(a.paddingTop+a.paddingBottom)))>0&&(a.modifyBox(2,Math.floor(b/2)),a.modifyBox(8,Math.ceil(b/2)))}},y=0;y<d.length;y++)v(y)}},{key:"processConstraintHorizontal",value:function(t,e){var n=lt.baseline(e)[0],r=lt.baseline(e,!0)[0],a=pt(e),i=t.hasAlign(512);n&&(n.baselineActive=!0,a&&n.bounds.height<a.bounds.height?n.anchor("bottom",a.documentId):a=void 0);for(var o=0;o<e.length;o++){var l=e[o],s=e[o-1];if(0===o?l.anchor(i?"right":"left","parent"):s&&l.anchor(i?"rightLeft":"leftRight",s.documentId),l.inlineVertical)switch(l.verticalAlign){case"text-top":r&&l!==r&&l.anchor("top",r.documentId);break;case"super":case"top":l.anchor("top","parent");break;case"middle":l.anchorParent(E.VERTICAL);break;case"text-bottom":r&&l!==r&&l!==a&&l.anchor("bottom",r.documentId);break;case"sub":case"bottom":l.anchor("bottom","parent");break;case"baseline":n&&l!==n&&l.anchor("baseline",n.documentId)}}}},{key:"processConstraintColumn",value:function(t,e){for(var r=t.toInt("columnCount"),a=Math.ceil(e.length/Math.min(r,e.length)),i=[],o=0,l=0;o<e.length;o++){var s=e[o];o%a==0&&(o>0&&l++,void 0===i[l]&&(i[l]=[])),i[l].push(s)}for(var d=ut.convertInt(t.css("columnGap"))||16,c=i.map(function(t){return ut.maxArray(t.map(function(t){return t.marginLeft+t.marginRight}))}).reduce(function(t,e){return t+e},0),u=Math.max((c+d*(r-1))/t.box.width/r,.01),h=[],f=[],p=[],g=0;g<i.length;g++){var m=i[g],v=m[0];g>0&&v.android(v.localizeString(b.MARGIN_LEFT),ut.formatPX(v.marginLeft+d)),p.push(v),m.forEach(function(t){var e=0;(e=t.has("width",32)?t.toInt("width")/100:1/r-u)>0&&(t.android("layout_width","0px"),t.app("layout_constraintWidth_percent",e.toFixed(2)))}),f.push(m)}h.push(p),[h,f].forEach(function(t,e){var r=0===e;t.forEach(function(t){var e=t[0],a=t[t.length-1];e.anchor(r?"left":"top","parent"),a.anchor(r?"right":"bottom","parent");for(var i=0;i<t.length;i++){var o=t[i],l=t[i-1],s=t[i+1];r?o.app("layout_constraintVertical_bias","0"):i>0&&o.anchor("left",e.documentId),s&&o.anchor(r?"rightLeft":"bottomTop",s.documentId),l&&o.anchor(r?"leftRight":"topBottom",l.documentId),n.setConstraintDimension(o),o.anchored=!0}r?e.app("layout_constraintHorizontal_chainStyle","spread_inside"):e.app("layout_constraintVertical_chainStyle","packed")})})}},{key:"processConstraintChain",value:function(t,e,r){var a=lt.partitionRows(e),i=lt.actualParent(e)||t,o=t.hasAlign(64),l=a.length>1&&t.hasAlign(1024)?lt.clearedAll(i):new Map,s=!1;a.length>1&&(t.alignmentType|=4096),o&&(s=t.hasAlign(512),e.some(function(t){return t.has("width",32)})&&t.android("layout_width","match_parent"));for(var d=Array.isArray(u=e),c=0,u=d?u:u[Symbol.iterator]();;){var f;if(d){if(c>=u.length)break;f=u[c++]}else{if((c=u.next()).done)break;f=c.value}var p=f;o||(p.rightAligned?(ut.withinFraction(p.linear.right,i.box.right)||p.linear.right>i.box.right)&&p.anchor("right","parent"):(ut.withinFraction(p.linear.left,i.box.left)||p.linear.left<i.box.left)&&p.anchor("left","parent")),(ut.withinFraction(p.linear.top,t.box.top)||p.linear.top<t.box.top||p.floating&&1===a.length)&&p.anchor("top","parent"),!this.withinParentBottom(p.linear.bottom,r)||i.documentBody||!i.hasHeight&&p.alignParent("top")||p.anchor("bottom","parent")}var g,m,v,y,b=[];s?(g="right",m="left",v="rightLeft",y="leftRight"):(g="left",m="right",v="leftRight",y="rightLeft"),a.forEach(function(t,e){var r,d=t[0],c=t[t.length-1];if(d.anchor(g,"parent"),"center"===i.css("textAlign")?d.app("layout_constraintHorizontal_chainStyle","spread"):s?(c.app("layout_constraintHorizontal_chainStyle","packed"),c.app("layout_constraintHorizontal_bias","1")):(d.app("layout_constraintHorizontal_chainStyle","packed"),d.app("layout_constraintHorizontal_bias","0")),t.length>1&&c.anchor(m,"parent"),e>0){var u=a[e-1];r=u[0];for(var f=1;f<u.length;f++)u[f].linear.bottom>r.linear.bottom&&(r=u[f])}for(var p=0;p<t.length;p++){var w=t[p],T=t[p-1],x=t[p+1];if(w.autoMargin.leftRight?w.anchorParent(E.HORIZONTAL):(T&&w.anchor(v,T.documentId),x&&w.anchor(y,x.documentId)),n.setConstraintDimension(w),e>0){var A=a[e-1],S=A[A.length-1],R=s?c:d,I=[];if(S?(I.push(S),w.baseElement&&I.push.apply(I,h(ut.flatMap(dt.getElementsBetween(S.baseElement,w.baseElement),function(t){return dt.getElementAsNode(t)})))):I.push(R),!o||0!==l.size&&I.some(function(t){return l.has(t)}))r&&(p>0?(w.anchor("top",d.documentId),w.modifyBox(2,-1*d.marginTop)):(w.anchor("topBottom",r.documentId),r.anchor("bottomTop",w.documentId)));else if(A.length){w.anchor("topBottom",S.documentId),S.alignSibling("bottomTop")||S.anchor("bottomTop",w.documentId);for(var _=b.length-2;_>=0;_--){var k=b[_];if(k.linear.bottom>S.linear.bottom)if((s?Math.ceil(k.linear[m])-Math.floor(i.box[m]):Math.ceil(i.box[m])-Math.floor(k.linear[m]))>=w.linear.width){w.anchor(v,k.documentId),w.anchorDelete(y),w===d?(w.anchorDelete(g),w.delete("app","layout_constraintHorizontal_chainStyle","layout_constraintHorizontal_bias")):w===c&&w.anchorDelete(m);break}}}}b.push(w)}}),n.evaluateAnchors(e)}},{key:"withinParentBottom",value:function(t,e){return ut.withinRange(t,e,this.localSettings.constraint.withinParentBottomOffset)}},{key:"userSettings",get:function(){return this.application.userSettings}},{key:"containerTypeHorizontal",get:function(){return{containerType:f.LINEAR,alignmentType:8,renderType:0}}},{key:"containerTypeVertical",get:function(){return{containerType:f.LINEAR,alignmentType:16,renderType:0}}},{key:"containerTypeVerticalMargin",get:function(){return{containerType:f.FRAME,alignmentType:256,renderType:0}}},{key:"delegateNodeInit",get:function(){var t=this,e=this.userSettings;return function(n){n.localSettings={targetAPI:void 0!==e.targetAPI?e.targetAPI:26,resolutionDPI:void 0!==e.resolutionDPI?e.resolutionDPI:160,supportRTL:void 0===e.supportRTL||e.supportRTL,constraintPercentAccuracy:t.localSettings.constraint.percentAccuracy,customizationsOverwritePrivilege:void 0===e.customizationsOverwritePrivilege||e.customizationsOverwritePrivilege}}}}],[{key:"evaluateAnchors",value:function(t){for(var e=t.filter(function(t){return t.constraint.horizontal}),n=t.filter(function(t){return t.constraint.vertical}),r=-1;++r<t.length;){var a=t[r];if(!a.constraint.horizontal){var i=function(t){var n=a.constraint.current[t];if(n.horizontal&&e.find(function(t){return t.documentId===n.documentId}))return a.constraint.horizontal=!0,e.push(a),r=-1,"break"};for(var o in a.constraint.current){if("break"===i(o))break}}if(!a.constraint.vertical){var l=function(t){var e=a.constraint.current[t];if(!e.horizontal&&n.find(function(t){return t.documentId===e.documentId}))return a.constraint.vertical=!0,n.push(a),r=-1,"break"};for(var o in a.constraint.current){if("break"===l(o))break}}}}},{key:"setConstraintDimension",value:function(t){bt(t),Et(t),vt(t,"Width"),vt(t,"Height")}},{key:"setFlexDimension",value:function(t,e){var n=e?"width":"height",r=e?"height":"width",a=t.flexbox.basis;if("auto"!==a&&(ut.isPercent(a)?"0%"!==a&&(t.app("layout_constraint".concat(e?"Width":"Height","_percent"),(parseInt(a)/100).toFixed(2)),a=""):ut.isUnit(a)&&(t.android("layout_".concat(n),t.convertPX(a)),a="")),""!==a){var i=t.has(n)?t.css(n):"";t.flexbox.grow>0?(t.android("layout_".concat(n),"0px"),t.app("layout_constraint".concat(e?"Horizontal":"Vertical","_weight"),""+t.flexbox.grow)):ut.isUnit(i)?t.android("layout_".concat(n),i):t.flexbox.shrink>1?t.android("layout_".concat(n),"wrap_content"):e?bt(t):Et(t),t.flexbox.shrink<1&&t.app("layout_constrained".concat(e?"Width":"Height"),"true")}var o=t.has(r)?t.css(r):"";ut.isUnit(o)?t.android("layout_".concat(r),o):e?Et(t,!0):bt(t,!0),vt(t,"Width"),vt(t,"Height")}}]),n}(),Tt=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.base.ExtensionManager),n}(),xt=androme.lib.util,At=androme.lib.xml;function St(t){for(var e,n=[],r=/<!-- image: (.+) -->\n<!-- filename: (.+)\/(.*?\.\w+) -->/g;null!==(e=r.exec(t));)n.push({uri:e[1],pathname:e[2],filename:e[3],content:""});return n}function Rt(t){for(var e,n=[],r=/<\?xml[\w\W]*?(<!-- filename: (.+)\/(.*?\.xml) -->)/g;null!==(e=r.exec(t));)n.push({content:e[0].replace(e[1],"").trim(),pathname:e[2],filename:e[3]});return n}function It(t,e,n){return{pathname:t,filename:e,content:n}}function _t(t,e){return(""+t).toLowerCase()>=(""+e).toLowerCase()?1:-1}var kt=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.base.File),r(n,[{key:"saveAllToDisk",value:function(t){for(var e=[],n=h(t.views).concat(h(t.includes)),r=0;r<n.length;r++){var a=n[r];e.push(It(a.pathname,0===r?this.userSettings.outputMainFileName:"".concat(a.filename,".xml"),a.content))}var i=this.resourceDrawableToXml();e.push.apply(e,h(Rt(this.resourceStringToXml()))),e.push.apply(e,h(Rt(this.resourceStringArrayToXml()))),e.push.apply(e,h(Rt(this.resourceFontToXml()))),e.push.apply(e,h(Rt(this.resourceColorToXml()))),e.push.apply(e,h(Rt(this.resourceStyleToXml()))),e.push.apply(e,h(Rt(this.resourceDimenToXml()))),e.push.apply(e,h(St(i)).concat(h(Rt(i)))),this.saveToDisk(e)}},{key:"layoutAllToXml",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=[],a=h(t.views).concat(h(t.includes)),i=0;i<a.length;i++){var o=a[i];n[o.filename]=o.content,e&&r.push(It(o.pathname,0===i?this.userSettings.outputMainFileName:"".concat(o.filename,".xml"),o.content))}return e&&this.saveToDisk(r),n}},{key:"resourceAllToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml()};for(var n in e)""===e[n]&&delete e[n];if(t){var r=[];for(var a in e)"drawable"===a&&r.push.apply(r,h(St(e[a]))),r.push.apply(r,h(Rt(e[a])));this.saveToDisk(r)}return e}},{key:"resourceStringToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={1:[]};this.stored.strings=new Map(h(this.stored.strings.entries()).sort(_t)),""===this.appName||this.stored.strings.has("app_name")||e[1].push({name:"app_name",value:this.appName});var n=this.stored.strings.entries(),r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(a>=n.length)break;i=n[a++]}else{if((a=n.next()).done)break;i=a.value}var o=u(i,2);e[1].push({name:o[0],value:o[1]})}var l=At.createTemplate(At.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<string name="{&name}">{~value}</string>\n!1\n</resources>\n\x3c!-- filename: res/values/strings.xml --\x3e'),e);return l=Y(l,this.userSettings.insertSpaces,!0),t&&this.saveToDisk(Rt(l)),l}},{key:"resourceStringArrayToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.arrays.size){var n={1:[]};this.stored.arrays=new Map(h(this.stored.arrays.entries()).sort());var r=this.stored.arrays.entries(),a=Array.isArray(r),i=0;for(r=a?r:r[Symbol.iterator]();;){var o;if(a){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var l=u(o,2);n[1].push({name:l[0],items:l[1].map(function(t){return{value:t}})})}e=Y(e=At.createTemplate(At.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<string-array name="{&name}">\n!items\n\t\t<item>{&value}</item>\n!items\n\t</string-array>\n!1\n</resources>\n\x3c!-- filename: res/values/string_arrays.xml --\x3e'),n),this.userSettings.insertSpaces,!0),t&&this.saveToDisk(Rt(e))}return e}},{key:"resourceFontToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.fonts.size){var n=this.userSettings;this.stored.fonts=new Map(h(this.stored.fonts.entries()).sort());var r=n.targetAPI<26?"app":"android",a=this.stored.fonts.entries(),i=Array.isArray(a),o=0;for(a=i?a:a[Symbol.iterator]();;){var l;if(i){if(o>=a.length)break;l=a[o++]}else{if((o=a.next()).done)break;l=o.value}var s=u(l,2),d=s[0],c=s[1],f={name:d,namespace:q(r),1:[]};for(var p in c){var g=u(p.split("-"),2),m=g[0],v=g[1];f[1].push({style:m,weight:v,font:"@font/".concat(d+("normal"===m&&"normal"===v?"_".concat(m):("normal"!==m?"_".concat(m):"")+("normal"!==v?"_".concat(v):"")))})}e+="\n\n"+At.createTemplate(At.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<font-family {&namespace}>\n!1\n\t<font android:fontStyle="{&style}" android:fontWeight="{&weight}" android:font="{&font}" />\n!1\n</font-family>\n\x3c!-- filename: res/font/{&name}.xml --\x3e'),f)}n.targetAPI<26&&(e=e.replace(/android/g,"app")),e=Y(e,n.insertSpaces),t&&this.saveToDisk(Rt(e))}return e.trim()}},{key:"resourceColorToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.colors.size){var n={1:[]};this.stored.colors=new Map(h(this.stored.colors.entries()).sort());var r=this.stored.colors.entries(),a=Array.isArray(r),i=0;for(r=a?r:r[Symbol.iterator]();;){var o;if(a){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var l=u(o,2);n[1].push({name:l[0],value:l[1]})}e=Y(e=At.createTemplate(At.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<color name="{&value}">{&name}</color>\n!1\n</resources>\n\x3c!-- filename: res/values/colors.xml --\x3e'),n),this.userSettings.insertSpaces),t&&this.saveToDisk(Rt(e))}return e}},{key:"resourceStyleToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.styles.size){for(var n=this.userSettings,r={1:[]},a=Array.from(this.stored.styles.values()).sort(function(t,e){return(""+t.name).toLowerCase()>=(""+e.name).toLowerCase()?1:-1}),i=function(){if(o){if(l>=s.length)return"break";d=s[l++]}else{if((l=s.next()).done)return"break";d=l.value}var t=d,e=[];t.attrs.split(";").sort().forEach(function(t){var n=u(t.split("="),2);e.push({name:n[0],value:n[1].replace(/"/g,"")})}),r[1].push({name:t.name,parent:t.parent||"",items:e})},o=Array.isArray(s=a),l=0,s=o?s:s[Symbol.iterator]();;){var d;if("break"===i())break}e=Y(e=j((e=At.createTemplate(At.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<style name="{&name}" parent="{~parent}">\n!items\n\t\t<item name="{&name}">{&value}</item>\n!items\n\t</style>\n!1\n</resources>\n\x3c!-- filename: res/values/styles.xml --\x3e'),r)).trim(),n.resolutionDPI,n.convertPixels,!0),n.insertSpaces),t&&this.saveToDisk(Rt(e))}return e}},{key:"resourceDimenToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.dimens.size){var n=this.userSettings,r={1:[]};this.stored.dimens=new Map(h(this.stored.dimens.entries()).sort());var a=this.stored.dimens.entries(),i=Array.isArray(a),o=0;for(a=i?a:a[Symbol.iterator]();;){var l;if(i){if(o>=a.length)break;l=a[o++]}else{if((o=a.next()).done)break;l=o.value}var s=u(l,2);r[1].push({name:s[0],value:s[1]})}e=Y(e=j((e=At.createTemplate(At.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<dimen name="{&name}">{&value}</dimen>\n!1\n</resources>\n\x3c!-- filename: res/values/dimens.xml --\x3e'),r)).trim(),n.resolutionDPI,n.convertPixels),n.insertSpaces),t&&this.saveToDisk(Rt(e))}return e}},{key:"resourceDrawableToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.drawables.size||this.stored.images.size){var n=this.userSettings,r=At.parseTemplate("{&value}\n\x3c!-- filename: {&name} --\x3e"),a=this.stored.drawables.entries(),i=Array.isArray(a),o=0;for(a=i?a:a[Symbol.iterator]();;){var l;if(i){if(o>=a.length)break;l=a[o++]}else{if((o=a.next()).done)break;l=o.value}var s=u(l,2),d=s[1];e+="\n\n"+At.createTemplate(r,{name:"res/drawable/".concat(v=s[0],".xml"),value:d})}var c=this.stored.images.entries(),f=Array.isArray(c),p=0;for(c=f?c:c[Symbol.iterator]();;){var g;if(f){if(p>=c.length)break;g=c[p++]}else{if((p=c.next()).done)break;g=p.value}var m=u(g,2),v=m[0],y=m[1];if(Object.keys(y).length>1)for(var b in y)e+="\n\n"+At.createTemplate(r,{name:"res/drawable-".concat(b,"/").concat(v,".").concat(xt.lastIndexOf(y[b],".")),value:"\x3c!-- image: ".concat(y[b]," --\x3e")});else y.mdpi&&(e+="\n\n"+At.createTemplate(r,{name:"res/drawable/".concat(v,".").concat(xt.lastIndexOf(y.mdpi,".")),value:"\x3c!-- image: ".concat(y.mdpi," --\x3e")}))}e=Y(e=j(e.trim(),n.resolutionDPI,n.convertPixels),n.insertSpaces),t&&this.saveToDisk(h(St(e)).concat(h(Rt(e))))}return e}},{key:"userSettings",get:function(){return this.resource.userSettings}}]),n}(),Ct=androme.lib.dom,Pt=androme.lib.enumeration,Nt=androme.lib.util,Ot=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return i(n,androme.lib.extensions.Accessibility),r(n,[{key:"afterBaseLayout",value:function(){for(var t=function(){if(e){if(n>=r.length)return"break";a=r[n++]}else{if((n=r.next()).done)return"break";a=n.value}var t=a;if(!t.hasBit("excludeProcedure",Pt.NODE_PROCEDURE.ACCESSIBILITY)){var i=t.element;switch(t.controlName){case v.EDIT:t.companion||[Ct.getPreviousElementSibling(i),Ct.getNextElementSibling(i)].some(function(e){if(e){var n=Ct.getElementAsNode(e),r=e&&e.parentElement&&"LABEL"===e.parentElement.tagName?Ct.getElementAsNode(e.parentElement):void 0;if(n&&n.visible&&n.pageFlow){if(Nt.hasValue(e.htmlFor)&&e.htmlFor===i.id)return n.android("labelFor",t.documentId),!0;if(n.textElement&&r)return r.android("labelFor",t.documentId),!0}}return!1});case v.SELECT:case v.CHECKBOX:case v.RADIO:case v.BUTTON:i.disabled&&t.android("focusable","false")}}},e=Array.isArray(r=this.application.processing.cache.elements),n=0,r=e?r:r[Symbol.iterator]();;){var a;if("break"===t())break}}}]),n}(),Lt=androme.lib.base.Layout,Bt=androme.lib.constant,Dt=androme.lib.dom,Mt=androme.lib.enumeration,Xt=androme.lib.util;var zt=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.CssGrid),r(n,[{key:"processNode",value:function(t,e){c(o(n.prototype),"processNode",this).call(this,t,e);var r=t.data(Bt.EXT_NAME.CSS_GRID,"mainData"),a="";if(r){var i=new Lt(e,t,f.GRID,4,t.length,t.children);i.rowCount=r.row.count,i.columnCount=r.column.count,a=this.application.renderNode(i)}return{output:a,complete:""!==a}}},{key:"processChild",value:function(t,e){var n,r=e.data(Bt.EXT_NAME.CSS_GRID,"mainData"),a=t.data(Bt.EXT_NAME.CSS_GRID,"cellData"),i="";if(r&&a){var o=function(n,i,o){var l=r[i],s="".concat(i,"Start"),d="".concat(i,"Span"),c=a[d]-a[s],u="min".concat(Xt.capitalize(o)),h=0,f=0,p=0,g=0;l.unit.every(function(t){return"auto"===t})&&("width"===o?l.unit=l.unit.map(function(){return"1fr"}):l.unit.length=0);for(var m=0,v=0;m<a[d];m++){p+=parseInt(e.convertPX(l.unitMin[a[s]+m]));var y=l.unit[a[s]+m];if(!Xt.hasValue(y)){if(!l.auto[v])continue;y=l.auto[v],l.auto[v+1]&&v++}if(Xt.hasValue(y)){if("auto"===y||"min-content"===y||"max-content"===y){c<l.unit.length&&(!e.has(o)||l.unit.some(function(t){return Xt.isUnit(t)})||"min-content"===y)?(h=t.bounds[o],f=0,g=0):(h=0,f=0,g=.01);break}if(Xt.isPercent(y))g+=parseInt(y)/100,f=h,h=0;else if(y.endsWith("fr"))g+=parseInt(y),f=h,h=0;else if(y.endsWith("px")){var b=parseInt(y);0===f?h+=b:f+=b}}}if(a[d]>1){var E=(a[d]-1)*l.gap;h>0&&0===f?h+=E:f>0&&(f+=E),p>0&&(p+=E)}p>0&&(l.autoFill&&0===h&&1===r["column"===i?"row":"column"].count?(h=Math.max(t.bounds.width,p),g=0):f=p),n.android("layout_".concat(i),""+a[s]),a[d]>1&&n.android("layout_".concat(i,"Span"),""+a[d]),f>0&&!n.has(u)&&n.css(u,Xt.formatPX(f),!0),g>0?(n.android("layout_".concat(o),"0px"),n.android("layout_".concat(i,"Weight"),""+g),n.mergeGravity("layout_gravity","column"===i?"fill_horizontal":"fill_vertical")):h>0&&!n.has(o)&&n.css(o,Xt.formatPX(h),!0)},l=t.has("alignSelf")?t.css("alignSelf"):r.alignItems,s=t.has("justifySelf")?t.css("justifySelf"):r.justifyItems;if(/(start|end|center|baseline)/.test(l)||/(start|end|center|baseline|left|right)/.test(s)){(n=new it(this.application.nextId,Dt.createElement(t.actualParent?t.actualParent.baseElement:null),this.application.controllerHandler.delegateNodeInit)).tagName=t.tagName,n.setControlType(v.FRAME,f.FRAME),n.inherit(t,"initial","base"),n.resetBox(510),n.exclude({procedure:Mt.NODE_PROCEDURE.AUTOFIT|Mt.NODE_PROCEDURE.CUSTOMIZATION,resource:Mt.NODE_RESOURCE.BOX_STYLE|Mt.NODE_RESOURCE.ASSET}),e.appendTry(t,n),n.render(e),this.application.processing.cache.append(n,!1),t.inheritBox(30,n),o(n,"column","width"),o(n,"row","height");var d=!1;s.endsWith("start")||s.endsWith("left")||s.endsWith("baseline")?(t.mergeGravity("layout_gravity","left"),d=!0):s.endsWith("end")||s.endsWith("right")?(t.mergeGravity("layout_gravity","right"),d=!0):s.endsWith("center")&&(t.mergeGravity("layout_gravity","center_horizontal"),d=!0),t.hasWidth||t.android("layout_width",d?"wrap_content":"match_parent",!1),l.endsWith("start")||l.endsWith("baseline")?t.mergeGravity("layout_gravity","top"):l.endsWith("end")?t.mergeGravity("layout_gravity","bottom"):l.endsWith("center")?t.mergeGravity("layout_gravity","center_vertical"):t.hasHeight||t.android("layout_height","match_parent",!1),t.parent=n;var c=new Lt(e,n,f.FRAME,2048,1,n.children);i=this.application.renderLayout(c)}var u=n||t;o(u,"column","width"),o(u,"row","height"),u.has("height")||(e.hasHeight&&(u.android("layout_height","0px"),u.android("layout_rowWeight","1")),u.mergeGravity("layout_gravity","fill_vertical")),u.has("width")||u.mergeGravity("layout_gravity","fill_horizontal")}return{output:i,parent:n,complete:""!==i}}},{key:"postBaseLayout",value:function(t){var e=t.data(Bt.EXT_NAME.CSS_GRID,"mainData");if(e){var n=function(n,r){var a="column"===r?16:2,i="column"===r?4:8,o="column"===r?256:32,l=e[r],s=n.startsWith("space")?function(t,e){var n=[];if("column"===e)for(var r=0;r<t.column.count;r++){n[r]=[];for(var a=0;a<t.row.count;a++)n[r].push(t.rowData[a][r])}else for(var i=0;i<t.row.count;i++)n.push(t.rowData[i]);return n}(e,r):[],d=function(t,e,n){for(var r="column"===e?"width":"height",a=0,i=0;i<t[e].count;i++){var o=t[e].unit[i];o.endsWith("px")?a+=parseInt(o):a+=Xt.minArray(t.rowData[i].map(function(t){return t&&t.length?t[0].bounds[r]:0}))}return a=n[r]-(a+=(t[e].count-1)*t[e].gap)}(e,r,t);d>0&&function(){var c="column"===r?"width":"height",u=e[r].count,h=new Set;switch(n){case"center":t.modifyBox(o,Math.floor(d/2)),l.normal=!1;break;case"right":if("row"===r)break;case"end":case"flex-end":t.modifyBox(o,d),l.normal=!1;break;case"space-around":(function(){for(var t=Math.floor(d/(2*u)),e=function(e){new Set(Xt.flatArray(s[e])).forEach(function(n){h.has(n)?n.cssPX(c,2*t):(n.modifyBox(a,t),e<u-1&&n.modifyBox(i,t),h.add(n))})},n=0;n<u;n++)e(n);l.normal=!1})();break;case"space-between":(function(){for(var t=Math.floor(d/(2*(u-1))),e=Xt.flatArray(s[u-1]),n=function(n){new Set(Xt.flatArray(s[n])).forEach(function(r){h.has(r)?r.cssPX(c,2*t):(n>0&&r.modifyBox(a,t),n<u-1&&!e.some(function(t){return t===r})&&r.modifyBox(i,t),h.add(r))})},r=0;r<u;r++)n(r);l.normal=!1})();break;case"space-evenly":(function(){for(var t=Math.floor(d/(u+1)),e=Xt.flatArray(s[u-1]),n=function(n){var r=Math.floor(t/2);new Set(Xt.flatArray(s[n])).forEach(function(o){h.has(o)?o.cssPX(c,t):(o.modifyBox(a,0===n?t:r),n<u-1&&!e.some(function(t){return t===o})&&o.modifyBox(i,r),h.add(o))})},r=0;r<u;r++)n(r);l.normal=!1})()}}()};if(t.hasWidth&&"normal"!==e.justifyContent&&n(e.justifyContent,"column"),t.hasHeight&&"normal"!==e.alignContent&&n(e.alignContent,"row"),e.column.normal&&!e.column.unit.includes("auto")){var r=e.column.gap*(e.column.count-1);r>0&&(t.renderParent&&!t.renderParent.hasAlign(4)&&(t.cssPX("minWidth",r),t.cssPX("width",r,!1,!0)),!t.has("width")&&t.has("maxWidth")&&t.css("width",Xt.formatPX(t.bounds.width+r),!0))}}}},{key:"postProcedure",value:function(t){var e=t.data(Bt.EXT_NAME.CSS_GRID,"mainData");if(e){var n=this.application.controllerHandler,r=Array.from(e.children)[e.children.size-1];if(e.column.unit.every(function(t){return Xt.isPercent(t)})){var i=e.column.unit.reduce(function(t,e){return t+parseInt(e)},0);if(i<100){t.android("columnCount",""+(e.column.count+1));for(var o=0;o<e.row.count;o++){var l;n.appendAfter(r.id,n.renderSpace(t.renderDepth+1,Xt.formatPercent(100-i),"wrap_content",0,0,V({android:(l={},a(l,t.localizeString(b.MARGIN_LEFT),Xt.formatPX(e.column.gap)),a(l,"layout_row",""+o),a(l,"layout_column",""+e.column.count),l)})))}}}for(var s=0;s<e.emptyRows.length;s++){var d=e.emptyRows[s];if(d)for(var c=0;c<d.length;c++)if(1===d[c]){n.appendAfter(r.id,n.renderSpace(t.renderDepth+1,"wrap_content",Xt.formatPX(e.row.gap),0,0,V({android:{layout_row:""+s,layout_column:""+c}})));break}}}}}]),n}(),Ht=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return i(n,androme.lib.extensions.External),n}(),Gt=androme.lib.base.Layout,Wt=androme.lib.base.NodeList,Vt=androme.lib.constant,Ft=(androme,androme.lib.util),Ut={leftTop:["left","top"],rightBottom:["right","bottom"],rightLeftBottomTop:["rightLeft","bottomTop"],leftRightTopBottom:["leftRight","topBottom"],widthHeight:["Width","Height"],horizontalVertical:["Horizontal","Vertical"]},jt=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.Flexbox),r(n,[{key:"processNode",value:function(t,e){c(o(n.prototype),"processNode",this).call(this,t,e);var r=t.data(Vt.EXT_NAME.FLEXBOX,"mainData"),a=new Gt(e,t,0,4,t.length);return a.rowCount=r.rowCount,a.columnCount=r.columnCount,t.filter(function(t){return!t.pageFlow}).length>0||r.rowDirection&&(1===r.rowCount||t.hasHeight)||r.columnDirection&&1===r.columnCount?a.containerType=f.CONSTRAINT:a.setType(f.LINEAR,r.columnDirection?8:16),{output:this.application.renderNode(a),complete:!0}}},{key:"processChild",value:function(t,e){var n="";if(t.hasAlign(128)){var r=new Gt(e,t,f.CONSTRAINT,4,t.length,t.children);n=this.application.renderNode(r)}return{output:n,complete:""!==n}}},{key:"postBaseLayout",value:function(t){var e=this,n=t.data(Vt.EXT_NAME.FLEXBOX,"mainData");if(n){var r,a=[],i=[],o=[],l=[];if(n.wrap)t.filter(function(t){return t.hasAlign(128)}).forEach(function(e){var s=e.renderChildren.filter(function(t){return t.pageFlow});if(n.rowDirection)e.android("layout_width","match_parent"),t.hasHeight&&(e.android("layout_height","0px"),e.app("layout_constraintVertical_weight","1")),a.push(s),l.push(e);else{if(e.android("layout_height","match_parent"),i.push(s),r){for(var d=r[0],c=1;c<r.length;c++)r[c].linear.right>d.linear.right&&(d=r[c]);var u=e.linear.left-d.actualRight();u>0&&e.modifyBox(16,u),e.constraint.horizontal=!0}o.push(e),r=s}}),t.is(f.LINEAR)?n.columnDirection&&n.wrapReverse&&t.mergeGravity("gravity","right"):(l.length&&i.push(l),o.length&&a.push(o));else n.rowDirection?a[0]=n.directionReverse?n.children.reverse():n.children:(t.hasHeight||t.android("layout_height","match_parent"),i[0]=n.directionReverse?n.children.reverse():n.children);[a,i].forEach(function(r,a){var i=0===a,s=i?1:0;r.forEach(function(r){for(var d,c=Ut.widthHeight[s],u=c.toLowerCase(),h=[Ut.leftTop[a],Ut.leftTop[s]],f=h[0],p=h[1],g=[Ut.rightBottom[a],Ut.rightBottom[s]],m=g[0],v=g[1],y=Ft.maxArray(r.map(function(t){return t.flexElement?0:t.bounds[c.toLowerCase()]})),b=0;b<r.length;b++){var w=r[b],T=r[b-1],x=r[b+1];if(x&&w.anchor(Ut.rightLeftBottomTop[a],x.documentId),T&&w.anchor(Ut.leftRightTopBottom[a],T.documentId),r!==o&&r!==l){switch(w.flexbox.alignSelf){case"start":case"flex-start":w.anchor(p,"parent");break;case"end":case"flex-end":w.anchor(v,"parent");break;case"baseline":i&&(void 0===d&&(d=Wt.baseline(r)[0]),d&&(w!==d?(w.anchor("baseline",d.documentId),w.constraint.vertical=!0):w.anchor("top","parent")));break;case"center":w.anchorParent(i?E.VERTICAL:E.HORIZONTAL);break;default:w.anchor(n.wrapReverse?v:p,"parent"),!w["has".concat(c)]&&!w.has(u,32)&&w.initial.bounds[u]<y&&(w.android("layout_".concat(c.toLowerCase()),"0px"),w.anchor(n.wrapReverse?p:v,"parent"))}wt.setFlexDimension(w,i)}w.positioned=!0}var A=Ut.horizontalVertical[a],S=r[0],R=r[r.length-1],I="layout_constraint".concat(A,"_chainStyle");if(S.anchor(f,"parent"),R.anchor(m,"parent"),r.every(function(t){return t.flexbox.grow<1}))switch(n.justifyContent){case"left":if(!i)break;case"start":case"flex-start":S.app(I,"packed"),S.app("layout_constraint".concat(A,"_bias"),"0");break;case"center":S.app(I,"packed"),S.app("layout_constraint".concat(A,"_bias"),"0.5");break;case"right":if(!i)break;case"end":case"flex-end":S.app(I,"packed"),S.app("layout_constraint".concat(A,"_bias"),"1");break;case"space-between":S.app(I,"spread_inside");break;case"space-evenly":S.app(I,"spread"),r.forEach(function(t){return t.app("layout_constraint".concat(A,"_weight"),""+(t.flexbox.grow||1))});break;case"space-around":var _=e.application.controllerHandler,k=A.toLowerCase();S.app(I,"spread_inside"),S.constraint[k]=!1,R.constraint[k]=!1,_.addGuideline(S,S.parent,k,!0,!1),_.addGuideline(R,S.parent,k,!0,!0)}r.length>1&&(i&&Ft.withinFraction(t.box.left,S.linear.left)&&Ft.withinFraction(R.linear.right,t.box.right)||!i&&Ft.withinFraction(t.box.top,S.linear.top)&&Ft.withinFraction(R.linear.bottom,t.box.bottom))?S.app(I,"spread_inside",!1):(S.app(I,"packed",!1),S.app("layout_constraint".concat(A,"_bias"),n.directionReverse?"1":"0",!1))})})}}}]),n}(),Yt=androme.lib.base.Layout,Zt=androme.lib.constant,Kt=(androme,androme.lib.util);var qt=function(n){function a(){return e(this,a),d(this,o(a).apply(this,arguments))}return i(a,androme.lib.extensions.Grid),r(a,[{key:"processNode",value:function(t,e){c(o(a.prototype),"processNode",this).call(this,t,e);var n=t.data(Zt.EXT_NAME.GRID,"mainData"),r="";if(n){var i=new Yt(e,t,f.GRID,4,t.length,t.children);i.columnCount=n.columnCount,r=this.application.renderNode(i)}return{output:r,complete:""!==r}}},{key:"processChild",value:function(e,n){var r=n.data(Zt.EXT_NAME.GRID,"mainData"),a=e.data(Zt.EXT_NAME.GRID,"cellData");if(r&&a){a.rowSpan>1&&e.android("layout_rowSpan",""+a.rowSpan),a.columnSpan>1&&e.android("layout_columnSpan",""+a.columnSpan),"table-cell"===e.display&&e.mergeGravity("layout_gravity","fill");var i=a.siblings?a.siblings.slice():[];if(i.length){var o=this.application.controllerHandler;i.unshift(e);var l=new Yt(n,e,0,0,i.length,i);if(l.linearY)l.node=o.createNodeGroup(e,i,n),l.setType(f.LINEAR,16);else{l.init();var s=o.processTraverseHorizontal(l);l.node=s.layout.node}if(0!==l.containerType)return function(e,n){for(var r,a=0;a<n.length;a++){var i=n[a];if(void 0===r)r=i.data(Zt.EXT_NAME.GRID,"cellData");else if(r){var o=i.data(Zt.EXT_NAME.GRID,"cellData");if(o)for(var l in o)switch(t(o[l])){case"number":r[l]+=o[l];break;case"boolean":!0===o[l]&&(r[l]=!0)}}i.siblingIndex=a,i.data(Zt.EXT_NAME.GRID,"cellData",null)}e.data(Zt.EXT_NAME.GRID,"cellData",r)}(l.node,i),{output:this.application.renderNode(l),parent:l.node,complete:!0}}}return{output:""}}},{key:"postBaseLayout",value:function(t){var e=this;if(!t.tableElement||"collapse"!==t.css("borderCollapse")){var n=t.data(Zt.EXT_NAME.GRID,"mainData");n&&t.each(function(t){var r=t.data(Zt.EXT_NAME.GRID,"cellData");if(r){var a=t.actualParent;if(a&&!a.visible&&(r.cellStart&&(n.paddingTop=a.paddingTop+a.marginTop),r.rowStart&&(n.paddingLeft=Math.max(a.marginLeft+a.paddingLeft,n.paddingLeft)),r.rowEnd)){var i=a.marginBottom+a.paddingBottom+(r.cellEnd?0:a.marginTop+a.paddingTop);i>0&&(r.cellEnd?n.paddingBottom=i:e.application.controllerHandler.appendAfter(t.id,e.application.controllerHandler.renderSpace(t.renderDepth,"match_parent",Kt.formatPX(i),n.columnCount))),n.paddingRight=Math.max(a.marginRight+a.paddingRight,n.paddingRight)}}},!0),t.modifyBox(32,n.paddingTop),t.modifyBox(64,n.paddingRight),t.modifyBox(128,n.paddingBottom),t.modifyBox(256,n.paddingLeft)}!t.hasWidth&&Kt.withinFraction(t.box.right,Kt.maxArray(t.renderChildren.filter(function(t){return t.inlineFlow||!t.blockStatic}).map(function(t){return t.linear.right})))&&t.android("layout_width","wrap_content")}}]),a}(),$t=androme.lib.base.Layout,Jt=androme.lib.base.NodeList,Qt=androme.lib.constant,te=androme.lib.dom,ee=(androme,androme.lib.util),ne=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.List),r(n,[{key:"processNode",value:function(t,e){c(o(n.prototype),"processNode",this).call(this,t,e);var r=new $t(e,t,0,0,t.length,t.children),a="";return Jt.linearY(r.children)?(r.rowCount=t.length,r.columnCount=t.some(function(t){return"inside"===t.css("listStylePosition")})?3:2,r.setType(f.GRID,4)):this.application.controllerHandler.checkRelativeHorizontal(r)&&(r.rowCount=1,r.columnCount=r.length,r.setType(f.RELATIVE,8)),0!==r.containerType&&(a=this.application.renderNode(r)),{output:a,complete:""!==a}}},{key:"processChild",value:function(t,e){var n=t.data(Qt.EXT_NAME.LIST,"mainData"),r="";if(n){var i=this.application.controllerHandler,o=ee.convertInt(e.css("paddingLeft"))+ee.convertInt(e.css("marginLeft")),l=0,s=t.marginLeft;t.modifyBox(16,null),e.is(f.GRID)?(l=ee.convertInt(e.android("columnCount")),s+=o):e.item(0)===t&&(s+=o);var d=t.find(function(t){return"left"===t.float&&t.marginLeft<0&&Math.abs(t.marginLeft)<=ee.convertInt(t.documentParent.cssInitial("marginLeft"))});if(d&&""===n.ordinal){var c=new $t(e,d);d.inlineText||0===d.length?c.containerType=f.TEXT:(c.retain(d.children),i.checkRelativeHorizontal(c)?c.setType(f.RELATIVE,8):c.setType(f.CONSTRAINT,2)),d.parent=e,i.prependBefore(t.id,this.application.renderNode(c)),3===l&&t.android("layout_columnSpan","2"),(s+=d.marginLeft)>0&&!d.hasWidth&&d.android("minWidth",ee.formatPX(s)),d.modifyBox(16,null)}else{var u=l>0?"0":"",h="inside"===t.css("listStylePosition"),p=0,g=0,m="";if(""!==n.imageSrc){var y=te.getBackgroundPosition(n.imagePosition,t.bounds,t.dpi,t.fontSize);p=y.left,g=y.top,m=z.addImageUrl(n.imageSrc)}var E=""!==m&&!t.has("listStyleImage")||0===o&&0===t.marginLeft?"":"right";""===E&&(s+=t.paddingLeft,t.modifyBox(256,null)),p>0&&s>p&&(s-=p);var w=(s=Math.max(s,20))<=24?6:s<=32?8:10,T=p>0?ee.formatPX(p):"",x=s>0?ee.formatPX(s):"",A=V({android:{layout_columnWeight:u}});if(h){var S=i.renderNodeStatic(v.SPACE,e.renderDepth+1,{android:a({minWidth:x,layout_columnWeight:u},t.localizeString(b.MARGIN_LEFT),T)},"wrap_content","wrap_content");i.prependBefore(t.id,S),A.android.minWidth=ee.formatPX("24")}else{var R;Object.assign(A.android,(a(R={minWidth:x,gravity:s>20?t.localizeString(E):""},b.MARGIN_TOP,t===e.children[0]&&t.marginTop>0?ee.formatPX(t.marginTop):""),a(R,t.localizeString(b.MARGIN_LEFT),T),a(R,t.localizeString(b.PADDING_LEFT),""===E&&""===m?ee.formatPX(w):20===s?"2px":""),a(R,t.localizeString(b.PADDING_RIGHT),"right"===E&&s>20?ee.formatPX(w):""),a(R,b.PADDING_TOP,t.paddingTop>0?ee.formatPX(t.paddingTop):""),R)),3===l&&t.android("layout_columnSpan","2")}if("DT"===t.tagName&&""===m)t.android("layout_columnSpan",""+l);else{var I;if(""!==m)Object.assign(A.android,(a(I={src:"@drawable/".concat(m)},b.MARGIN_TOP,g>0?ee.formatPX(g):""),a(I,"scaleType",h||"right"!==E?"fitStart":"fitEnd"),I));else A.android.text=n.ordinal;var _=new it(this.application.nextId,te.createElement(t.actualParent?t.actualParent.baseElement:null),this.application.controllerHandler.delegateNodeInit);_.tagName="".concat(t.tagName,"_ORDINAL"),_.inherit(t,"textStyle"),""!==n.ordinal&&!/[A-Za-z\d]+\./.test(n.ordinal)&&_.toInt("fontSize")>12&&_.css("fontSize","12px"),this.application.processing.cache.append(_,!1);var k=i.renderNodeStatic(""!==m?v.IMAGE:""!==n.ordinal?v.TEXT:v.SPACE,e.renderDepth+1,A,"wrap_content","wrap_content",_);i.prependBefore(t.id,k)}}l>0&&(t.android("layout_width","0px"),t.android("layout_columnWeight","1"));var C=[Jt.linearX(t.children),Jt.linearY(t.children)],P=C[0];if(P||C[1]){var N=new $t(e,t,f.LINEAR,P?8:16,t.length,t.children);r=this.application.renderNode(N)}}return{output:r,next:""!==r}}},{key:"postBaseLayout",value:function(t){c(o(n.prototype),"postBaseLayout",this).call(this,t);for(var e=t.android("columnCount"),r=0;r<t.renderChildren.length;r++){var a=t.renderChildren[r],i=t.renderChildren[r-1],l=0;if(i){var s=ee.convertInt(i.android(b.MARGIN_BOTTOM));s>0&&(l+=s,i.delete("android",b.MARGIN_BOTTOM),i.modifyBox(8,null))}var d=ee.convertInt(a.android(b.MARGIN_TOP));if(d>0&&(l+=d,a.delete("android",b.MARGIN_TOP),a.modifyBox(2,null)),l>0){var u=V({android:{layout_columnSpan:""+e}}),h=this.application.controllerHandler.renderNodeStatic(v.SPACE,a.renderDepth,u,"match_parent",ee.formatPX(l));this.application.controllerHandler.prependBefore(a.id,h,0)}}}},{key:"postProcedure",value:function(t){t.blockStatic&&t.inlineWidth&&t.android("layout_width","match_parent")}}]),n}(),re=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.Relative),n}(),ae=androme.lib.base.Layout,ie=androme.lib.constant,oe=androme.lib.enumeration,le=androme.lib.util,se=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.Sprite),r(n,[{key:"processNode",value:function(t,e){var n,r="",a=t.data(ie.EXT_NAME.SPRITE,"mainData");if(a&&a.uri&&a.position&&t.baseElement){(n=new it(this.application.nextId,t.baseElement,this.application.controllerHandler.delegateNodeInit)).inherit(t,"initial","base","styleMap"),n.setControlType(v.FRAME),n.exclude({procedure:oe.NODE_PROCEDURE.CUSTOMIZATION,resource:oe.NODE_RESOURCE.IMAGE_SOURCE}),e.appendTry(t,n),this.application.processing.cache.append(n,!1),t.setControlType(v.IMAGE,f.IMAGE),t.exclude({procedure:oe.NODE_PROCEDURE.AUTOFIT,resource:oe.NODE_RESOURCE.FONT_STYLE|oe.NODE_RESOURCE.BOX_STYLE}),t.css({position:"static",top:"auto",right:"auto",bottom:"auto",left:"auto",display:"inline-block",width:le.formatPX(a.width),height:le.formatPX(a.height),marginTop:le.formatPX(a.position.y),marginRight:"0px",marginBottom:"0px",marginLeft:le.formatPX(a.position.x),paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px",backgroundPositionX:"0px",backgroundPositionY:"0px",backgroundColor:"transparent"}),t.unsetCache(),t.android("src","@drawable/".concat(z.addImage({mdpi:a.uri}))),t.parent=n;var i=new ae(e,n,f.FRAME,2048,1,n.children);r=this.application.renderLayout(i)}return{output:r,parent:n,complete:!0}}}]),n}(),de=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.Substitute),r(n,[{key:"processNode",value:function(t,e){return t.containerType=t.blockStatic?f.BLOCK:f.INLINE,c(o(n.prototype),"processNode",this).call(this,t,e)}},{key:"postProcedure",value:function(t){var e=Object.assign({},this.options[t.element.id]);t.apply(z.formatOptions(e,this.application.extensionManager.optionValueAsBoolean(m.RESOURCE_STRINGS,"numberResourceValue")))}}]),n}(),ce=androme.lib.base.Layout,ue=androme.lib.constant,he=(androme,androme.lib.util),fe=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.Table),r(n,[{key:"processNode",value:function(t,e){c(o(n.prototype),"processNode",this).call(this,t,e);var r=t.data(ue.EXT_NAME.TABLE,"mainData"),a="";if(r){if(r.columnCount>1){var i=!!t.data(ue.EXT_NAME.TABLE,"expand");if(t.each(function(t){if("0px"===t.css("width"))t.android("layout_width","0px"),t.android("layout_columnWeight",""+(t.element.colSpan||1));else{var e=t.data(ue.EXT_NAME.TABLE,"expand"),n=!!t.data(ue.EXT_NAME.TABLE,"exceed"),r=!!t.data(ue.EXT_NAME.TABLE,"downsized");if("boolean"==typeof e)if(e){var a=he.convertFloat(t.data(ue.EXT_NAME.TABLE,"percent"))/100;a>0&&(t.android("layout_width","0px"),t.android("layout_columnWeight",he.trimEnd(a.toFixed(3),"0")),i=!0)}else t.android("layout_columnWeight","0");r&&(n?(t.android("layout_width","0px"),t.android("layout_columnWeight","0.01")):(t.textElement&&!/[\s\n\-]/.test(t.textContent.trim())&&t.android("maxLines","1"),t.has("width")&&t.toInt("width")<t.bounds.width&&t.android("layout_width",he.formatPX(t.bounds.width))))}}),i&&!t.hasWidth){var l=0;t.ascend().some(function(t){return!!t.hasWidth&&(l=t.bounds.width,!0)}),t.bounds.width>=l?t.android("layout_width","match_parent"):t.css("width",he.formatPX(t.bounds.width),!0)}}var s=new ce(e,t,f.GRID,4,t.length,t.children);s.rowCount=r.rowCount,s.columnCount=r.columnCount,a=this.application.renderNode(s)}return{output:a,complete:""!==a}}},{key:"processChild",value:function(t,e){var n=he.convertInt(t.data(ue.EXT_NAME.TABLE,"rowSpan")),r=he.convertInt(t.data(ue.EXT_NAME.TABLE,"colSpan")),a=he.convertInt(t.data(ue.EXT_NAME.TABLE,"spaceSpan"));return n>1&&t.android("layout_rowSpan",""+n),r>1&&t.android("layout_columnSpan",""+r),t.mergeGravity("layout_gravity","fill"),a>0&&this.application.controllerHandler.appendAfter(t.id,this.application.controllerHandler.renderSpace(e.renderDepth+1,"wrap_content","wrap_content",a)),{output:""}}},{key:"postProcedure",value:function(t){var e=he.convertInt(t.android("layout_width"));if(e>0&&(t.bounds.width>e&&t.android("layout_width",he.formatPX(t.bounds.width)),e>0&&"auto"===t.cssInitial("width")&&t.renderChildren.every(function(t){return t.inlineWidth})))for(var n=Array.isArray(a=t.renderChildren),r=0,a=n?a:a[Symbol.iterator]();;){var i;if(n){if(r>=a.length)break;i=a[r++]}else{if((r=a.next()).done)break;i=r.value}var o=i;o.android("layout_width","0px"),o.android("layout_columnWeight","1")}}}]),n}(),pe=androme.lib.base.Layout,ge=androme.lib.constant,me=(androme,function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.extensions.VerticalAlign),r(n,[{key:"processNode",value:function(t,e){c(o(n.prototype),"processNode",this).call(this,t,e);var r="";if(t.data(ge.EXT_NAME.VERTICAL_ALIGN,"mainData")){var a=new pe(e,t,f.RELATIVE,8,t.length,t.children);a.floated=a.getFloated(!0),r=this.application.renderNode(a)}return{output:r}}}]),n}()),ve=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return i(n,androme.lib.extensions.WhiteSpace),n}(),ye=androme.lib.base.Layout,be=androme.lib.enumeration,Ee=androme.lib.util,we=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).options={circlePosition:!1},t}return i(n,androme.lib.base.Extension),r(n,[{key:"condition",value:function(t){return this.included(t.element)&&t.length>0}},{key:"processNode",value:function(t,e){t.exclude({procedure:be.NODE_PROCEDURE.CONSTRAINT});var n=new ye(e,t,f.CONSTRAINT,32,t.length,t.children);return{output:this.application.renderNode(n)}}},{key:"afterConstraints",value:function(){for(var t=this,e=this.application.controllerHandler,n=function(){if(r){if(a>=i.length)return"break";o=i[a++]}else{if((a=i.next()).done)return"break";o=a.value}var n=o,l=new Map;if(n.each(function(t){var e=[];Ee.withinFraction(t.linear.left,n.box.left)&&e.push("left"),Ee.withinFraction(t.linear.top,n.box.top)&&e.push("top"),l.set(t,e)}),t.options.circlePosition){var s,d=Array.from(l.values()).some(function(t){return 2===t.length}),c=l.entries(),h=Array.isArray(c),f=0;for(c=h?c:c[Symbol.iterator]();;){var p;if(h){if(f>=c.length)break;p=c[f++]}else{if((f=c.next()).done)break;p=f.value}var g=u(p,2),m=g[0],v=g[1];if(d){if(2===v.length){m.anchor("left","parent"),m.anchor("top","parent"),s=m;break}}else if(1===v.length){v.includes("left")?(m.anchor("left","parent"),e.addGuideline(m,n,E.VERTICAL),s=m):(m.anchor("top","parent"),e.addGuideline(m,n,E.HORIZONTAL),s=m);break}}void 0===s&&(s=n.item(0),e.addGuideline(s,n)),n.each(function(t){if(s&&t!==s){var e=t.center,n=s.center,r=Math.abs(e.x-n.x),a=Math.abs(e.y-n.y),i=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(a,2))),o=Math.round(Math.atan(Math.min(r,a)/Math.max(r,a))*(180/Math.PI));e.y>n.y?e.x>n.x?r>a?o+=90:o=180-o:r>a?o=270-o:o+=180:e.y<n.y?n.x>e.x?r>a?o+=270:o=360-o:r>a&&(o=90-o):o=e.x>n.x?90:270,t.app("layout_constraintCircle",s.documentId),t.app("layout_constraintCircleRadius",Ee.formatPX(i)),t.app("layout_constraintCircleAngle",""+o)}})}else{var y=l.entries(),b=Array.isArray(y),w=0;for(y=b?y:y[Symbol.iterator]();;){var T;if(b){if(w>=y.length)break;T=y[w++]}else{if((w=y.next()).done)break;T=w.value}var x=u(T,2);m=x[0];(v=x[1]).includes("left")&&m.anchor("left","parent"),v.includes("top")&&m.anchor("top","parent"),v.length<2&&e.addGuideline(m,n)}}},r=Array.isArray(i=this.subscribers),a=0,i=r?i:i[Symbol.iterator]();;){var o;if("break"===n())break}}}]),n}(),Te=androme.lib.base.Layout,xe=androme.lib.base.NodeList,Ae=androme.lib.dom,Se=androme.lib.enumeration,Re=androme.lib.util;function Ie(t){return t.filter(function(e){return!e.pageFlow&&("fixed"===e.position||e.absoluteParent===t)})}function _e(t,e){return t.some(function(t){return t<e})}function ke(t,e,n){if(Re.isPercent(e)){var r=t.actualParent;if(r){var a=parseInt(e)-n/r.box.width*100;if(a>0)return Re.formatPercent(a)}}else if(Re.isUnit(e)){var i=parseInt(e)-n;if(i>0)return Re.formatPX(i)}return e}var Ce=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.base.Extension),r(n,[{key:"condition",value:function(t){var e=Ie(t);if(e.length>0){var n=e.filter(function(t){return t.has("top")&&t.top>=0}).map(function(t){return t.top}),r=e.filter(function(t){return t.has("right")&&t.right>=0}).map(function(t){return t.right}),a=e.filter(function(t){return t.has("bottom")&&t.bottom>=0}).map(function(t){return t.bottom}),i=e.filter(function(t){return t.has("left")&&t.left>=0}).map(function(t){return t.left});return _e(n,t.paddingTop+(t.documentBody?t.marginTop:0))||_e(r,t.paddingRight+(t.documentBody?t.marginRight:0))||_e(a,t.paddingBottom+(t.documentBody?t.marginBottom:0))||_e(i,t.paddingLeft+(t.documentBody?t.marginLeft:0))||t.documentBody&&r.length>0&&t.hasWidth}return!1}},{key:"processNode",value:function(t,e){var n=new it(this.application.nextId,Ae.createElement(t.baseElement,t.block),this.application.controllerHandler.delegateNodeInit);n.inherit(t,"initial","base"),n.exclude({procedure:Se.NODE_PROCEDURE.NONPOSITIONAL,resource:Se.NODE_RESOURCE.BOX_STYLE|Se.NODE_RESOURCE.ASSET});var r=u(Re.partition(Ie(t),function(e){return e.absoluteParent===t}),2),a=r[0],i=r[1];a.push(n);var o=h(Re.sortAsc(a,"zIndex","id")).concat(h(Re.sortAsc(i,"zIndex","id")));t.duplicate().forEach(function(t){o.includes(t)||(t.parent=n)}),n.parent=t,this.application.processing.cache.append(n),o.forEach(function(t,e){return t.siblingIndex=e}),t.sort(xe.siblingIndex),t.resetBox(480|(t.documentBody?30:0),n,!0),t.companion=n;var l=new Te(e,t,f.CONSTRAINT,32,o.length,o);return{output:this.application.renderLayout(l)}}},{key:"postBaseLayout",value:function(t){if(t.hasWidth&&t.companion){var e=t.cssInitial("width",!0),n=t.cssInitial("minWidth",!0);if(t.documentBody&&t.some(function(t){return t.has("right")}))t.css({width:"auto",minWidth:"auto"},"",!0),t.companion.css({width:e,minWidth:n},"",!0),t.android("layout_width","match_parent");else{var r=t.paddingLeft+t.paddingRight+(t.documentBody?t.marginLeft+t.marginRight:0);t.companion.css({width:ke(t,e,r),minWidth:ke(t,n,r)},"",!0)}}}}]),n}(),Pe=androme.lib.base.Layout,Ne=(androme,function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.base.Extension),r(n,[{key:"condition",value:function(t){return!t.textElement&&(t.has("maxWidth")||t.has("maxHeight"))}},{key:"processNode",value:function(t,e){var n=this.application.controllerHandler.createNodeWrapper(t,e);n.css("display","block",!0),t.has("maxWidth")&&(n.css("width",t.css("maxWidth"),!0),t.css("maxWidth","auto")),t.has("maxHeight")&&(n.css("height",t.css("maxHeight"),!0),t.css("maxHeight","auto"));var r=new Pe(e,n,f.FRAME,2048,1,n.children);return{output:"",parent:n,renderAs:n,outputAs:this.application.renderLayout(r)}}}]),n}()),Oe=androme.lib.base.Layout,Le=(androme,androme.lib.util),Be=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.base.Extension),r(n,[{key:"condition",value:function(t,e){return e.layoutVertical&&!t.documentBody&&t.pageFlow&&!t.imageElement&&t.has("width",32,{not:"100%"})}},{key:"processNode",value:function(t,e){var n=this.application.controllerHandler.createNodeWrapper(t,e);n.android("layout_width","match_parent"),n.android("layout_height","wrap_content"),t.has("height",2)||t.css("height",Le.formatPX(t.bounds.height),!0);var r=new Oe(e,n,f.CONSTRAINT,2048,1,n.children);return{output:"",parent:n,renderAs:n,outputAs:this.application.renderLayout(r)}}}]),n}(),De=androme.lib.base.NodeList,Me=(androme,androme.lib.util),Xe=androme.lib.xml,ze=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.base.Extension),r(n,[{key:"condition",value:function(t){var e=t.element;return"INPUT"===e.tagName&&"radio"===e.type&&Me.hasValue(e.name)}},{key:"processNode",value:function(t,e){var n,r=Me.hasValue(t.dataset.target)&&!Me.hasValue(t.dataset.include),a=t.element,i=[],o=e.flatMap(function(e){e.renderAs&&(e.renderAs===t?n=e:i.push(e),e=e.renderAs);var r=e.element;return"radio"!==r.type||r.name!==a.name||e.rendered?null:e});if(o.length>1){var l=this.application.controllerHandler.createNodeGroup(t,o,e,n);l.alignmentType|=8|(e.length!==o.length?128:0),e.layoutConstraint&&(l.companion=n||t),l.setControlType("RadioGroup",f.INLINE),l.inherit(t,"alignment"),l.css("verticalAlign","text-bottom"),l.each(function(e,n){e!==t&&e.setControlType(v.RADIO,f.RADIO),e.positioned=!0,e.parent=l,e.siblingIndex=n}),i.forEach(function(t){return t.hide()}),l.android("orientation",De.linearX(o)?E.HORIZONTAL:E.VERTICAL),l.render(r?l:e),this.subscribers.add(l);var s=this.application.controllerHandler.getEnclosingTag("RadioGroup",l.id,r?-1:l.renderDepth,Xe.formatPlaceholder(l.id));return{output:"",complete:!0,parent:l,renderAs:l,outputAs:s}}return{output:""}}},{key:"postBaseLayout",value:function(t){t.some(function(e){return!!e.element.checked&&(t.android("checkedButton",e.documentId),!0)})}}]),n}(),He=androme.lib.dom,Ge=androme.lib.enumeration,We=androme.lib.util,Ve=androme.lib.xml,Fe="android.support.v4.widget.NestedScrollView",Ue=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return i(n,androme.lib.base.Extension),r(n,[{key:"condition",value:function(t){return t.length>0&&(t.overflowX||t.overflowY||this.included(t.element)&&(t.hasWidth||t.hasHeight))}},{key:"processNode",value:function(t,e){var n=this,r=We.hasValue(t.dataset.target)&&!We.hasValue(t.dataset.include),a=[];if(t.overflowX&&t.overflowY)a.push("HorizontalScrollView",Fe);else if(t.overflowX)a.push("HorizontalScrollView");else if(t.overflowY)a.push(Fe);else{var i=0;t.hasWidth&&(i|=8,a.push("HorizontalScrollView")),t.hasHeight&&(i|=16,a.push(Fe)),t.overflow=i}for(var o=a.map(function(r,a){var i=new it(n.application.nextId,0===a?t.baseElement:He.createElement(t.actualParent?t.actualParent.baseElement:null,t.block),n.application.controllerHandler.delegateNodeInit);return i.setControlType(r,f.BLOCK),0===a?(i.inherit(t,"initial","base","styleMap"),e.appendTry(t,i)):(i.inherit(t,"base"),i.exclude({resource:Ge.NODE_RESOURCE.BOX_STYLE})),i.exclude({resource:Ge.NODE_RESOURCE.ASSET}),i.resetBox(480),i}),l="",s=0;s<o.length;s++){var d=o[s],c=o[s-1];switch(d.controlName){case Fe:var u=t.css("height");t.android("layout_width","wrap_content"),d.android("layout_height",t.convertPX(u,!1)),d.css({overflow:"scroll visible",overflowX:"visible",overflowY:"scroll"});break;case"HorizontalScrollView":var h=t.css("width");d.android("layout_width",t.convertPX(h)),t.android("layout_height","wrap_content"),d.css({overflow:"visible scroll",overflowX:"scroll",overflowY:"visible"})}d.unsetCache(),this.application.processing.cache.append(d),d.render(0===s?r?d:e:c);var p=this.application.controllerHandler.getEnclosingTag(d.controlName,d.id,r?0===s?-1:0:d.renderDepth,Ve.formatPlaceholder(d.id));l=0===s?p:Ve.replacePlaceholder(l,c.id,p)}2===o.length?(t.android("layout_width","wrap_content"),t.android("layout_height","wrap_content")):t.overflowX?(t.android("layout_width","wrap_content"),t.android("layout_height","match_parent")):(t.android("layout_width","match_parent"),t.android("layout_height","wrap_content"));var g=o[o.length-1];return t.parent=g,e.layoutConstraint&&(g.companion=t),t.overflow=0,t.resetBox(30),t.exclude({resource:Ge.NODE_RESOURCE.BOX_STYLE}),{output:"",parent:t.parent,renderAs:o[0],outputAs:l}}}]),n}(),je='<?xml version="1.0" encoding="utf-8"?>\n<layer-list xmlns:android="http://schemas.android.com/apk/res/android">\n!1\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<solid android:color="@color/{&color}" />\n\t\t</shape>\n\t</item>\n!1\n!2\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:angle="{~angle}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" android:visible="{~visible}" />\n\t\t</shape>\n\t</item>\n!2\n!3\n\t<item android:drawable="@drawable/{&vector}" />\n!3\n!4\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:width="{~width}" android:height="{~height}">\n\t\t<rotate android:drawable="@drawable/{&src}" android:fromDegrees="{~fromDegrees}" android:toDegrees="{~toDegrees}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}" android:visible="{~visible}" />\n\t</item>\n!4\n!5\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:drawable="@drawable/{&src}" android:width="{~width}" android:height="{~height}" />\n!5\n!6\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:width="{~width}" android:height="{~height}">\n\t\t<bitmap android:src="@drawable/{&src}" android:gravity="{~gravity}" android:tileMode="{~tileMode}" android:tileModeX="{~tileModeX}" android:tileModeY="{~tileModeY}" />\n\t</item>\n!6\n!7\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}">\n\t\t<shape android:shape="rectangle">\n!stroke\n\t\t\t<stroke android:width="{&width}" {~borderStyle} />\n!stroke\n!corners\n\t\t\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomRightRadius="{~bottomRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" />\n!corners\n\t\t</shape>\n\t</item>\n!7\n</layer-list>',Ye='<?xml version="1.0" encoding="utf-8"?>\n<vector xmlns:android="http://schemas.android.com/apk/res/android" {~namespace} android:width="{&width}" android:height="{&height}" android:viewportWidth="{&viewportWidth}" android:viewportHeight="{&viewportHeight}" android:alpha="{~alpha}">\n!1\n\t<group android:name="{~name}" android:rotation="{~rotation}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}" android:scaleX="{~scaleX}" android:scaleY="{~scaleY}" android:translateX="{~translateX}" android:translateY="{~translateY}">\n!2\n!clipPaths\n\t\t<clip-path android:name="{~name}" android:pathData="{&d}" />\n!clipPaths\n\t\t<path\n\t\t\tandroid:name="{~name}" android:fillType="{~fillRule}" android:fillColor="{~fill}" android:fillAlpha="{~fillOpacity}" android:strokeColor="{~stroke}" android:strokeWidth="{~strokeWidth}" android:strokeAlpha="{~strokeOpacity}" android:strokeLineCap="{~strokeLinecap}" android:strokeLineJoin="{~strokeLinejoin}" android:strokeMiterLimit="{~strokeMiterlimit}"\n\t\t\tandroid:pathData="{&d}">\n!fill\n\t\t\t<aapt:attr name="android:fillColor">\n!gradients\n\t\t\t\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:startX="{~startX}" android:startY="{~startY}" android:endX="{~endX}" android:endY="{~endY}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}">\n!colorStop\n\t\t\t\t\t<item android:offset="{&offset}" android:color="{&color}" />\n!colorStop\n\t\t\t\t</gradient>\n!gradients\n\t\t\t</aapt:attr>\n!fill\n\t\t</path>\n!2\n\t</group>\n!1\n</vector>',Ze=androme.lib.base.SvgPath,Ke=androme.lib.color,qe=androme.lib.dom,$e=androme.lib.enumeration,Je=androme.lib.util,Qe=androme.lib.xml;function tn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={solid:'android:color="@color/'.concat(t.color,'"'),groove:"",ridge:""},a=t.style,i=parseInt(t.width),o="".concat(r.solid,' android:dashWidth="').concat(i,'px" android:dashGap="').concat(i,'px"');Object.assign(r,{double:r.solid,inset:r.solid,outset:r.solid,dashed:o,dotted:o});var l="groove"===a;if(i>1&&(l||"ridge"===a)){var s=Ke.parseRGBA(t.color);if(s){var d=Ke.reduceRGBA(s.valueRGBA,l||"#000000"===s.valueRGB?.5:-.5);if(d){var c=z.addColor(d);if(""!==c){var u='android:color="@color/'.concat(c,'"');if(0!==e&&2!==e||(n=!n),"#000000"!==s.valueRGB||(!l||1!==e&&3!==e)&&(l||0!==e&&2!==e)||(n=!n),n)switch(e){case 0:r[a]=u;break;case 1:case 2:r[a]=r.solid;break;case 3:r[a]=u}else switch(e){case 0:r[a]=r.solid;break;case 1:case 2:r[a]=u;break;case 3:r[a]=r.solid}}}}}return r[a]||r.solid}function en(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];switch(e){case"stroke":if(t.border&&z.isBorderVisible(t.border)){if(!r||a)return[{width:t.border.width,borderStyle:tn(t.border,a?n:-1)}];if(r)return[{width:Je.formatPX(Math.ceil(parseInt(t.border.width)/2)),borderStyle:tn(t.border,n,!0)}]}return!1;case"backgroundColor":return!!Je.hasValue(t.backgroundColor)&&[{color:t.backgroundColor}];case"radius":if(t.borderRadius)if(1===t.borderRadius.length){if("0px"!==t.borderRadius[0])return[{radius:t.borderRadius[0]}]}else if(t.borderRadius.length>1){var i={};return t.borderRadius.forEach(function(t,e){return i["".concat(["topLeft","topRight","bottomRight","bottomLeft"][e],"Radius")]=t}),[i]}return!1}return!1}function nn(t,e,n,r,a,i,o){var l=parseInt(t.width),s=Math.floor(l/3),d=2===l%3?1:0,c=s+d,u=s+d,h="".concat(Je.formatPX(l-s)),f="-".concat(h);i[7].push({top:e?"":f,right:n?"":f,bottom:r?"":f,left:a?"":f,stroke:[{width:Je.formatPX(c),borderStyle:tn(t)}],corners:o}),3===l&&(h="".concat(Je.formatPX(l)),f="-".concat(h)),i[7].push({top:e?h:f,right:n?h:f,bottom:r?h:f,left:a?h:f,stroke:[{width:Je.formatPX(u),borderStyle:tn(t)}],corners:o})}var rn=function(n){function a(){var t;return e(this,a),(t=d(this,o(a).apply(this,arguments))).options={autoSizeBackgroundImage:!0},t.eventOnly=!0,t}return i(a,androme.lib.base.Extension),r(a,[{key:"afterResources",value:function(){var e=this,n=this.application.extensionManager.optionValueAsBoolean(m.RESOURCE_SVG,"vectorColorResourceValue");this.application.processing.cache.duplicate().sort(function(t){return t.visible?0:-1}).forEach(function(r){var a=r.data(z.KEY_NAME,"boxStyle");if(a&&!r.hasBit("excludeResource",$e.NODE_RESOURCE.BOX_STYLE)){var i=function(){var i=function(t,e,n){return-1===t.indexOf(" ")&&-1!==e.indexOf(" ")?/^[a-z]+$/.test(t)?"".concat("initial"===t?n:t," 0px"):"".concat(n," ").concat(t):t};a.backgroundColor=z.addColor(a.backgroundColor);var o=[],l=[],s=a.backgroundRepeat.split(",").map(function(t){return t.trim()}),d=[],c=[],u=a.backgroundSize.split(",").map(function(t){return t.trim()}),p=a.backgroundPositionX.split(",").map(function(t){return t.trim()}),g=a.backgroundPositionY.split(",").map(function(t){return t.trim()}),m=[];if(Je.isArray(a.backgroundImage)&&!r.hasBit("excludeResource",$e.NODE_RESOURCE.IMAGE_SOURCE)){o.push.apply(o,h(a.backgroundImage));for(var v=0;v<o.length;v++)if(o[v]&&"none"!==o[v]){d.push(z.ASSETS.images.get(qe.cssResolveUrl(o[v]))),o[v]=z.addImageUrl(o[v]);var y=p[v]||p[v-1],b=g[v]||g[v-1],E=i(y,b,"left"),w=i(b,y,"top");m[v]="".concat("initial"===E?"0px":E," ").concat("initial"===w?"0px":w)}else o[v]="",s[v]="",m[v]=""}else if(a.backgroundGradient){var T=z.createBackgroundGradient(r,a.backgroundGradient,void 0,"boolean"!=typeof n||n);T.length&&c.push(T[0])}var x=r.companion;if(x&&!x.visible&&x.htmlElement&&!qe.cssFromParent(x.element,"backgroundColor")){var A=x.data(z.KEY_NAME,"boxStyle"),S=z.addColor(A.backgroundColor);""!==S&&(a.backgroundColor=S)}var R=z.isBorderVisible(a.borderTop)||z.isBorderVisible(a.borderRight)||z.isBorderVisible(a.borderBottom)||z.isBorderVisible(a.borderLeft)||a.borderRadius,I=o.filter(function(t){return t}).length;if(R||I||c.length){var _=[a.borderTop,a.borderRight,a.borderBottom,a.borderLeft],k=[],C=[];_.forEach(function(t,e){C[e]=z.isBorderVisible(t),C[e]&&(t.color=z.addColor(t.color),k.push(t))});for(var P,N=[],O=[],L="",B=function(t){if(""!==o[t]){var e=qe.getBackgroundPosition(m[t],r.bounds,r.dpi,r.fontSize),n=d[t],a="center"===e.horizontal&&"center"===e.vertical?"center":"".concat("center"===e.horizontal?"center_horizontal":e.horizontal,"|").concat("center"===e.vertical?"center_vertical":e.vertical),i="",l="",c="",h="",p="",g=!n||n.width<r.bounds.width||n.height<r.bounds.height;switch(s[t]){case"repeat-x":g&&(h="repeat");break;case"repeat-y":g&&(p="repeat");break;case"no-repeat":c="disabled";break;case"repeat":g&&(c="repeat")}if(""!==a&&n&&n.width>0&&n.height>0&&0===r.renderChildren.length){if("repeat"===p){var v=0;if(n.width<(v=r.hasWidth?r.width+r.paddingLeft+r.paddingRight:r.bounds.width-(r.borderLeftWidth+r.borderRightWidth))){var y=Je.convertInt(r.android("layout_width"));-1!==a.indexOf("left")?(e.right=v-n.width,r.hasWidth&&v>y&&r.android("layout_width",Je.formatPX(r.bounds.width))):-1!==a.indexOf("right")?(e.left=v-n.width,r.hasWidth&&v>y&&r.android("layout_width",Je.formatPX(r.bounds.width))):"center"!==a&&-1===a.indexOf("center_horizontal")||(e.left=Math.floor((v-n.width)/2),i=Je.formatPX(n.width),r.hasWidth&&v>y&&r.android("layout_width",Je.formatPX(r.bounds.width)))}}if("repeat"===h){var b=0;if(n.height<(b=r.hasHeight?r.height+r.paddingTop+r.paddingBottom:r.bounds.height-(r.borderTopWidth+r.borderBottomWidth))){var E=Je.convertInt(r.android("layout_height"));-1!==a.indexOf("top")?(e.bottom=b-n.height,!r.hasHeight&&b>E&&r.android("layout_height",Je.formatPX(r.bounds.height))):-1!==a.indexOf("bottom")?(e.top=b-n.height,!r.hasHeight&&b>E&&r.android("layout_height",Je.formatPX(r.bounds.height))):"center"!==a&&-1===a.indexOf("center_vertical")||(e.top=Math.floor((b-n.height)/2),l=Je.formatPX(n.height),!r.hasHeight&&b>E&&r.android("layout_height",Je.formatPX(r.bounds.height)))}}}if(I)if(r.of(f.IMAGE,2048)&&1===m.length){r.android("src","@drawable/".concat(o[0])),e.left>0&&r.modifyBox(16,e.left),e.top>0&&r.modifyBox(2,e.top);var w="";switch(a){case"left|top":case"left|center_vertical":case"left|bottom":w="fitStart";break;case"right|top":case"right|center_vertical":case"right|bottom":w="fitEnd";break;case"center":case"center_horizontal|top":case"center_horizontal|bottom":w="center"}if(r.android("scaleType",w),!R)return{v:{v:void 0}};o.length=0}else{var T={top:0!==e.top?Je.formatPX(e.top):"",right:0!==e.right?Je.formatPX(e.right):"",bottom:0!==e.bottom?Je.formatPX(e.bottom):"",left:0!==e.left?Je.formatPX(e.left):"",gravity:a,tileMode:c,tileModeX:h,tileModeY:p,width:i,height:l,src:o[t]};if("auto"!==u[t]&&"auto auto"!==u[t]&&"initial"!==u[t])switch(u[t]){case"cover":case"contain":case"100% 100%":i="",l="",c="",h="",p="",a="";break;default:var x=u[t].split(" ");"100%"===x[0]?h="":"100%"===x[1]&&(p=""),x.forEach(function(e,n){"auto"!==e&&"100%"!==e&&(T[0===n?"width":"height"]=r.convertPX(u[t],0===n,!1))})}""!==a||""!==c||""!==h||""!==p?O.push(T):N.push(T)}}},D=0;D<o.length;D++){var M=B(D);if("object"===t(M))return M.v}O.sort(function(t,e){return"repeat"!==t.tileModeX&&"repeat"!==t.tileModeY&&"repeat"!==t.tileMode?1:"repeat"!==e.tileModeX&&"repeat"!==e.tileModeY&&"repeat"!==e.tileMode?-1:"repeat"===t.tileMode?-1:"repeat"===e.tileMode?1:"repeat"===e.tileModeX||"repeat"===e.tileModeY?1:-1});var X,H=en(a,"backgroundColor"),G=en(a,"radius"),W=c.length&&c.some(function(t){return t.colorStop.length>0});if(W){var V=r.bounds.width,F=r.bounds.height,U=Qe.createTemplate(Qe.parseTemplate(Ye),{namespace:q("aapt"),width:Je.formatPX(V),height:Je.formatPX(F),viewportWidth:""+V,viewportHeight:""+F,alpha:"",1:[{2:[{clipPaths:!1,d:Ze.getRect(V,F),fill:[{gradients:c}]}]}]}),j=z.getStoredName("drawables",U);""===j&&(j="".concat(r.tagName.toLowerCase(),"_").concat(r.controlId,"_gradient"),z.STORED.drawables.set(j,U)),l.push({vector:j})}if(a.border&&!("double"===a.border.style&&parseInt(a.border.width)>2||("groove"===a.border.style||"ridge"===a.border.style)&&parseInt(a.border.width)>1))!I&&c.length<=1&&!W?(G&&void 0===G[0].radius&&(G[0].radius="1px"),X=Qe.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">\n!1\n\t<stroke android:width="{&width}" {~borderStyle} />\n!1\n!2\n\t<solid android:color="@color/{&color}" />\n!2\n!3\n\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" android:bottomRightRadius="{~bottomRightRadius}" />\n!3\n!4\n\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:angle="{~angle}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" />\n!4\n</shape>'),P={1:en(a,"stroke"),2:H,3:G,4:!!c.length&&c}):(X=Qe.parseTemplate(je),P={1:H,2:!(W||!c.length)&&c,3:l,4:!1,5:!!N.length&&N,6:!!O.length&&O,7:!(!z.isBorderVisible(a.border)&&!G)&&[{stroke:en(a,"stroke"),corners:G}]});else{var Y=function(t){return t+(J?0:1===t?1:2)};X=Qe.parseTemplate(je),P={1:H,2:!(W||!c.length)&&c,3:l,4:!1,5:!!N.length&&N,6:!!O.length&&O,7:[]};var Z=new Set(k.map(function(t){return t.width})),K=new Set(k.map(function(t){return tn(t)})),$=k[0],J=C[1]&&C[2];if(1===Z.size&&1===K.size&&"groove"!==$.style&&"ridge"!==$.style){var Q=parseInt($.width);if(Q>2&&"double"===$.style)nn.apply(null,[$].concat(C,[P,G]));else{var tt="-".concat(Je.formatPX(Y(Q))),et=!C[0]&&!C[3];P[7].push({top:C[0]?"":tt,right:C[1]?C[3]||et||C[0]&&C[1]&&C[2]&&!C[3]?"":$.width:tt,bottom:C[2]?C[0]||et||!C[0]&&C[1]&&C[2]&&C[3]?"":$.width:tt,left:C[3]?"":tt,stroke:en({border:$},"stroke"),corners:G})}}else for(var nt=0;nt<_.length;nt++)if(C[nt]){var rt=_[nt],at=parseInt(rt.width);if(at>2&&"double"===rt.style)nn(rt,0===nt,1===nt,2===nt,3===nt,P,G);else{var it=at>1&&("groove"===rt.style||"ridge"===rt.style),ot=Y(it?Math.ceil(at/2):at),lt="-".concat(Je.formatPX(ot)),st="-".concat(Je.formatPX(ot+(J?1:0)));P[7].push({top:0===nt?"":st,right:1===nt?J||"1px"!==rt.width?"":rt.width:lt,bottom:2===nt?J||"1px"!==rt.width?"":rt.width:lt,left:3===nt?"":lt,stroke:en({border:rt},"stroke",nt,it),corners:G}),it&&(lt="-".concat(Je.formatPX(Y(at))),st="-".concat(Je.formatPX(at+(J?1:0))),P[7].unshift({top:0===nt?"":st,right:1===nt?J||"1px"!==rt.width?"":rt.width:lt,bottom:2===nt?J||"1px"!==rt.width?"":rt.width:lt,left:3===nt?"":lt,stroke:en({border:rt},"stroke",nt,!0,!0),corners:!1}))}}}if(X){var dt=Qe.createTemplate(X,P);""===(L=z.getStoredName("drawables",dt))&&(L="".concat(r.tagName.toLowerCase(),"_").concat(r.controlId),z.STORED.drawables.set(L,dt))}if(r.android("background","@drawable/".concat(L),0===r.renderExtension.size),I&&(r.data("RESOURCE","backgroundImage",!0),e.options.autoSizeBackgroundImage&&!r.documentRoot&&!r.imageElement&&!r.svgElement&&r.renderParent&&!r.renderParent.tableElement&&!r.hasBit("excludeProcedure",$e.NODE_PROCEDURE.AUTOFIT))){var ct={width:0,height:0};if(d.forEach(function(t){t&&(ct.width=Math.max(ct.width,t.width),ct.height=Math.max(ct.height,t.height))}),0===ct.width)for(var ut=r;ut&&!ut.documentBody&&(ut.hasWidth&&(ct.width=ut.bounds.width),ut.hasHeight&&(ct.height=ut.bounds.height),ut.pageFlow&&!(ct.width>0&&ct.height>0));)ut=ut.documentParent;if(!r.has("width",2)){var ht=r.bounds.width+(r.is(f.LINE)?0:r.borderLeftWidth+r.borderRightWidth);(0===ct.width||ht>0&&ht<ct.width)&&r.css("width",Je.formatPX(ht),!0)}if(!r.has("height",2)){var ft=r.bounds.height+(r.is(f.LINE)?0:r.borderTopWidth+r.borderBottomWidth);(0===ct.height||ft>0&&ft<ct.height)&&(r.css("height",Je.formatPX(ft),!0),r.marginTop<0&&r.modifyBox(2,null),r.marginBottom<0&&r.modifyBox(8,null))}}}else!r.data(z.KEY_NAME,"fontStyle")&&Je.hasValue(a.backgroundColor)&&r.android("background","@color/".concat(a.backgroundColor),0===r.renderExtension.size)}();if("object"===t(i))return i.v}})}}]),a}(),an=androme.lib.util;function on(t,e,n){var r=t.entries(),a=Array.isArray(r),i=0;for(r=a?r:r[Symbol.iterator]();;){var o;if(a){if(i>=r.length)break;o=r[i++]}else{if((i=r.next()).done)break;o=i.value}var l=u(o,2),s=l[0],d=l[1];if(s.startsWith(e)&&n===d)return s}return t.has(e)&&t.get(e)!==n?z.generateId("dimen",e,1):e}function ln(t){return an.convertUnderscore(t).replace("layout_","")}function sn(t){return an.lastIndexOf(t,".")}var dn=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return i(n,androme.lib.base.Extension),r(n,[{key:"afterProcedure",value:function(){for(var t={},e=function(){if(n){if(r>=a.length)return"break";i=a[r++]}else{if((r=a.next()).done)return"break";i=r.value}var e=i,o=e.tagName.toLowerCase();void 0===t[o]&&(t[o]={}),["android","app"].forEach(function(n){var r=e.namespace(n);for(var a in r){var i=r[a].trim();if(/^-?[\d.]+(px|dp|sp)$/.test(i)){var l="".concat(n,",").concat(a,",").concat(i);void 0===t[o][l]&&(t[o][l]=[]),t[o][l].push(e)}}})},n=Array.isArray(a=this.application.session.cache.visible),r=0,a=n?a:a[Symbol.iterator]();;){var i;if("break"===e())break}var o=z.STORED.dimens;for(var l in t){var s=t[l],d=function(t){var e=u(t.split(","),3),n=e[0],r=e[1],a=e[2],i=on(o,"".concat(sn(l),"_").concat(ln(r)),a);s[t].forEach(function(t){return t[n](r,"@dimen/".concat(i))}),o.set(i,a)};for(var c in s)d(c)}}},{key:"afterFinalize",value:function(){for(var t=z.STORED.dimens,e=Array.isArray(r=this.application.viewData),n=0,r=e?r:r[Symbol.iterator]();;){var a;if(e){if(n>=r.length)break;a=r[n++]}else{if((n=r.next()).done)break;a=n.value}for(var i=a,o=/[\s\n]+<[^<]*?(\w+):(\w+)="(-?[\d.]+(?:px|dp|sp))"/,l=void 0,s=i.content;null!==(l=o.exec(s));){var d=/^[\s\n]+<([\w\-.]+)[\s\n]/.exec(l[0]);if(d){var c=on(t,"".concat(sn(d[1]).toLowerCase(),"_").concat(ln(l[2])),l[3]);t.set(c,l[3]),s=s.replace(l[0],l[0].replace(l[3],"@dimen/".concat(c)))}}i.content=s}}}]),n}(),cn=androme.lib.dom,un=androme.lib.enumeration,hn=androme.lib.util,fn={"sans-serif":14,"sans-serif-thin":16,"sans-serif-light":16,"sans-serif-condensed":16,"sans-serif-condensed-light":16,"sans-serif-medium":21,"sans-serif-black":21,"sans-serif-smallcaps":21,"serif-monospace":21,serif:21,casual:21,cursive:21,monospace:21,"sans-serif-condensed-medium":26},pn={arial:"sans-serif",helvetica:"sans-serif",tahoma:"sans-serif",verdana:"sans-serif",times:"serif","times new roman":"serif",palatino:"serif",georgia:"serif",baskerville:"serif",goudy:"serif",fantasy:"serif","itc stone serif":"serif","sans-serif-monospace":"monospace",monaco:"monospace",courier:"serif-monospace","courier new":"serif-monospace"},gn={"ms shell dlg \\32":"sans-serif","system-ui":"sans-serif","-apple-system":"sans-serif"};cn.isUserAgent(8)&&(gn.consolas="monospace");var mn={100:"thin",200:"extra_light",300:"light",400:"normal",500:"medium",600:"semi_bold",700:"bold",800:"extra_bold",900:"black"},vn={fontFamily:'android:fontFamily="{0}"',fontStyle:'android:textStyle="{0}"',fontWeight:'android:fontWeight="{0}"',fontSize:'android:textSize="{0}"',color:'android:textColor="@color/{0}"',backgroundColor:'android:background="@color/{0}"'};function yn(t,e,n){e.split(";").forEach(function(e){for(var r=0;r<t.length;r++)if(t[r]){var a=-1,i="";for(var o in t[r])if(o===e){a=r,i=o,r=t.length;break}if(-1!==a){t[a][i]=t[a][i].filter(function(t){return!n.includes(t)}),0===t[a][i].length&&delete t[a][i];break}}})}var bn=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).options={fontResourceValue:!0},t.eventOnly=!0,t}return i(n,androme.lib.base.Extension),r(n,[{key:"afterParseDocument",value:function(){for(var t=this,e=this.application.userSettings,n={},r={},a=Array.isArray(o=this.application.session.cache),i=0,o=a?o:o[Symbol.iterator]();;){var l;if(a){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}var s=l;s.visible&&s.data(z.KEY_NAME,"fontStyle")&&!s.hasBit("excludeResource",un.NODE_RESOURCE.FONT_STYLE)&&(void 0===n[s.tagName]&&(n[s.tagName]=[]),n[s.tagName].push(s))}for(var d in n){for(var c=[],u=Array.isArray(p=n[d]),f=0,p=u?p:p[Symbol.iterator]();;){var g;if(u){if(f>=p.length)break;g=p[f++]}else{if((f=p.next()).done)break;g=f.value}var m=g,v=m.id,y=m.companion;y&&!y.visible&&"LABEL"===y.tagName&&(m=y);var b=Object.assign({},m.data(z.KEY_NAME,"fontStyle")),E=!1;if(b.backgroundColor=z.addColor(b.backgroundColor),b.fontFamily){var w=b.fontFamily.split(",")[0].replace(/"/g,"").toLowerCase().trim(),T="",x="";if(b.color=z.addColor(b.color),this.options.fontResourceValue&&gn[w]&&(w=gn[w]),fn[w]&&m.localSettings.targetAPI>=fn[w]||this.options.fontResourceValue&&pn[w]&&m.localSettings.targetAPI>=fn[pn[w]]?(E=!0,b.fontFamily=w,"normal"===b.fontStyle&&delete b.fontStyle,"400"===b.fontWeight&&delete b.fontWeight):(w=hn.convertWord(w),b.fontFamily="@font/".concat(w+("normal"!==b.fontStyle?"_".concat(b.fontStyle):"")+("400"!==b.fontWeight?"_".concat(mn[b.fontWeight]||b.fontWeight):"")),T=b.fontStyle,x=b.fontWeight,delete b.fontStyle,delete b.fontWeight),!E){var A=z.STORED.fonts.get(w)||{};A["".concat(T,"-").concat(mn[x]||x)]=!0,z.STORED.fonts.set(w,A)}}for(var S=Object.keys(vn),R=0;R<S.length;R++){void 0===c[R]&&(c[R]={});var I=b[S[R]];if(hn.hasValue(I)&&m.supported("android",S[R])){var _=hn.formatString(vn[S[R]],I);void 0===c[R][_]&&(c[R][_]=[]),c[R][_].push(v)}}}r[d]=c}var k={},C={};for(var P in r){k[P]={},C[P]={};var N=n[P].length,O=r[P].filter(function(t){return Object.keys(t).length}).sort(function(t,e){var n=0,r=0,a=0,i=0;for(var o in t)n=Math.max(t[o].length,n),a+=t[o].length;for(var l in e)e[l]&&(r=Math.max(e[l].length,r),i+=e[l].length);return n!==r?n>r?-1:1:a!==i?a>i?-1:1:0});do{if(1===O.length){for(var L in O[0]){var B=O[0][L];1===B.length?C[P][L]=B:B.length>1&&(k[P][L]=B)}O.length=0}else{for(var D={},M={},X=function(t){if(!O[t])return"continue";var e={},n={},r=new Set;for(var a in O[t]){var i=O[t][a],o=!1;if(i&&0!==i.length&&(i.length===N?(D[a]=i.slice(),O[t]={},o=!0):1===i.length&&(M[a]=i.slice(),O[t][a]=[],o=!0),!o)){for(var l={},s=!1,d=0;d<O.length;d++)if(t!==d&&O[d])for(var c in O[d]){var u=O[d][c];if(u.length)for(var f=Array.isArray(g=i),p=0,g=f?g:g[Symbol.iterator]();;){var m;if(f){if(p>=g.length)break;m=g[p++]}else{if((p=g.next()).done)break;m=p.value}var v=m;u.includes(v)&&(void 0===l[c]&&(l[c]=[]),l[c].push(v))}}for(var y in l)l[y].length>1&&(e[[a,y].sort().join(";")]=l[y],s=!0);s||(e[a]=i)}}for(var b in e)for(var E in e)if(b!==E&&e[b].join("")===e[E].join("")){var w=e[b].join(",");n[w]=n[w]?new Set(h(n[w]).concat(h(E.split(";")))):new Set(h(b.split(";")).concat(h(E.split(";")))),r.add(b).add(E)}for(var T in r.forEach(function(t){return delete e[t]}),e)yn(O,T,e[T]),k[P][T]=e[T];for(var x in n){var A=Array.from(n[x]).sort().join(";"),S=x.split(",").map(function(t){return parseInt(t)});yn(O,A,S),k[P][A]=S}},H=0;H<O.length;H++)X(H);var G=Object.keys(D);for(var W in G.length&&(G.length>1||D[G[0]].length>1?k[P][G.join(";")]=D[G[0]]:Object.assign(M,D)),M)C[P][W]=M[W];for(var V=0;V<O.length;V++)O[V]&&0===Object.keys(O[V]).length&&delete O[V];O=O.filter(function(t){if(t)for(var e in t)if(t[e]&&t[e].length)return!0;return!1})}}while(O.length)}var F={},U={},Y=new Set,Z=function(t){var e=k[t],n=[];for(var r in e)n.push({name:"",attrs:r,ids:e[r]});n.sort(function(t,e){var n=[t.ids.length,e.ids.length],r=n[0],a=n[1];if(r===a){var i=[t.attrs.split(";").length,e.attrs.split(";").length];r=i[0],a=i[1]}return r<=a?1:-1}),n.forEach(function(e,n){return e.name=hn.capitalize(t)+(n>0?"_".concat(n):"")}),F[t]=n};for(var K in k)Z(K);for(var q in F){for(var $=Array.isArray(Q=F[q]),J=0,Q=$?Q:Q[Symbol.iterator]();;){var tt;if($){if(J>=Q.length)break;tt=Q[J++]}else{if((J=Q.next()).done)break;tt=J.value}for(var et=tt,nt=Array.isArray(at=et.ids),rt=0,at=nt?at:at[Symbol.iterator]();;){var it;if(nt){if(rt>=at.length)break;it=at[rt++]}else{if((rt=at.next()).done)break;it=rt.value}var ot=it;void 0===U[ot]&&(U[ot]={styles:[],attrs:[]}),U[ot].styles.push(et.name)}}var lt=C[q];if(lt)for(var st in lt)for(var dt=Array.isArray(ut=lt[st]),ct=0,ut=dt?ut:ut[Symbol.iterator]();;){var ht;if(dt){if(ct>=ut.length)break;ht=ut[ct++]}else{if((ct=ut.next()).done)break;ht=ct.value}var ft=ht;void 0===U[ft]&&(U[ft]={styles:[],attrs:[]}),U[ft].attrs.push(st)}}var pt=function(n){var r=t.application.session.cache.find("id",parseInt(n));if(r){var a=U[n].styles;a.length&&(Y.add(a.join(".")),r.attr("_","style","@style/".concat(a.pop()))),U[n].attrs.sort().forEach(function(t){return r.formatted(j(t,e.resolutionDPI,e.convertPixels,!0),!1)})}};for(var gt in U)pt(gt);for(var mt=function(){if(vt){if(yt>=bt.length)return"break";Et=bt[yt++]}else{if((yt=bt.next()).done)return"break";Et=yt.value}var t="";Et.split(".").forEach(function(e){var n=e.match(/^(\w*?)(?:_(\d+))?$/);if(n){var r=Object.assign({name:e,parent:t},F[n[1].toUpperCase()][void 0===n[2]?0:parseInt(n[2])]);z.STORED.styles.set(e,r),t=e}})},vt=Array.isArray(bt=Y),yt=0,bt=vt?bt:bt[Symbol.iterator]();;){var Et;if("break"===mt())break}}}]),n}(),En=androme.lib.util,wn=androme.lib.xml,Tn=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return i(n,androme.lib.base.Extension),r(n,[{key:"afterDepthLevel",value:function(){for(var t=this,e=this.application.processing,n=function(){if(r){if(a>=i.length)return"break";o=i[a++]}else{if((a=i.next()).done)return"break";o=a.value}var n=o,l=[],s=[];if(n.each(function(t,e){var n=En.hasValue(t.dataset.androidInclude),r="true"===t.dataset.androidIncludeEnd;if(n||r){var a="true"===t.dataset.androidIncludeMerge,i={item:t,name:(t.dataset.androidInclude||"").trim(),index:e,merge:a};n&&l.push(i),r&&s.push(i)}},!0),l.length&&s.length){l.length=Math.min(l.length,s.length);for(var d=l.length;d<s.length;d++)s.shift();for(var c=l.length-1;c>=0;c--)for(var h=l[c],f=0;f<s.length;f++){var p=s[f];if(p.index>=h.index){for(var g=new Map,m=!0,v=h.index;v<=p.index;v++){var y=n.renderChildren[v],b=e.depthMap.get(n.id);if(b&&b.has(y.renderPositionId)){var E=g.get(n.id)||[];E.push(y),g.set(n.id,E)}else m=!1}if(m){var w=new Map,T=[],x=0,A=function(){if(R){if(I>=S.length)return"break";_=S[I++]}else{if((I=S.next()).done)return"break";_=I.value}var e=u(_,2),n=e[1],r=g.get(e[0]);if(r){var a=[],i=function(){if(l){if(s>=o.length)return"break";d=o[s++]}else{if((s=o.next()).done)return"break";d=s.value}var e=u(d,2),i=e[0],c=e[1],f=r.find(function(t){return t.renderPositionId===i});if(f){if(0===x){var p=t.application.controllerHandler.renderNodeStatic("include",f.renderDepth,{layout:"@layout/".concat(h.name)});n.set(i,p),x++}else a.push(i);w.set(i,c),T.push(f)}},o=n.entries(),l=Array.isArray(o),s=0;for(o=l?o:o[Symbol.iterator]();;){var d;if("break"===i())break}a.forEach(function(t){return n.delete(t)})}},S=e.depthMap.entries(),R=Array.isArray(S),I=0;for(S=R?S:S[Symbol.iterator]();;){var _;if("break"===A())break}if(w.size){for(var k=t.application.controllerHandler,C=h.merge||w.size>1,P=C?1:0,N=0;N<T.length;N++){var O=T[N];if(O.renderDepth!==P){var L=O.renderPositionId,B=w.get(L);B&&(B=wn.replaceIndent(B,P,k.outputIndentPrefix),w.set(L,B),O.renderDepth=P)}}var D=Array.from(w.values()).join("");if(C)D=k.getEnclosingTag("merge",0,0,D);else if(!h.item.documentRoot){var M=wn.formatPlaceholder(h.item.id,"@");D=D.replace(M,"{#0}".concat(M))}t.application.addIncludeFile(h.name,D)}}s.splice(f,1);break}}}},r=Array.isArray(i=e.cache),a=0,i=r?i:i[Symbol.iterator]();;){var o;if("break"===n())break}}}]),n}(),xn=androme.lib.dom,An=androme.lib.enumeration,Sn=androme.lib.util,Rn=androme.lib.xml,In=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).options={numberResourceValue:!1},t.eventOnly=!0,t}return i(n,androme.lib.base.Extension),r(n,[{key:"afterResources",value:function(){for(var t=this,e=Array.isArray(r=this.application.processing.cache),n=0,r=e?r:r[Symbol.iterator]();;){var a;if(e){if(n>=r.length)break;a=r[n++]}else{if((n=r.next()).done)break;a=n.value}var i=a;if(!i.hasBit("excludeResource",An.NODE_RESOURCE.VALUE_STRING))if(i.baseElement instanceof HTMLSelectElement){var o=u(z.getOptionArray(i.baseElement),2),l=o[1],s=[];if(s.push.apply(s,h(!this.options.numberResourceValue&&l&&l.length?l:Sn.flatMap(o[0]||l||[],function(e){return""!==(e=z.addString(Rn.replaceCharacter(e),"",t.options.numberResourceValue))?"@string/".concat(e):""}))),s.length){var d=s.join("-"),c="",f=z.STORED.arrays.entries(),p=Array.isArray(f),g=0;for(f=p?f:f[Symbol.iterator]();;){var m;if(p){if(g>=f.length)break;m=f[g++]}else{if((g=f.next()).done)break;m=g.value}var v=u(m,2),y=v[0];if(d===v[1].join("-")){c=y;break}}""===c&&z.STORED.arrays.set(c="".concat(i.controlId,"_array"),s),i.android("entries","@array/".concat(c),0===i.renderExtension.size)}}else{var b=i.data(z.KEY_NAME,"valueString");if(b){var E=i.renderParent;if(E&&E.layoutRelative&&i.alignParent("left")&&!xn.cssParent(i.element,"whiteSpace","pre","pre-wrap")){for(var w=i.textContent,T=0,x=0;x<w.length;x++)switch(w.charCodeAt(x)){case 160:T++;case 32:continue}0===T&&(b.value=b.value.replace(/^(\s|&#160;)+/,""))}b.value=Rn.replaceCharacter(b.value),i.htmlElement&&"small-caps"===i.css("fontVariant")&&(b.value=b.value.toUpperCase());var A=i.actualParent;if(A){var S=0;(A.blockDimension||i.blockDimension)&&(S=i.toInt("textIndent")||A.toInt("textIndent")),0===S||!i.blockDimension&&A.firstChild!==i||(S>0?b.value="&#160;".repeat(Math.floor(S/7))+b.value:i.toInt("textIndent")+i.bounds.width<0&&(b.value=""))}var R=z.addString(b.value,b.name,this.options.numberResourceValue);""!==R&&i.android("text",isNaN(parseInt(R))||""+parseInt(R)!==R?"@string/".concat(R):R,0===i.renderExtension.size)}}}}}]),n}(),_n=androme.lib.util,kn=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return i(n,androme.lib.base.Extension),r(n,[{key:"afterProcedure",value:function(){for(var t={},e=Array.isArray(r=this.application.session.cache.visible),n=0,r=e?r:r[Symbol.iterator]();;){var a;if(e){if(n>=r.length)break;a=r[n++]}else{if((n=r.next()).done)break;a=n.value}var i=a,o=i.renderChildren;i.controlId&&o.length>1&&function(){for(var e=new Map,n="",r=!0,a=function(t){var a=!1;if(o[t].combine("_","android").some(function(i){if(i.startsWith("style=")){if(0===t)n=i;else if(""===n||i!==n)return r=!1,!0;a=!0}else e.set(i,(e.get(i)||0)+1);return!1}),!r||""!==n&&!a)return r=!1,"break"},l=0;l<o.length;l++){if("break"===a(l))break}if(r){var s=e.entries(),d=Array.isArray(s),c=0;for(s=d?s:s[Symbol.iterator]();;){var h;if(d){if(c>=s.length)break;h=s[c++]}else{if((c=s.next()).done)break;h=c.value}var f=u(h,2);f[1]!==o.length&&e.delete(f[0])}if(e.size>1){""!==n&&(n=_n.trimString(n.substring(n.indexOf("/")+1),'"'));var p=[],g=function(){if(v){if(y>=m.length)return"break";b=m[y++]}else{if((y=m.next()).done)return"break";b=y.value}var t=b.match(/(\w+):(\w+)="(.*?)"/);t&&(o.forEach(function(e){return e.delete(t[1],t[2])}),p.push(t[0]))},m=e.keys(),v=Array.isArray(m),y=0;for(m=v?m:m[Symbol.iterator]();;){var b;if("break"===g())break}p.sort();var E="";for(var w in t)if(t[w].join(";")===p.join(";")){E=w;break}""!==E&&""!==n&&E.startsWith("".concat(n,"."))||(E=_n.convertCamelCase((""!==n?"".concat(n,"."):"")+_n.capitalize(i.controlId),"_"),t[E]=p),o.forEach(function(t){return t.attr("_","style","@style/".concat(E))})}}}()}for(var l in t)z.STORED.styles.set(l,{name:l,attrs:t[l].join(";"),ids:[]})}}]),n}(),Cn=androme.lib.base.Svg,Pn=androme.lib.svg,Nn=androme.lib.util,On=androme.lib.xml,Ln=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).options={vectorColorResourceValue:!0},t.eventOnly=!0,t}return i(n,androme.lib.base.Extension),r(n,[{key:"beforeInit",value:function(){this.application.controllerHandler.localSettings.unsupported.tagName.delete("svg")}},{key:"afterResources",value:function(){for(var t=this,e=function(){if(n){if(r>=a.length)return"break";i=a[r++]}else{if((r=a.next()).done)return"break";i=r.value}var e=i;e.svgElement&&e.element.children.length&&function(){var n=new Cn(e.element);n.defs.image.forEach(function(t){var e=z.ASSETS.images.get(t.uri);e&&(0===t.width&&(t.width=e.width),0===t.height&&(t.height=e.height))});var r="",a="";if(n.length&&function(){for(var r=new Set,i=[],o=Array.isArray(s=n),l=0,s=o?s:s[Symbol.iterator]();;){var d;if(o){if(l>=s.length)break;d=s[l++]}else{if((l=s.next()).done)break;d=l.value}var c=d,u={name:c.name,2:[]};if(c.element&&c.element!==e.element){var f=Pn.createTransformSingle(c.element),p=c.x||0,g=c.y||0;f.operations.length&&(p+=f.translateX,g+=f.translateY,1!==f.scaleX&&(u.scaleX=""+f.scaleX),1!==f.scaleY&&(u.scaleY=""+f.scaleY),0!==f.rotateAngle&&(u.rotation=""+f.rotateAngle,u.pivotX=""+f.rotateOriginX,u.pivotY=""+f.rotateOriginY)),0!==p&&(u.translateX=""+p),0!==g&&(u.translateY=""+g)}for(var m=function(){if(v){if(y>=b.length)return"break";E=b[y++]}else{if((y=b.next()).done)return"break";E=y.value}var a=E;if(a.visibility){var i=[];if(""!==a.clipPath){var o=n.defs.clipPath.get(a.clipPath);o&&o.forEach(function(t){return i.push({name:t.name,d:t.d})})}if(["fill","stroke"].forEach(function(i){if(Nn.isString(a[i])){if("@"===a[i].charAt(0)){var o=n.defs.gradient.get(a[i]);if(o)switch(a.element.tagName){case"path":if(!/[zZ]\s*$/.test(a.d))break;case"rect":case"polygon":case"circle":case"ellipse":var l=z.createBackgroundGradient(e,[o],a,t.options.vectorColorResourceValue);return a[i]=[{gradients:l}],void r.add("aapt")}else a[i]=a.color}if(t.options.vectorColorResourceValue){var s=z.addColor(a[i]);""!==s&&(a[i]="@color/".concat(s))}}}),a.fillRule)switch(a.fillRule){case"evenodd":a.fillRule="evenOdd";break;default:a.fillRule="nonZero"}u[2].push(Object.assign({},a,{clipPaths:i}))}},v=Array.isArray(b=c),y=0,b=v?b:b[Symbol.iterator]();;){var E;if("break"===m())break}u[2].length&&i.push(u)}var w=On.createTemplate(On.parseTemplate(Ye),{namespace:r.size?q.apply(void 0,h(Array.from(r))):"",width:Nn.formatPX(n.width),height:Nn.formatPX(n.height),viewportWidth:n.viewBoxWidth>0&&""+n.viewBoxWidth,viewportHeight:n.viewBoxHeight>0&&""+n.viewBoxHeight,alpha:n.opacity<1&&n.opacity,1:i});""===(a=z.getStoredName("drawables",w))&&(a="".concat(e.tagName.toLowerCase(),"_").concat(e.controlId+(n.defs.image.length?"_vector":"")),z.STORED.drawables.set(a,w))}(),n.defs.image.length){for(var i=[],o=[],l=Array.isArray(d=n.defs.image),s=0,d=l?d:d[Symbol.iterator]();;){var c;if(l){if(s>=d.length)break;c=d[s++]}else{if((s=d.next()).done)break;c=s.value}var u=c;if(u.element&&u.uri){var f=n.width/n.viewBoxWidth,p=n.height/n.viewBoxHeight,g=(u.x||0)*f,m=(u.y||0)*p;u.width*=f,u.height*=p;for(var v=u.element?u.element.parentElement:null;v instanceof SVGSVGElement&&v!==e.element;){var y=Pn.createTransformSingle(v);g+=v.x.baseVal.value+y.translateX,m+=v.y.baseVal.value+y.translateY,v=v.parentElement}var b={width:u.width?Nn.formatPX(u.width):"",height:u.height?Nn.formatPX(u.height):"",left:0!==g?Nn.formatPX(g):"",top:0!==m?Nn.formatPX(m):"",src:z.addImage({mdpi:u.uri})},E=Pn.createTransformSingle(u.element);0!==E.rotateAngle?(b.fromDegrees=""+E.rotateAngle,b.visible=u.visibility?"true":"false",o.push(b)):i.push(b)}}var w=On.createTemplate(On.parseTemplate(je),{1:!1,2:!1,3:[{vector:a}],4:o,5:i,6:!1,7:!1});""===(r=z.getStoredName("drawables",w))&&(r="".concat(e.tagName.toLowerCase(),"_").concat(e.controlId),z.STORED.drawables.set(r,w))}else r=a;""!==r&&e.android("src","@drawable/".concat(r),0===e.renderExtension.size),e.hasWidth||e.android("layout_width","wrap_content"),e.hasHeight||e.android("layout_height","wrap_content")}()},n=Array.isArray(a=this.application.processing.cache),r=0,a=n?a:a[Symbol.iterator]();;){var i;if("break"===e())break}}},{key:"afterFinalize",value:function(){this.application.controllerHandler.localSettings.unsupported.tagName.add("svg")}}]),n}();function Bn(t){return zn&&!!t&&(t.closed||!(!Dn||!Dn.userSettings.autoCloseOnWrite||Dn.initialized||Dn.closed||(Dn.finalize(),0)))}var Dn,Mn,Xn,zn=!1,Hn={lib:{base:{Controller:wt,File:kt,Resource:z,View:it},extensions:{Accessibility:Ot,CssGrid:zt,External:Ht,Flexbox:jt,Grid:qt,List:ne,Relative:re,Sprite:se,Table:fe,VerticalAlign:me,WhiteSpace:ve,constraint:{Guideline:we},delegate:{Fixed:Ce,MaxWidthHeight:Ne,Percent:Be,RadioGroup:ze,ScrollBar:Ue},resource:{Background:rn,Dimens:dn,Fonts:bn,Includes:Tn,Strings:In,Styles:kn,Svg:Ln}},constant:A,enumeration:g,util:$},system:{customize:function(t,e,n){if(R[t]){var r=R[t].customizations;void 0===r[e]&&(r[e]={}),Object.assign(r[e],n)}},addXmlNs:function(t,e){T[t]=e},writeLayoutAllXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Mn&&Bn(Dn)?Mn.layoutAllToXml(Dn.sessionData,t):""},writeResourceAllXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Mn&&Bn(Dn)?Mn.resourceAllToXml(t):""},writeResourceStringXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Mn&&Bn(Dn)?Mn.resourceStringToXml(t):""},writeResourceArrayXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Mn&&Bn(Dn)?Mn.resourceStringArrayToXml(t):""},writeResourceFontXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Mn&&Bn(Dn)?Mn.resourceFontToXml(t):""},writeResourceColorXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Mn&&Bn(Dn)?Mn.resourceColorToXml(t):""},writeResourceStyleXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Mn&&Bn(Dn)?Mn.resourceStyleToXml(t):""},writeResourceDimenXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Mn&&Bn(Dn)?Mn.resourceDimenToXml(t):""},writeResourceDrawableXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Mn&&Bn(Dn)?Mn.resourceDrawableToXml(t):""}},create:function(){var t,e=androme.lib.constant.EXT_NAME,n=m;return Dn=new androme.lib.base.Application(2,wt,z,Tt,it),Mn=new kt(Dn.resourceHandler),Xn=Object.assign({},_),Object.assign(Dn.builtInExtensions,(a(t={},e.EXTERNAL,new Ht(e.EXTERNAL,2)),a(t,e.SUBSTITUTE,new de(e.SUBSTITUTE,2)),a(t,e.SPRITE,new se(e.SPRITE,2)),a(t,e.CSS_GRID,new zt(e.CSS_GRID,2)),a(t,e.FLEXBOX,new jt(e.FLEXBOX,2)),a(t,e.TABLE,new fe(e.TABLE,2,["TABLE"])),a(t,e.LIST,new ne(e.LIST,2,["UL","OL","DL","DIV"])),a(t,e.GRID,new qt(e.GRID,2,["FORM","UL","OL","DL","DIV","TABLE","NAV","SECTION","ASIDE","MAIN","HEADER","FOOTER","P","ARTICLE","FIELDSET","SPAN"])),a(t,e.RELATIVE,new re(e.RELATIVE,2)),a(t,e.VERTICAL_ALIGN,new me(e.VERTICAL_ALIGN,2)),a(t,e.WHITESPACE,new ve(e.WHITESPACE,2)),a(t,e.ACCESSIBILITY,new Ot(e.ACCESSIBILITY,2)),a(t,n.CONSTRAINT_GUIDELINE,new we(n.CONSTRAINT_GUIDELINE,2)),a(t,n.DELEGATE_FIXED,new Ce(n.DELEGATE_FIXED,2)),a(t,n.DELEGATE_MAXWIDTHHEIGHT,new Ne(n.DELEGATE_MAXWIDTHHEIGHT,2)),a(t,n.DELEGATE_PERCENT,new Be(n.DELEGATE_PERCENT,2)),a(t,n.DELEGATE_RADIOGROUP,new ze(n.DELEGATE_RADIOGROUP,2)),a(t,n.DELEGATE_SCROLLBAR,new Ue(n.DELEGATE_SCROLLBAR,2)),a(t,n.RESOURCE_INCLUDES,new Tn(n.RESOURCE_INCLUDES,2)),a(t,n.RESOURCE_BACKGROUND,new rn(n.RESOURCE_BACKGROUND,2)),a(t,n.RESOURCE_SVG,new Ln(n.RESOURCE_SVG,2)),a(t,n.RESOURCE_STRINGS,new In(n.RESOURCE_STRINGS,2)),a(t,n.RESOURCE_FONTS,new bn(n.RESOURCE_FONTS,2)),a(t,n.RESOURCE_DIMENS,new dn(n.RESOURCE_DIMENS,2)),a(t,n.RESOURCE_STYLES,new kn(n.RESOURCE_STYLES,2)),t)),zn=!0,{application:Dn,framework:2,userSettings:Xn}},cached:function(){return zn?{application:Dn,framework:2,userSettings:Xn}:Hn.create()}};return Hn}();
