var android=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?s(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,l=t[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f;!function(t){t[t.NONE=0]="NONE",t[t.CHECKBOX=1]="CHECKBOX",t[t.RADIO=2]="RADIO",t[t.EDIT=3]="EDIT",t[t.SELECT=4]="SELECT",t[t.RANGE=5]="RANGE",t[t.SVG=6]="SVG",t[t.TEXT=7]="TEXT",t[t.IMAGE=8]="IMAGE",t[t.BUTTON=9]="BUTTON",t[t.INLINE=10]="INLINE",t[t.LINE=11]="LINE",t[t.SPACE=12]="SPACE",t[t.BLOCK=13]="BLOCK",t[t.FRAME=14]="FRAME",t[t.LINEAR=15]="LINEAR",t[t.GRID=16]="GRID",t[t.RELATIVE=17]="RELATIVE",t[t.CONSTRAINT=18]="CONSTRAINT"}(f||(f={}));var p,g=Object.freeze({get CONTAINER_NODE(){return f}}),m={DELEGATE_ELEMENT:"android.delegate.element",DELEGATE_RADIOGROUP:"android.delegate.radiogroup",DELEGATE_SCROLLBAR:"android.delegate.scrollbar",DELEGATE_VERTICALALIGN:"android.delegate.verticalalign",CONSTRAINT_GUIDELINE:"android.constraint.guideline",RESOURCE_INCLUDES:"android.resource.includes",RESOURCE_BACKGROUND:"android.resource.background",RESOURCE_SVG:"android.resource.svg",RESOURCE_STRINGS:"android.resource.strings",RESOURCE_FONTS:"android.resource.fonts",RESOURCE_DIMENS:"android.resource.dimens",RESOURCE_STYLES:"android.resource.styles"},v={CHECKBOX:"CheckBox",RADIO:"RadioButton",EDIT:"EditText",SELECT:"Spinner",RANGE:"SeekBar",SVG:"ImageView",TEXT:"TextView",IMAGE:"ImageView",BUTTON:"Button",INLINE:"FrameLayout",LINE:"View",SPACE:"Space",BLOCK:"LinearLayout",FRAME:"FrameLayout",LINEAR:"LinearLayout",GRID:"GridLayout",RELATIVE:"RelativeLayout",CONSTRAINT:"android.support.constraint.ConstraintLayout",GUIDELINE:"android.support.constraint.Guideline"},y={PLAINTEXT:f.TEXT,HR:f.LINE,SVG:f.SVG,IMG:f.IMAGE,SELECT:f.SELECT,RANGE:f.RANGE,TEXT:f.EDIT,PASSWORD:f.EDIT,NUMBER:f.EDIT,EMAIL:f.EDIT,SEARCH:f.EDIT,URL:f.EDIT,CHECKBOX:f.CHECKBOX,RADIO:f.RADIO,BUTTON:f.BUTTON,SUBMIT:f.BUTTON,RESET:f.BUTTON,TEXTAREA:f.EDIT},b={MARGIN:"layout_margin",MARGIN_VERTICAL:"layout_marginVertical",MARGIN_HORIZONTAL:"layout_marginHorizontal",MARGIN_TOP:"layout_marginTop",MARGIN_RIGHT:"layout_marginRight",MARGIN_BOTTOM:"layout_marginBottom",MARGIN_LEFT:"layout_marginLeft",PADDING:"padding",PADDING_VERTICAL:"paddingVertical",PADDING_HORIZONTAL:"paddingHorizontal",PADDING_TOP:"paddingTop",PADDING_RIGHT:"paddingRight",PADDING_BOTTOM:"paddingBottom",PADDING_LEFT:"paddingLeft"},E={HORIZONTAL:"horizontal",VERTICAL:"vertical"},w={relativeParent:{left:"layout_alignParentLeft",top:"layout_alignParentTop",right:"layout_alignParentRight",bottom:"layout_alignParentBottom",centerHorizontal:"layout_centerHorizontal",centerVertical:"layout_centerVertical"},relative:{left:"layout_alignLeft",top:"layout_alignTop",right:"layout_alignRight",bottom:"layout_alignBottom",baseline:"layout_alignBaseline",leftRight:"layout_toRightOf",rightLeft:"layout_toLeftOf",topBottom:"layout_below",bottomTop:"layout_above"},constraint:{left:"layout_constraintLeft_toLeftOf",top:"layout_constraintTop_toTopOf",right:"layout_constraintRight_toRightOf",bottom:"layout_constraintBottom_toBottomOf",leftRight:"layout_constraintLeft_toRightOf",rightLeft:"layout_constraintRight_toLeftOf",baseline:"layout_constraintBaseline_toBaselineOf",topBottom:"layout_constraintTop_toBottomOf",bottomTop:"layout_constraintBottom_toTopOf"}},T={android:"http://schemas.android.com/apk/res/android",app:"http://schemas.android.com/apk/res-auto",aapt:"http://schemas.android.com/aapt",tools:"http://schemas.android.com/tools"},x=["abstract","assert","boolean","break","byte","case","catch","char","class","const","continue","default","double","do","else","enum","extends","false","final","finally","float","for","goto","if","implements","import","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","void","volatile","while"],S=Object.freeze({EXT_ANDROID:m,CONTAINER_ANDROID:v,ELEMENT_ANDROID:y,SUPPORT_ANDROID:{DRAWER:"android.support.v4.widget.DrawerLayout",NAVIGATION_VIEW:"android.support.design.widget.NavigationView",COORDINATOR:"android.support.design.widget.CoordinatorLayout",APPBAR:"android.support.design.widget.AppBarLayout",COLLAPSING_TOOLBAR:"android.support.design.widget.CollapsingToolbarLayout",TOOLBAR:"android.support.v7.widget.Toolbar",FLOATING_ACTION_BUTTON:"android.support.design.widget.FloatingActionButton",BOTTOM_NAVIGATION:"android.support.design.widget.BottomNavigationView"},BOX_ANDROID:b,AXIS_ANDROID:E,LAYOUT_ANDROID:w,XMLNS_ANDROID:T,PREFIX_ANDROID:{MENU:"ic_menu_",DIALOG:"ic_dialog_"},RESERVED_JAVA:x});function A(t,e,n){return(!n||n>=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:0))&&(t.attr=e),!0}var R=(i(p={},28,{android:{},app:{},customizations:{}}),i(p,27,{android:{accessibilityHeading:!1,accessibilityPaneTitle:!1,appComponentFactory:!1,buttonCornerRadius:!1,cantSaveState:!1,dialogCornerRadius:!1,fallbackLineSpacing:!1,firstBaselineToTopHeight:!1,fontVariationSettings:!1,lastBaselineToBottomHeight:!1,lineHeight:!1,maxLongVersionCode:!1,outlineAmbientShadowColor:!1,outlineSpotShadowColor:!1,screenReaderFocusable:!1,textFontWeight:!1,ttcIndex:!1,versionCodeMajor:!1,versionMajor:!1,widgetFeatures:!1,windowLayoutInDisplayCutoutMode:!1},app:{},customizations:{}}),i(p,26,{android:{classLoader:!1,navigationBarDividerColor:!1,showWhenLocked:!1,turnScreenOn:!1,windowLightNavigationBar:!1},app:{},customizations:{}}),i(p,25,{android:{fontWeight:!1,layout_marginHorizontal:!1,layout_marginVertical:!1,paddingHorizontal:!1,paddingVertical:!1},app:{},customizations:{}}),i(p,24,{android:{colorSecondary:!1,contextDescription:!1,contextUri:!1,roundIcon:!1,shortcutDisabledMessage:!1,shortcutId:!1,shortcutLongLabel:!1,shortcutShortLabel:!1,showMetadataInPreview:!1},app:{},customizations:{}}),i(p,23,{android:{backupInForeground:!1,bitmap:!1,buttonGravity:!1,canControlMagnification:!1,canPerformGestures:!1,canRecord:!1,collapseIcon:!1,contentInsetEndWithActions:!1,contentInsetStartWithNavigation:!1,contextPopupMenuStyle:!1,countDown:!1,defaultHeight:!1,defaultToDeviceProtectedStorage:!1,defaultWidth:!1,directBootAware:!1,enableVrMode:!1,endX:!1,endY:!1,externalService:!1,fillType:!1,forceHasOverlappingRendering:!1,hotSpotX:!1,hotSpotY:!1,languageTag:!1,level:!1,listMenuViewStyle:!1,maxButtonHeight:!1,networkSecurityConfig:!1,numberPickerStyle:!1,offset:!1,pointerIcon:!1,popupEnterTransition:!1,popupExitTransition:!1,preferenceFragmentStyle:!1,resizeableActivity:!1,startX:!1,startY:!1,subMenuArrow:!1,supportsLocalInteraction:!1,supportsPictureInPicture:!1,textAppearancePopupMenuHeader:!1,tickMark:!1,tickMarkTint:!1,tickMarkTintMode:!1,titleMargin:!1,titleMarginBottom:!1,titleMarginEnd:!1,titleMarginStart:!1,titleMarginTop:!1,tunerCount:!1,use32bitAbi:!1,version:!1,windowBackgroundFallback:!1},app:{},customizations:{}}),i(p,22,{android:{allowUndo:!1,autoVerify:!1,breakStrategy:!1,colorBackgroundFloating:!1,contextClickable:!1,drawableTint:!1,drawableTintMode:!1,end:function(t){return A(t,"right")},extractNativeLibs:!1,fingerprintAuthDrawable:!1,fraction:!1,fullBackupContent:!1,hyphenationFrequency:!1,lockTaskMode:!1,logoDescription:!1,numbersInnerTextColor:!1,scrollIndicators:!1,showForAllUsers:!1,start:function(t){return A(t,"left")},subtitleTextColor:!1,supportsAssist:!1,supportsLaunchVoiceAssistFromKeyguard:!1,thumbPosition:!1,titleTextColor:!1,trackTint:!1,trackTintMode:!1,usesCleartextTraffic:!1,windowLightStatusBar:!1},app:{},customizations:{}}),i(p,21,{android:{accessibilityTraversalAfter:!1,accessibilityTraversalBefore:!1,collapseContentDescription:!1,dialogPreferredPadding:!1,resizeClip:!1,revisionCode:!1,searchHintIcon:!1},app:{},customizations:{}}),i(p,20,{android:{actionBarPopupTheme:!1,actionBarTheme:!1,actionModeFindDrawable:!1,actionModeShareDrawable:!1,actionModeWebSearchDrawable:!1,actionOverflowMenuStyle:!1,amPmBackgroundColor:!1,amPmTextColor:!1,ambientShadowAlpha:!1,autoRemoveFromRecents:!1,backgroundTint:!1,backgroundTintMode:!1,banner:!1,buttonBarNegativeButtonStyle:!1,buttonBarNeutralButtonStyle:!1,buttonBarPositiveButtonStyle:!1,buttonTint:!1,buttonTintMode:!1,calendarTextColor:!1,checkMarkTint:!1,checkMarkTintMode:!1,closeIcon:!1,colorAccent:!1,colorButtonNormal:!1,colorControlActivated:!1,colorControlHighlight:!1,colorControlNormal:!1,colorEdgeEffect:!1,colorPrimary:!1,colorPrimaryDark:!1,commitIcon:!1,contentAgeHint:!1,contentInsetEnd:!1,contentInsetLeft:!1,contentInsetRight:!1,contentInsetStart:!1,controlX1:!1,controlX2:!1,controlY1:!1,controlY2:!1,country:!1,datePickerDialogTheme:!1,datePickerMode:!1,dayOfWeekBackground:!1,dayOfWeekTextAppearance:!1,documentLaunchMode:!1,elegantTextHeight:!1,elevation:!1,excludeClass:!1,excludeId:!1,excludeName:!1,fastScrollStyle:!1,fillAlpha:!1,fillColor:!1,fontFeatureSettings:!1,foregroundTint:!1,foregroundTintMode:!1,fragmentAllowEnterTransitionOverlap:!1,fragmentAllowReturnTransitionOverlap:!1,fragmentEnterTransition:!1,fragmentExitTransition:!1,fragmentReenterTransition:!1,fragmentReturnTransition:!1,fragmentSharedElementEnterTransition:!1,fragmentSharedElementReturnTransition:!1,fromId:!1,fullBackupOnly:!1,goIcon:!1,headerAmPmTextAppearance:!1,headerDayOfMonthTextAppearance:!1,headerMonthTextAppearance:!1,headerTimeTextAppearance:!1,headerYearTextAppearance:!1,hideOnContentScroll:!1,indeterminateTint:!1,indeterminateTintMode:!1,inset:!1,isGame:!1,launchTaskBehindSourceAnimation:!1,launchTaskBehindTargetAnimation:!1,layout_columnWeight:!1,layout_rowWeight:!1,letterSpacing:!1,matchOrder:!1,maxRecentsv:!1,maximumAngle:!1,minimumHorizontalAngle:!1,minimumVerticalAngle:!1,multiArch:!1,navigationBarColor:!1,navigationContentDescription:!1,navigationIcon:!1,nestedScrollingEnabled:!1,numbersBackgroundColor:!1,numbersSelectorColor:!1,numbersTextColor:!1,outlineProvider:!1,overlapAnchor:!1,paddingMode:!1,pathData:!1,patternPathData:!1,persistableMode:!1,popupElevation:!1,popupTheme:!1,progressBackgroundTint:!1,progressBackgroundTintMode:!1,progressTint:!1,progressTintMode:!1,propertyXName:!1,propertyYName:!1,queryBackground:!1,recognitionService:!1,relinquishTaskIdentity:!1,reparent:!1,reparentWithOverlay:!1,restrictionType:!1,resumeWhilePausing:!1,reversible:!1,searchIcon:!1,searchViewStyle:!1,secondaryProgressTint:!1,secondaryProgressTintMode:!1,selectableItemBackgroundBorderless:!1,sessionService:!1,setupActivity:!1,showText:!1,slideEdge:!1,splitTrack:!1,spotShadowAlpha:!1,src:function(t,e,n){return n.svgElement&&(t.obj="app",t.attr="srcCompat"),!0},stackViewStyle:!1,stateListAnimator:!1,statusBarColor:!1,strokeAlpha:!1,strokeColor:!1,strokeLineCap:!1,strokeLineJoin:!1,strokeMiterLimit:!1,strokeWidth:!1,submitBackground:!1,subtitleTextAppearance:!1,suggestionRowLayout:!1,switchStyle:!1,targetName:!1,textAppearanceListItemSecondary:!1,thumbTint:!1,thumbTintMode:!1,tileModeX:!1,tileModeY:!1,timePickerDialogTheme:!1,timePickerMode:!1,timePickerStyle:!1,tintMode:!1,titleTextAppearance:!1,toId:!1,toolbarStyle:!1,touchscreenBlocksFocus:!1,transitionGroup:!1,transitionName:!1,transitionVisibilityMode:!1,translateX:!1,translateY:!1,translationZ:!1,trimPathEnd:!1,trimPathOffset:!1,trimPathStart:!1,viewportHeight:!1,viewportWidth:!1,voiceIcon:!1,windowActivityTransitions:!1,windowAllowEnterTransitionOverlap:!1,windowAllowReturnTransitionOverlap:!1,windowClipToOutline:!1,windowContentTransitionManager:!1,windowContentTransitions:!1,windowDrawsSystemBarBackgrounds:!1,windowElevation:!1,windowEnterTransition:!1,windowExitTransition:!1,windowReenterTransition:!1,windowReturnTransition:!1,windowSharedElementEnterTransition:!1,windowSharedElementExitTransition:!1,windowSharedElementReenterTransition:!1,windowSharedElementReturnTransition:!1,windowSharedElementsUseOverlay:!1,windowTransitionBackgroundFadeDuration:!1,yearListItemTextAppearance:!1,yearListSelectorColor:!1},app:{},customizations:{}}),i(p,19,{android:{allowEmbedded:!1,windowSwipeToDismiss:!1},app:{},customizations:{}}),i(p,18,{android:{accessibilityLiveRegion:!1,addPrintersActivity:!1,advancedPrintOptionsActivity:!1,apduServiceBanner:!1,autoMirrored:!1,category:!1,fadingMode:!1,fromScene:!1,isAsciiCapable:!1,keySet:!1,requireDeviceUnlock:!1,ssp:!1,sspPattern:!1,sspPrefix:!1,startDelay:!1,supportsSwitchingToNextInputMethod:!1,targetId:!1,toScene:!1,transition:!1,transitionOrdering:!1,vendor:!1,windowTranslucentNavigation:!1,windowTranslucentStatus:!1},app:{},customizations:{}}),i(p,17,{android:{canRequestEnhancedWebAccessibility:function(t,e){return e<26},canRequestFilterKeyEvents:!1,canRequestTouchExplorationMode:!1,childIndicatorEnd:!1,childIndicatorStart:!1,indicatorEnd:!1,indicatorStart:!1,layoutMode:!1,mipMap:!1,mirrorForRtl:!1,requiredAccountType:!1,requiredForAllUsers:!1,restrictedAccountType:!1,windowOverscan:!1},app:{},customizations:{}}),i(p,16,{android:{checkedTextViewStyle:!1,format12Hour:!1,format24Hour:!1,initialKeyguardLayout:!1,labelFor:!1,layoutDirection:!1,layout_alignEnd:function(t){return A(t,"layout_alignRight")},layout_alignParentEnd:function(t){return A(t,"layout_alignParentRight")},layout_alignParentStart:function(t){return A(t,"layout_alignParentLeft")},layout_alignStart:function(t){return A(t,"layout_alignLeft")},layout_marginEnd:function(t){return A(t,"layout_marginRight")},layout_marginStart:function(t){return A(t,"layout_marginLeft")},layout_toEndOf:function(t){return A(t,"layout_toRightOf")},layout_toStartOf:function(t){return A(t,"layout_toLeftOf")},listPreferredItemPaddingEnd:function(t){return A(t,"listPreferredItemPaddingRight")},listPreferredItemPaddingStart:function(t){return A(t,"listPreferredItemPaddingLeft")},paddingEnd:function(t){return A(t,"paddingRight")},paddingStart:function(t){return A(t,"paddingLeft")},permissionFlags:!1,permissionGroupFlags:!1,presentationTheme:!1,showOnLockScreen:!1,singleUser:!1,subtypeId:!1,supportsRtl:!1,textAlignment:!1,textDirection:!1,timeZone:!1,widgetCategory:!1},app:{},customizations:{}}),i(p,15,{android:{fontFamily:!1,importantForAccessibility:!1,isolatedProcess:!1,keyboardLayout:!1,mediaRouteButtonStyle:!1,mediaRouteTypes:!1,parentActivityName:!1},app:{},customizations:{}}),i(p,14,{android:{},app:{},customizations:{}}),i(p,0,{android:{},app:{},customizations:{Button:{android:{textAllCaps:"false"}}}}),p),I={android:{amPmBackgroundColor:function(t,e){return A(t,"headerBackground",e,23)},amPmTextColor:function(t,e){return A(t,"headerTextColor",e,23)},animationResolution:function(t,e){return e<16},canRequestEnhancedWebAccessibility:function(t,e){return e<26},dayOfWeekBackground:function(t,e){return e<23},dayOfWeekTextAppearance:function(t,e){return e<23},directionDescriptions:function(t,e){return e<23},headerAmPmTextAppearance:function(t,e){return A(t,"headerTextColor",e,23)},headerDayOfMonthTextAppearance:function(t,e){return A(t,"headerTextColor",e,23)},headerMonthTextAppearance:function(t,e){return A(t,"headerTextColor",e,23)},headerTimeTextAppearance:function(t,e){return A(t,"headerTextColor",e,23)},headerYearTextAppearance:function(t,e){return A(t,"headerTextColor",e,23)},showOnLockScreen:function(t,e){return A(t,"showForAllUsers",e,23)},targetDescriptions:function(t,e){return e<23},yearListItemTextAppearance:function(t,e){return A(t,"yearListTextColor",e,23)},yearListSelectorColor:function(t,e){return e<23}}},_={builtInExtensions:["androme.external","androme.sprite","androme.css-grid","androme.flexbox","androme.origin","androme.table","androme.list","androme.grid","androme.percent","androme.relative","androme.verticalalign","androme.whitespace","androme.accessibility","android.constraint.guideline","android.delegate.element","android.delegate.radiogroup","android.delegate.scrollbar","android.resource.includes","android.resource.background","android.resource.svg","android.resource.strings","android.resource.fonts","android.resource.dimens","android.resource.styles"],targetAPI:26,resolutionDPI:160,supportRTL:!0,preloadImages:!0,autoSizePaddingAndBorderWidth:!0,ellipsisOnTextOverflow:!0,supportNegativeLeftTop:!0,floatOverlapDisabled:!1,collapseUnattributedElements:!0,customizationsOverwritePrivilege:!0,showAttributes:!0,convertPixels:"dp",insertSpaces:4,handleExtensionsAsync:!0,autoCloseOnWrite:!0,outputDirectory:"app/src/main",outputMainFileName:"activity_main.xml",outputArchiveFileType:"zip",outputMaxProcessingTime:30},k='<?xml version="1.0" encoding="utf-8"?>\n{:0}',C=androme.lib.color,P=androme.lib.constant,N=androme.lib.dom,O=androme.lib.util,L=androme.lib.svg,B=androme.lib.xml;function D(t){return t?t.opaque?t.valueARGB:t.valueRGB:""}var M=function(n){function i(){return e(this,i),d(this,o(i).apply(this,arguments))}return a(i,androme.lib.base.Resource),r(i,[{key:"addStyleTheme",value:function(t,e,n){if(n.items&&O.isArray(e.items)&&this.application){var r=i.formatOptions(n.items,this.application.getExtensionOptionValueAsBoolean(m.RESOURCE_STRINGS,"numberResourceValue"));for(var a in r)e.items.push({name:a,value:r[a]})}var o=B.createTemplate(B.parseTemplate(t),e);this.fileHandler&&this.fileHandler.addAsset(n.output.path,n.output.file,o)}},{key:"userSettings",get:function(){return this.application.userSettings}}],[{key:"createBackgroundGradient",value:function(t,e){for(var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[],a=t.svgElement||e.some(function(t){return t.colorStop.filter(function(t){return parseInt(t.offset)>0}).length>0}),o=Array.isArray(s=e),l=0,s=o?s:s[Symbol.iterator]();;){var d;if(o){if(l>=s.length)break;d=s[l++]}else{if((l=s.next()).done)break;d=l.value}var c=d,h={type:c.type,startColor:a?"":i.addColor(c.colorStop[0].color),centerColor:!a&&c.colorStop.length>2?i.addColor(c.colorStop[1].color):"",endColor:a?"":i.addColor(c.colorStop[c.colorStop.length-1].color),colorStop:[]};switch(c.type){case"radial":if(t.svgElement){var u=c;h.gradientRadius=""+u.r,h.centerX=""+u.cx,h.centerY=""+u.cy}else{var f=void 0;c.shapePosition&&c.shapePosition.length>1&&(f=N.getBackgroundPosition(c.shapePosition[1],t.bounds,t.dpi,t.fontSize,!0,!a)),a?(h.gradientRadius=""+t.bounds.width,f&&(h.centerX=""+f.left,h.centerY=""+f.top)):(h.gradientRadius=O.formatPX(t.bounds.width),f&&(h.centerX=O.convertPercent(f.left),h.centerY=O.convertPercent(f.top)))}break;case"linear":if(t.svgElement){var p=c;h.startX=""+p.x1,h.startY=""+p.y1,h.endX=""+p.x2,h.endY=""+p.y2}else{var g=c;if(void 0!==g.angle)if(a){var m=Math.round(t.bounds.width/2),v=Math.round(t.bounds.height/2);h.startX=""+Math.round(L.getOffsetX(g.angle+180,m)+m),h.startY=""+Math.round(L.getOffsetY(g.angle+180,v)+v),h.endX=""+Math.round(L.getOffsetX(g.angle,m)+m),h.endY=""+Math.round(L.getOffsetY(g.angle,v)+v)}else h.angle=""+45*Math.floor(g.angle/45)}}if(a)for(var y=0;y<c.colorStop.length;y++){var b=c.colorStop[y],E=n?"@color/".concat(i.addColor(b.color)):D(C.parseRGBA(b.color)),w=parseInt(b.offset);0===y?t.svgElement||0===w||h.colorStop.push({color:E,offset:"0",opacity:b.opacity}):0===w&&(w=y<c.colorStop.length-1?Math.round((parseInt(c.colorStop[y-1].offset)+parseInt(c.colorStop[y+1].offset))/2):100),h.colorStop.push({color:E,offset:(w/100).toFixed(2),opacity:b.opacity})}r.push(h)}return r}},{key:"formatOptions",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if("object"===t(i))for(var a in i)if(i.hasOwnProperty(a)){var o=""+i[a];switch(a){case"text":if(!o.startsWith("@string/")&&""!==(o=this.addString(o,"",n))){i[a]="@string/".concat(o);continue}break;case"src":case"srcCompat":if(P.REGEX_PATTERN.URI.test(o)&&""!==(o=this.addImage({mdpi:o}))){i[a]="@drawable/".concat(o);continue}}var l=C.parseRGBA(o);if(l){var s=this.addColor(l);""!==s&&(i[a]="@color/".concat(s))}}}return e}},{key:"getOptionArray",value:function(t){for(var e=[],n=[],r=-1;++r<t.children.length;){var i=t.children[r].text.trim();if(""!==i)if(n&&0===e.length&&O.isNumber(i))n.push(i);else{if(n&&n.length){r=-1,n=null;continue}""!==i&&e.push(B.replaceEntity(i))}}return[e.length?e:null,n&&n.length?n:null]}},{key:"addString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(""!==t){""===e&&(e=t.trim());var r=O.isNumber(t);if(!r||n){var a=i.STORED.strings.entries(),o=Array.isArray(a),l=0;for(a=o?a:a[Symbol.iterator]();;){var s;if(o){if(l>=a.length)break;s=a[l++]}else{if((l=a.next()).done)break;s=l.value}var d=h(s,2);if(d[1]===t)return d[0]}e=e.toLowerCase().replace(/[^a-z\d]/g,"_").replace(/_+/g,"_").split("_").slice(0,4).join("_").replace(/_+$/g,""),r||/^\d/.test(e)||x.includes(e)?e="__".concat(e):""===e&&(e="__symbol".concat(Math.ceil(1e5*Math.random()))),i.STORED.strings.has(e)&&(e=i.generateId("string",e,1)),i.STORED.strings.set(e,t)}return e}return""}},{key:"addImageSrcSet",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={},r=t.srcset.trim();if(""!==r){var i=t.src.substring(0,t.src.lastIndexOf("/")+1);r.split(",").forEach(function(t){var e=/^(.*?)\s*(\d+\.?\d*x)?$/.exec(t.trim());if(e){O.hasValue(e[2])||(e[2]="1x");var r=i+O.lastIndexOf(e[1]);switch(e[2]){case"0.75x":n.ldpi=r;break;case"1x":n.mdpi=r;break;case"1.5x":n.hdpi=r;break;case"2x":n.xhdpi=r;break;case"3x":n.xxhdpi=r;break;case"4x":n.xxxhdpi=r}}})}return void 0===n.mdpi&&(n.mdpi=t.src),this.addImage(n,e)}},{key:"addImage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";if(t&&t.mdpi){n=O.lastIndexOf(t.mdpi);var r=O.lastIndexOf(n,".").toLowerCase();switch(n=n.replace(/.\w+$/,"").replace(/-/g,"_"),r){case"bmp":case"cur":case"gif":case"ico":case"jpg":case"png":n=i.insertStoredAsset("images",e+n,t);break;default:n=""}}return n}},{key:"addImageUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=N.cssResolveUrl(t);return""!==n?this.addImage({mdpi:n},e):""}},{key:"addColor",value:function(t){if("string"==typeof t&&(t=C.parseRGBA(t)),t&&"#00000000"!==t.valueRGBA){var e=D(t),n=i.STORED.colors.get(e)||"";if(""===n){var r=C.getColorByShade(t.valueRGB);r&&(r.name=O.convertUnderscore(r.name),n=t.opaque||r.hex!==t.valueRGB?i.generateId("color",r.name,1):r.name,i.STORED.colors.set(e,n))}return n}return""}}]),i}(),X=androme.lib.util,z=androme.lib.xml;function G(t){return t?t.replace(/@\+?id\//,""):""}function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({android:{},app:{}},"object"===t(e)&&e?e:{})}function W(t){return t?t.trim().replace(/[^\w$\-_.]/g,"_"):""}function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t){var r=parseFloat(t);if(!isNaN(r))return(t=(r/=e/160)>=1||0===r?""+Math.floor(r):r.toFixed(2))+(n?"sp":"dp")}return"0dp"}function V(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return"dp"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dp")||n?t.replace(/([">])(-)?(\d+(?:\.\d+)?px)(["<])/g,function(t){return(arguments.length<=1?void 0:arguments[1])+((arguments.length<=2?void 0:arguments[2])||"")+F(arguments.length<=3?void 0:arguments[3],e,n)+(arguments.length<=4?void 0:arguments[4])}):t}function U(t){return z.replaceTab(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}function Y(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return 0===t?0:0===e?1:parseFloat(Math.max(t/(t+e),0).toFixed(n))}function j(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:26;return t=t?t.trim():"",e&&n>=17&&(t=(t=t.replace(/left/g,"start").replace(/right/g,"end")).replace(/Left/g,"Start").replace(/Right/g,"End")),t}function K(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return X.flatMap(e,function(t){return T[t]?"xmlns:".concat(t,'="').concat(T[t],'"'):""}).join(" ")}var Z=Object.freeze({stripId:G,createAttribute:H,validateString:W,convertUnit:F,replaceUnit:V,replaceTab:U,calculateBias:Y,replaceRTL:j,getXmlNs:K}),q=androme.lib.base.NodeList,$=androme.lib.base.Resource,J=androme.lib.dom,Q=androme.lib.enumeration,tt=androme.lib.util;function et(t,e){var n=e-(t.hasHeight?parseInt(t.convertPX(t.css("height"),!1,!0)):t.bounds.height-(t.paddingTop+t.paddingBottom));n>0&&(t.modifyBox(2,Math.floor(n/2)-(t.inlineVertical?t.toInt("verticalAlign"):0)),t.modifyBox(8,Math.ceil(n/2)))}var nt=function(n){return function(i){function l(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;return e(this,l),(t=d(this,o(l).call(this,n,r))).renderChildren=[],t.constraint={horizontal:!1,vertical:!1,current:{}},t._namespaces=new Set(["android","app"]),t._controlName="",t._fontSize=0,t._boxAdjustment=J.newBoxModel(),t._boxReset=J.newBoxModel(),t._containerType=0,t._localSettings={targetAPI:0,resolutionDPI:160,supportRTL:!1},t.__android={},t.__app={},i&&i(s(s(t))),t}return a(l,n),r(l,[{key:"attr",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={};return this.supported(t,e,i)?(Object.keys(i).length&&(tt.isString(i.obj)&&(t=i.obj),tt.isString(i.attr)&&(e=i.attr),tt.isString(i.value)&&(n=i.value),"boolean"==typeof i.overwrite&&(r=i.overwrite)),c(o(l.prototype),"attr",this).call(this,t,e,n,r)):""}},{key:"android",value:function(t){return this.attr("android",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),this.__android[t]||""}},{key:"app",value:function(t){return this.attr("app",t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",!(arguments.length>2&&void 0!==arguments[2])||arguments[2]),this.__app[t]||""}},{key:"apply",value:function(e){if("object"===t(e)){var n=Object.assign({},e);for(var r in c(o(l.prototype),"apply",this).call(this,n),n)this.formatted("".concat(r,'="').concat(n[r],'"'))}}},{key:"formatted",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.match(/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/);n&&this.attr(n[1]||"_",n[2],n[3],e)}},{key:"anchor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=this.renderParent;if(r)if(r.layoutConstraint){if(void 0===e||void 0===this.constraint.current[t]||n){e&&void 0===n&&(n="parent"===e);var i=w.constraint[t];if(i){if(this.app(this.localizeString(i),e,n),"parent"===e)switch(t){case"left":case"right":this.constraint.horizontal=!0;break;case"top":case"bottom":case"baseline":this.constraint.vertical=!0}this.constraint.current[t]={documentId:e,horizontal:-1!==tt.indexOf(t.toLowerCase(),"left","right")}}}}else if(r.layoutRelative){e&&void 0===n&&(n="true"===e),this.android(this.localizeString(w["true"===e?"relativeParent":"relative"][t]),e,n)}}},{key:"anchorParent",value:function(t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.renderParent;if(n){var r=t===E.HORIZONTAL;n.layoutConstraint?!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&this.constraint[t]||(this.anchor(r?"left":"top","parent"),this.anchor(r?"right":"bottom","parent"),this.constraint[t]=!0,e&&this.app("layout_constraint".concat(tt.capitalize(t),"_bias"),this["".concat(t,"Bias")])):n.layoutRelative&&(this.anchor(r?"left":"top","true"),this.anchor(r?"right":"bottom","true"))}}},{key:"anchorDelete",value:function(){var t=this,e=this.renderParent;if(e){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];if(e.layoutConstraint)this.delete.apply(this,["app"].concat(u(r.map(function(e){return t.localizeString(w.constraint[e])}))));else if(e.layoutRelative)for(var a=0;a<r.length;a++){var o=r[a];this.alignSibling(o)?this.delete("android",w.relative[o],this.localizeString(w.relative[o])):w.relativeParent[o]&&this.delete("android",this.localizeString(w.relativeParent[o]))}}}},{key:"alignParent",value:function(t){var e=this.renderParent;if(e)if(e.layoutConstraint){var n=w.constraint[t];if(n)return"parent"===this.app(this.localizeString(n))||"parent"===this.app(n)}else if(e.layoutRelative){var r=w.relativeParent[t];if(r)return"true"===this.android(this.localizeString(r))||"true"===this.android(r)}return!1}},{key:"alignSibling",value:function(t){if(this.rendered){var e=this.renderParent;if(e.is(f.CONSTRAINT)){var n=w.constraint[t],r=this.app(this.localizeString(n))||this.app(n);return"parent"!==r&&r!==e.documentId?r:""}if(e.is(f.RELATIVE)){var i=w.relative[t];return this.android(this.localizeString(i))||this.android(i)}}return""}},{key:"horizontalBias",value:function(){var t=this.documentParent;return t!==this?Y(Math.max(0,this.linear.left-t.box.left),Math.max(0,t.box.right-this.linear.right),this.localSettings.constraintPercentAccuracy):.5}},{key:"verticalBias",value:function(){var t=this.documentParent;return t!==this?Y(Math.max(0,this.linear.top-t.box.top),Math.max(0,t.box.bottom-this.linear.bottom),this.localSettings.constraintPercentAccuracy):.5}},{key:"supported",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.localSettings.targetAPI>0&&this.localSettings.targetAPI<28){var r=I[t];if(r&&"function"==typeof r[e]){var i=r[e](n,this.localSettings.targetAPI,this);if(!i||Object.keys(n).length)return i}for(var a=this.localSettings.targetAPI;a<=28;a++){var o=R[a];if(o&&o[t]&&void 0!==o[t][e]){var l=o[t][e];if("boolean"==typeof l)return l;if("function"==typeof l)return l(n,this.localSettings.targetAPI,this)}}}return!0}},{key:"combine",value:function(){for(var t=[],e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=this._namespaces.values(),a=Array.isArray(i),o=0;for(i=a?i:i[Symbol.iterator]();;){var l;if(a){if(o>=i.length)break;l=i[o++]}else{if((o=i.next()).done)break;l=o.value}var s=l,d=this["__".concat(s)];if(0===n.length||n.includes(s))for(var c in d)t.push("_"!==s?"".concat(s,":").concat(c,'="').concat(d[c],'"'):"".concat(c,'="').concat(d[c],'"'))}return t.sort(function(t,e){return t.startsWith("android:id=")?-1:e.startsWith("android:id=")?1:t>e?1:-1})}},{key:"localizeString",value:function(t){return this.hasBit("excludeProcedure",Q.NODE_PROCEDURE.LOCALIZATION)?t:j(t,this.localSettings.supportRTL,this.localSettings.targetAPI)}},{key:"clone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new l(t||this.id,this.baseElement);return Object.assign(n.localSettings,this.localSettings),n.containerType=this.containerType,n.alignmentType=this.alignmentType,n.controlId=this.controlId,n.controlName=this.controlName,n.depth=this.depth,n.visible=this.visible,n.rendered=this.rendered,n.renderDepth=this.renderDepth,n.renderParent=this.renderParent,n.renderExtension=this.renderExtension,n.documentParent=this.documentParent,n.documentRoot=this.documentRoot,e&&n.retain(this.duplicate()),n.inherit(this,"initial","base","style","styleMap"),n}},{key:"setControlType",value:function(t,e){if(e)this.containerType=e;else if(0===this.containerType)for(var n in v)if(v[n]===t){for(var r in f)if(f[f[r]]===n){this.containerType=f[r];break}break}if(this.controlName=t,""!==this.android("id")&&(this.controlId=G(this.android("id"))),""===this.controlId){var i=this.baseElement,a="";i&&("parent"===(a=W(i.id||i.name))||x.includes(a))&&(a="_".concat(a)),this.controlId=tt.convertWord($.generateId("android",a||tt.lastIndexOf(this.controlName,".").toLowerCase(),a?0:1)),this.android("id",this.documentId)}}},{key:"setLayout",value:function(){var t=this,e=this.absoluteParent,n=this.renderChildren,r=this.renderParent;this.documentBody&&(!this.hasWidth&&n.some(function(t){return t.alignParent("right")})&&this.android("layout_width","match_parent",!1),!this.hasHeight&&n.some(function(t){return t.alignParent("bottom")})&&this.android("layout_height","match_parent",!1));var i=!1;if(!this.android("layout_width")&&(!this.inlineStatic&&this.has("width")||this.toInt("width")>0&&!this.cssInitial("width"))){var a=this.css("width");if(tt.isUnit(a)){var o=r?tt.convertInt(r.android("layout_width")):0,l=this.convertPX(a);e===r&&o>0&&tt.convertInt(l)>=o?this.android("layout_width","match_parent"):this.android("layout_width",l),i=!0}else tt.isPercent(a)&&(this.android("layout_width","100%"===a?"match_parent":this.convertPercent(a,!0)),i=!0)}if(this.has("minWidth")&&!this.constraint.minWidth){var s=this.convertPX(this.css("minWidth"));this.android("layout_width","wrap_content",!1),this.android("minWidth",s,!1),i=!0}if(this.has("maxWidth")){var d=this.convertPX(this.css("maxWidth"));this.textElement?(this.android("maxWidth",d,!1),this.android("layout_width","wrap_content",!1),i=!0):this.layoutVertical&&!this.documentBody&&n.forEach(function(t){return t.textElement&&!t.has("maxWidth")&&t.android("maxWidth",d,!1)})}if(!i)if(this.plainText)this.android("layout_width",r&&this.bounds.width>r.box.width&&this.multiLine&&this.alignParent("left")?"match_parent":"wrap_content",!1);else if(n.filter(function(t){return(t.inlineStatic||tt.isUnit(t.cssInitial("width")))&&!t.autoMargin.horizontal}).some(function(e){return Math.ceil(e.bounds.width)>=t.box.width}))this.android("layout_width","wrap_content",!1);else if(!this.documentRoot&&n.some(function(t){return t.layoutVertical&&!t.hasWidth&&!t.floating&&!t.autoMargin.horizontal})||this.layoutFrame&&(2===q.floated(n).size||n.some(function(t){return t.blockStatic&&(t.autoMargin.leftRight||t.rightAligned)})))this.android("layout_width","match_parent",!1);else{(!(this.containerType<f.INLINE||!this.pageFlow||this.inlineFlow||this.tableElement||this.flexElement||e.flexElement||e.gridElement||!!r&&r.is(f.GRID))||this.blockStatic&&!this.has("maxWidth"))&&(this.linear.width>=e.box.width||this.layoutVertical&&!this.autoMargin.horizontal||this.htmlElement&&this.blockStatic&&(e.documentBody||e.blockStatic&&(this.singleChild||this.alignedVertically(this.previousSiblings())))||this.groupParent&&n.some(function(e){return!(e.plainText&&e.multiLine)&&e.linear.width>=t.documentParent.box.width}))?this.android("layout_width","match_parent",!1):this.android("layout_width","wrap_content",!1)}var c=!1;if(!this.android("layout_height")&&(!this.inlineStatic&&this.has("height")||this.toInt("height")>0&&!this.cssInitial("height"))){var h=this.css("height");if(tt.isUnit(h)){var u=this.convertPX(h,!1);this.android("layout_height","hidden"===this.css("overflow")&&parseInt(u)<Math.floor(this.box.height)?"wrap_content":u),c=!0}else tt.isPercent(h)&&(this.android("layout_height","100%"===h?"match_parent":tt.formatPX(Math.ceil(this.bounds.height)-this.contentBoxHeight)),c=!0)}if(this.has("minHeight")&&!this.constraint.minHeight){var p=this.convertPX(this.css("minHeight"),!1);this.android("layout_height","wrap_content",!1),this.android("minHeight",p,!1),c=!0}if(this.has("maxHeight")){var g=this.convertPX(this.css("maxHeight"),!1);this.textElement?(this.android("maxHeight",g,!1),this.android("layout_height","wrap_content",!1),c=!0):this.layoutVertical&&!this.documentBody&&n.forEach(function(t){return t.textElement&&!t.has("maxHeight")&&t.android("maxHeight",g,!1)})}c||this.android("layout_height","wrap_content",!1)}},{key:"setAlignment",value:function(){var t=this.renderParent;if(t){var e=function(t){if(!t.blockWidth){var e=[];if(t.autoMargin.leftRight?e.push("center_horizontal"):t.autoMargin.left?e.push(a):t.autoMargin.right&&e.push(i),t.autoMargin.topBottom?e.push("center_vertical"):t.autoMargin.top?e.push("bottom"):t.autoMargin.bottom&&e.push("top"),e.length)return t.mergeGravity.apply(t,[t.blockWidth?"gravity":"layout_gravity"].concat(e)),!0}return!1},n=function(t){switch(t){case"left":case"start":return i;case"right":case"end":return a;case"center":return"center_horizontal";default:return""}},r=function(t){return""===o||t===a?t:o},i=this.localizeString("left"),a=this.localizeString("right"),o=this.cssInitial("textAlign",!0)||"",l="";if(this.pageFlow){var s=this.renderChildren,d="";if(this.inlineVertical&&t.is(f.LINEAR,f.GRID))switch(this.cssInitial("verticalAlign",!0)){case"top":l="top";break;case"middle":l="center_vertical";break;case"bottom":l="bottom"}!this.blockWidth&&(t.layoutVertical||this.documentRoot&&this.layoutVertical)&&(this.floating?this.mergeGravity("layout_gravity","right"===this.float?a:i):e(this)),this.hasAlign(64)&&(this.hasAlign(512)||s.length&&s.every(function(t){return t.rightAligned})?d=a:this.groupParent&&!s.some(function(t){return"right"===t.float})&&(d=i)),t.layoutFrame?e(this)||""!==(d=this.floating?this.float:d)&&"none"!==d&&(t.inlineWidth||this.singleChild&&!t.documentRoot?t.mergeGravity("layout_gravity",d):this.blockWidth?o=r(d):this.mergeGravity("layout_gravity",d)):""!==d&&(this.blockWidth?o=r(d):this.mergeGravity("layout_gravity",d))}var c=this.cssParent("textAlign");""!==c&&this.localizeString(c)!==i&&(!t.layoutFrame||!this.pageFlow||this.floating||this.autoMargin.horizontal||this.blockWidth||this.mergeGravity("layout_gravity",n(c)),this.imageElement||""!==o||(o=c)),""!==l&&t.layoutLinear&&t.layoutHorizontal&&(this.mergeGravity("layout_gravity",l),l=""),this.documentRoot&&(this.blockWidth||this.layoutFrame)&&this.delete("android","layout_gravity"),this.layoutConstraint||this.mergeGravity("gravity",n(o),l)}}},{key:"mergeGravity",value:function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=new Set(u(this.android(t).split("|")).concat(r).filter(function(t){return""!==t.trim()}).map(function(t){return e.localizeString(t)})),o="";switch(a.size){case 0:break;case 1:o=a.values().next().value;default:var l="",s="",d="";["center","fill"].forEach(function(t){var e="".concat(t,"_horizontal"),n="".concat(t,"_vertical");a.has(e)&&a.has(n)&&(a.delete(e),a.delete(n),a.add(t))});var c=a.values(),h=Array.isArray(c),f=0;for(c=h?c:c[Symbol.iterator]();;){var p;if(h){if(f>=c.length)break;p=c[f++]}else{if((f=c.next()).done)break;p=f.value}var g=p;switch(g){case"left":case"start":case"right":case"end":case"center_horizontal":l=g;break;case"top":case"bottom":case"center_vertical":s=g;break;default:d+=(""!==d?"|":"")+g}}var m=[l,s].filter(function(t){return t}).join("|");o=m+(""!==d?(""!==m?"|":"")+d:"")}return""!==o?this.android(t,o):(this.delete("android",t),"")}},{key:"applyOptimizations",value:function(){switch(this.renderParent&&(this.autoSizeBoxModel(),this.alignHorizontalLayout(),this.alignVerticalLayout()),this.setBoxSpacing(),this.cssParent("visibility",!0)){case"hidden":case"collapse":this.android("visibility","invisible")}}},{key:"applyCustomizations",value:function(){for(var t=[R[0],R[this.localSettings.targetAPI]],e=0;e<t.length;e++){var n=t[e];if(n&&n.customizations)for(var r=[this.tagName,this.controlName],i=0;i<r.length;i++){var a=n.customizations[r[i]];if(a)for(var o in a)for(var l in a[o])this.attr(o,l,a[o][l],this.localSettings.customizationsOverwritePrivilege)}}}},{key:"autoSizeBoxModel",value:function(){if(this.localSettings.autoSizePaddingAndBorderWidth&&!this.hasBit("excludeProcedure",Q.NODE_PROCEDURE.AUTOFIT)){var t=this.renderParent,e=tt.convertInt(this.android("layout_width")),n=tt.convertInt(this.android("layout_height")),r=!1;if(this.imageElement){var i=this.borderTopWidth,a=this.borderRightWidth,o=this.borderBottomWidth,l=this.borderLeftWidth,s=0,d=0;i>0&&(this.modifyBox(32,i),d+=i),a>0&&(this.modifyBox(64,a),s+=a),o>0&&(this.modifyBox(128,o),d+=o),l>0&&(this.modifyBox(256,l),s+=l),d+=this.paddingTop+this.paddingBottom,(s+=this.paddingLeft+this.paddingRight)>0&&(e>0?this.android("layout_width",tt.formatPX(e+s)):(e=tt.convertInt(t.android("layout_width")))>0&&this.singleChild&&t.android("layout_width",tt.formatPX(e+this.marginLeft+s))),d>0&&(n>0?this.android("layout_height",tt.formatPX(n+d)):(n=tt.convertInt(t.android("layout_height")))>0&&this.singleChild&&t.android("layout_height",tt.formatPX(n+this.marginTop+d)))}else if(this.is(f.BUTTON)&&0===n)this.has("minHeight")||this.android("layout_height",tt.formatPX(this.bounds.height+("outset"===this.css("borderStyle")?tt.convertInt(this.css("borderWidth")):0)));else if(this.is(f.LINE))n>0&&this.cssInitial("height")&&"HR"!==this.tagName&&this.android("layout_height",tt.formatPX(n+this.borderTopWidth+this.borderBottomWidth));else if(this.tableElement)r="content-box"===this.css("boxSizing")||J.isUserAgent(24);else if(this.styleElement&&!this.hasBit("excludeResource",Q.NODE_RESOURCE.BOX_SPACING)){if(!t.tableElement&&"border-box"!==this.css("boxSizing")){var c=this.contentBoxWidth,h=this.contentBoxHeight;e>0&&c>0&&this.toInt("width",!0)>0&&this.android("layout_width",tt.formatPX(e+c)),n>0&&h>0&&this.toInt("height",!0)>0&&this.android("layout_height",tt.formatPX(n+h))}r=!0}r&&this.visibleStyle.borderWidth&&(this.modifyBox(32,this.borderTopWidth),this.modifyBox(64,this.borderRightWidth),this.modifyBox(128,this.borderBottomWidth),this.modifyBox(256,this.borderLeftWidth))}}},{key:"alignHorizontalLayout",value:function(){if(this.layoutLinear&&this.layoutHorizontal){var t,e=this.renderChildren;e.some(function(t){return t.floating})&&!e.some(function(t){return t.imageElement&&t.baseline})?this.android("baselineAligned","false"):(t=q.baseline(e.filter(function(t){return t.baseline&&!t.layoutRelative&&!t.layoutConstraint}),!0)[0])&&this.android("baselineAlignedChildIndex",""+e.indexOf(t));var n=Math.max(this.lineHeight,tt.maxArray(this.renderChildren.map(function(t){return t.lineHeight})));n>0&&et(this,n)}}},{key:"alignVerticalLayout",value:function(){var t,e=this,n=this.renderParent;if(n&&!n.layoutHorizontal){var r=this.lineHeight;if(r){0===this.length?this.layoutHorizontal||(this.inlineStatic&&this.visibleStyle.background?et(this,r):(t=e.css("minHeight"),tt.isUnit(t)&&parseInt(t)<r&&(e.android("minHeight",tt.formatPX(r)),e.mergeGravity("gravity","center_vertical")))):this.layoutVertical&&this.each(function(t){return!t.layoutHorizontal&&et(t,r)},!0)}}}},{key:"setBoxSpacing",value:function(){var t=this;if(!this.hasBit("excludeResource",Q.NODE_RESOURCE.BOX_SPACING)){var e=this.data($.KEY_NAME,"boxSpacing");e&&(e.marginLeft===e.marginRight&&!this.blockWidth&&this.alignParent("left")&&this.alignParent("right")&&(this.modifyBox(16,null),this.modifyBox(4,null)),"auto"===this.css("marginLeft")&&this.modifyBox(16,null),"auto"===this.css("marginRight")&&this.modifyBox(4,null));var n={marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};["margin","padding"].forEach(function(e,r){["Top","Left","Right","Bottom"].forEach(function(r){var i=e+r,a=0;"marginRight"===i&&t.inline&&t.bounds.right>=t.documentParent.box.right||(a+=0===t._boxReset[i]?t[i]:0),n[e+r]=a+=t._boxAdjustment[i]});var i,a,o,l=0===r?"layout_margin":"padding",s="".concat(e,"Top"),d="".concat(e,"Right"),c="".concat(e,"Bottom"),h="".concat(e,"Left"),u=t.localizeString("Left"),p=t.localizeString("Right"),g=t.renderParent;!t.supported("android","layout_marginHorizontal")||0===r&&g&&g.is(f.GRID)||(n[s]===n[d]&&n[d]===n[c]&&n[c]===n[h]?i=n[s]:(n[h]===n[d]&&(a=n[h]),n[s]===n[c]&&(o=n[s]))),void 0!==i?0!==i&&t.android(l,tt.formatPX(i)):(void 0!==a?0!==a&&t.android("".concat(l,"Horizontal"),tt.formatPX(a)):(0!==n[h]&&t.android(l+u,tt.formatPX(n[h])),0!==n[d]&&t.android(l+p,tt.formatPX(n[d]))),void 0!==o?0!==o&&t.android("".concat(l,"Vertical"),tt.formatPX(o)):(0!==n[s]&&t.android("".concat(l,"Top"),tt.formatPX(n[s])),0!==n[c]&&t.android("".concat(l,"Bottom"),tt.formatPX(n[c]))))})}}},{key:"documentId",get:function(){return this.controlId?"@+id/".concat(this.controlId):""}},{key:"anchored",set:function(t){this.constraint.horizontal=t,this.constraint.vertical=t},get:function(){return this.constraint.horizontal&&this.constraint.vertical}},{key:"containerType",set:function(t){this._containerType=t},get:function(){if(0===this._containerType){var t=y[this.tagName]||0;0!==t&&(this._containerType=t)}return this._containerType||0}},{key:"layoutFrame",get:function(){return this.is(f.FRAME)}},{key:"layoutLinear",get:function(){return this.is(f.LINEAR)}},{key:"layoutRelative",get:function(){return this.is(f.RELATIVE)}},{key:"layoutConstraint",get:function(){return this.is(f.CONSTRAINT)}},{key:"support",get:function(){return{container:{positionRelative:this.layoutRelative||this.layoutConstraint}}}},{key:"inlineWidth",get:function(){return"wrap_content"===this.android("layout_width")}},{key:"inlineHeight",get:function(){return"wrap_content"===this.android("layout_height")}},{key:"blockWidth",get:function(){return"match_parent"===this.android("layout_width")}},{key:"blockHeight",get:function(){return"match_parent"===this.android("layout_height")}},{key:"absoluteParent",get:function(){return c(o(l.prototype),"absoluteParent",this)||J.getElementAsNode(document.body)||c(o(l.prototype),"documentParent",this)}},{key:"singleChild",get:function(){return this.renderParent?1===this.renderParent.length:!!this.parent&&1===this.parent.length}},{key:"dpi",get:function(){return this.localSettings.resolutionDPI}},{key:"fontSize",get:function(){return 0===this._fontSize&&(this._fontSize=parseInt(tt.convertPX(this.css("fontSize"),this.dpi,0))||16),this._fontSize}},{key:"localSettings",set:function(t){Object.assign(this._localSettings,t)},get:function(){return this._localSettings}}],[{key:"documentBody",value:function(){if(void 0===l._documentBody){var t=new l(0,document.body);t.hide(),t.setBounds(),l._documentBody=t}return l._documentBody}},{key:"getCustomizationValue",value:function(t,e,n,r){for(var i=[R[t],R[0]],a=0;a<i.length;a++){var o=tt.optionalAsString(i[a],"customizations.".concat(e,".").concat(n,".").concat(r));if(tt.isString(o))return o}return""}},{key:"getControlName",value:function(t){return v[f[t]]}}]),l}()},rt=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return a(n,nt(androme.lib.base.Node)),n}(),it=androme.lib.base.NodeList,at=androme.lib.dom,ot=function(t){function n(t,r,i,a){var l;return e(this,n),(l=d(this,o(n).call(this,t,void 0,a))).tagName="".concat(r.tagName,"_GROUP"),l.documentParent=r.documentParent,l.retain(i),l}return a(n,nt(androme.lib.base.NodeGroup)),r(n,[{key:"init",value:function(){if(this.length){for(var t,e=Array.isArray(r=this.children),n=0,r=e?r:r[Symbol.iterator]();;){var i;if(e){if(n>=r.length)break;i=r[n++]}else{if((n=r.next()).done)break;i=n.value}i.parent=this}this.parent&&this.parent.sort(it.siblingIndex),(t=this.initial.children).push.apply(t,u(this.duplicate()))}this.setBounds(),this.css("direction",this.documentParent.dir)}},{key:"element",get:function(){return at.hasComputedStyle(c(o(n.prototype),"element",this))?c(o(n.prototype),"element",this):function t(e){var n=e.slice().sort(it.siblingIndex),r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}if(a.baseElement)return a.baseElement;if(a.length){var o=t(a.children);if(o)return o}}return null}(this.children)||c(o(n.prototype),"element",this)}}]),n}(),lt=androme.lib.base.NodeList,st=androme.lib.color,dt=androme.lib.dom,ct=androme.lib.enumeration,ht=androme.lib.util,ut=androme.lib.xml;function ft(t,e){if(ht.hasBit(72,e)){return!(!(n=t).some(function(t){return t.floating})||ht.hasBit(8,e)&&n.every(function(t){return"right"===t.float})||(n.sort(function(t,e){if(t.floating&&!e.floating)return"left"===t.float?-1:1;if(!t.floating&&e.floating)return"left"===e.float?1:-1;if(t.floating&&e.floating){if(t.float!==e.float)return"left"===t.float?-1:1;if("right"===t.float&&"right"===e.float)return-1}return 0}),0))}var n;return!1}function pt(t){return t.filter(function(t){return"text-bottom"===t.verticalAlign}).sort(function(t,e){return t.bounds.height===e.bounds.height?t.is(f.SELECT)?1:-1:t.bounds.height>e.bounds.height?-1:1})[0]}function gt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.textElement&&"center"!==t.cssParent("textAlign",!0)&&!t.hasWidth&&!t.multiLine&&(e||t.textContent.trim().split(" ").length>0)&&t.android("singleLine","true")}function mt(t,e,n){return t>0?(arguments.length>3&&void 0!==arguments[3]&&arguments[3]||(t-=e["padding".concat(n)]),e.documentBody&&(t-=e["margin".concat(n)]),Math.max(t,0)):t}function vt(t,e){var n=t.cssInitial("min".concat(e)),r=t.cssInitial("max".concat(e));ht.isUnit(n)&&(t.app("layout_constraint".concat(e,"_min"),n),t.constraint.minWidth=!0),ht.isUnit(r)&&(t.app("layout_constraint".concat(e,"_max"),r),t.constraint.minHeight=!0)}function yt(t,e,n,r){ht.isPercent(n)&&(r?t.android("layout_".concat(e.toLowerCase()),t.convertPercent(n,"Width"===e)):"100%"!==n&&(t.app("layout_constraint".concat(e,"_percent"),(parseInt(n)/100).toFixed(2)),t.android("layout_".concat(e.toLowerCase()),"0px")))}function bt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.has("width")?t.css("width"):"";yt(t,"Width",n,e)}function Et(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.documentParent.hasHeight){var n=t.has("height")?t.css("height"):"";yt(t,"Height",n,e)}}var wt=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).localSettings={baseTemplate:k,layout:{pathName:"res/layout",fileExtension:"xml"},unsupported:{excluded:new Set(["BR"]),tagName:new Set(["OPTION","INPUT:hidden","MAP","AREA","IFRAME","svg"])},relative:{boxWidthWordWrapPercent:.9,superscriptFontScale:-4,subscriptFontScale:-4},constraint:{withinParentBottomOffset:3.5,percentAccuracy:4}},t}return a(n,androme.lib.base.Controller),r(n,[{key:"finalize",value:function(t){var e=this.userSettings;if(e.showAttributes)for(var n=function(t){for(var e in"rtl"===t.dir&&t.android(t.length?"layoutDirection":"textDirection","rtl"),t.dataset)/^attr[A-Z]+/.test(e)&&function(){var n=ht.capitalize(e.substring(4),!1);t.dataset[e].split(";").forEach(function(e){var r=h(e.split("::"),2),i=r[0],a=r[1];ht.hasValue(i)&&ht.hasValue(a)&&t.attr(n,i,a)})}();var n=ht.repeat(t.renderDepth+1);return t.combine().map(function(t){return"\n".concat(n+t)}).join("")},r=t.cache.visible.map(function(t){return{pattern:ut.formatPlaceholder(t.id,"@"),attributes:n(t)}}),i=u(t.views).concat(u(t.includes)),a=function(){var t=i[o];r.forEach(function(e){return t.content=t.content.replace(e.pattern,e.attributes)}),t.content=t.content.replace("{#0}",function(t){var e="";for(var n in T)RegExp("\\s+".concat(n,":")).test(t)&&(e+="\n\t".concat(K(n)));return e}(t.content))},o=0;o<i.length;o++)a();for(var l=u(t.views).concat(u(t.includes)),s=0;s<l.length;s++){var d=l[s];d.content=V(d.content,e.resolutionDPI,e.convertPixels),d.content=U(d.content,e.insertSpaces),d.content=ut.removePlaceholderAll(d.content).replace(/\n\n/g,"\n")}}},{key:"processUnknownParent",value:function(t){var e,n=[t.node,t.parent],r=n[0],i=n[1],a=!1;if(r.has("columnCount"))t.columnCount=r.toInt("columnCount"),t.setType(f.CONSTRAINT,256,4);else if(t.some(function(t){return!t.pageFlow}))t.setType(f.CONSTRAINT,32,2);else if(1===t.length){var o=r.item(0);r.documentRoot&&function(t,e){if(e.baseElement&&t.dataset.target){var n=document.getElementById(t.dataset.target);return!!n&&n!==e.baseElement}return!1}(o,r)?(r.hide(),a=!0):!(this.userSettings.collapseUnattributedElements&&r.positionStatic&&r.baseElement)||ht.hasValue(r.baseElement.id)||ht.hasValue(r.dataset.include)||ht.hasValue(r.dataset.target)||r.hasWidth||r.hasHeight||r.visibleStyle.background||r.has("textAlign")||r.has("verticalAlign")||!(r.toInt("lineHeight")>0)||r.rightAligned||r.autoMargin.horizontal||r.groupParent||r.companion||this.hasAppendProcessing(r.id)?t.setType(f.FRAME,2048):(o.documentRoot=r.documentRoot,o.siblingIndex=r.siblingIndex,o.parent=i,r.renderAs=o,r.resetBox(510,o,!0),r.hide(),e=o)}else t.init(),r.baseElement&&dt.hasLineBreak(r.baseElement,!0)?t.setType(f.LINEAR,16,2):this.checkConstraintFloat(t)?t.setType(f.CONSTRAINT,1024):t.linearX?(this.checkFrameHorizontal(t)?t.renderType=72:this.checkConstraintHorizontal(t)?t.setType(f.CONSTRAINT):this.checkRelativeHorizontal(t)?t.setType(f.RELATIVE):(t.setType(f.LINEAR),t.floated.size&&(t.renderPosition=ft(t.children,64))),t.add(8)):t.linearY?t.setType(f.LINEAR,16,r.documentRoot?2:0):t.every(function(t){return t.inlineFlow})?this.checkFrameHorizontal(t)?t.renderType=72:t.setType(f.RELATIVE,8,2):t.some(function(e){return e.alignedVertically(e.previousSiblings(),t.children,t.cleared)})?t.setType(f.LINEAR,16,2):t.setType(f.CONSTRAINT,2);return{layout:t,next:a,renderAs:e}}},{key:"processUnknownChild",value:function(t){var e=[t.node,t.parent],n=e[0],r=e[1],i=n.visibleStyle,a=!1;return n.inlineText||i.borderWidth&&n.textContent.length?t.setType(f.TEXT):i.backgroundImage&&!i.backgroundRepeat&&(!n.inlineText||n.toInt("textIndent")+n.bounds.width<0)?(t.setType(f.IMAGE,2048),n.exclude({resource:ct.NODE_RESOURCE.FONT_STYLE|ct.NODE_RESOURCE.VALUE_STRING})):n.block&&(i.borderWidth||i.backgroundImage||i.paddingVertical)?t.setType(f.LINE):n.documentRoot||(!this.userSettings.collapseUnattributedElements||0!==n.bounds.height||i.background||ht.hasValue(n.element.id)||ht.hasValue(n.dataset.include)?t.setType(i.background?f.TEXT:f.FRAME):(r.remove(n),n.hide(),a=!0)),{layout:t,next:a}}},{key:"processTraverseHorizontal",value:function(t,e){var n=t.parent;return this.checkFrameHorizontal(t)?(t.node=this.createNodeGroup(t.node,t.children,t.parent),t.renderType|=72):void 0===e||t.length!==e.length?(t.node=this.createNodeGroup(t.node,t.children,t.parent),this.processLayoutHorizontal(t)):n.alignmentType|=8,{layout:t}}},{key:"processTraverseVertical",value:function(t,e){var n=t.parent;return!t.floated.size||!t.cleared.size||1===t.floated.size&&t.every(function(e,n){return 0===n||n===t.length-1||t.cleared.has(e)})?void 0===e||t.length!==e.length?n.layoutVertical||(t.node=this.createNodeGroup(t.node,t.children,n),t.setType(f.LINEAR,16)):n.alignmentType|=16:(t.node=this.createNodeGroup(t.node,t.children,n),t.renderType|=80),{layout:t}}},{key:"processLayoutHorizontal",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0;return this.checkConstraintFloat(t)?t.setType(f.CONSTRAINT,1024):this.checkConstraintHorizontal(t)?n=f.CONSTRAINT:this.checkRelativeHorizontal(t)?n=f.RELATIVE:(!e||t.linearX&&!t.floated.has("right"))&&(n=f.LINEAR,t.floated.size&&(t.renderPosition=ft(t.children,64))),0!==n&&t.setType(n,8),{layout:t}}},{key:"sortRenderPosition",value:function(t,e){if(t.layoutConstraint&&e.some(function(t){return!t.pageFlow})){for(var n=[],r=[],i=[],a=[],o=Array.isArray(s=e),l=0,s=o?s:s[Symbol.iterator]();;){var d;if(o){if(l>=s.length)break;d=s[l++]}else{if((l=s.next()).done)break;d=l.value}var c=d,h=c.toInt("zIndex");c.pageFlow||c.actualParent!==t?i.push(c):h>=0?a.push(c):r.push(c)}return n.push.apply(n,u(ht.sortAsc(r,"style.zIndex","id"))),n.push.apply(n,i),n.push.apply(n,u(ht.sortAsc(a,"style.zIndex","id"))),n}return[]}},{key:"checkFrameHorizontal",value:function(t){var e=h(t.partition(function(t){return t.floating}),2),n=e[0],r=e[1];if(2===t.floated.size||t.cleared.size||t.some(function(t){return t.pageFlow&&t.autoMargin.horizontal}))return!0;if(r.length){if(t.floated.has("right"))return!0;var i=ht.minArray(r.map(function(t){return t.siblingIndex})),a=n.map(function(t){return t.siblingIndex});return t.floated.has("left")&&a.some(function(t){return t>i})}return!1}},{key:"checkConstraintFloat",value:function(t){return 1===t.floated.size&&t.every(function(t){return t.pageFlow&&t.floating&&t.marginLeft>=0&&t.marginRight>=0})}},{key:"checkConstraintHorizontal",value:function(t){return!t.parent.hasHeight&&1!==new Set(t.map(function(t){return t.bounds.height})).size&&t.some(function(t){return"bottom"===t.verticalAlign})&&t.every(function(t){return t.inlineVertical&&(t.baseline||"bottom"===t.verticalAlign)})}},{key:"checkRelativeHorizontal",value:function(t){var e=h(t.partition(function(t){return t.floating}),2),n=e[0],r=ht.minArray(e[1].map(function(t){return t.siblingIndex})),i=ht.maxArray(n.map(function(t){return t.siblingIndex}));return!(2===t.floated.size||i>r)&&t.some(function(t){return t.positionRelative||t.textElement||t.imageElement||!t.baseline})}},{key:"setConstraints",value:function(){for(var t=this,e=function(){if(r){if(i>=a.length)return"break";o=a[i++]}else{if((i=a.next()).done)return"break";o=i.value}var e=o;if(!e.hasBit("excludeProcedure",ct.NODE_PROCEDURE.CONSTRAINT)){var l=e.renderChildren.filter(function(t){return!t.positioned});if(l.length)if(e.layoutConstraint){for(var s=h(ht.partition(l,function(t){return t.pageFlow}),2),d=s[0],c=s[1],u=Math.max(c.length?ht.maxArray(e.renderChildren.map(function(t){return t.linear.bottom})):0,e.box.bottom),f=Array.isArray(g=c),p=0,g=f?g:g[Symbol.iterator]();;){var m;if(f){if(p>=g.length)break;m=g[p++]}else{if((p=g.next()).done)break;m=p.value}var v=m,y=v.documentParent;if(!v.positionAuto&&(y===v.absoluteParent||"fixed"===v.position)){if(v.hasWidth&&v.autoMargin.horizontal)v.has("left")&&v.autoMargin.right?(v.anchor("left","parent"),v.modifyBox(16,v.left)):v.has("right")&&v.autoMargin.left?(v.anchor("right","parent"),v.modifyBox(4,v.right)):(v.anchorParent(E.HORIZONTAL),v.modifyBox(16,v.left),v.modifyBox(4,v.right));else{var b=v.has("left");b&&(v.anchor("left","parent"),v.modifyBox(16,mt(v.left,y,"Left"))),v.hasWidth&&b||!v.has("right")||(v.anchor("right","parent"),v.modifyBox(4,mt(v.right,y,"Right")))}if(v.hasHeight&&v.autoMargin.vertical)v.has("top")&&v.autoMargin.bottom?(v.anchor("top","parent"),v.modifyBox(2,v.top)):v.has("bottom")&&v.autoMargin.top?(v.anchor("bottom","parent"),v.modifyBox(8,v.bottom)):(v.anchorParent(E.VERTICAL),v.modifyBox(2,v.top),v.modifyBox(8,v.bottom));else{var w=v.has("top");if(w){var T=y.valueBox(32);v.anchor("top","parent"),v.modifyBox(2,mt(v.top,y,"Top",1===T[0]))}if((!v.hasHeight||!w)&&v.has("bottom")){var x=y.valueBox(128);v.anchor("bottom","parent"),v.modifyBox(8,mt(v.bottom,y,"Bottom",1===x[0]))}}v.positioned=!0}}if(e.layoutHorizontal)t.processConstraintHorizontal(e,d);else if(e.hasAlign(256))t.processConstraintColumn(e,d);else if(d.length>1)t.processConstraintChain(e,d,u);else for(var S=Array.isArray(R=d),A=0,R=S?R:R[Symbol.iterator]();;){var I;if(S){if(A>=R.length)break;I=R[A++]}else{if((A=R.next()).done)break;I=A.value}var _=I;_.autoMargin.leftRight||_.inlineStatic&&"center"===_.cssParent("textAlign",!0)?_.anchorParent(E.HORIZONTAL):_.rightAligned?_.anchor("right","parent"):(ht.withinFraction(_.linear.left,e.box.left)||_.linear.left<e.box.left)&&_.anchor("left","parent"),(ht.withinFraction(_.linear.top,e.box.top)||_.linear.top<e.box.top)&&_.anchor("top","parent"),t.withinParentBottom(_.linear.bottom,u)&&_.actualParent&&!_.actualParent.documentBody&&_.anchor("bottom","parent")}n.evaluateAnchors(d),l.forEach(function(r){r.anchored||(t.addGuideline(r,e),r.pageFlow&&n.evaluateAnchors(d)),!r.hasWidth&&r.alignParent("left")&&r.alignParent("right")&&r.android("layout_width","match_parent"),!r.hasHeight&&r.alignParent("top")&&r.alignParent("bottom")&&r.android("layout_height","match_parent")})}else e.layoutRelative&&t.processRelativeHorizontal(e,l)}},r=Array.isArray(a=this.cache.visible),i=0,a=r?a:a[Symbol.iterator]();;){var o;if("break"===e())break}}},{key:"renderNodeGroup",value:function(t){var e=[t.node,t.parent,t.containerType,t.alignmentType],n=e[0],r=e[1],i=e[2],a=e[3],o=H(),l=!1;switch(i){case f.LINEAR:ht.hasBit(a,16)?(o.android.orientation=E.VERTICAL,l=!0):ht.hasBit(a,8)&&(o.android.orientation=E.HORIZONTAL,l=!0);break;case f.GRID:o.android.rowCount=t.rowCount?""+t.rowCount:"",o.android.columnCount=t.columnCount?""+t.columnCount:"2",l=!0;break;case f.FRAME:case f.RELATIVE:case f.CONSTRAINT:l=!0}if(l){var s=ht.hasValue(n.dataset.target)&&!ht.hasValue(n.dataset.include),d=rt.getControlName(i);return n.alignmentType|=a,n.setControlType(d,i),n.render(s?n:r),n.apply(o),ut.getEnclosingTag(d,n.id,s?-1:n.renderDepth,ut.formatPlaceholder(n.id))}return""}},{key:"renderNode",value:function(t){var e=[t.node,t.parent,t.containerType,t.alignmentType],n=e[0],r=e[1],i=e[2];n.alignmentType|=e[3];var a=rt.getControlName(i);n.setControlType(a,i);var o=ht.hasValue(n.dataset.target)&&!ht.hasValue(n.dataset.include);switch(n.element.tagName){case"IMG":if(!n.hasBit("excludeResource",ct.NODE_RESOURCE.IMAGE_SOURCE)){var l=n.element,s=n.has("width",32),d=n.has("height",32),c=n.toInt("width"),h=n.toInt("height"),u="";if(s||d)u=s&&d?"fitXY":"fitCenter";else{if(0===c){var p=/width="(\d+)"/.exec(l.outerHTML);p&&(c=parseInt(p[1]),n.css("width",ht.formatPX(p[1]),!0))}if(0===h){var g=/height="(\d+)"/.exec(l.outerHTML);g&&(h=parseInt(g[1]),n.css("height",ht.formatPX(g[1]),!0))}switch(n.css("objectFit")){case"contain":u="centerInside";break;case"cover":u="centerCrop";break;case"scale-down":u="fitCenter";break;case"none":u="matrix";break;default:u="fitXY"}}n.android("scaleType",u),(c>0&&0===h||0===c&&h>0)&&n.android("adjustViewBounds","true"),n.baseline&&n.android("baselineAlignBottom","true");var m=M.addImageSrcSet(l);if(""!==m&&n.android("src","@drawable/".concat(m)),!n.pageFlow&&n.left<0||n.top<0){var y=n.absoluteParent;if(y&&"hidden"===y.css("overflow")){var b=new rt(this.cache.nextId,dt.createElement(n.absoluteParent.baseElement),this.delegateNodeInit);return r.layoutConstraint&&(b.companion=n),b.setControlType(v.FRAME,f.FRAME),b.init(),b.inherit(n,"base"),b.css("zIndex",n.css("zIndex")),b.exclude({procedure:ct.NODE_PROCEDURE.ALL,resource:ct.NODE_RESOURCE.ALL}),r.appendTry(n,b),this.cache.append(b),b.android("layout_width",c>0?c<r.box.width?ht.formatPX(c):"match_parent":"wrap_content"),b.android("layout_height",h>0?h<r.box.height?ht.formatPX(h):"match_parent":"wrap_content"),b.render(o?b:r),n.modifyBox(2,n.top),n.modifyBox(16,n.left),n.render(b),ut.getEnclosingTag(v.FRAME,b.id,o?-1:b.renderDepth,ut.getEnclosingTag(a,n.id,o?0:n.renderDepth))}}}break;case"TEXTAREA":var w=n.element;n.android("minLines","2"),w.rows>2&&n.android("lines",""+w.rows),w.maxLength>0&&n.android("maxLength",""+w.maxLength),n.hasWidth||w.cols&&n.css("width",ht.formatPX(10*w.cols),!0),n.android("hint",w.placeholder),n.android("scrollbars",E.VERTICAL),n.android("inputType","textMultiLine"),n.overflowX&&n.android("scrollHorizontally","true"),n.cssInitial("verticalAlign")||n.css("verticalAlign","text-bottom",!0);break;case"SELECT":n.element.size>1&&!n.cssInitial("verticalAlign")&&n.css("verticalAlign","text-bottom",!0);break;case"INPUT":var T=n.element;switch(T.type){case"password":n.android("inputType","textPassword");break;case"text":n.android("inputType","text");break;case"range":ht.hasValue(T.min)&&n.android("min",T.min),ht.hasValue(T.max)&&n.android("max",T.max),ht.hasValue(T.value)&&n.android("progress",T.value);break;case"image":if(!n.hasBit("excludeResource",ct.NODE_RESOURCE.IMAGE_SOURCE)){var x=M.addImage({mdpi:T.src});""!==x&&n.android("src","@drawable/".concat(x),0===n.renderExtension.size)}}switch(T.type){case"text":case"search":case"tel":case"url":case"email":case"password":!n.hasWidth&&T.size>0&&n.css("width",ht.formatPX(10*T.size),!0)}}if(n.inlineVertical)switch(n.verticalAlign){case"sub":n.modifyBox(8,Math.ceil(n.fontSize/this.localSettings.relative.subscriptFontScale));break;case"super":n.modifyBox(2,Math.ceil(n.fontSize/this.localSettings.relative.superscriptFontScale))}switch(n.controlName){case v.TEXT:var S=[];n.overflowX&&S.push(E.HORIZONTAL),n.overflowY&&S.push(E.VERTICAL),S.length&&n.android("scrollbars",S.join("|")),"nowrap"===n.css("whiteSpace")&&n.android("singleLine","true");var A=n.css("textShadow");"none"!==A&&[/^(rgba?\(\d+, \d+, \d+(?:, [\d.]+)?\)) ([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+)$/,/^([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+) (.+)$/].some(function(t,e){var r=A.match(t);if(r){var i=st.parseRGBA(r[0===e?1:4]);if(i){var a=M.addColor(i);""!==a&&n.android("shadowColor","@color/".concat(a))}return n.android("shadowDx",""+ht.convertInt(r[0===e?2:1])),n.android("shadowDy",""+ht.convertInt(r[0===e?3:2])),n.android("shadowRadius",""+ht.convertInt(r[0===e?4:3])),!0}return!1});break;case v.BUTTON:n.cssInitial("verticalAlign")||n.css("verticalAlign","text-bottom",!0);break;case v.LINE:n.hasHeight||n.android("layout_height",ht.formatPX(n.contentBoxHeight||1))}return n.render(o?n:r),ut.getEnclosingTag(a,n.id,o?-1:n.renderDepth)}},{key:"renderNodeStatic",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,l=Math.max(0,e);void 0===a?a=new rt(0,void 0,this.delegateNodeInit):(a.renderDepth=l,a.rendered=!0),a.apply(n),a.android("layout_width",r,!1),a.android("layout_height",i,!1),0!==a.containerType&&""!==a.controlName||a.setControlType(t);var s=ut.getEnclosingTag(t,a.id,a.documentRoot||0!==e?e:-1,o?ut.formatPlaceholder(a.id):"");if(this.userSettings.showAttributes&&0===a.id){var d=ht.repeat(l+1),c=a.combine().map(function(t){return"\n".concat(d+t)}).join("");s=s.replace(ut.formatPlaceholder(a.id,"@"),c)}return n.documentId=a.documentId,s}},{key:"renderSpace",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a="",o="";ht.isPercent(e)&&(a=(parseInt(e)/100).toFixed(2),e="0px"),ht.isPercent(n)&&(o=(parseInt(n)/100).toFixed(2),n="0px");var l=H();return r>0&&(l.android.layout_columnWeight=a,l.android.layout_columnSpan=""+r),i>0&&(l.android.layout_rowWeight=o,l.android.layout_rowSpan=""+i),this.renderNodeStatic(v.SPACE,t,l,e,ht.hasValue(n)?n:"wrap_content")}},{key:"addGuideline",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];"true"===t.dataset.constraintPercent&&(a=!0),"true"===t.dataset.constraintOpposite&&(o=!0);var l=e.groupParent?e:t.documentParent;[E.HORIZONTAL,E.VERTICAL].forEach(function(s,d){if(!t.constraint[s]&&(""===r||s===r)){var c,h,u,f,p=0===d,g=t.positionStatic?"bounds":"linear",m=0;p?(c=o?"right":"left",h=o?"left":"right",u=o?"rightLeft":"leftRight",f=o?"leftRight":"rightLeft",t.positionRelative&&t.left<0&&(m=t.left),t.marginLeft<0&&(m-=t.marginLeft)):(c=o?"bottom":"top",h=o?"top":"bottom",u=o?"bottomTop":"topBottom",f=o?"topBottom":"bottomTop",t.positionRelative&&t.top<0&&(m=t.top),t.marginTop<0&&(m-=t.marginTop));var y,b="layout_constraintGuide_",w=!1;if(!t.pageFlow&&ht.isPercent(t.css(c)))y=parseInt(t.css(c))/100,w=!0,b+="percent";else{if(!a&&!e.hasAlign(4))if(e.renderChildren.some(function(e){if(e!==t&&e.constraint[s]){var n=t.pageFlow&&e.pageFlow,r=!1;if(n&&(ht.withinFraction(t.linear[c]+m,e.linear[h])?(t.anchor(u,e.documentId,!0),r=!0):ht.withinFraction(t.linear[h]+m,e.linear[c])&&(t.anchor(f,e.documentId,!0),r=!0)),(n||!t.pageFlow&&!e.pageFlow)&&(ht.withinFraction(t.bounds[c]+m,e.bounds[c])?(t.anchor(!p&&t.textElement&&e.textElement&&e.baseline&&t.baseline&&t.bounds.height===e.bounds.height?"baseline":c,e.documentId,!0),r=!0):ht.withinFraction(t.bounds[h]+m,e.bounds[h])&&(t.anchor(h,e.documentId,!0),r=!0)),r)return e.constraint[s]=!0,!0}return!1}))return;if(t.positionAuto){var T=t.previousSiblings();if(T.length&&!t.alignedVertically(T)){var x=T[T.length-1];if(x.renderParent===t.renderParent)return t.anchor(p?"rightLeft":"top",x.documentId,!0),void(t.constraint[s]=x.constraint[s])}}if(a)y=parseFloat(Math.abs(Math.abs(t[g][c]+m-(l.documentBody?0:l.box[c]))/l.box[p?"width":"height"]-(o?1:0)).toFixed(n.localSettings.constraint.percentAccuracy)),w=!0,b+="percent";else y=t[g][c]+m-(l.documentBody?0:l.box[o?h:c]),b+="begin"}var S=e.constraint.guideline||{};if(t.pageFlow){if(t.inlineVertical){var A=t.toInt("verticalAlign");A<0&&(y+=A)}}else y=mt(y,l,p?"Left":"Top");if(y<=0)t.anchor(c,"parent",!0);else if(p&&l.hasWidth&&y+t[g].width>=l.box.right||!p&&l.hasHeight&&y+t[g].height>=l.box.bottom)t.anchor(h,"parent",!0);else{var R=ht.optionalAsObject(S,"".concat(s,".").concat(b,".").concat(c)),I=!1;if(R)for(var _ in R)if(parseInt(R[_])===y){t.anchor(c,_,!0),t.anchorDelete(h),I=!0;break}if(!I){var k=H({android:{orientation:0===d?E.VERTICAL:E.HORIZONTAL},app:i({},b,w?""+y:ht.formatPX(y))});n.appendAfter(t.id,n.renderNodeStatic(v.GUIDELINE,t.renderDepth,k,"wrap_content","wrap_content"));var C=k.documentId;t.anchor(c,C,!0),t.anchorDelete(h),ht.defaultWhenNull(S,s,b,c,C,""+y),e.constraint.guideline=S,t.constraint[p?"guidelineHorizontal":"guidelineVertical"]=C}}t.constraint[s]=!0}})}},{key:"createNodeGroup",value:function(t,e,n,r){var i=new ot(this.cache.nextId,t,e,this.delegateNodeInit);return n&&(n.appendTry(r||t,i),i.init()),this.cache.append(i),i}},{key:"processRelativeHorizontal",value:function(t,e){for(var n,r,i=dt.isUserAgent(24),a=e.every(function(t){return"right"===t.float}),o=lt.cleared(e),l=Math.ceil(function(){var n=t.renderParent;if(n)if(n.overflowX){if(t.has("width",2))return t.toInt("width",!0);if(n.has("width",2))return n.toInt("width",!0);if(n.has("width",32))return n.bounds.width-n.contentBoxWidth}else{var r=n.children.filter(function(e){return"left"===e.float&&e.siblingIndex<t.siblingIndex}).map(function(t){return t.linear.right});if(r.length){var i=ht.maxArray(r);if(e.some(function(t){return t.linear.left===i}))return t.box.right-i}}return t.box.width}()),s=l*this.localSettings.relative.boxWidthWordWrapPercent,d="nowrap"!==t.css("whiteSpace"),c=a?"right":"left",h=[],u=new Set,f=!1,p=0,g=function(f){var g=e[f],m=e[f-1],v=g.bounds;if(g.inlineText&&!g.hasWidth){var y=dt.getRangeClientRect(g.element);(y.multiLine||y.width>0&&y.width<g.box.width)&&(v=y,g.multiLine=y.multiLine,i&&y.multiLine&&!/^\s*\n+/.test(g.textContent)&&u.add(g))}var b=a?"rightLeft":"leftRight",E=[];if(0===f)g.anchor(c,"true"),h.push([g]);else{var w=function(){return!g.rightAligned&&Math.floor(T)-(g.styleElement&&g.inlineStatic?g.paddingLeft+g.paddingRight:0)>l},T=(n&&h.length>1?n.linear.width:0)+p+g.marginLeft+("left"!==m.float||o.has(g)?v.width:0)-(i?g.borderRightWidth:0);(function(t,e){if("left"===e.float){if(e.marginRight<0)return t.modifyBox(16,e.bounds.width+(e.hasWidth?e.paddingLeft+e.borderLeftWidth:0)-Math.abs(e.marginRight)),t.anchor("left",e.documentId),e.modifyBox(4,null),!0}else if("right"===t.float&&"right"===e.float&&e.marginLeft<0){var n=Math.abs(e.marginLeft);return n<e.bounds.width&&t.modifyBox(4,e.bounds.width-n),t.anchor("right",e.documentId),e.modifyBox(16,null),!0}return!1})(g,m)&&(b="");var x=g.groupParent&&!g.hasAlign(128);E=!x&&m.inlineVertical&&g.inlineVertical?dt.getBetweenElements(m.element,g.element,!0):[];var S=function(){if(g.textElement){var t=!1;if(m.textElement&&(1===f&&g.plainText&&!m.rightAligned&&(t=0===E.length&&!/\s+$/.test(m.textContent)&&!/^\s+/.test(g.textContent)),d&&!t&&(u.has(m)||m.multiLine&&dt.hasLineBreak(m.element,!1,!0))))return!0;if(d&&!t&&(w()||g.multiLine&&dt.hasLineBreak(g.element)||g.preserveWhiteSpace&&/^\n+/.test(g.textContent)))return!0}return!1}(),A=h[h.length-1],R=g.previousSiblings();if(S||x||!g.textElement&&w()||g.linear.top>=m.linear.bottom&&(g.blockStatic||g.floating&&m.float===g.float)||!g.floating&&(m.blockStatic||R.length&&R.some(function(t){return t.lineBreak||t.excluded&&t.blockStatic})||E.some(function(t){return dt.isLineBreak(t)}))||o.has(g)){r=A.filter(function(t){return!t.floating})[0]||A[0];for(var I=0;I<A.length;I++)A[I]!==r&&A[I].linear.bottom>r.linear.bottom&&(!A[I].floating||A[I].floating&&r.floating)&&(r=A[I]);g.anchor("topBottom",r.documentId),n&&g.linear.bottom<=n.bounds.bottom?g.anchor(b,n.documentId):(g.anchor(c,"true"),n=void 0),S&&g.multiLine&&gt(m,d),p=Math.min(0,S&&!m.multiLine&&g.multiLine&&!o.has(g)?g.linear.right-t.box.right:0),h.push([g])}else""!==b&&g.anchor(b,m.documentId),r&&g.anchor("topBottom",r.documentId),A.push(g)}"left"===g.float&&(n=g);var _=0;if(E.length&&!E.some(function(t){return!!dt.getElementAsNode(t)||dt.isLineBreak(t)})){var k=dt.getRangeClientRect(E[0]),C=E.length>1?dt.getRangeClientRect(E[E.length-1]):null;k.multiLine||null!==C&&C.multiLine||(_=C?k.left-C.right:k.width)}Math.ceil(p+=_+g.marginLeft+v.width+g.marginRight)>=s&&!g.alignParent(c)&&gt(g,d)},m=0;m<e.length;m++)g(m);h.length>1&&(t.alignmentType|=4096,f=!0);var v=function(e){var n=h[e],r=lt.baseline(n),i=r[0],a=lt.baseline(n,!0)[0],o=pt(n);i&&o&&o.bounds.height>i.bounds.height?i.anchor("bottom",o.documentId):o=void 0;for(var l=[],s=0===e?"true":i?i.documentId:"",d=function(e){if(!f){if(r.includes(e)||e.actualParent&&e.actualHeight>=e.actualParent.box.height)return!0;t.hasHeight||t.css("height",ht.formatPX(t.bounds.height),!0)}return!1},c=Array.isArray(p=n),u=0,p=c?p:p[Symbol.iterator]();;){var g;if(c){if(u>=p.length)break;g=p[u++]}else{if((u=p.next()).done)break;g=u.value}var m=g;if(m!==i)if(m.baseline)l.push(m);else if(m.inlineVertical)switch(m.verticalAlign){case"text-top":a&&m.anchor("top",a.documentId);break;case"super":case"top":s&&m.anchor("top",s);break;case"middle":if(f){if(i){var v=Math.max(m.bounds.height,m.lineHeight),y=Math.max(i.bounds.height,i.lineHeight);v<y&&(m.anchor("top",i.documentId),m.modifyBox(2,Math.round((y-v)/2)))}}else m.anchor("centerVertical","true");break;case"text-bottom":a&&m!==o&&m.anchor("bottom",a.documentId);break;case"sub":case"bottom":d(m)&&(s=""),s&&m.anchor("bottom",s)}}if(i&&(function(t,e){for(var n=Array.isArray(i=e),r=0,i=n?i:i[Symbol.iterator]();;){var a;if(n){if(r>=i.length)break;a=i[r++]}else{if((r=i.next()).done)break;a=r.value}var o=a;o!==t&&(o.imageElement&&o.actualHeight>t.actualHeight?o.renderParent&&ht.withinFraction(o.linear.top,o.renderParent.box.top)&&o.anchor("top","true"):(o.baseElement&&0===o.length||o.layoutHorizontal&&o.renderChildren.every(function(t){return t.baseline}))&&o.anchor("baseline",t.documentId))}}(i,l),i.baselineActive=!0,t.lineHeight||i.lineHeight)){var b=0;(b=i.lineHeight?i.lineHeight-i.bounds.height:t.lineHeight-(i.bounds.height-(i.paddingTop+i.paddingBottom)))>0&&(i.modifyBox(2,Math.floor(b/2)),i.modifyBox(8,Math.ceil(b/2)))}};for(m=0;m<h.length;m++)v(m)}},{key:"processConstraintHorizontal",value:function(t,e){var n=lt.baseline(e)[0],r=lt.baseline(e,!0)[0],i=pt(e),a=t.hasAlign(512);n&&(n.baselineActive=!0,i&&n.bounds.height<i.bounds.height?n.anchor("bottom",i.documentId):i=void 0);for(var o=0;o<e.length;o++){var l=e[o],s=e[o-1];if(0===o?l.anchor(a?"right":"left","parent"):s&&l.anchor(a?"rightLeft":"leftRight",s.documentId),l.inlineVertical)switch(l.verticalAlign){case"text-top":r&&l!==r&&l.anchor("top",r.documentId);break;case"super":case"top":l.anchor("top","parent");break;case"middle":l.anchorParent(E.VERTICAL);break;case"text-bottom":r&&l!==r&&l!==i&&l.anchor("bottom",r.documentId);break;case"sub":case"bottom":l.anchor("bottom","parent");break;case"baseline":n&&l!==n&&l.anchor("baseline",n.documentId)}}}},{key:"processConstraintColumn",value:function(t,e){for(var r=t.toInt("columnCount"),i=Math.ceil(e.length/Math.min(r,e.length)),a=[],o=0,l=0;o<e.length;o++){var s=e[o];o%i==0&&(o>0&&l++,void 0===a[l]&&(a[l]=[])),a[l].push(s)}for(var d=ht.convertInt(t.css("columnGap"))||16,c=a.map(function(t){return ht.maxArray(t.map(function(t){return t.marginLeft+t.marginRight}))}).reduce(function(t,e){return t+e},0),h=Math.max((c+d*(r-1))/t.box.width/r,.01),u=[],f=[],p=[],g=0;g<a.length;g++){var m=a[g],v=m[0];g>0&&v.android(v.localizeString(b.MARGIN_LEFT),ht.formatPX(v.marginLeft+d)),p.push(v),m.forEach(function(t){var e=0;(e=t.has("width",32)?t.toInt("width")/100:1/r-h)>0&&(t.android("layout_width","0px"),t.app("layout_constraintWidth_percent",e.toFixed(2)))}),f.push(m)}u.push(p),[u,f].forEach(function(t,e){var r=0===e;t.forEach(function(t){var e=t[0],i=t[t.length-1];e.anchor(r?"left":"top","parent"),i.anchor(r?"right":"bottom","parent");for(var a=0;a<t.length;a++){var o=t[a],l=t[a-1],s=t[a+1];r?o.app("layout_constraintVertical_bias","0"):a>0&&o.anchor("left",e.documentId),s&&o.anchor(r?"rightLeft":"bottomTop",s.documentId),l&&o.anchor(r?"leftRight":"topBottom",l.documentId),n.dimensionConstraint(o),o.anchored=!0}r?e.app("layout_constraintHorizontal_chainStyle","spread_inside"):e.app("layout_constraintVertical_chainStyle","packed")})})}},{key:"processConstraintChain",value:function(t,e,r){var i=lt.partitionRows(e),a=lt.actualParent(e)||t,o=t.hasAlign(64),l=t.hasAlign(1024),s=i.length>1&&l?lt.clearedAll(a):new Map,d=!1;i.length>1&&(t.alignmentType|=4096),o&&(d=t.hasAlign(512),e.some(function(t){return t.has("width",32)})&&t.android("layout_width","match_parent"));for(var c=Array.isArray(u=e),h=0,u=c?u:u[Symbol.iterator]();;){var f;if(c){if(h>=u.length)break;f=u[h++]}else{if((h=u.next()).done)break;f=h.value}var p=f;o||(p.rightAligned?(ht.withinFraction(p.linear.right,a.box.right)||p.linear.right>a.box.right)&&p.anchor("right","parent"):(ht.withinFraction(p.linear.left,a.box.left)||p.linear.left<a.box.left)&&p.anchor("left","parent")),(ht.withinFraction(p.linear.top,t.box.top)||p.linear.top<t.box.top||p.floating&&1===i.length)&&p.anchor("top","parent"),!this.withinParentBottom(p.linear.bottom,r)||a.documentBody||!a.hasHeight&&p.alignParent("top")||p.anchor("bottom","parent")}var g=[];i.forEach(function(e,r){d&&e.reverse();var c,h=e[0],u=e.length>1?e[e.length-1]:null;if(h.anchor(d&&null===u?"right":"left","parent"),u&&("center"===a.css("textAlign")?h.app("layout_constraintHorizontal_chainStyle","spread"):(h.app("layout_constraintHorizontal_chainStyle","packed"),h.app("layout_constraintHorizontal_bias",d||t.rightAligned?"1":"0")),u.anchor("right","parent")),r>0){var f=i[r-1];c=f[0];for(var p=1;p<f.length;p++)f[p].linear.bottom>c.linear.bottom&&(c=f[p])}for(var m=0;m<e.length;m++){var v=e[m],y=e[m-1],b=e[m+1];if(v.autoMargin.leftRight?v.anchorParent(E.HORIZONTAL):(y&&v.anchor("leftRight",y.documentId),b&&v.anchor("rightLeft",b.documentId)),n.dimensionConstraint(v),r>0){var w=i[r-1];if(o&&l&&!s.has(d?u:h)){if(w.length){var T=d?w[0]:w[w.length-1];v.anchor("topBottom",T.documentId),T.alignSibling("bottomTop")||T.anchor("bottomTop",v.documentId);for(var x=g.length-2;x>=0;x--){var S=g[x];if(S.linear.bottom>T.linear.bottom)if((d?Math.ceil(S.linear.left)-Math.floor(a.box.left):Math.ceil(a.box.right)-Math.floor(S.linear.right))>=v.linear.width){v.anchor(d?"rightLeft":"leftRight",S.documentId),v.anchorDelete(d?"leftRight":"rightLeft"),v===h?(v.anchorDelete("left"),v.delete("app","layout_constraintHorizontal_chainStyle","layout_constraintHorizontal_bias")):v===u&&v.anchorDelete("right");break}}}}else c&&(m>0?(v.anchor("top",h.documentId),v.modifyBox(2,-1*h.marginTop)):(v.anchor("topBottom",c.documentId),c.anchor("bottomTop",v.documentId)))}d?g.unshift(v):g.push(v)}}),n.evaluateAnchors(e)}},{key:"withinParentBottom",value:function(t,e){return ht.withinRange(t,e,this.localSettings.constraint.withinParentBottomOffset)}},{key:"userSettings",get:function(){return this.application.userSettings}},{key:"containerTypeHorizontal",get:function(){return{containerType:f.LINEAR,alignmentType:8,renderType:0}}},{key:"containerTypeVertical",get:function(){return{containerType:f.LINEAR,alignmentType:16,renderType:0}}},{key:"containerTypeVerticalMargin",get:function(){return{containerType:f.FRAME,alignmentType:256,renderType:0}}},{key:"delegateNodeInit",get:function(){var t=this,e=this.userSettings;return function(n){n.localSettings={targetAPI:void 0!==e.targetAPI?e.targetAPI:26,resolutionDPI:void 0!==e.resolutionDPI?e.resolutionDPI:160,supportRTL:void 0===e.supportRTL||e.supportRTL,autoSizePaddingAndBorderWidth:void 0===e.autoSizePaddingAndBorderWidth||e.autoSizePaddingAndBorderWidth,constraintPercentAccuracy:t.localSettings.constraint.percentAccuracy,customizationsOverwritePrivilege:void 0===e.customizationsOverwritePrivilege||e.customizationsOverwritePrivilege}}}}],[{key:"evaluateAnchors",value:function(t){for(var e=t.filter(function(t){return t.constraint.horizontal}),n=t.filter(function(t){return t.constraint.vertical}),r=-1;++r<t.length;){var i=t[r];if(!i.constraint.horizontal){var a=function(t){var n=i.constraint.current[t];if(n.horizontal&&e.find(function(t){return t.documentId===n.documentId}))return i.constraint.horizontal=!0,e.push(i),r=-1,"break"};for(var o in i.constraint.current){if("break"===a(o))break}}if(!i.constraint.vertical){var l=function(t){var e=i.constraint.current[t];if(!e.horizontal&&n.find(function(t){return t.documentId===e.documentId}))return i.constraint.vertical=!0,n.push(i),r=-1,"break"};for(var o in i.constraint.current){if("break"===l(o))break}}}}},{key:"dimensionConstraint",value:function(t){bt(t),Et(t),vt(t,"Width"),vt(t,"Height")}},{key:"dimensionFlex",value:function(t,e){var n=e?"width":"height",r=e?"height":"width",i=t.flexbox.basis;if("auto"!==i&&(ht.isPercent(i)?"0%"!==i&&(t.app("layout_constraint".concat(e?"Width":"Height","_percent"),(parseInt(i)/100).toFixed(2)),i=""):ht.isUnit(i)&&(t.android("layout_".concat(n),t.convertPX(i)),i="")),""!==i){var a=t.has(n)?t.css(n):"";t.flexbox.grow>0?(t.android("layout_".concat(n),"0px"),t.app("layout_constraint".concat(e?"Horizontal":"Vertical","_weight"),""+t.flexbox.grow)):ht.isUnit(a)?t.android("layout_".concat(n),a):t.flexbox.shrink>1?t.android("layout_".concat(n),"wrap_content"):e?bt(t):Et(t),t.flexbox.shrink<1&&t.app("layout_constrained".concat(e?"Width":"Height"),"true")}var o=t.has(r)?t.css(r):"";ht.isUnit(o)?t.android("layout_".concat(r),o):e?Et(t,!0):bt(t,!0),vt(t,"Width"),vt(t,"Height")}}]),n}(),Tt=androme.lib.util,xt=androme.lib.xml;function St(t){for(var e,n=[],r=/<!-- image: (.+) -->\n<!-- filename: (.+)\/(.*?\.\w+) -->/g;null!==(e=r.exec(t));)n.push({uri:e[1],pathname:e[2],filename:e[3],content:""});return n}function At(t){for(var e,n=[],r=/<\?xml[\w\W]*?(<!-- filename: (.+)\/(.*?\.xml) -->)/g;null!==(e=r.exec(t));)n.push({content:e[0].replace(e[1],"").trim(),pathname:e[2],filename:e[3]});return n}function Rt(t,e,n){return{pathname:t,filename:e,content:n}}function It(t,e){return(""+t).toLowerCase()>=(""+e).toLowerCase()?1:-1}var _t=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return a(n,androme.lib.base.File),r(n,[{key:"saveAllToDisk",value:function(t){for(var e=[],n=u(t.views).concat(u(t.includes)),r=0;r<n.length;r++){var i=n[r];e.push(Rt(i.pathname,0===r?this.userSettings.outputMainFileName:"".concat(i.filename,".xml"),i.content))}var a=this.resourceDrawableToXml();e.push.apply(e,u(At(this.resourceStringToXml()))),e.push.apply(e,u(At(this.resourceStringArrayToXml()))),e.push.apply(e,u(At(this.resourceFontToXml()))),e.push.apply(e,u(At(this.resourceColorToXml()))),e.push.apply(e,u(At(this.resourceStyleToXml()))),e.push.apply(e,u(At(this.resourceDimenToXml()))),e.push.apply(e,u(St(a)).concat(u(At(a)))),this.saveToDisk(e)}},{key:"layoutAllToXml",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=[],i=u(t.views).concat(u(t.includes)),a=0;a<i.length;a++){var o=i[a];n[o.filename]=o.content,e&&r.push(Rt(o.pathname,0===a?this.userSettings.outputMainFileName:"".concat(o.filename,".xml"),o.content))}return e&&this.saveToDisk(r),n}},{key:"resourceAllToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml()};for(var n in e)""===e[n]&&delete e[n];if(t){var r=[];for(var i in e)"drawable"===i&&r.push.apply(r,u(St(e[i]))),r.push.apply(r,u(At(e[i])));this.saveToDisk(r)}return e}},{key:"resourceStringToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={1:[]};this.stored.strings=new Map(u(this.stored.strings.entries()).sort(It)),""===this.appName||this.stored.strings.has("app_name")||e[1].push({name:"app_name",value:this.appName});var n=this.stored.strings.entries(),r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=h(a,2);e[1].push({name:o[0],value:o[1]})}var l=xt.createTemplate(xt.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<string name="{&name}">{~value}</string>\n!1\n</resources>\n\x3c!-- filename: res/values/strings.xml --\x3e'),e);return l=U(l,this.userSettings.insertSpaces,!0),t&&this.saveToDisk(At(l)),l}},{key:"resourceStringArrayToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.arrays.size>0){var n={1:[]};this.stored.arrays=new Map(u(this.stored.arrays.entries()).sort());var r=this.stored.arrays.entries(),i=Array.isArray(r),a=0;for(r=i?r:r[Symbol.iterator]();;){var o;if(i){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var l=h(o,2);n[1].push({name:l[0],items:l[1].map(function(t){return{value:t}})})}e=U(e=xt.createTemplate(xt.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<string-array name="{&name}">\n!items\n\t\t<item>{&value}</item>\n!items\n\t</string-array>\n!1\n</resources>\n\x3c!-- filename: res/values/string_arrays.xml --\x3e'),n),this.userSettings.insertSpaces,!0),t&&this.saveToDisk(At(e))}return e}},{key:"resourceFontToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.fonts.size>0){var n=this.userSettings;this.stored.fonts=new Map(u(this.stored.fonts.entries()).sort());var r=n.targetAPI<26?"app":"android",i=this.stored.fonts.entries(),a=Array.isArray(i),o=0;for(i=a?i:i[Symbol.iterator]();;){var l;if(a){if(o>=i.length)break;l=i[o++]}else{if((o=i.next()).done)break;l=o.value}var s=h(l,2),d=s[0],c=s[1],f={name:d,namespace:K(r),1:[]};for(var p in c){var g=h(p.split("-"),2),m=g[0],v=g[1];f[1].push({style:m,weight:v,font:"@font/".concat(d+("normal"===m&&"normal"===v?"_".concat(m):("normal"!==m?"_".concat(m):"")+("normal"!==v?"_".concat(v):"")))})}e+="\n\n"+xt.createTemplate(xt.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<font-family {&namespace}>\n!1\n\t<font android:fontStyle="{&style}" android:fontWeight="{&weight}" android:font="{&font}" />\n!1\n</font-family>\n\x3c!-- filename: res/font/{&name}.xml --\x3e'),f)}n.targetAPI<26&&(e=e.replace(/android/g,"app")),e=U(e,n.insertSpaces),t&&this.saveToDisk(At(e))}return e.trim()}},{key:"resourceColorToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.colors.size>0){var n={1:[]};this.stored.colors=new Map(u(this.stored.colors.entries()).sort());var r=this.stored.colors.entries(),i=Array.isArray(r),a=0;for(r=i?r:r[Symbol.iterator]();;){var o;if(i){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var l=h(o,2);n[1].push({name:l[0],value:l[1]})}e=U(e=xt.createTemplate(xt.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<color name="{&value}">{&name}</color>\n!1\n</resources>\n\x3c!-- filename: res/values/colors.xml --\x3e'),n),this.userSettings.insertSpaces),t&&this.saveToDisk(At(e))}return e}},{key:"resourceStyleToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.styles.size>0){for(var n=this.userSettings,r={1:[]},i=Array.from(this.stored.styles.values()).sort(function(t,e){return(""+t.name).toLowerCase()>=(""+e.name).toLowerCase()?1:-1}),a=function(){if(o){if(l>=s.length)return"break";d=s[l++]}else{if((l=s.next()).done)return"break";d=l.value}var t=d,e=[];t.attrs.split(";").sort().forEach(function(t){var n=h(t.split("="),2);e.push({name:n[0],value:n[1].replace(/"/g,"")})}),r[1].push({name:t.name,parent:t.parent||"",items:e})},o=Array.isArray(s=i),l=0,s=o?s:s[Symbol.iterator]();;){var d;if("break"===a())break}e=U(e=V((e=xt.createTemplate(xt.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<style name="{&name}" parent="{~parent}">\n!items\n\t\t<item name="{&name}">{&value}</item>\n!items\n\t</style>\n!1\n</resources>\n\x3c!-- filename: res/values/styles.xml --\x3e'),r)).trim(),n.resolutionDPI,n.convertPixels,!0),n.insertSpaces),t&&this.saveToDisk(At(e))}return e}},{key:"resourceDimenToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.dimens.size>0){var n=this.userSettings,r={1:[]};this.stored.dimens=new Map(u(this.stored.dimens.entries()).sort());var i=this.stored.dimens.entries(),a=Array.isArray(i),o=0;for(i=a?i:i[Symbol.iterator]();;){var l;if(a){if(o>=i.length)break;l=i[o++]}else{if((o=i.next()).done)break;l=o.value}var s=h(l,2);r[1].push({name:s[0],value:s[1]})}e=U(e=V((e=xt.createTemplate(xt.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n!1\n\t<dimen name="{&name}">{&value}</dimen>\n!1\n</resources>\n\x3c!-- filename: res/values/dimens.xml --\x3e'),r)).trim(),n.resolutionDPI,n.convertPixels),n.insertSpaces),t&&this.saveToDisk(At(e))}return e}},{key:"resourceDrawableToXml",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="";if(this.stored.drawables.size>0||this.stored.images.size>0){var n=this.userSettings,r=xt.parseTemplate("{&value}\n\x3c!-- filename: {&name} --\x3e"),i=this.stored.drawables.entries(),a=Array.isArray(i),o=0;for(i=a?i:i[Symbol.iterator]();;){var l;if(a){if(o>=i.length)break;l=i[o++]}else{if((o=i.next()).done)break;l=o.value}var s=h(l,2),d=s[1];e+="\n\n"+xt.createTemplate(r,{name:"res/drawable/".concat(v=s[0],".xml"),value:d})}var c=this.stored.images.entries(),f=Array.isArray(c),p=0;for(c=f?c:c[Symbol.iterator]();;){var g;if(f){if(p>=c.length)break;g=c[p++]}else{if((p=c.next()).done)break;g=p.value}var m=h(g,2),v=m[0],y=m[1];if(Object.keys(y).length>1)for(var b in y)e+="\n\n"+xt.createTemplate(r,{name:"res/drawable-".concat(b,"/").concat(v,".").concat(Tt.lastIndexOf(y[b],".")),value:"\x3c!-- image: ".concat(y[b]," --\x3e")});else y.mdpi&&(e+="\n\n"+xt.createTemplate(r,{name:"res/drawable/".concat(v,".").concat(Tt.lastIndexOf(y.mdpi,".")),value:"\x3c!-- image: ".concat(y.mdpi," --\x3e")}))}e=U(e=V(e.trim(),n.resolutionDPI,n.convertPixels),n.insertSpaces),t&&this.saveToDisk(u(St(e)).concat(u(At(e))))}return e}},{key:"userSettings",get:function(){return this.resource.userSettings}}]),n}(),kt=androme.lib.dom,Ct=androme.lib.enumeration,Pt=androme.lib.util,Nt=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return a(n,androme.lib.extensions.Accessibility),r(n,[{key:"afterBaseLayout",value:function(){for(var t=function(){if(e){if(n>=r.length)return"break";i=r[n++]}else{if((n=r.next()).done)return"break";i=n.value}var t=i;if(!t.hasBit("excludeProcedure",Ct.NODE_PROCEDURE.ACCESSIBILITY)){var a=t.element;switch(t.controlName){case v.EDIT:t.companion||[kt.getPreviousElementSibling(a),kt.getNextElementSibling(a)].some(function(e){if(e){var n=kt.getElementAsNode(e),r=e&&e.parentElement&&"LABEL"===e.parentElement.tagName?kt.getElementAsNode(e.parentElement):void 0;if(n&&n.visible&&n.pageFlow){if(Pt.hasValue(e.htmlFor)&&e.htmlFor===a.id)return n.android("labelFor",t.documentId),!0;if(n.textElement&&r)return r.android("labelFor",t.documentId),!0}}return!1});case v.SELECT:case v.CHECKBOX:case v.RADIO:case v.BUTTON:a.disabled&&t.android("focusable","false")}}},e=Array.isArray(r=this.application.processing.cache.elements),n=0,r=e?r:r[Symbol.iterator]();;){var i;if("break"===t())break}}}]),n}(),Ot=androme.lib.base.Layout,Lt=androme.lib.constant,Bt=androme.lib.dom,Dt=androme.lib.enumeration,Mt=androme.lib.util,Xt=androme.lib.xml,zt=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return a(n,androme.lib.extensions.CssGrid),r(n,[{key:"processNode",value:function(t,e){c(o(n.prototype),"processNode",this).call(this,t,e);var r=t.data(Lt.EXT_NAME.CSS_GRID,"mainData"),i="";if(r){var a=new Ot(e,t,f.GRID,4,t.length,t.children);a.rowCount=r.row.count,a.columnCount=r.column.count,i=this.application.renderNode(a)}return{output:i,complete:""!==i}}},{key:"processChild",value:function(t,e){var n,r=e.data(Lt.EXT_NAME.CSS_GRID,"mainData"),i=t.data(Lt.EXT_NAME.CSS_GRID,"cellData"),a="";if(r&&i){var o=function(n,a,o){var l=r[a],s="".concat(a,"Span"),d="".concat(a,"Start"),c="min".concat(Mt.capitalize(o)),h=0,u=0,f=0,p=0;l.unit.every(function(t){return"auto"===t})&&("width"===o?l.unit=l.unit.map(function(){return"1fr"}):l.unit.length=0);for(var g=0,m=0;g<i[s];g++){f+=parseInt(e.convertPX(l.unitMin[i[d]+g]));var v=l.unit[i[d]+g];if(!Mt.hasValue(v)){if(!l.auto[m])continue;v=l.auto[m],l.auto[m+1]&&m++}if(Mt.hasValue(v)){if("auto"===v||"min-content"===v||"max-content"===v){e.has(o)||"min-content"===v?(h=t.bounds[o],u=0,p=0):(h=0,u=0,p=.01);break}if(Mt.isPercent(v))p+=parseInt(v)/100,u=h,h=0;else if(v.endsWith("fr"))p+=parseInt(v),u=h,h=0;else if(v.endsWith("px")){var y=parseInt(v);0===u?h+=y:u+=y}}}if(i[s]>1){var b=(i[s]-1)*l.gap;0===u?h+=b:u+=b}f>0&&(u=f),n.android("layout_".concat(a),""+i[d]),i[s]>1&&n.android("layout_".concat(a,"Span"),""+i[s]),u>0&&!n.has(c)&&(n.css(c,Mt.formatPX(u)),n.unsetCache(o)),p>0?(n.android("layout_".concat(o),"0px"),n.android("layout_".concat(a,"Weight"),""+p)):h>0&&!n.has(o)&&n.css(o,Mt.formatPX(h),!0)},l=t.has("alignSelf")?t.css("alignSelf"):r.alignItems,s=t.has("justifySelf")?t.css("justifySelf"):r.justifyItems;if(/(start|end|center|baseline)/.test(l)||/(start|end|center|baseline|left|right)/.test(s)){(n=new rt(this.application.nextId,Bt.createElement(t.absoluteParent.baseElement),this.application.controllerHandler.delegateNodeInit)).tagName=t.tagName,n.setControlType(v.FRAME,f.FRAME),n.inherit(t,"initial","base"),n.resetBox(510),n.exclude({procedure:Dt.NODE_PROCEDURE.AUTOFIT|Dt.NODE_PROCEDURE.CUSTOMIZATION,resource:Dt.NODE_RESOURCE.BOX_STYLE|Dt.NODE_RESOURCE.ASSET}),e.appendTry(t,n),n.render(e),this.application.processing.cache.append(n,!1),t.parent=n,t.inheritBox(30,n),o(n,"column","width"),o(n,"row","height");var d=!1;s.endsWith("start")||s.endsWith("left")||s.endsWith("baseline")?(t.mergeGravity("layout_gravity","left"),d=!0):s.endsWith("end")||s.endsWith("right")?(t.mergeGravity("layout_gravity","right"),d=!0):s.endsWith("center")&&(t.mergeGravity("layout_gravity","center_horizontal"),d=!0),t.hasWidth||t.android("layout_width",d?"wrap_content":"match_parent",!1),l.endsWith("start")||l.endsWith("baseline")?t.mergeGravity("layout_gravity","top"):l.endsWith("end")?t.mergeGravity("layout_gravity","bottom"):l.endsWith("center")?t.mergeGravity("layout_gravity","center_vertical"):t.hasHeight||t.android("layout_height","match_parent",!1),n.mergeGravity("layout_gravity","fill_vertical"),a=Xt.getEnclosingTag(v.FRAME,n.id,n.renderDepth,Xt.formatPlaceholder(n.id))}var c=n||t;o(c,"column","width"),o(c,"row","height"),c.mergeGravity("layout_gravity","fill_vertical")}return{output:a,parent:n,complete:""!==a}}},{key:"postProcedure",value:function(t){var e=t.data(Lt.EXT_NAME.CSS_GRID,"mainData");if(e){var n=e.column.unit.includes("auto")?0:e.column.gap*(e.column.count-1);if(t.renderParent&&!t.renderParent.hasAlign(4)&&n>0){var r=Mt.convertInt(t.android("layout_width"));r>0&&t.android("layout_width",Mt.formatPX(r+=n));var i=Mt.convertInt(t.android("minWidth"));i>0&&t.android("minWidth",Mt.formatPX(i+=n))}t.inlineWidth&&t.has("maxWidth")&&t.android("layout_width",Mt.formatPX(t.bounds.width+n))}}}]),n}(),Gt=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return a(n,androme.lib.extensions.External),n}(),Ht=androme.lib.base.Layout,Wt=androme.lib.base.NodeList,Ft=androme.lib.constant,Vt=(androme,androme.lib.util),Ut={leftTop:["left","top"],rightBottom:["right","bottom"],rightLeftBottomTop:["rightLeft","bottomTop"],leftRightTopBottom:["leftRight","topBottom"],widthHeight:["Width","Height"],horizontalVertical:["Horizontal","Vertical"]},Yt=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return a(n,androme.lib.extensions.Flexbox),r(n,[{key:"processNode",value:function(t,e){c(o(n.prototype),"processNode",this).call(this,t,e);var r=t.data(Ft.EXT_NAME.FLEXBOX,"mainData"),i=new Ht(e,t,0,4,t.length);return i.rowCount=r.rowCount,i.columnCount=r.columnCount,t.filter(function(t){return!t.pageFlow}).length>0||r.rowDirection&&(1===r.rowCount||t.hasHeight)||r.columnDirection&&1===r.columnCount?i.containerType=f.CONSTRAINT:i.setType(f.LINEAR,r.columnDirection?8:16),{output:this.application.renderNode(i),complete:!0}}},{key:"processChild",value:function(t,e){var n="";if(t.hasAlign(128)){var r=new Ht(e,t,f.CONSTRAINT,4,t.length,t.children);n=this.application.renderNode(r)}return{output:n,complete:""!==n}}},{key:"postBaseLayout",value:function(t){var e=this,n=t.data(Ft.EXT_NAME.FLEXBOX,"mainData");if(n){var r,i=[],a=[],o=[],l=[];if(n.wrap)t.filter(function(t){return t.hasAlign(128)}).forEach(function(e){var s=e.renderChildren.filter(function(t){return t.pageFlow});if(n.rowDirection)e.android("layout_width","match_parent"),t.hasHeight&&(e.android("layout_height","0px"),e.app("layout_constraintVertical_weight","1")),i.push(s),l.push(e);else{if(e.android("layout_height","match_parent"),a.push(s),r){for(var d=r[0],c=1;c<r.length;c++)r[c].linear.right>d.linear.right&&(d=r[c]);var h=e.linear.left-d.actualRight();h>0&&e.modifyBox(16,h),e.constraint.horizontal=!0}o.push(e),r=s}}),t.is(f.LINEAR)?n.columnDirection&&n.wrapReverse&&t.mergeGravity("gravity","right"):(l.length&&a.push(l),o.length&&i.push(o));else n.rowDirection?i[0]=n.directionReverse?n.children.reverse():n.children:(t.hasHeight||t.android("layout_height","match_parent"),a[0]=n.directionReverse?n.children.reverse():n.children);[i,a].forEach(function(r,i){var a=0===i,s=a?1:0;r.forEach(function(r){for(var d,c=Ut.widthHeight[s],h=c.toLowerCase(),u=[Ut.leftTop[i],Ut.leftTop[s]],f=u[0],p=u[1],g=[Ut.rightBottom[i],Ut.rightBottom[s]],m=g[0],v=g[1],y=Vt.maxArray(r.map(function(t){return t.flexElement?0:t.bounds[c.toLowerCase()]})),b=0;b<r.length;b++){var w=r[b],T=r[b-1],x=r[b+1];if(x&&w.anchor(Ut.rightLeftBottomTop[i],x.documentId),T&&w.anchor(Ut.leftRightTopBottom[i],T.documentId),r!==o&&r!==l){switch(w.flexbox.alignSelf){case"start":case"flex-start":w.anchor(p,"parent");break;case"end":case"flex-end":w.anchor(v,"parent");break;case"baseline":a&&(void 0===d&&(d=Wt.baseline(r)[0]),d&&(w!==d?(w.anchor("baseline",d.documentId),w.constraint.vertical=!0):w.anchor("top","parent")));break;case"center":w.anchorParent(a?E.VERTICAL:E.HORIZONTAL);break;default:w.anchor(n.wrapReverse?v:p,"parent"),!w["has".concat(c)]&&!w.has(h,32)&&w.initial.bounds[h]<y&&(w.android("layout_".concat(c.toLowerCase()),"0px"),w.anchor(n.wrapReverse?p:v,"parent"))}wt.dimensionFlex(w,a)}w.positioned=!0}var S=Ut.horizontalVertical[i],A=r[0],R=r[r.length-1],I="layout_constraint".concat(S,"_chainStyle");if(A.anchor(f,"parent"),R.anchor(m,"parent"),r.every(function(t){return t.flexbox.grow<1}))switch(n.justifyContent){case"left":if(!a)break;case"start":case"flex-start":A.app(I,"packed"),A.app("layout_constraint".concat(S,"_bias"),"0");break;case"center":A.app(I,"packed"),A.app("layout_constraint".concat(S,"_bias"),"0.5");break;case"right":if(!a)break;case"end":case"flex-end":A.app(I,"packed"),A.app("layout_constraint".concat(S,"_bias"),"1");break;case"space-between":A.app(I,"spread_inside");break;case"space-evenly":A.app(I,"spread"),r.forEach(function(t){return t.app("layout_constraint".concat(S,"_weight"),""+(t.flexbox.grow||1))});break;case"space-around":var _=e.application.controllerHandler,k=S.toLowerCase();A.app(I,"spread_inside"),A.constraint[k]=!1,R.constraint[k]=!1,_.addGuideline(A,A.parent,k,!0,!1),_.addGuideline(R,A.parent,k,!0,!0)}r.length>1&&(a&&Vt.withinFraction(t.box.left,A.linear.left)&&Vt.withinFraction(R.linear.right,t.box.right)||!a&&Vt.withinFraction(t.box.top,A.linear.top)&&Vt.withinFraction(R.linear.bottom,t.box.bottom))?A.app(I,"spread_inside",!1):(A.app(I,"packed",!1),A.app("layout_constraint".concat(S,"_bias"),n.directionReverse?"1":"0",!1))})})}}}]),n}(),jt=androme.lib.base.Layout,Kt=androme.lib.constant,Zt=androme.lib.dom,qt=(androme,androme.lib.util),$t=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return a(n,androme.lib.extensions.Grid),r(n,[{key:"processNode",value:function(t,e,r){c(o(n.prototype),"processNode",this).call(this,t,e,r);var i=t.data(Kt.EXT_NAME.GRID,"mainData"),a="";if(i){var l=new jt(e,t,f.GRID,4,t.length,t.children);l.columnCount=i.columnCount,a=this.application.renderNode(l)}return{output:a,complete:""!==a}}},{key:"processChild",value:function(t,e){var n=e.data(Kt.EXT_NAME.GRID,"mainData"),r=t.data(Kt.EXT_NAME.GRID,"cellData");if(n&&r){r.rowSpan>1&&t.android("layout_rowSpan",""+r.rowSpan),r.columnSpan>1&&t.android("layout_columnSpan",""+r.columnSpan),"table-cell"===t.display&&t.mergeGravity("layout_gravity","fill");var i=r.siblings?r.siblings.slice():[];if(i.length){var a=this.application.controllerHandler;i.unshift(t);var o=new jt(e,t,0,0,i.length,i);if(o.linearY)o.node=a.createNodeGroup(t,i,e),o.setType(f.LINEAR,16);else{o.init();var l=a.processTraverseHorizontal(o);o.node=l.layout.node}if(0!==o.containerType)return i.forEach(function(t){return t.inherit(o.node,"data")}),{output:this.application.renderNode(o),parent:o.node,complete:!0}}}return{output:""}}},{key:"postBaseLayout",value:function(t){var e=this;if(!t.tableElement||"collapse"!==t.css("borderCollapse")){var n=t.data(Kt.EXT_NAME.GRID,"mainData");n&&t.each(function(t){var r=t.data(Kt.EXT_NAME.GRID,"cellData");if(r){var i=Zt.getBoxSpacing(t.documentParent.element,!0);if(r.cellStart&&(n.paddingTop=i.paddingTop+i.marginTop),r.rowStart&&(n.paddingLeft=Math.max(i.marginLeft+i.paddingLeft,n.paddingLeft)),r.rowEnd){var a=i.marginBottom+i.paddingBottom+(r.cellEnd?0:i.marginTop+i.paddingTop);a>0&&(r.cellEnd?n.paddingBottom=a:e.application.controllerHandler.appendAfter(t.id,e.application.controllerHandler.renderSpace(t.renderDepth,"match_parent",qt.formatPX(a),n.columnCount))),n.paddingRight=Math.max(i.marginRight+i.paddingRight,n.paddingRight)}}},!0),t.modifyBox(32,n.paddingTop),t.modifyBox(64,n.paddingRight),t.modifyBox(128,n.paddingBottom),t.modifyBox(256,n.paddingLeft)}!t.hasWidth&&qt.withinFraction(t.box.right,qt.maxArray(t.renderChildren.filter(function(t){return t.inlineFlow||!t.blockStatic}).map(function(t){return t.linear.right})))&&t.android("layout_width","wrap_content")}}]),n}(),Jt=androme.lib.base.Layout,Qt=androme.lib.base.NodeList,te=androme.lib.constant,ee=androme.lib.dom,ne=(androme,androme.lib.util),re=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return a(n,androme.lib.extensions.List),r(n,[{key:"processNode",value:function(t,e){c(o(n.prototype),"processNode",this).call(this,t,e);var r=new Jt(e,t,0,0,t.length,t.children),i="";return Qt.linearY(r.children)?(r.rowCount=t.length,r.columnCount=t.some(function(t){return"inside"===t.css("listStylePosition")})?3:2,r.setType(f.GRID,4)):this.application.controllerHandler.checkRelativeHorizontal(r)&&(r.rowCount=1,r.columnCount=r.length,r.setType(f.RELATIVE,8)),0!==r.containerType&&(i=this.application.renderNode(r)),{output:i,complete:""!==i}}},{key:"processChild",value:function(t,e){var n=t.data(te.EXT_NAME.LIST,"mainData"),r="";if(n){var a=this.application.controllerHandler,o=ne.convertInt(e.css("paddingLeft"))+ne.convertInt(e.css("marginLeft")),l=0,s=t.marginLeft;t.modifyBox(16,null),e.is(f.GRID)?(l=ne.convertInt(e.android("columnCount")),s+=o):e.item(0)===t&&(s+=o);var d=t.find(function(t){var e=ne.convertInt(t.cssInitial("marginLeft")||t.css("marginLeft"));return"left"===t.float&&e<0&&Math.abs(e)<=ne.convertInt(t.documentParent.cssInitial("marginLeft"))});if(d&&""===n.ordinal){var c=new Jt(e,d);d.inlineText||0===d.length?c.containerType=f.TEXT:(c.retain(d.children),a.checkRelativeHorizontal(c)?c.setType(f.RELATIVE,8):c.setType(f.CONSTRAINT,2)),d.parent=e,a.prependBefore(t.id,this.application.renderNode(c)),3===l&&t.android("layout_columnSpan","2"),s+=d.marginLeft,d.modifyBox(16,null),!d.hasWidth&&s>0&&d.android("minWidth",ne.formatPX(s))}else{var h=l>0?"0":"",u="inside"===t.css("listStylePosition"),p=0,g=0,m="";if(""!==n.imageSrc){var y=ee.getBackgroundPosition(n.imagePosition,t.bounds,t.dpi,t.fontSize);p=y.left,g=y.top,m=M.addImageUrl(n.imageSrc)}var E=""!==m&&!t.has("listStyleImage")||0===o&&0===t.marginLeft?"":"right";""===E&&(s+=t.paddingLeft,t.modifyBox(256,null)),p>0&&s>p&&(s-=p);var w=(s=Math.max(s,20))<=24?6:s<=32?8:10,T=p>0?ne.formatPX(p):"",x=s>0?ne.formatPX(s):"",S=H({android:{layout_columnWeight:h}});if(u){var A=a.renderNodeStatic(v.SPACE,e.renderDepth+1,{android:i({minWidth:x,layout_columnWeight:h},t.localizeString(b.MARGIN_LEFT),T)},"wrap_content","wrap_content");a.prependBefore(t.id,A),S.android.minWidth=ne.formatPX("24")}else{var R;Object.assign(S.android,(i(R={minWidth:x,gravity:s>20?t.localizeString(E):""},b.MARGIN_TOP,t===e.children[0]&&t.marginTop>0?ne.formatPX(t.marginTop):""),i(R,t.localizeString(b.MARGIN_LEFT),T),i(R,t.localizeString(b.PADDING_LEFT),""===E&&""===m?ne.formatPX(w):20===s?"2px":""),i(R,t.localizeString(b.PADDING_RIGHT),"right"===E&&s>20?ne.formatPX(w):""),i(R,b.PADDING_TOP,t.paddingTop>0?ne.formatPX(t.paddingTop):""),R)),3===l&&t.android("layout_columnSpan","2")}if("DT"===t.tagName&&""===m)t.android("layout_columnSpan",""+l);else{var I;if(""!==m)Object.assign(S.android,(i(I={src:"@drawable/".concat(m)},b.MARGIN_TOP,g>0?ne.formatPX(g):""),i(I,"scaleType",u||"right"!==E?"fitStart":"fitEnd"),I));else S.android.text=n.ordinal;var _=new rt(this.application.nextId,ee.createElement(t.absoluteParent.baseElement),this.application.controllerHandler.delegateNodeInit);_.tagName="".concat(t.tagName,"_ORDINAL"),_.inherit(t,"style"),""!==n.ordinal&&!/[A-Za-z\d]+\./.test(n.ordinal)&&_.toInt("fontSize")>12&&_.css("fontSize","12px"),t.companion=_,this.application.processing.cache.append(_,!1);var k=a.renderNodeStatic(""!==m?v.IMAGE:""!==n.ordinal?v.TEXT:v.SPACE,e.renderDepth+1,S,"wrap_content","wrap_content",_);a.prependBefore(t.id,k)}}l>0&&(t.android("layout_width","0px"),t.android("layout_columnWeight","1"));var C=[Qt.linearX(t.children),Qt.linearY(t.children)],P=C[0];if(P||C[1]){var N=new Jt(e,t,f.LINEAR,P?8:16,t.length,t.children);r=this.application.renderNode(N)}}return{output:r,next:""!==r}}},{key:"postBaseLayout",value:function(t){c(o(n.prototype),"postBaseLayout",this).call(this,t);for(var e=t.android("columnCount"),r=0;r<t.renderChildren.length;r++){var i=t.renderChildren[r],a=t.renderChildren[r-1],l=0;if(a){var s=ne.convertInt(a.android(b.MARGIN_BOTTOM));s>0&&(l+=s,a.delete("android",b.MARGIN_BOTTOM),a.modifyBox(8,null))}var d=ne.convertInt(i.android(b.MARGIN_TOP));if(d>0&&(l+=d,i.delete("android",b.MARGIN_TOP),i.modifyBox(2,null)),l>0){var h=H({android:{layout_columnSpan:""+e}}),u=this.application.controllerHandler.renderNodeStatic(v.SPACE,i.renderDepth,h,"match_parent",ne.formatPX(l));this.application.controllerHandler.prependBefore(i.id,u,0)}}}},{key:"postProcedure",value:function(t){t.blockStatic&&!t.has("width")&&t.android("layout_width","match_parent")}}]),n}(),ie=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return a(n,androme.lib.extensions.Origin),n}(),ae=androme.lib.base.Layout,oe=(androme,function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return a(n,androme.lib.extensions.Percent),r(n,[{key:"processNode",value:function(t,e){var n=this.application.controllerHandler,r=n.createNodeGroup(t,[t],e);r.android("layout_width","match_parent");var i=new ae(e,r,f.GRID,4,1,r.children);i.rowCount=1,i.columnCount=2;var a=this.application.renderNode(i);return n[t.rightAligned?"prependBefore":"appendAfter"](t.id,n.renderSpace(r.renderDepth+1,"".concat(100-t.toInt("width"),"%"),"",1)),{output:"",complete:!0,parent:r,renderAs:r,outputAs:a,include:!0}}},{key:"processChild",value:function(t){return t.has("width",32)&&(t.android("layout_width","0px"),t.android("layout_columnWeight",(parseInt(t.css("width"))/100).toFixed(2))),{output:""}}}]),n}()),le=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return a(n,androme.lib.extensions.Relative),n}(),se=androme.lib.constant,de=androme.lib.enumeration,ce=androme.lib.util,he=androme.lib.xml,ue=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return a(n,androme.lib.extensions.Sprite),r(n,[{key:"processNode",value:function(t,e){var n,r="",i=t.data(se.EXT_NAME.SPRITE,"mainData");return i&&i.uri&&i.position&&t.baseElement&&((n=new rt(this.application.nextId,t.baseElement,this.application.controllerHandler.delegateNodeInit)).inherit(t,"initial","base","style","styleMap"),n.setControlType(v.FRAME),n.exclude({procedure:de.NODE_PROCEDURE.CUSTOMIZATION,resource:de.NODE_RESOURCE.IMAGE_SOURCE}),e.appendTry(t,n),n.render(e),this.application.processing.cache.append(n,!1),r=he.getEnclosingTag(v.FRAME,n.id,n.renderDepth,he.formatPlaceholder(n.id)),t.parent=n,t.setControlType(v.IMAGE,f.IMAGE),t.exclude({procedure:de.NODE_PROCEDURE.AUTOFIT,resource:de.NODE_RESOURCE.FONT_STYLE|de.NODE_RESOURCE.BOX_STYLE}),t.css({position:"static",top:"auto",right:"auto",bottom:"auto",left:"auto",display:"inline-block",width:ce.formatPX(i.width),height:ce.formatPX(i.height),marginTop:ce.formatPX(i.position.y),marginRight:"0px",marginBottom:"0px",marginLeft:ce.formatPX(i.position.x),paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px",backgroundPositionX:"0px",backgroundPositionY:"0px",backgroundColor:"transparent"}),t.unsetCache(),t.android("src","@drawable/".concat(M.addImage({mdpi:i.uri})))),{output:r,parent:n,complete:!0}}}]),n}(),fe=androme.lib.base.Layout,pe=androme.lib.constant,ge=(androme,androme.lib.util),me=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return a(n,androme.lib.extensions.Table),r(n,[{key:"processNode",value:function(t,e){c(o(n.prototype),"processNode",this).call(this,t,e);var r=t.data(pe.EXT_NAME.TABLE,"mainData"),i="";if(r){if(r.columnCount>1){var a=!!t.data(pe.EXT_NAME.TABLE,"expand");if(t.each(function(t){if("0px"===t.css("width"))t.android("layout_width","0px"),t.android("layout_columnWeight",""+(t.element.colSpan||1));else{var e=t.data(pe.EXT_NAME.TABLE,"expand"),n=!!t.data(pe.EXT_NAME.TABLE,"exceed"),r=!!t.data(pe.EXT_NAME.TABLE,"downsized");if("boolean"==typeof e)if(e){var i=ge.convertFloat(t.data(pe.EXT_NAME.TABLE,"percent"))/100;i>0&&(t.android("layout_width","0px"),t.android("layout_columnWeight",ge.trimEnd(i.toFixed(3),"0")),a=!0)}else t.android("layout_columnWeight","0");r&&(n?(t.android("layout_width","0px"),t.android("layout_columnWeight","0.01")):(t.textElement&&!/[\s\n\-]/.test(t.textContent.trim())&&t.android("maxLines","1"),t.has("width")&&t.toInt("width")<t.bounds.width&&t.android("layout_width",ge.formatPX(t.bounds.width))))}}),a&&!t.hasWidth){var l=0;t.ascend().some(function(t){return!!t.hasWidth&&(l=t.bounds.width,!0)}),t.bounds.width>=l?t.android("layout_width","match_parent"):t.css("width",ge.formatPX(t.bounds.width),!0)}}var s=new fe(e,t,f.GRID,4,t.length,t.children);s.rowCount=r.rowCount,s.columnCount=r.columnCount,i=this.application.renderNode(s)}return{output:i,complete:""!==i}}},{key:"processChild",value:function(t,e){var n=ge.convertInt(t.data(pe.EXT_NAME.TABLE,"rowSpan")),r=ge.convertInt(t.data(pe.EXT_NAME.TABLE,"colSpan")),i=ge.convertInt(t.data(pe.EXT_NAME.TABLE,"spaceSpan"));return n>1&&t.android("layout_rowSpan",""+n),r>1&&t.android("layout_columnSpan",""+r),t.mergeGravity("layout_gravity","fill"),i>0&&this.application.controllerHandler.appendAfter(t.id,this.application.controllerHandler.renderSpace(e.renderDepth+1,"wrap_content","wrap_content",i)),{output:""}}},{key:"postProcedure",value:function(t){var e=ge.convertInt(t.android("layout_width"));if(e>0&&(t.bounds.width>e&&t.android("layout_width",ge.formatPX(t.bounds.width)),e>0&&"auto"===t.cssInitial("width")&&t.renderChildren.every(function(t){return t.inlineWidth})))for(var n=Array.isArray(i=t.renderChildren),r=0,i=n?i:i[Symbol.iterator]();;){var a;if(n){if(r>=i.length)break;a=i[r++]}else{if((r=i.next()).done)break;a=r.value}var o=a;o.android("layout_width","0px"),o.android("layout_columnWeight","1")}}}]),n}(),ve=androme.lib.base.Layout,ye=androme.lib.constant,be=(androme,function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return a(n,androme.lib.extensions.VerticalAlign),r(n,[{key:"processNode",value:function(t,e){c(o(n.prototype),"processNode",this).call(this,t,e);var r="";if(t.data(ye.EXT_NAME.VERTICAL_ALIGN,"mainData")){var i=new ve(e,t,f.RELATIVE,8,t.length,t.children);i.floated=i.getFloated(!0),r=this.application.renderNode(i)}return{output:r}}}]),n}()),Ee=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return a(n,androme.lib.extensions.WhiteSpace),n}(),we=androme.lib.base.Layout,Te=androme.lib.enumeration,xe=androme.lib.util,Se=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).options={circlePosition:!1},t}return a(n,androme.lib.base.Extension),r(n,[{key:"condition",value:function(t){return this.included(t.element)&&t.length>0}},{key:"processNode",value:function(t,e){t.exclude({procedure:Te.NODE_PROCEDURE.CONSTRAINT});var n=new we(e,t,f.CONSTRAINT,32,t.length,t.children);return{output:this.application.renderNode(n)}}},{key:"afterConstraints",value:function(){for(var t=this,e=this.application.controllerHandler,n=function(){if(r){if(i>=a.length)return"break";o=a[i++]}else{if((i=a.next()).done)return"break";o=i.value}var n=o,l=new Map;if(n.each(function(t){var e=[];xe.withinFraction(t.linear.left,n.box.left)&&e.push("left"),xe.withinFraction(t.linear.top,n.box.top)&&e.push("top"),l.set(t,e)}),t.options.circlePosition){var s,d=Array.from(l.values()).some(function(t){return 2===t.length}),c=l.entries(),u=Array.isArray(c),f=0;for(c=u?c:c[Symbol.iterator]();;){var p;if(u){if(f>=c.length)break;p=c[f++]}else{if((f=c.next()).done)break;p=f.value}var g=h(p,2),m=g[0],v=g[1];if(d){if(2===v.length){m.anchor("left","parent"),m.anchor("top","parent"),s=m;break}}else if(1===v.length){v.includes("left")?(m.anchor("left","parent"),e.addGuideline(m,n,E.VERTICAL),s=m):(m.anchor("top","parent"),e.addGuideline(m,n,E.HORIZONTAL),s=m);break}}void 0===s&&(s=n.item(0),e.addGuideline(s,n)),n.each(function(t){if(s&&t!==s){var e=t.center,n=s.center,r=Math.abs(e.x-n.x),i=Math.abs(e.y-n.y),a=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(i,2))),o=Math.round(Math.atan(Math.min(r,i)/Math.max(r,i))*(180/Math.PI));e.y>n.y?e.x>n.x?r>i?o+=90:o=180-o:r>i?o=270-o:o+=180:e.y<n.y?n.x>e.x?r>i?o+=270:o=360-o:r>i&&(o=90-o):o=e.x>n.x?90:270,t.app("layout_constraintCircle",s.documentId),t.app("layout_constraintCircleRadius",xe.formatPX(a)),t.app("layout_constraintCircleAngle",""+o)}})}else{var y=l.entries(),b=Array.isArray(y),w=0;for(y=b?y:y[Symbol.iterator]();;){var T;if(b){if(w>=y.length)break;T=y[w++]}else{if((w=y.next()).done)break;T=w.value}var x=h(T,2);m=x[0];(v=x[1]).includes("left")&&m.anchor("left","parent"),v.includes("top")&&m.anchor("top","parent"),v.length<2&&e.addGuideline(m,n)}}},r=Array.isArray(a=this.subscribers),i=0,a=r?a:a[Symbol.iterator]();;){var o;if("break"===n())break}}}]),n}(),Ae=androme.lib.constant,Re=androme.lib.dom,Ie=function(t){function n(t,r,i,a){var l;return e(this,n),(l=d(this,o(n).call(this,t,r,i,a))).require(Ae.EXT_NAME.EXTERNAL,!0),l}return a(n,androme.lib.base.Extension),r(n,[{key:"processNode",value:function(t,e){var n=this,r=Re.getDataSet(t.element,this.name),i="";return r.tag&&(t.setControlType(r.tag,t.blockStatic?f.BLOCK:f.INLINE),t.render(e),i=this.application.controllerHandler.renderNodeStatic(r.tag,t.renderDepth,{},"","",t,t.length>0)),r.tagChild&&t.each(function(t){t.styleElement&&(t.dataset.include=n.name,t.dataset.androidDelegateElementTag=r.tagChild)}),{output:i}}},{key:"postProcedure",value:function(t){var e=Object.assign({},this.options[t.element.id]);t.apply(M.formatOptions(e,this.application.getExtensionOptionValueAsBoolean(m.RESOURCE_STRINGS,"numberResourceValue")))}}]),n}(),_e=androme.lib.base.NodeList,ke=(androme,androme.lib.util),Ce=androme.lib.xml,Pe=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return a(n,androme.lib.base.Extension),r(n,[{key:"condition",value:function(t){var e=t.element;return"INPUT"===e.tagName&&"radio"===e.type&&""!==e.name}},{key:"processNode",value:function(t,e){var n,r=ke.hasValue(t.dataset.target)&&!ke.hasValue(t.dataset.include),i=t.element,a=[],o=e.flatMap(function(e){e.renderAs&&(e.renderAs===t?n=e:a.push(e),e=e.renderAs);var r=e.element;return"radio"!==r.type||r.name!==i.name||e.rendered?null:e});if(o.length>1){var l=this.application.controllerHandler.createNodeGroup(t,o,e,n);l.alignmentType|=8|(e.length!==o.length?128:0),e.layoutConstraint&&(l.companion=n||t),l.setControlType("RadioGroup",f.INLINE),l.inherit(t,"alignment"),l.css("verticalAlign","text-bottom"),l.each(function(e){e!==t&&e.setControlType(v.RADIO,f.RADIO),e.positioned=!0,e.parent=l}),a.forEach(function(t){return t.hide()}),l.android("orientation",_e.linearX(o)?E.HORIZONTAL:E.VERTICAL),l.render(r?l:e),this.subscribers.add(l);var s=Ce.getEnclosingTag("RadioGroup",l.id,r?-1:l.renderDepth,Ce.formatPlaceholder(l.id));return{output:"",parent:l,renderAs:l,outputAs:s}}return{output:""}}},{key:"postBaseLayout",value:function(t){t.some(function(e){return!!e.element.checked&&(t.android("checkedButton",e.documentId),!0)})}}]),n}(),Ne=androme.lib.dom,Oe=androme.lib.enumeration,Le=androme.lib.util,Be=androme.lib.xml,De="android.support.v4.widget.NestedScrollView",Me=function(t){function n(){return e(this,n),d(this,o(n).apply(this,arguments))}return a(n,androme.lib.base.Extension),r(n,[{key:"condition",value:function(t){return t.length>0&&(t.overflowX||t.overflowY||this.included(t.element)&&(t.hasWidth||t.hasHeight))}},{key:"processNode",value:function(t,e){var n=this,r=Le.hasValue(t.dataset.target)&&!Le.hasValue(t.dataset.include),i=[];if(t.overflowX&&t.overflowY)i.push("HorizontalScrollView",De);else if(t.overflowX)i.push("HorizontalScrollView");else if(t.overflowY)i.push(De);else{var a=0;t.hasWidth&&(a|=8,i.push("HorizontalScrollView")),t.hasHeight&&(a|=16,i.push(De)),t.overflow=a}for(var o=i.map(function(r,i){var a=new rt(n.application.nextId,Ne.createElement(t.absoluteParent.baseElement,t.block),n.application.controllerHandler.delegateNodeInit);return a.setControlType(r,f.BLOCK),0===i?(a.inherit(t,"initial","base","style","styleMap"),e.appendTry(t,a),a.render(e)):(a.init(),a.tagName=t.tagName,a.documentParent=t.documentParent,a.inherit(t,"initial","dimensions","styleMap"),a.exclude({resource:Oe.NODE_RESOURCE.BOX_STYLE})),a.resetBox(480),a}),l="",s=0;s<o.length;s++){var d=o[s],c=o[s-1];switch(d.controlName){case De:var h=d.css("height");d.android("layout_height",d.convertPX(h,!1)),d.css({width:"auto",overflow:"scroll visible",overflowX:"visible",overflowY:"scroll"});break;case"HorizontalScrollView":var u=d.css("width");d.android("layout_width",d.convertPX(u)),d.css({height:"auto",overflow:"visible scroll",overflowX:"scroll",overflowY:"visible"})}d.unsetCache(),this.application.processing.cache.append(d),d.render(0===s?r?d:e:c);var p=Be.getEnclosingTag(d.controlName,d.id,r?0===s?-1:0:d.renderDepth,Be.formatPlaceholder(d.id));l=0===s?p:Be.replacePlaceholder(l,c.id,p)}return 2===o.length?(t.android("layout_width","wrap_content"),t.android("layout_height","wrap_content")):t.overflowX?(t.android("layout_width","wrap_content"),t.android("layout_height","match_parent")):(t.android("layout_width","match_parent"),t.android("layout_height","wrap_content")),t.overflow=0,t.parent=o[o.length-1],e.layoutConstraint&&(t.parent.companion=t),t.resetBox(30),t.exclude({resource:Oe.NODE_RESOURCE.BOX_STYLE}),{output:"",parent:t.parent,renderAs:o[0],outputAs:l}}}]),n}(),Xe='<?xml version="1.0" encoding="utf-8"?>\n<layer-list xmlns:android="http://schemas.android.com/apk/res/android">\n!1\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<solid android:color="@color/{&color}" />\n\t\t</shape>\n\t</item>\n!1\n!2\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:angle="{~angle}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" android:visible="{~visible}" />\n\t\t</shape>\n\t</item>\n!2\n!3\n\t<item android:drawable="@drawable/{&vector}" />\n!3\n!4\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:width="{~width}" android:height="{~height}">\n\t\t<rotate android:drawable="@drawable/{&src}" android:fromDegrees="{~fromDegrees}" android:toDegrees="{~toDegrees}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}" android:visible="{~visible}" />\n\t</item>\n!4\n!5\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:drawable="@drawable/{&src}" android:width="{~width}" android:height="{~height}" />\n!5\n!6\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}">\n\t\t<bitmap android:src="@drawable/{&src}" android:gravity="{~gravity}" android:tileMode="{~tileMode}" android:tileModeX="{~tileModeX}" android:tileModeY="{~tileModeY}" />\n\t</item>\n!6\n!7\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}">\n\t\t<shape android:shape="rectangle">\n!stroke\n\t\t\t<stroke android:width="{&width}" {~borderStyle} />\n!stroke\n!corners\n\t\t\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomRightRadius="{~bottomRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" />\n!corners\n\t\t</shape>\n\t</item>\n!7\n</layer-list>',ze='<?xml version="1.0" encoding="utf-8"?>\n<vector xmlns:android="http://schemas.android.com/apk/res/android" {~namespace} android:width="{&width}" android:height="{&height}" android:viewportWidth="{&viewportWidth}" android:viewportHeight="{&viewportHeight}" android:alpha="{~alpha}">\n!1\n\t<group android:name="{~name}" android:rotation="{~rotation}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}" android:scaleX="{~scaleX}" android:scaleY="{~scaleY}" android:translateX="{~translateX}" android:translateY="{~translateY}">\n!2\n!clipPaths\n\t\t<clip-path android:name="{~name}" android:pathData="{&d}" />\n!clipPaths\n\t\t<path\n\t\t\tandroid:name="{~name}" android:fillType="{~fillRule}" android:fillColor="{~fill}" android:fillAlpha="{~fillOpacity}" android:strokeColor="{~stroke}" android:strokeWidth="{~strokeWidth}" android:strokeAlpha="{~strokeOpacity}" android:strokeLineCap="{~strokeLinecap}" android:strokeLineJoin="{~strokeLinejoin}" android:strokeMiterLimit="{~strokeMiterlimit}"\n\t\t\tandroid:pathData="{&d}">\n!fill\n\t\t\t<aapt:attr name="android:fillColor">\n!gradients\n\t\t\t\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:startX="{~startX}" android:startY="{~startY}" android:endX="{~endX}" android:endY="{~endY}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}">\n!colorStop\n\t\t\t\t\t<item android:offset="{&offset}" android:color="{&color}" />\n!colorStop\n\t\t\t\t</gradient>\n!gradients\n\t\t\t</aapt:attr>\n!fill\n\t\t</path>\n!2\n\t</group>\n!1\n</vector>',Ge=androme.lib.base.SvgPath,He=androme.lib.color,We=androme.lib.dom,Fe=androme.lib.enumeration,Ve=androme.lib.util,Ue=androme.lib.xml;function Ye(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={solid:'android:color="@color/'.concat(t.color,'"'),groove:"",ridge:""},i=t.style,a=parseInt(t.width),o="".concat(r.solid,' android:dashWidth="').concat(a,'px" android:dashGap="').concat(a,'px"');Object.assign(r,{double:r.solid,inset:r.solid,outset:r.solid,dashed:o,dotted:o});var l="groove"===i;if(a>1&&(l||"ridge"===i)){var s=He.parseRGBA(t.color);if(s){var d=He.reduceRGBA(s.valueRGBA,l||"#000000"===s.valueRGB?.5:-.5);if(d){var c=M.addColor(d);if(""!==c){var h='android:color="@color/'.concat(c,'"');if(0!==e&&2!==e||(n=!n),"#000000"!==s.valueRGB||(!l||1!==e&&3!==e)&&(l||0!==e&&2!==e)||(n=!n),n)switch(e){case 0:r[i]=h;break;case 1:case 2:r[i]=r.solid;break;case 3:r[i]=h}else switch(e){case 0:r[i]=r.solid;break;case 1:case 2:r[i]=h;break;case 3:r[i]=r.solid}}}}}return r[i]||r.solid}function je(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];switch(e){case"stroke":if(t.border&&M.isBorderVisible(t.border)){if(!r||i)return[{width:t.border.width,borderStyle:Ye(t.border,i?n:-1)}];if(r)return[{width:Ve.formatPX(Math.ceil(parseInt(t.border.width)/2)),borderStyle:Ye(t.border,n,!0)}]}return!1;case"backgroundColor":return!!Ve.hasValue(t.backgroundColor)&&[{color:t.backgroundColor}];case"radius":if(t.borderRadius)if(1===t.borderRadius.length){if("0px"!==t.borderRadius[0])return[{radius:t.borderRadius[0]}]}else if(t.borderRadius.length>1){var a={};return t.borderRadius.forEach(function(t,e){return a["".concat(["topLeft","topRight","bottomRight","bottomLeft"][e],"Radius")]=t}),[a]}return!1}return!1}function Ke(t,e,n,r,i,a,o){var l=parseInt(t.width),s=Math.floor(l/3),d=2===l%3?1:0,c=s+d,h=s+d,u="".concat(Ve.formatPX(l-s)),f="-".concat(u);a[7].push({top:e?"":f,right:n?"":f,bottom:r?"":f,left:i?"":f,stroke:[{width:Ve.formatPX(c),borderStyle:Ye(t)}],corners:o}),3===l&&(u="".concat(Ve.formatPX(l)),f="-".concat(u)),a[7].push({top:e?u:f,right:n?u:f,bottom:r?u:f,left:i?u:f,stroke:[{width:Ve.formatPX(h),borderStyle:Ye(t)}],corners:o})}var Ze=function(n){function i(){var t;return e(this,i),(t=d(this,o(i).apply(this,arguments))).options={autoSizeBackgroundImage:!0},t.eventOnly=!0,t}return a(i,androme.lib.base.Extension),r(i,[{key:"afterResources",value:function(){var e=this,n=this.application.getExtensionOptionValue(m.RESOURCE_SVG,"vectorColorResourceValue");this.application.processing.cache.duplicate().sort(function(t){return t.visible?0:-1}).forEach(function(r){var i=r.data(M.KEY_NAME,"boxStyle");if(i&&!r.hasBit("excludeResource",Fe.NODE_RESOURCE.BOX_STYLE)){var a=function(){var a=function(t,e,n){return-1===t.indexOf(" ")&&-1!==e.indexOf(" ")?/^[a-z]+$/.test(t)?"".concat("initial"===t?n:t," 0px"):"".concat(n," ").concat(t):t};i.backgroundColor=M.addColor(i.backgroundColor);var o=[],l=[],s=i.backgroundRepeat.split(",").map(function(t){return t.trim()}),d=[],c=[],h=i.backgroundSize.split(",").map(function(t){return t.trim()}),p=i.backgroundPositionX.split(",").map(function(t){return t.trim()}),g=i.backgroundPositionY.split(",").map(function(t){return t.trim()}),m=[];if(Ve.isArray(i.backgroundImage)&&!r.hasBit("excludeResource",Fe.NODE_RESOURCE.IMAGE_SOURCE)){o.push.apply(o,u(i.backgroundImage));for(var v=0;v<o.length;v++)if(o[v]&&"none"!==o[v]){d.push(M.ASSETS.images.get(We.cssResolveUrl(o[v]))),o[v]=M.addImageUrl(o[v]);var y=p[v]||p[v-1],b=g[v]||g[v-1],E=a(y,b,"left"),w=a(b,y,"top");m[v]="".concat("initial"===E?"0px":E," ").concat("initial"===w?"0px":w)}else o[v]="",s[v]="",m[v]=""}else if(i.backgroundGradient){var T=M.createBackgroundGradient(r,i.backgroundGradient,"boolean"!=typeof n||n);T.length&&c.push(T[0])}var x=r.companion;if(x&&!x.visible&&x.htmlElement&&!We.cssFromParent(x.element,"backgroundColor")){var S=x.data(M.KEY_NAME,"boxStyle"),A=M.addColor(S.backgroundColor);""!==A&&(i.backgroundColor=A)}var R=M.isBorderVisible(i.borderTop)||M.isBorderVisible(i.borderRight)||M.isBorderVisible(i.borderBottom)||M.isBorderVisible(i.borderLeft)||i.borderRadius,I=o.filter(function(t){return t}).length;if(R||I||c.length){var _=[i.borderTop,i.borderRight,i.borderBottom,i.borderLeft],k=[],C=[];_.forEach(function(t,e){C[e]=M.isBorderVisible(t),C[e]&&(t.color=M.addColor(t.color),k.push(t))});for(var P,N=[],O=[],L="",B=function(t){if(""!==o[t]){var e=We.getBackgroundPosition(m[t],r.bounds,r.dpi,r.fontSize),n=d[t],i="center"===e.horizontal&&"center"===e.vertical?"center":"".concat("center"===e.horizontal?"center_horizontal":e.horizontal,"|").concat("center"===e.vertical?"center_vertical":e.vertical),a="",l="",c="",u=!n||n.width<r.bounds.width||n.height<r.bounds.height;switch(s[t]){case"repeat-x":u&&(l="repeat");break;case"repeat-y":u&&(c="repeat");break;case"no-repeat":a="disabled";break;case"repeat":u&&(a="repeat")}if(""!==i&&n&&n.width>0&&n.height>0&&0===r.renderChildren.length){if("repeat"===c){var p=0;if(n.width<(p=r.hasWidth?r.width+r.paddingLeft+r.paddingRight:r.bounds.width-(r.borderLeftWidth+r.borderRightWidth))){var g=Ve.convertInt(r.android("layout_width"));-1!==i.indexOf("left")?(e.right=p-n.width,r.hasWidth&&p>g&&r.android("layout_width",Ve.formatPX(r.bounds.width))):-1!==i.indexOf("right")?(e.left=p-n.width,r.hasWidth&&p>g&&r.android("layout_width",Ve.formatPX(r.bounds.width))):"center"!==i&&-1===i.indexOf("center_horizontal")||(e.right=Math.floor((p-n.width)/2),r.hasWidth&&p>g&&r.android("layout_width",Ve.formatPX(r.bounds.width)))}}if("repeat"===l){var v=0;if(n.height<(v=r.hasHeight?r.height+r.paddingTop+r.paddingBottom:r.bounds.height-(r.borderTopWidth+r.borderBottomWidth))){var y=Ve.convertInt(r.android("layout_height"));-1!==i.indexOf("top")?(e.bottom=v-n.height,!r.hasHeight&&v>y&&r.android("layout_height",Ve.formatPX(r.bounds.height))):-1!==i.indexOf("bottom")?(e.top=v-n.height,!r.hasHeight&&v>y&&r.android("layout_height",Ve.formatPX(r.bounds.height))):"center"!==i&&-1===i.indexOf("center_vertical")||(e.bottom=Math.floor((v-n.height)/2),!r.hasHeight&&v>y&&r.android("layout_height",Ve.formatPX(r.bounds.height)))}}}if(I)if(r.of(f.IMAGE,2048)&&1===m.length){r.android("src","@drawable/".concat(o[0])),e.left>0&&r.modifyBox(16,e.left),e.top>0&&r.modifyBox(2,e.top);var b="";switch(i){case"left|top":case"left|center_vertical":case"left|bottom":b="fitStart";break;case"right|top":case"right|center_vertical":case"right|bottom":b="fitEnd";break;case"center":case"center_horizontal|top":case"center_horizontal|bottom":b="center"}if(r.android("scaleType",b),!R)return{v:{v:void 0}};o.length=0}else{var E={top:0!==e.top?Ve.formatPX(e.top):"",right:0!==e.right?Ve.formatPX(e.right):"",bottom:0!==e.bottom?Ve.formatPX(e.bottom):"",left:0!==e.left?Ve.formatPX(e.left):"",gravity:i,tileMode:a,tileModeX:l,tileModeY:c,width:"",height:"",src:o[t]};if("auto"!==h[t]&&"auto auto"!==h[t]&&"initial"!==h[t])switch(h[t]){case"cover":case"contain":case"100% 100%":a="",l="",c="",i="";break;default:var w=h[t].split(" ");"100%"===w[0]?l="":"100%"===w[1]&&(c=""),w.forEach(function(e,n){"auto"!==e&&"100%"!==e&&(E[0===n?"width":"height"]=r.convertPX(h[t],0===n,!1))})}""!==E.width||""!==E.height||""===i&&""===a&&""===l&&""===c?N.push(E):O.push(E)}}},D=0;D<o.length;D++){var X=B(D);if("object"===t(X))return X.v}O.sort(function(t,e){return"repeat"!==t.tileModeX&&"repeat"!==t.tileModeY&&"repeat"!==t.tileMode?1:"repeat"!==e.tileModeX&&"repeat"!==e.tileModeY&&"repeat"!==e.tileMode?-1:"repeat"===t.tileMode?-1:"repeat"===e.tileMode?1:"repeat"===e.tileModeX||"repeat"===e.tileModeY?1:-1});var z,G=je(i,"backgroundColor"),H=je(i,"radius"),W=c.length&&c.some(function(t){return t.colorStop.length>0});if(W){var F=r.bounds.width,V=r.bounds.height,U=Ue.createTemplate(Ue.parseTemplate(ze),{namespace:K("aapt"),width:Ve.formatPX(F),height:Ve.formatPX(V),viewportWidth:""+F,viewportHeight:""+V,alpha:"",1:[{2:[{clipPaths:!1,d:Ge.getRect(F,V),fill:[{gradients:c}]}]}]}),Y=M.getStoredName("drawables",U);""===Y&&(Y="".concat(r.tagName.toLowerCase(),"_").concat(r.controlId,"_gradient"),M.STORED.drawables.set(Y,U)),l.push({vector:Y})}if(i.border&&!("double"===i.border.style&&parseInt(i.border.width)>2||("groove"===i.border.style||"ridge"===i.border.style)&&parseInt(i.border.width)>1))!I&&c.length<=1&&!W?(H&&void 0===H[0].radius&&(H[0].radius="1px"),z=Ue.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">\n!1\n\t<stroke android:width="{&width}" {~borderStyle} />\n!1\n!2\n\t<solid android:color="@color/{&color}" />\n!2\n!3\n\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" android:bottomRightRadius="{~bottomRightRadius}" />\n!3\n!4\n\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:angle="{~angle}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" />\n!4\n</shape>'),P={1:je(i,"stroke"),2:G,3:H,4:!!c.length&&c}):(z=Ue.parseTemplate(Xe),P={1:G,2:!(W||!c.length)&&c,3:l,4:!1,5:!!N.length&&N,6:!!O.length&&O,7:!(!M.isBorderVisible(i.border)&&!H)&&[{stroke:je(i,"stroke"),corners:H}]});else{var j=function(t){return t+(J?0:1===t?1:2)};z=Ue.parseTemplate(Xe),P={1:G,2:!(W||!c.length)&&c,3:l,4:!1,5:!!N.length&&N,6:!!O.length&&O,7:[]};var Z=new Set(k.map(function(t){return t.width})),q=new Set(k.map(function(t){return Ye(t)})),$=k[0],J=C[1]&&C[2];if(1===Z.size&&1===q.size&&"groove"!==$.style&&"ridge"!==$.style){var Q=parseInt($.width);if(Q>2&&"double"===$.style)Ke.apply(null,[$].concat(C,[P,H]));else{var tt="-".concat(Ve.formatPX(j(Q))),et=!C[0]&&!C[3];P[7].push({top:C[0]?"":tt,right:C[1]?C[3]||et||C[0]&&C[1]&&C[2]&&!C[3]?"":$.width:tt,bottom:C[2]?C[0]||et||!C[0]&&C[1]&&C[2]&&C[3]?"":$.width:tt,left:C[3]?"":tt,stroke:je({border:$},"stroke"),corners:H})}}else for(var nt=0;nt<_.length;nt++)if(C[nt]){var rt=_[nt],it=parseInt(rt.width);if(it>2&&"double"===rt.style)Ke(rt,0===nt,1===nt,2===nt,3===nt,P,H);else{var at=it>1&&("groove"===rt.style||"ridge"===rt.style),ot=j(at?Math.ceil(it/2):it),lt="-".concat(Ve.formatPX(ot)),st="-".concat(Ve.formatPX(ot+(J?1:0)));P[7].push({top:0===nt?"":st,right:1===nt?J||"1px"!==rt.width?"":rt.width:lt,bottom:2===nt?J||"1px"!==rt.width?"":rt.width:lt,left:3===nt?"":lt,stroke:je({border:rt},"stroke",nt,at),corners:H}),at&&(lt="-".concat(Ve.formatPX(j(it))),st="-".concat(Ve.formatPX(it+(J?1:0))),P[7].unshift({top:0===nt?"":st,right:1===nt?J||"1px"!==rt.width?"":rt.width:lt,bottom:2===nt?J||"1px"!==rt.width?"":rt.width:lt,left:3===nt?"":lt,stroke:je({border:rt},"stroke",nt,!0,!0),corners:!1}))}}}if(z){var dt=Ue.createTemplate(z,P);""===(L=M.getStoredName("drawables",dt))&&(L="".concat(r.tagName.toLowerCase(),"_").concat(r.controlId),M.STORED.drawables.set(L,dt))}if(r.android("background","@drawable/".concat(L),0===r.renderExtension.size),I&&(r.data("RESOURCE","backgroundImage",!0),e.options.autoSizeBackgroundImage&&!r.documentRoot&&!r.imageElement&&!r.svgElement&&r.renderParent&&!r.renderParent.tableElement&&!r.hasBit("excludeProcedure",Fe.NODE_PROCEDURE.AUTOFIT))){var ct={width:0,height:0};if(d.forEach(function(t){t&&(ct.width=Math.max(ct.width,t.width),ct.height=Math.max(ct.height,t.height))}),0===ct.width)for(var ht=r;ht&&!ht.documentBody&&(ht.hasWidth&&(ct.width=ht.bounds.width),ht.hasHeight&&(ct.height=ht.bounds.height),ht.pageFlow&&!(ct.width>0&&ct.height>0));)ht=ht.documentParent;if(!r.has("width",2)){var ut=r.bounds.width+(r.is(f.LINE)?0:r.borderLeftWidth+r.borderRightWidth);(0===ct.width||ut>0&&ut<ct.width)&&r.css("width",Ve.formatPX(ut),!0)}if(!r.has("height",2)){var ft=r.bounds.height+(r.is(f.LINE)?0:r.borderTopWidth+r.borderBottomWidth);(0===ct.height||ft>0&&ft<ct.height)&&(r.css("height",Ve.formatPX(ft),!0),r.marginTop<0&&r.modifyBox(2,null),r.marginBottom<0&&r.modifyBox(8,null))}}}else!r.data(M.KEY_NAME,"fontStyle")&&Ve.hasValue(i.backgroundColor)&&r.android("background","@color/".concat(i.backgroundColor),0===r.renderExtension.size)}();if("object"===t(a))return a.v}})}}]),i}(),qe=androme.lib.util;function $e(t,e,n){return t.has(e)&&t.get(e)!==n?M.generateId("dimen",e,1):e}function Je(t){return qe.convertUnderscore(t).replace("layout_","")}function Qe(t){return qe.lastIndexOf(t,".")}var tn=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return a(n,androme.lib.base.Extension),r(n,[{key:"afterProcedure",value:function(){for(var t={},e=function(){if(n){if(r>=i.length)return"break";a=i[r++]}else{if((r=i.next()).done)return"break";a=r.value}var e=a,o=e.tagName.toLowerCase();void 0===t[o]&&(t[o]={}),["android","app"].forEach(function(n){var r=e.namespace(n);for(var i in r){var a=r[i].trim();if(/^-?[\d.]+(px|dp|sp)$/.test(a)){var l="".concat(n,",").concat(i,",").concat(a);void 0===t[o][l]&&(t[o][l]=[]),t[o][l].push(e)}}})},n=Array.isArray(i=this.application.session.cache.visible),r=0,i=n?i:i[Symbol.iterator]();;){var a;if("break"===e())break}var o=M.STORED.dimens;for(var l in t){var s=t[l],d=function(t){var e=h(t.split(","),3),n=e[0],r=e[1],i=e[2],a=$e(o,"".concat(Qe(l),"_").concat(Je(r)),i);s[t].forEach(function(t){return t[n](r,"@dimen/".concat(a))}),o.set(a,i)};for(var c in s)d(c)}}},{key:"afterFinalize",value:function(){for(var t=M.STORED.dimens,e=Array.isArray(r=this.application.viewData),n=0,r=e?r:r[Symbol.iterator]();;){var i;if(e){if(n>=r.length)break;i=r[n++]}else{if((n=r.next()).done)break;i=n.value}for(var a=i,o=a.content,l=/[\s\n]+<[^<]*?(\w+):(\w+)="([\d.]+(?:px|dp|sp))"/g,s=void 0;null!==(s=l.exec(o));){var d=/^[\s\n]+<([\w\-.]+)[\s\n]/.exec(s[0]);if(d){var c=$e(t,"".concat(Qe(d[1]).toLowerCase(),"_").concat(Je(s[2])),s[3]);t.set(c,s[3]),o=o.replace(s[0],s[0].replace(s[3],"@dimen/".concat(c)))}}a.content=o}}}]),n}(),en=androme.lib.dom,nn=androme.lib.enumeration,rn=androme.lib.util,an={"sans-serif":14,"sans-serif-thin":16,"sans-serif-light":16,"sans-serif-condensed":16,"sans-serif-condensed-light":16,"sans-serif-medium":21,"sans-serif-black":21,"sans-serif-smallcaps":21,"serif-monospace":21,serif:21,casual:21,cursive:21,monospace:21,"sans-serif-condensed-medium":26},on={arial:"sans-serif",helvetica:"sans-serif",tahoma:"sans-serif",verdana:"sans-serif",times:"serif","times new roman":"serif",palatino:"serif",georgia:"serif",baskerville:"serif",goudy:"serif",fantasy:"serif","itc stone serif":"serif","sans-serif-monospace":"monospace",monaco:"monospace",courier:"serif-monospace","courier new":"serif-monospace"},ln={"ms shell dlg \\32":"sans-serif","system-ui":"sans-serif","-apple-system":"sans-serif"};en.isUserAgent(8)&&(ln.consolas="monospace");var sn={100:"thin",200:"extra_light",300:"light",400:"normal",500:"medium",600:"semi_bold",700:"bold",800:"extra_bold",900:"black"},dn={fontFamily:'android:fontFamily="{0}"',fontStyle:'android:textStyle="{0}"',fontWeight:'android:fontWeight="{0}"',fontSize:'android:textSize="{0}"',color:'android:textColor="@color/{0}"',backgroundColor:'android:background="@color/{0}"'};function cn(t,e,n){e.split(";").forEach(function(e){for(var r=0;r<t.length;r++)if(t[r]){var i=-1,a="";for(var o in t[r])if(o===e){i=r,a=o,r=t.length;break}if(-1!==i){t[i][a]=t[i][a].filter(function(t){return!n.includes(t)}),0===t[i][a].length&&delete t[i][a];break}}})}var hn=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).options={fontResourceValue:!0},t.eventOnly=!0,t}return a(n,androme.lib.base.Extension),r(n,[{key:"afterParseDocument",value:function(){for(var t=this,e=this.application.userSettings,n={},r={},i=Array.isArray(o=this.application.session.cache),a=0,o=i?o:o[Symbol.iterator]();;){var l;if(i){if(a>=o.length)break;l=o[a++]}else{if((a=o.next()).done)break;l=a.value}var s=l;s.visible&&s.data(M.KEY_NAME,"fontStyle")&&!s.hasBit("excludeResource",nn.NODE_RESOURCE.FONT_STYLE)&&(void 0===n[s.tagName]&&(n[s.tagName]=[]),n[s.tagName].push(s))}for(var d in n){for(var c=[],h=Array.isArray(p=n[d]),f=0,p=h?p:p[Symbol.iterator]();;){var g;if(h){if(f>=p.length)break;g=p[f++]}else{if((f=p.next()).done)break;g=f.value}var m=g,v=m.id,y=m.companion;y&&!y.visible&&"LABEL"===y.tagName&&(m=y);var b=Object.assign({},m.data(M.KEY_NAME,"fontStyle")),E=!1;if(b.backgroundColor=M.addColor(b.backgroundColor),b.fontFamily){var w=b.fontFamily.split(",")[0].replace(/"/g,"").toLowerCase().trim(),T="",x="";if(b.color=M.addColor(b.color),this.options.fontResourceValue&&ln[w]&&(w=ln[w]),an[w]&&m.localSettings.targetAPI>=an[w]||this.options.fontResourceValue&&on[w]&&m.localSettings.targetAPI>=an[on[w]]?(E=!0,b.fontFamily=w,"normal"===b.fontStyle&&delete b.fontStyle,"400"===b.fontWeight&&delete b.fontWeight):(w=rn.convertWord(w),b.fontFamily="@font/".concat(w+("normal"!==b.fontStyle?"_".concat(b.fontStyle):"")+("400"!==b.fontWeight?"_".concat(sn[b.fontWeight]||b.fontWeight):"")),T=b.fontStyle,x=b.fontWeight,delete b.fontStyle,delete b.fontWeight),!E){var S=M.STORED.fonts.get(w)||{};S["".concat(T,"-").concat(sn[x]||x)]=!0,M.STORED.fonts.set(w,S)}}for(var A=Object.keys(dn),R=0;R<A.length;R++){void 0===c[R]&&(c[R]={});var I=b[A[R]];if(rn.hasValue(I)&&m.supported("android",A[R])){var _=rn.formatString(dn[A[R]],I);void 0===c[R][_]&&(c[R][_]=[]),c[R][_].push(v)}}}r[d]=c}var k={},C={};for(var P in r){k[P]={},C[P]={};var N=n[P].length,O=r[P].filter(function(t){return Object.keys(t).length}).sort(function(t,e){var n=0,r=0,i=0,a=0;for(var o in t)n=Math.max(t[o].length,n),i+=t[o].length;for(var l in e)e[l]&&(r=Math.max(e[l].length,r),a+=e[l].length);return n!==r?n>r?-1:1:i!==a?i>a?-1:1:0});do{if(1===O.length){for(var L in O[0]){var B=O[0][L];1===B.length?C[P][L]=B:B.length>1&&(k[P][L]=B)}O.length=0}else{for(var D={},X={},z=function(t){if(!O[t])return"continue";var e={},n={},r=new Set;for(var i in O[t]){var a=O[t][i],o=!1;if(a&&0!==a.length&&(a.length===N?(D[i]=a.slice(),O[t]={},o=!0):1===a.length&&(X[i]=a.slice(),O[t][i]=[],o=!0),!o)){for(var l={},s=!1,d=0;d<O.length;d++)if(t!==d&&O[d])for(var c in O[d]){var h=O[d][c];if(h.length)for(var f=Array.isArray(g=a),p=0,g=f?g:g[Symbol.iterator]();;){var m;if(f){if(p>=g.length)break;m=g[p++]}else{if((p=g.next()).done)break;m=p.value}var v=m;h.includes(v)&&(void 0===l[c]&&(l[c]=[]),l[c].push(v))}}for(var y in l)l[y].length>1&&(e[[i,y].sort().join(";")]=l[y],s=!0);s||(e[i]=a)}}for(var b in e)for(var E in e)if(b!==E&&e[b].join("")===e[E].join("")){var w=e[b].join(",");n[w]=n[w]?new Set(u(n[w]).concat(u(E.split(";")))):new Set(u(b.split(";")).concat(u(E.split(";")))),r.add(b).add(E)}for(var T in r.forEach(function(t){return delete e[t]}),e)cn(O,T,e[T]),k[P][T]=e[T];for(var x in n){var S=Array.from(n[x]).sort().join(";"),A=x.split(",").map(function(t){return parseInt(t)});cn(O,S,A),k[P][S]=A}},G=0;G<O.length;G++)z(G);var H=Object.keys(D);for(var W in H.length&&(H.length>1||D[H[0]].length>1?k[P][H.join(";")]=D[H[0]]:Object.assign(X,D)),X)C[P][W]=X[W];for(var F=0;F<O.length;F++)O[F]&&0===Object.keys(O[F]).length&&delete O[F];O=O.filter(function(t){if(t)for(var e in t)if(t[e]&&t[e].length)return!0;return!1})}}while(O.length)}var U={},Y={},j=new Set,K=function(t){var e=k[t],n=[];for(var r in e)n.push({name:"",attrs:r,ids:e[r]});n.sort(function(t,e){var n=[t.ids.length,e.ids.length],r=n[0],i=n[1];if(r===i){var a=[t.attrs.split(";").length,e.attrs.split(";").length];r=a[0],i=a[1]}return r<=i?1:-1}),n.forEach(function(e,n){return e.name=rn.capitalize(t)+(n>0?"_".concat(n):"")}),U[t]=n};for(var Z in k)K(Z);for(var q in U){for(var $=Array.isArray(Q=U[q]),J=0,Q=$?Q:Q[Symbol.iterator]();;){var tt;if($){if(J>=Q.length)break;tt=Q[J++]}else{if((J=Q.next()).done)break;tt=J.value}for(var et=tt,nt=Array.isArray(it=et.ids),rt=0,it=nt?it:it[Symbol.iterator]();;){var at;if(nt){if(rt>=it.length)break;at=it[rt++]}else{if((rt=it.next()).done)break;at=rt.value}var ot=at;void 0===Y[ot]&&(Y[ot]={styles:[],attrs:[]}),Y[ot].styles.push(et.name)}}var lt=C[q];if(lt)for(var st in lt)for(var dt=Array.isArray(ht=lt[st]),ct=0,ht=dt?ht:ht[Symbol.iterator]();;){var ut;if(dt){if(ct>=ht.length)break;ut=ht[ct++]}else{if((ct=ht.next()).done)break;ut=ct.value}var ft=ut;void 0===Y[ft]&&(Y[ft]={styles:[],attrs:[]}),Y[ft].attrs.push(st)}}var pt=function(n){var r=t.application.session.cache.find("id",parseInt(n));if(r){var i=Y[n].styles;i.length&&(j.add(i.join(".")),r.attr("_","style","@style/".concat(i.pop()))),Y[n].attrs.sort().forEach(function(t){return r.formatted(V(t,e.resolutionDPI,e.convertPixels,!0),!1)})}};for(var gt in Y)pt(gt);for(var mt=function(){if(vt){if(yt>=bt.length)return"break";Et=bt[yt++]}else{if((yt=bt.next()).done)return"break";Et=yt.value}var t="";Et.split(".").forEach(function(e){var n=e.match(/^(\w*?)(?:_(\d+))?$/);if(n){var r=Object.assign({name:e,parent:t},U[n[1].toUpperCase()][void 0===n[2]?0:parseInt(n[2])]);M.STORED.styles.set(e,r),t=e}})},vt=Array.isArray(bt=j),yt=0,bt=vt?bt:bt[Symbol.iterator]();;){var Et;if("break"===mt())break}}}]),n}(),un=androme.lib.util,fn=androme.lib.xml,pn=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return a(n,androme.lib.base.Extension),r(n,[{key:"afterDepthLevel",value:function(){for(var t=this,e=this.application.processing,n=function(){if(r){if(i>=a.length)return"break";o=a[i++]}else{if((i=a.next()).done)return"break";o=i.value}var n=o,l=[],s=[];if(n.each(function(t,e){var n=un.hasValue(t.dataset.androidInclude),r="true"===t.dataset.androidIncludeEnd;if(n||r){var i="true"===t.dataset.androidIncludeMerge,a={item:t,name:(t.dataset.androidInclude||"").trim(),index:e,merge:i};n&&l.push(a),r&&s.push(a)}},!0),l.length&&s.length){l.length=Math.min(l.length,s.length);for(var d=l.length;d<s.length;d++)s.shift();for(var c=l.length-1;c>=0;c--)for(var u=l[c],f=0;f<s.length;f++){var p=s[f];if(p.index>=u.index){for(var g=new Map,m=!0,v=u.index;v<=p.index;v++){var y=n.renderChildren[v],b=e.depthMap.get(n.id);if(b&&b.has(y.renderPositionId)){var E=g.get(n.id)||[];E.push(y),g.set(n.id,E)}else m=!1}if(m){var w=new Map,T=[],x=0,S=function(){if(R){if(I>=A.length)return"break";_=A[I++]}else{if((I=A.next()).done)return"break";_=I.value}var e=h(_,2),n=e[1],r=g.get(e[0]);if(r){var i=[],a=function(){if(l){if(s>=o.length)return"break";d=o[s++]}else{if((s=o.next()).done)return"break";d=s.value}var e=h(d,2),a=e[0],c=e[1],f=r.find(function(t){return t.renderPositionId===a});if(f){if(0===x){var p=t.application.controllerHandler.renderNodeStatic("include",f.renderDepth,{layout:"@layout/".concat(u.name)});n.set(a,p),x++}else i.push(a);w.set(a,c),T.push(f)}},o=n.entries(),l=Array.isArray(o),s=0;for(o=l?o:o[Symbol.iterator]();;){var d;if("break"===a())break}i.forEach(function(t){return n.delete(t)})}},A=e.depthMap.entries(),R=Array.isArray(A),I=0;for(A=R?A:A[Symbol.iterator]();;){var _;if("break"===S())break}if(w.size>0){for(var k=u.merge||w.size>1,C=k?1:0,P=0;P<T.length;P++){var N=T[P];if(N.renderDepth!==C){var O=N.renderPositionId,L=w.get(O);L&&(L=fn.replaceIndent(L,C),w.set(O,L),N.renderDepth=C)}}var B=Array.from(w.values()).join("");if(k)B=fn.getEnclosingTag("merge",0,0,B);else if(!u.item.documentRoot){var D=fn.formatPlaceholder(u.item.id,"@");B=B.replace(D,"{#0}".concat(D))}t.application.addIncludeFile(u.name,B)}}s.splice(f,1);break}}}},r=Array.isArray(a=e.cache),i=0,a=r?a:a[Symbol.iterator]();;){var o;if("break"===n())break}}}]),n}(),gn=androme.lib.dom,mn=androme.lib.enumeration,vn=androme.lib.util,yn=androme.lib.xml,bn=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).options={numberResourceValue:!1},t.eventOnly=!0,t}return a(n,androme.lib.base.Extension),r(n,[{key:"afterResources",value:function(){for(var t=this,e=Array.isArray(r=this.application.processing.cache),n=0,r=e?r:r[Symbol.iterator]();;){var i;if(e){if(n>=r.length)break;i=r[n++]}else{if((n=r.next()).done)break;i=n.value}var a=i;if(!a.hasBit("excludeResource",mn.NODE_RESOURCE.VALUE_STRING))if(a.baseElement instanceof HTMLSelectElement){var o=h(M.getOptionArray(a.baseElement),2),l=o[1],s=[];if(s.push.apply(s,u(!this.options.numberResourceValue&&l&&l.length?l:vn.flatMap(o[0]||l||[],function(e){return""!==(e=M.addString(yn.replaceCharacter(e),"",t.options.numberResourceValue))?"@string/".concat(e):""}))),s.length){var d=s.join("-"),c="",f=M.STORED.arrays.entries(),p=Array.isArray(f),g=0;for(f=p?f:f[Symbol.iterator]();;){var m;if(p){if(g>=f.length)break;m=f[g++]}else{if((g=f.next()).done)break;m=g.value}var v=h(m,2),y=v[0];if(d===v[1].join("-")){c=y;break}}""===c&&M.STORED.arrays.set(c="".concat(a.controlId,"_array"),s),a.android("entries","@array/".concat(c),0===a.renderExtension.size)}}else{var b=a.data(M.KEY_NAME,"valueString");if(b){var E=a.renderParent;if(E&&E.layoutRelative&&a.alignParent("left")&&!gn.cssParent(a.element,"whiteSpace","pre","pre-wrap")){for(var w=a.textContent,T=0,x=0;x<w.length;x++)switch(w.charCodeAt(x)){case 160:T++;case 32:continue}0===T&&(b.value=b.value.replace(/^(\s|&#160;)+/,""))}b.value=yn.replaceCharacter(b.value),a.htmlElement&&"small-caps"===a.css("fontVariant")&&(b.value=b.value.toUpperCase());var S=a.actualParent;if(S){var A=0;(S.blockDimension||a.blockDimension)&&(A=a.toInt("textIndent")||S.toInt("textIndent")),0===A||!a.blockDimension&&S.firstChild()!==a||(A>0?b.value="&#160;".repeat(Math.floor(A/7))+b.value:a.toInt("textIndent")+a.bounds.width<0&&(b.value=""))}var R=M.addString(b.value,b.name,this.options.numberResourceValue);""!==R&&a.android("text",isNaN(parseInt(R))||""+parseInt(R)!==R?"@string/".concat(R):R,0===a.renderExtension.size)}}}}}]),n}(),En=androme.lib.util,wn=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).eventOnly=!0,t}return a(n,androme.lib.base.Extension),r(n,[{key:"afterProcedure",value:function(){for(var t={},e=Array.isArray(r=this.application.session.cache.visible),n=0,r=e?r:r[Symbol.iterator]();;){var i;if(e){if(n>=r.length)break;i=r[n++]}else{if((n=r.next()).done)break;i=n.value}var a=i,o=a.renderChildren;a.controlId&&o.length>1&&function(){for(var e=new Map,n="",r=!0,i=function(t){var i=!1;if(o[t].combine("_","android").some(function(a){if(a.startsWith("style=")){if(0===t)n=a;else if(""===n||a!==n)return r=!1,!0;i=!0}else e.set(a,(e.get(a)||0)+1);return!1}),!r||""!==n&&!i)return r=!1,"break"},l=0;l<o.length;l++){if("break"===i(l))break}if(r){var s=e.entries(),d=Array.isArray(s),c=0;for(s=d?s:s[Symbol.iterator]();;){var u;if(d){if(c>=s.length)break;u=s[c++]}else{if((c=s.next()).done)break;u=c.value}var f=h(u,2);f[1]!==o.length&&e.delete(f[0])}if(e.size>1){""!==n&&(n=En.trimString(n.substring(n.indexOf("/")+1),'"'));var p=[],g=function(){if(v){if(y>=m.length)return"break";b=m[y++]}else{if((y=m.next()).done)return"break";b=y.value}var t=b.match(/(\w+):(\w+)="(.*?)"/);t&&(o.forEach(function(e){return e.delete(t[1],t[2])}),p.push(t[0]))},m=e.keys(),v=Array.isArray(m),y=0;for(m=v?m:m[Symbol.iterator]();;){var b;if("break"===g())break}p.sort();var E="";for(var w in t)if(t[w].join(";")===p.join(";")){E=w;break}""!==E&&""!==n&&E.startsWith("".concat(n,"."))||(E=En.convertCamelCase((""!==n?"".concat(n,"."):"")+En.capitalize(a.controlId),"_"),t[E]=p),o.forEach(function(t){return t.attr("_","style","@style/".concat(E))})}}}()}for(var l in t)M.STORED.styles.set(l,{name:l,attrs:t[l].join(";"),ids:[]})}}]),n}(),Tn=androme.lib.base.Svg,xn=androme.lib.svg,Sn=androme.lib.util,An=androme.lib.xml;function Rn(t,e){e&&(0!==e.left&&(t.pivotX=Sn.isPercent(e.originalX)?e.originalX:""+e.left),0!==e.top&&(t.pivotY=Sn.isPercent(e.originalY)?e.originalY:""+e.top))}var In=function(t){function n(){var t;return e(this,n),(t=d(this,o(n).apply(this,arguments))).options={vectorColorResourceValue:!0},t.eventOnly=!0,t}return a(n,androme.lib.base.Extension),r(n,[{key:"beforeInit",value:function(){this.application.controllerHandler.localSettings.unsupported.tagName.delete("svg")}},{key:"afterResources",value:function(){for(var t=this,e=function(){if(n){if(r>=i.length)return"break";a=i[r++]}else{if((r=i.next()).done)return"break";a=r.value}var e=a;e.svgElement&&e.element.children.length&&function(){var n=new Tn(e.element,e.dpi,e.fontSize);n.defs.image.forEach(function(t){var e=M.ASSETS.images.get(t.uri);e&&(0===t.width&&(t.width=e.width),0===t.height&&(t.height=e.height))});var r="",i="";if(n.length&&function(){for(var r=new Set,a=[],o=Array.isArray(s=n),l=0,s=o?s:s[Symbol.iterator]();;){var d;if(o){if(l>=s.length)break;d=s[l++]}else{if((l=s.next()).done)break;d=l.value}var c=d,h={name:c.name,2:[]};if(c.element!==e.element){var f=c.transform,p=(c.x||0)+(f?f.translateX:0),g=(c.y||0)+(f?f.translateY:0);0!==p&&(h.translateX=""+p),0!==g&&(h.translateY=""+g),f&&(1!==f.scaleX&&(h.scaleX=""+f.scaleX),1!==f.scaleY&&(h.scaleY=""+f.scaleY),0!==f.rotateAngle&&(h.rotation=""+f.rotateAngle,0===f.rotateX&&0===f.rotateY||(h.pivotX=""+f.rotateX,h.pivotY=""+f.rotateX)),Rn(h,f.origin))}for(var m=function(){if(v){if(y>=b.length)return"break";E=b[y++]}else{if((y=b.next()).done)return"break";E=y.value}var i=E;if(i.visibility){var a=[];if(""!==i.clipPath){var o=n.defs.clipPath.get(i.clipPath);o&&o.forEach(function(t){return a.push({name:t.name,d:t.d})})}if(["fill","stroke"].forEach(function(a){if(Sn.isString(i[a])){if("@"===i[a].charAt(0)){var o=n.defs.gradient.get(i[a]);if(o){var l=M.createBackgroundGradient(e,[o],t.options.vectorColorResourceValue);return i[a]=[{gradients:l}],void r.add("aapt")}i[a]=i.color}if(t.options.vectorColorResourceValue){var s=M.addColor(i[a]);""!==s&&(i[a]="@color/".concat(s))}}}),i.fillRule)switch(i.fillRule){case"evenodd":i.fillRule="evenOdd";break;default:i.fillRule="nonZero"}h[2].push(Object.assign({},i,{clipPaths:a}))}},v=Array.isArray(b=c),y=0,b=v?b:b[Symbol.iterator]();;){var E;if("break"===m())break}h[2].length&&a.push(h)}var w=An.createTemplate(An.parseTemplate(ze),{namespace:r.size>0?K.apply(void 0,u(Array.from(r))):"",width:Sn.formatPX(n.width),height:Sn.formatPX(n.height),viewportWidth:n.viewBoxWidth>0&&""+n.viewBoxWidth,viewportHeight:n.viewBoxHeight>0&&""+n.viewBoxHeight,alpha:n.opacity<1&&n.opacity,1:a});""===(i=M.getStoredName("drawables",w))&&(i="".concat(e.tagName.toLowerCase(),"_").concat(e.controlId+(n.defs.image.length?"_vector":"")),M.STORED.drawables.set(i,w))}(),n.defs.image.length){for(var a=[],o=[],l=Array.isArray(d=n.defs.image),s=0,d=l?d:d[Symbol.iterator]();;){var c;if(l){if(s>=d.length)break;c=d[s++]}else{if((s=d.next()).done)break;c=s.value}var h=c;if(h.uri){var f=h.transform,p=n.width/n.viewBoxWidth,g=n.height/n.viewBoxHeight;f&&(h.width&&(h.width*=p*f.scaleX),h.height&&(h.height*=g*f.scaleY));for(var m=(h.x||0)*p,v=(h.y||0)*g,y=h.element&&h.element.parentElement;y instanceof SVGSVGElement&&y!==e.element;){var b=xn.createTransform(y);m+=y.x.baseVal.value+b.translateX,v+=y.y.baseVal.value+b.translateY,y=y.parentElement}var E={width:h.width?Sn.formatPX(h.width):"",height:h.height?Sn.formatPX(h.height):"",left:0!==m?Sn.formatPX(m):"",top:0!==v?Sn.formatPX(v):"",src:M.addImage({mdpi:h.uri})};f&&0!==f.rotateAngle?(E.fromDegrees=""+f.rotateAngle,E.visible=h.visibility?"true":"false",Rn(E,f.origin),o.push(E)):a.push(E)}}var w=An.createTemplate(An.parseTemplate(Xe),{1:!1,2:!1,3:[{vector:i}],4:o,5:a,6:!1,7:!1});""===(r=M.getStoredName("drawables",w))&&(r="".concat(e.tagName.toLowerCase(),"_").concat(e.controlId),M.STORED.drawables.set(r,w))}else r=i;""!==r&&e.android("src","@drawable/".concat(r),0===e.renderExtension.size),e.hasWidth||e.android("layout_width","wrap_content"),e.hasHeight||e.android("layout_height","wrap_content")}()},n=Array.isArray(i=this.application.processing.cache),r=0,i=n?i:i[Symbol.iterator]();;){var a;if("break"===e())break}}},{key:"afterFinalize",value:function(){this.application.controllerHandler.localSettings.unsupported.tagName.add("svg")}}]),n}();function _n(t){return Nn&&!!t&&(t.closed||!(!kn||!kn.userSettings.autoCloseOnWrite||kn.initialized||kn.closed||(kn.finalize(),0)))}var kn,Cn,Pn,Nn=!1,On={lib:{base:{Controller:wt,File:_t,Resource:M,View:rt},extensions:{Accessibility:Nt,CssGrid:zt,External:Gt,Flexbox:Yt,Grid:$t,List:re,Origin:ie,Percent:oe,Relative:le,Sprite:ue,Table:me,VerticalAlign:be,WhiteSpace:Ee,constraint:{Guideline:Se},delegate:{Element:Ie,RadioGroup:Pe,ScrollBar:Me},resource:{Background:Ze,Dimens:tn,Fonts:hn,Includes:pn,Strings:bn,Styles:wn,Svg:In}},constant:S,enumeration:g,util:Z},system:{customize:function(t,e,n){if(R[t]){var r=R[t].customizations;void 0===r[e]&&(r[e]={}),Object.assign(r[e],n)}},addXmlNs:function(t,e){T[t]=e},writeLayoutAllXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Cn&&_n(kn)?Cn.layoutAllToXml(kn.sessionData,t):""},writeResourceAllXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Cn&&_n(kn)?Cn.resourceAllToXml(t):""},writeResourceStringXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Cn&&_n(kn)?Cn.resourceStringToXml(t):""},writeResourceArrayXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Cn&&_n(kn)?Cn.resourceStringArrayToXml(t):""},writeResourceFontXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Cn&&_n(kn)?Cn.resourceFontToXml(t):""},writeResourceColorXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Cn&&_n(kn)?Cn.resourceColorToXml(t):""},writeResourceStyleXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Cn&&_n(kn)?Cn.resourceStyleToXml(t):""},writeResourceDimenXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Cn&&_n(kn)?Cn.resourceDimenToXml(t):""},writeResourceDrawableXml:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Cn&&_n(kn)?Cn.resourceDrawableToXml(t):""}},create:function(){var t,e=androme.lib.constant.EXT_NAME,n=m;return kn=new androme.lib.base.Application(2,wt,M,rt),Cn=new _t(kn.resourceHandler),Pn=Object.assign({},_),Object.assign(kn.builtInExtensions,(i(t={},e.EXTERNAL,new Gt(e.EXTERNAL,2)),i(t,e.ORIGIN,new ie(e.ORIGIN,2)),i(t,e.SPRITE,new ue(e.SPRITE,2)),i(t,e.CSS_GRID,new zt(e.CSS_GRID,2)),i(t,e.FLEXBOX,new Yt(e.FLEXBOX,2)),i(t,e.TABLE,new me(e.TABLE,2,["TABLE"])),i(t,e.LIST,new re(e.LIST,2,["UL","OL","DL","DIV"])),i(t,e.GRID,new $t(e.GRID,2,["FORM","UL","OL","DL","DIV","TABLE","NAV","SECTION","ASIDE","MAIN","HEADER","FOOTER","P","ARTICLE","FIELDSET","SPAN"])),i(t,e.PERCENT,new oe(e.PERCENT,2)),i(t,e.RELATIVE,new le(e.RELATIVE,2)),i(t,e.VERTICAL_ALIGN,new be(e.VERTICAL_ALIGN,2)),i(t,e.WHITESPACE,new Ee(e.WHITESPACE,2)),i(t,e.ACCESSIBILITY,new Nt(e.ACCESSIBILITY,2)),i(t,n.CONSTRAINT_GUIDELINE,new Se(n.CONSTRAINT_GUIDELINE,2)),i(t,n.DELEGATE_ELEMENT,new Ie(n.DELEGATE_ELEMENT,2)),i(t,n.DELEGATE_RADIOGROUP,new Pe(n.DELEGATE_RADIOGROUP,2)),i(t,n.DELEGATE_SCROLLBAR,new Me(n.DELEGATE_SCROLLBAR,2)),i(t,n.RESOURCE_INCLUDES,new pn(n.RESOURCE_INCLUDES,2)),i(t,n.RESOURCE_BACKGROUND,new Ze(n.RESOURCE_BACKGROUND,2)),i(t,n.RESOURCE_SVG,new In(n.RESOURCE_SVG,2)),i(t,n.RESOURCE_STRINGS,new bn(n.RESOURCE_STRINGS,2)),i(t,n.RESOURCE_FONTS,new hn(n.RESOURCE_FONTS,2)),i(t,n.RESOURCE_DIMENS,new tn(n.RESOURCE_DIMENS,2)),i(t,n.RESOURCE_STYLES,new wn(n.RESOURCE_STYLES,2)),t)),Nn=!0,{application:kn,framework:2,userSettings:Pn}},cached:function(){return Nn?{application:kn,framework:2,userSettings:Pn}:On.create()}};return On}();
