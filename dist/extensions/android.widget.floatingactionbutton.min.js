this.android=this.android||{},this.android.widget=this.android.widget||{},this.android.widget.floatingactionbutton=function(){"use strict";var t={FAB:"android.widget.floatingactionbutton",MENU:"android.widget.menu",COORDINATOR:"android.widget.coordinator",TOOLBAR:"android.widget.toolbar",DRAWER:"android.widget.drawer",BOTTOM_NAVIGATION:"android.widget.bottomnavigation"},e=androme.lib.enumeration,o=android.lib.constant,a=androme.lib.util,r=android.lib.util,n=androme.lib.color,i=android.lib.base.Resource;const d=new class extends androme.lib.base.extensions.Button{processNode(){const r=this.node,d=this.parent,s=a.hasValue(r.dataset.target),c=r.element,l=Object.assign({},this.options[c.id]),u=n.parseRGBA(r.css("backgroundColor"),r.css("opacity"));a.overwriteDefault(l,"android","backgroundTint",u.length>0?`@color/${i.addColor(u[0],u[2])}`:"?attr/colorAccent"),r.hasBit("excludeProcedure",e.NODE_PROCEDURE.ACCESSIBILITY)&&a.overwriteDefault(l,"android","focusable","false");let g="";switch(c.tagName){case"IMG":g=i.addImageSrcSet(c,o.DRAWABLE_PREFIX.DIALOG);break;case"INPUT":g="image"===c.type?i.addImage({mdpi:c.src},o.DRAWABLE_PREFIX.DIALOG):i.addImageURL(r.css("backgroundImage"),o.DRAWABLE_PREFIX.DIALOG);break;case"BUTTON":g=i.addImageURL(r.css("backgroundImage"),o.DRAWABLE_PREFIX.DIALOG)}""!==g&&a.overwriteDefault(l,"app","srcCompat",`@drawable/${g}`);const p=this.application.viewController.renderNodeStatic(o.VIEW_SUPPORT.FLOATING_ACTION_BUTTON,s?-1:d.renderDepth+1,l,"wrap_content","wrap_content",r);if(r.nodeType=e.NODE_STANDARD.BUTTON,r.excludeResource|=e.NODE_RESOURCE.BOX_STYLE|e.NODE_RESOURCE.ASSET,!r.pageflow||s)if(r.auto=!1,this.setFrameGravity(r),s){let a=d.stringId;if(d.controlName===o.VIEW_SUPPORT.TOOLBAR){const e=d.data(t.TOOLBAR,"outerParent");e&&(a=e)}r.app("layout_anchor",a),r.app("layout_anchorGravity",r.android("layout_gravity")),r.delete("android","layout_gravity"),r.excludeProcedure|=e.NODE_PROCEDURE.ALIGNMENT,r.render(r)}else r.render(d);else r.render(d);return{output:p,complete:!0}}afterInsert(){const t=this.node;t.android("layout_width","wrap_content"),t.android("layout_height","wrap_content")}setFrameGravity(t){const e=this.application.settings,o=t.documentParent,n=t.horizontalBias(e),i=t.verticalBias(e),d=[];d.push(n<.5?r.parseRTL("left",e):n>.5?r.parseRTL("right",e):"center_horizontal"),i<.5?(d.push("top"),t.app("layout_dodgeInsetEdges","top")):d.push(i>.5?"bottom":"center_vertical"),t.android("layout_gravity",2===d.filter(t=>-1!==t.indexOf("center")).length?"center":d.join("|")),n>0&&n<1&&.5!==n&&(n<.5?t.css("marginLeft",a.formatPX(Math.floor(t.bounds.left-o.box.left))):t.css("marginRight",a.formatPX(Math.floor(o.box.right-t.bounds.right)))),i>0&&i<1&&.5!==i&&(i<.5?t.css("marginTop",a.formatPX(Math.floor(t.bounds.top-o.box.top))):t.css("marginBottom",a.formatPX(Math.floor(o.box.bottom-t.bounds.bottom))))}}(t.FAB,2,["BUTTON","INPUT","IMG"]);return androme&&androme.registerExtension(d),d}();
