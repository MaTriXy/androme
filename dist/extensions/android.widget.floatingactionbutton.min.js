this.android=this.android||{},this.android.widget=this.android.widget||{},this.android.widget.floatingactionbutton=function(){"use strict";var t={__FRAMEWORK:2,FAB:"android.widget.floatingactionbutton",MENU:"android.widget.menu",COORDINATOR:"android.widget.coordinator",TOOLBAR:"android.widget.toolbar",DRAWER:"android.widget.drawer",BOTTOM_NAVIGATION:"android.widget.bottomnavigation"},e=androme.lib.enumeration,o=androme.lib.util,a=androme.lib.color,r=android.lib.base.Resource,n=android.lib.constant,i=android.lib.util;const d=new class extends androme.lib.base.extensions.Button{processNode(){const d=this.node,s=this.parent,c=o.hasValue(d.dataset.target),l=d.element,u=i.createViewAttribute(this.options[l.id]),g=a.parseRGBA(d.css("backgroundColor"),d.css("opacity"));let p="";g&&(p=r.addColor(g)),o.overwriteDefault(u,"android","backgroundTint",""!==p?`@color/${p}`:"?attr/colorAccent"),d.hasBit("excludeProcedure",e.NODE_PROCEDURE.ACCESSIBILITY)&&o.overwriteDefault(u,"android","focusable","false");let O="";switch(l.tagName){case"IMG":O=r.addImageSrcSet(l,n.DRAWABLE_PREFIX.DIALOG);break;case"INPUT":O="image"===l.type?r.addImage({mdpi:l.src},n.DRAWABLE_PREFIX.DIALOG):r.addImageURL(d.css("backgroundImage"),n.DRAWABLE_PREFIX.DIALOG);break;case"BUTTON":O=r.addImageURL(d.css("backgroundImage"),n.DRAWABLE_PREFIX.DIALOG)}""!==O&&o.overwriteDefault(u,"app","srcCompat",`@drawable/${O}`);const m=this.application.viewController.renderNodeStatic(n.VIEW_SUPPORT.FLOATING_ACTION_BUTTON,c?-1:s.renderDepth+1,r.formatOptions(u,this.application.settings),"wrap_content","wrap_content",d);if(d.nodeType=e.NODE_STANDARD.BUTTON,d.excludeResource|=e.NODE_RESOURCE.BOX_STYLE|e.NODE_RESOURCE.ASSET,!d.pageflow||c){const a=d.horizontalBias(),r=d.verticalBias(),i=d.documentParent,l=[];if(l.push(a<.5?d.localizeString("left"):a>.5?d.localizeString("right"):"center_horizontal"),r<.5?(l.push("top"),d.app("layout_dodgeInsetEdges","top")):l.push(r>.5?"bottom":"center_vertical"),d.android("layout_gravity",2===l.filter(t=>-1!==t.indexOf("center")).length?"center":l.join("|")),a>0&&a<1&&.5!==a&&(a<.5?d.css("marginLeft",o.formatPX(Math.floor(d.bounds.left-i.box.left))):d.css("marginRight",o.formatPX(Math.floor(i.box.right-d.bounds.right)))),r>0&&r<1&&.5!==r&&(r<.5?d.css("marginTop",o.formatPX(Math.floor(d.bounds.top-i.box.top))):d.css("marginBottom",o.formatPX(Math.floor(i.box.bottom-d.bounds.bottom)))),c){let o=s.stringId;if(s.controlName===n.VIEW_SUPPORT.TOOLBAR){const e=s.data(t.TOOLBAR,"outerParent");e&&(o=e)}d.app("layout_anchor",o),d.app("layout_anchorGravity",d.android("layout_gravity")),d.delete("android","layout_gravity"),d.excludeProcedure|=e.NODE_PROCEDURE.ALIGNMENT,d.render(d)}else d.render(s);d.auto=!1}else d.render(s);return{output:m,complete:!0}}afterInsert(){const t=this.node;t.android("layout_width","wrap_content"),t.android("layout_height","wrap_content")}}(t.FAB,t.__FRAMEWORK,["BUTTON","INPUT","IMG"]);return androme&&androme.registerExtensionAsync(d),d}();
