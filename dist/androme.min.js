/* androme 1.9.9 https://github.com/anpham6/androme */(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?t(exports):'function'==typeof define&&define.amd?define(['exports'],t):t(e.androme={})})(this,function(e){'use strict';function t(e){for(var t=arguments.length,n=Array(2<t?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;return e.sort(function(e,t){var i=!0,a=!1,o=void 0;try{for(var l=n[Symbol.iterator](),d;!(i=(d=l.next()).done);i=!0){var s=d.value,u=N(e,t,s);if(u&&u[0]!==u[1])return 0===r?u[0]>u[1]?1:-1:u[0]<u[1]?1:-1}}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}return 0})}function n(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(var r=0;r<n.length;r++)e=e.replace('{'+r+'}',n[r]);return e}function a(e){e=e.charAt(0).toLowerCase()+e.substring(1);var t=e.match(/([a-z]{1}[A-Z]{1})/g);if(t){var n=!0,i=!1,a=void 0;try{for(var r=t[Symbol.iterator](),o,l;!(n=(o=r.next()).done);n=!0)l=o.value,e=e.replace(l,l[0]+'_'+l[1].toLowerCase())}catch(e){i=!0,a=e}finally{try{!n&&r.return&&r.return()}finally{if(i)throw a}}}return e}function r(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'-';e=e.replace(new RegExp('^'+t+'+'),'');var n=e.match(new RegExp('('+t+'{1}[a-z]{1})','g'));if(n){var i=!0,a=!1,r=void 0;try{for(var o=n[Symbol.iterator](),l,d;!(i=(l=o.next()).done);i=!0)d=l.value,e=e.replace(d,d[1].toUpperCase())}catch(e){a=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(a)throw r}}}return e}function o(e){return null==e?'':e.replace(/[^\w]/g,'_').trim()}function l(e){var t=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];return e.charAt(0)[t?'toUpperCase':'toLowerCase']()+e.substring(1)[t?'toLowerCase':'toString']()}function d(e){return e&&parseInt(e)||0}function s(e){return e&&parseFloat(e)||0}function u(e){if(S(e)){f(e)&&(e+='px');var t=e.match(/(pt|em)/);if(e=parseFloat(e),t)switch(t[0]){case'pt':e*=4/3;break;case'em':e*=16;}if(!isNaN(e))return e+'px'}return'0px'}function p(e){return e=parseFloat(e),(isNaN(e)?0:Ye(e))+'px'}function h(e){for(var t='',n;e>=26;){n=je(e/26),1<n&&n<=26?(t+='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(n-1),e-=n*26):n>26&&(t+=h(n*26),e-=n*26);var i=e%26;t+='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(i),e-=i+26}return t='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(e)+t,t}function c(e){for(var t='',n=e.toString().split(''),a=['','C','CC','CCC','CD','D','DC','DCC','DCCC','CM','','X','XX','XXX','XL','L','LX','LXX','LXXX','XC','','I','II','III','IV','V','VI','VII','VIII','IX'],r=3;r--;)t=(a[parseInt(n.pop())+10*r]||'')+t;return'M'.repeat(parseInt(n.join('')))+t}function g(e,t,n){var i=!0,a=!1,r=void 0;try{for(var o=Object.keys(t)[Symbol.iterator](),l;!(i=(l=o.next()).done);i=!0){var d=l.value,s=t[d];if(e===s)return n[d]}}catch(e){a=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(a)throw r}}return''}function m(e,t){return(e&t)===t}function f(e){return /^-?[0-9]+(\.[0-9]+)?$/.test(e.toString().trim())}function y(e){return /^-?[0-9\.]+(px|pt|em)$/.test((e||'').trim())}function b(e){return /^[0-9]+%$/.test(e)}function _(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:',';return null!=e&&e.split(n).map(function(e){return e.trim()}).includes(t)}function T(e,t,n){var a=!1,r=null;if(null!=e){var o=t.split('.');r=e;var l=0;do r=null==r[o[l]]?null:r[o[l]];while(null!=r&&++l<o.length&&'string'!=typeof r&&'number'!=typeof r&&'boolean'!=typeof r);a=null!=r&&l===o.length}return'object'===n?a?r:null:'number'===n?a&&!isNaN(parseInt(r))?parseInt(r):0:'boolean'===n?a&&r:a?r.toString():''}function x(e){if(!/^\w+:\/\//.test(e)){var t=location.pathname.split('/');if(t.pop(),'/'===e.charAt(0))e=location.origin+e;else if(e.startsWith('../')){var n=[],i=0,a;e.split('/').forEach(function(e){'..'===e?i++:n.push(e)}),t=t.slice(0,Ue(t.length-i,0)),(a=t).push.apply(a,n),e=location.origin+t.join('/')}else e=location.origin+t.join('/')+'/'+e}return e}function I(e,t){return e.replace(new RegExp('^'+t+'+','g'),'').replace(new RegExp(t+'+$','g'),'')}function E(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'\t';return t.repeat(e)}function A(e){if(S(e)){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=!0,r=!1,o=void 0;try{for(var l=n[Symbol.iterator](),d;!(a=(d=l.next()).done);a=!0){var s=d.value,u=e.indexOf(s);if(-1!==u)return u}}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}}return-1}function v(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'/';return e.substring(e.lastIndexOf(t)+1)}function R(e,t){for(var n=arguments.length,i=Array(2<n?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];var r=!0,o=!1,l=void 0;try{for(var d=i[Symbol.iterator](),s;!(r=(s=d.next()).done);r=!0){var u=s.value,p=N(e,t,u);if(!p||p[0]!==p[1])return!1}}catch(e){o=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(o)throw l}}return!0}function L(e,t){var n=[];if('object'===('undefined'==typeof t?'undefined':Ze(t)))for(var a in t){var r=t[a];S(e[r])&&n.push([r,e[r]])}else{var o=function(e){return e===t};for(var l in /^\*.+\*$/.test(t)?o=function(e){return-1!==e.indexOf(t.replace(/\*/g,''))}:/^\*/.test(t)?o=function(e){return e.endsWith(t.replace(/\*/,''))}:/\*$/.test(t)&&(o=function(e){return e.startsWith(t.replace(/\*/,''))}),e)o(l)&&n.push([l,e[l]])}return n}function N(e,t,n){var i=n.split('.'),a=e,r=t,o=!0,l=!1,s=void 0;try{for(var u=i[Symbol.iterator](),p,h;!(o=(p=u.next()).done);o=!0)if(h=p.value,null!=a[h]&&null!=r[h])a=a[h],r=r[h];else return(null!=a[h]||null!=r[h])&&(null==a[h]?[0,1]:[1,0])}catch(e){l=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(l)throw s}}return isNaN(parseInt(a))&&isNaN(parseInt(r))?[a,r]:[d(a),d(r)]}function S(e){return'undefined'!=typeof e&&null!==e&&''!==e.toString().trim()}function O(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;return t>=e-i&&t<=e+i}function w(e,t){return e===t||je(e)===je(t)||Ye(e)===Ye(t)||Ye(e)===je(t)||je(e)===Ye(t)}function k(e,t){return e.toString().toLowerCase()>=t.toString().toLowerCase()?1:-1}function B(e){for(var n=arguments.length,i=Array(1<n?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t.apply(void 0,[e,0].concat(i))}function C(e){for(var n=arguments.length,i=Array(1<n?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t.apply(void 0,[e,1].concat(i))}function D(e,t,n){null!=e&&(e['__'+t]=n)}function P(e,t){return null==e?null:e['__'+t]}function F(e){if(null!=e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=!0,r=!1,o=void 0;try{for(var l=n[Symbol.iterator](),d,s;!(a=(d=l.next()).done);a=!0)s=d.value,delete e['__'+s]}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}}}function M(e){return P(e,'node')}function G(e){var t=document.createRange();t.selectNodeContents(e);for(var n=Array.from(t.getClientRects()),a=H(n[0]),r=new Set([a.top]),o=new Set([a.bottom]),l=!1,d=1,s;d<n.length;d++)s=n[d],r.add(s.top),o.add(s.bottom),a.width+=s.width,a.right=Ue(s.right,a.right);return 1<r.size&&1<o.size&&(a.top=Xe.apply(null,Array.from(r)),a.bottom=Ue.apply(null,Array.from(o)),a.height=a.bottom-a.top,n[n.length-1].top>=n[0].bottom&&e.textContent&&(''!==e.textContent.trim()||/^\s*\n/.test(e.textContent))&&(l=!0)),[a,l]}function H(e){return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function W(e){var t=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];if(null!=e){if(t){var n=M(e),i=P(e,'style');if(i)return i;if(n){if(null!=n.style)return n.style;if(n.plainText)return n.styleMap}}if('#'!==e.nodeName.charAt(0)){var a=getComputedStyle(e);return D(e,'style',a),a}}return{}}function V(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i={},a=M(e),r=W(e);return['Top','Left','Right','Bottom'].forEach(function(e){var o=0;['padding','margin'].forEach(function(n){var l=n+e,s=d((a||r)[l]);(t||0!==s)&&(i[l]=s),o+=s}),n&&(i['padding'+e]=o,t?i['margin'+e]=0:delete i['margin'+e])}),i}function z(e){var t=e.match(/^url\("?(.*?)"?\)$/);return t?x(t[1]):''}function X(e,t,n){for(var i='',a=e.parentElement;null!=a&&(i=W(a)[t]||'',n&&n.some(function(e){return-1!==i.indexOf(e)})&&(i=''),!(a===document.body||i));)a=a.parentElement;return i}function U(e,t){for(var n=arguments.length,i=Array(2<n?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return!!('#'!==e.nodeName.charAt(0)&&i.includes(W(e)[t]))||null!=e.parentElement&&i.includes(W(e.parentElement)[t])}function Y(e,t){if(e&&null!=e.parentElement){var n=M(e),i=W(e);return i&&i[t]===W(e.parentElement)[t]&&(null==n||null==n.styleMap[t])}return!1}function Z(e){function t(e){return a===n||e.some(function(e){if('#text'===e.nodeName){if(K(e)||U(e,'whiteSpace','pre','pre-wrap'))return i=!0,!0;}else if(e instanceof HTMLElement&&0<e.childNodes.length)return a++,t(Array.from(e.childNodes));return!1})}var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=!1,a=-1;return t(Array.from(e.childNodes)),i}function K(e){return null!=e&&'#text'===e.nodeName&&''!==(e.textContent||'').trim()}function q(e){var t=M(e),n='',i=!1;return t?(n=t.css('whiteSpace'),i=t.has('whiteSpace')):n=W(e).whiteSpace||'',e instanceof HTMLElement&&0<e.children.length&&Array.from(e.children).some(function(e){return'BR'===e.tagName})||null!=e&&(['pre','pre-wrap'].includes(n)||!i&&U(e,'whiteSpace','pre','pre-wrap'))&&/\n/.test(e.textContent||'')}function J(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'previous',n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=!1;null!=e;)if(!('#text'===e.nodeName)){var a=P(e,'styleMap');i='BR'===e.tagName||n&&'block'===W(e).display&&(!M(e)||a&&0<d(a.height||a.lineHeight)&&''===e.innerHTML.trim());break}else if(K(e)||''===t)break;else e=e[t+'Sibling'];return i}function Q(e,t){var n=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2],i=!!(3<arguments.length&&arguments[3]!==void 0)&&arguments[3];if(null==e||e.parentElement===t.parentElement){var a=t.parentElement;if(null!=a){var r=null==e?0:Array.from(a.childNodes).findIndex(function(t){return t===e}),o=Array.from(a.childNodes).findIndex(function(e){return e===t});if(-1!==r&&-1!==o&&r!==o){var l=Array.from(a.childNodes).slice(Xe(r,o)+1,Ue(r,o));return i||(l=l.filter(function(e){return'#'!==e.nodeName.charAt(0)||K(e)})),n&&(l=l.filter(function(e){return M(e)})),l}}}return[]}function $(e){if(e instanceof HTMLElement){switch(e.tagName){case'BR':case'OPTION':case'MAP':case'AREA':return!1;}if('function'==typeof e.getBoundingClientRect){var t=e.getBoundingClientRect();if(0!==t.width&&0!==t.height||S(e.dataset.ext))return!0;for(var n=e.parentElement,i=!0;null!=n;){if('none'===W(n).display){i=!1;break}n=n.parentElement}if(i&&0<e.children.length)return Array.from(e.children).some(function(e){var t=W(e),n=t.cssFloat,i=t.position;return'static'!==i&&'initial'!==i||'left'===n||'right'===n})}return!1}return K(e)}function ee(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:':';return'{'+(t+e.toString())+'}'}function te(e,t,n){var i=!!(3<arguments.length&&arguments[3]!==void 0)&&arguments[3],a='number'==typeof t?ee(t):t;return e.replace(a,(i?a:'')+n+(i?'':a))}function ne(e){return e.replace(/{[<:@>]{1}[0-9]+(\:[0-9]+)?}/g,'').trim()}function ie(e,t){return 0<=t?e.split('\n').map(function(e){var n=/^({.*?})(.*)(<.*)/.exec(e);return n?n[1]+E(t)+n[3]:e}).join('\n'):e}function ae(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return 0<t&&(n?e=e.split('\n').map(function(e){var n=e.match(/^(\t+)(.*)$/);return n?' '.repeat(t*n[1].length)+n[2]:e}).join('\n'):e=e.replace(/\t/g,' '.repeat(t))),e}function re(e){return e=e.replace(/&#([0-9]+);/g,function(e,t){return String.fromCharCode(t)}),e=e.replace(/&nbsp;/g,'&#160;'),e}function oe(e){for(var t=e,n=arguments.length,i=Array(1<n?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var r=!0,o=!1,l=void 0;try{for(var d=i[Symbol.iterator](),s;!(r=(s=d.next()).done);r=!0){var u=s.value,p=u.split('-'),h=ot(p,2),c=h[0],g=h[1],m=g===void 0?'0':g;t=t[c][m]}}catch(e){o=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(o)throw l}}return t}function le(e){var t={},n=null,i=!1,a=0,r=e.length;do{if(i){var o=i[0].replace(new RegExp(i[1],'g'),'');for(var l in t)t[l]=t[l].replace(new RegExp(i[0],'g'),'{%'+i[2]+'}');t[i[2]]=o,r-=i[0].length}if(null==i||0===r){if(e=t[a++],!S(e))break;r=e.length,i=null}if(i||(n=/(!([0-9]+)\n?)[\w\W]*\1/g),n)i=n.exec(e);else break}while(!0);return t}function de(e,t,n,a,r){var o=null==n?'':e[n];for(var l in null!=t['#include']&&(a=t['#include'],delete t['#include']),null!=t['#exclude']&&(r=t['#exclude'],delete t['#exclude']),t){var i='';if(!1===t[l]){o=o.replace('{%'+l+'}','');continue}else if(Array.isArray(t[l]))for(var d in t[l])i+=de(e,t[l][d],l,a,r);else i=t[l];null!=i&&''!==i?o=null==n?i.trim():o.replace(new RegExp('{[%@&]*'+l+'}','g'),i):new RegExp('{%'+l+'}').test(o)||!1===i?o=o.replace('{%'+l+'}',''):new RegExp('{&'+l+'}').test(o)&&(o='');for(var s=/\s+[\w:]+="{#(\w+)=(.*?)}"/g,u=void 0;null!=(u=s.exec(o));)if(a&&a[u[1]]){var p='{#'+u[1]+'='+u[2]+'}';o=o.replace(p,t[u[2]]||u[2])}else r&&r[u[1]]&&(o=o.replace(u[0],''))}return o.replace(/\s+[\w:]+="{@\w+}"/g,'')}function se(e){var t=ye(e);return t?ue(t.r,t.g,t.b):null}function ue(e,t,n){e/=255,t/=255,n/=255;var i=Xe(e,t,n),a=Ue(e,t,n),o=(a+i)/2,u=o,p=o;if(a===i)o=0,u=0;else{var l=a-i;u=.5<p?l/(2-a-i):l/(a+i);a===e?o=(t-n)/l+(t<n?6:0):a===t?o=(n-e)/l+2:a===n?o=(e-t)/l+4:void 0;o/=6}return{h:360*o,s:100*u,l:100*p}}function pe(e,t){if(null!=e.hsl&&null!=t.hsl){var n=[e.hsl.h,t.hsl.h],i=n[0],a=n[1];if(i===a){var r=[e.hsl.s,t.hsl.s];if(i=r[0],a=r[1],i===a){var o=[e.hsl.l,t.hsl.l];i=o[0],a=o[1]}}return i>=a?1:-1}return 0}function he(e){var t=wt.slice(),n=t.findIndex(function(t){return t.hex===e});if(-1!==n)return t[n];var i=se(e);return i?(t.push({name:'',hsl:i,rgb:{r:-1,g:-1,b:-1},hex:''}),t.sort(pe),n=t.findIndex(function(e){return''===e.name}),t[Xe(n+1,t.length-1)]):''}function ce(e){for(var t in Ot)if(t.toLowerCase()===e.trim().toLowerCase())return Ot[t];return''}function ge(e){var t=e.rgb;return null==t?'':'rgb('+t.r+', '+t.g+', '+t.b+')'}function me(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'1';if(''!==e){var n=ce(e);if(''!==n)return[n.hex,ge(n),'1'];var i=e.match(/rgb(?:a)?\(([0-9]{1,3}), ([0-9]{1,3}), ([0-9]{1,3})(?:, ([0-9\.]{1,3}))?\)/);if(i&&4<=i.length&&'0'!==i[4])return null==i[4]&&(i[4]=t),['#'+fe(i[1])+fe(i[2])+fe(i[3]),i[0],1>parseFloat(i[4])?parseFloat(i[4]).toFixed(2):'1']}return[]}function fe(e){var t=parseInt(e);return isNaN(t)?'00':(t=Ue(0,Xe(t,255)),'0123456789ABCDEF'.charAt((t-t%16)/16)+'0123456789ABCDEF'.charAt(t%16))}function ye(e){return e=e.replace('#','').trim(),3===e.length&&(e=e.charAt(0).repeat(2)+e.charAt(1).repeat(2)+e.charAt(2).repeat(2)),6===e.length?{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4),16)}:null}function be(e){if(''!==e){e=e.trim();var t=me(e);if(0<t.length&&(e=t[0]),'#'===e.charAt(0)&&/^#[a-zA-Z0-9]{3,6}$/.test(e))return 4===e.length?me(ge({rgb:ye(e)}))[0]:e}return''}function _e(){Gt={android:['parent']}}function Te(e,t){var n=t,a=1,r=t.match(/^(\w+)_([0-9]+)$/);r&&(n=r[1],a=parseInt(r[2])),null==Gt[e]&&(Gt[e]=[]);do if(!Gt[e].includes(t)){Gt[e].push(t);break}else t=n+'_'+a++;while(!0);return t}function xe(e){return e.replace(/@\+?id\//,'')}function Ie(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:160,n=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];return e&&(e=parseFloat(e),!isNaN(e))?(e/=t/160,e=1<=e||0===e?je(e):e.toFixed(2),e+(n?'sp':'dp')):'0dp'}function Ee(e,t,n){return Lt.dimensResourceValue?'{%'+e.toLowerCase()+','+t+','+n+'}':n}function Ae(e){var t=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];switch(Lt.convertPixels){case'dp':return e.replace(/("|>)(-)?([0-9]+(?:\.[0-9]+)?px)("|<)/g,function(){return(1>=arguments.length?void 0:arguments[1])+((2>=arguments.length?void 0:arguments[2])||'')+Ie(3>=arguments.length?void 0:arguments[3],Lt.density,t)+(4>=arguments.length?void 0:arguments[4])});default:return e;}}function ve(e,t,n){return null==n&&(n=Lt.constraintPercentAccuracy),parseFloat(Ue(0===e?0:0===t?1:e/(e+t),0).toFixed(n))}function Re(t){return Lt.supportRTL&&Lt.targetAPI>=e.build.JELLYBEAN_1&&(t=t.replace(/left/g,'start').replace(/right/g,'end'),t=t.replace(/Left/g,'Start').replace(/Right/g,'End')),t}function Le(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],i=new Wt(e,t.api,t.element);return i.parent=t.parent,i.children=n,i.inherit(t,'base'),i.isolated=!0,i.excludeResource|=ut.ALL,i}function Ne(e,t){return Array.from(e.element.children).find(function(e){return _(T(e,'dataset.ext'),t)})}function Se(e){var t=e.horizontalBias,n=e.verticalBias,i=[];.5>t?i.push(Re('left')):.5<t?i.push(Re('right')):i.push('center_horizontal'),.5>n?(i.push('top'),e.app('layout_dodgeInsetEdges','top')):.5<n?i.push('bottom'):i.push('center_vertical'),e.android('layout_gravity',2===i.filter(function(e){return-1!==e.indexOf('center')}).length?'center':i.join('|'));var a=e.documentParent;0<t&&1>t&&.5!==t&&(.5>t?e.css('marginLeft',p(je(e.bounds.left-a.box.left))):e.css('marginRight',p(je(a.box.right-e.bounds.right)))),0<n&&1>n&&.5!==n&&(.5>n?e.css('marginTop',p(je(e.bounds.top-a.box.top))):e.css('marginBottom',p(je(a.box.bottom-e.bounds.bottom))))}function Oe(e){for(var t in e){var n=e[t];if('object'===('undefined'==typeof n?'undefined':Ze(n)))for(var i in n)if(n[i]){var a=n[i].toString();switch(t){case'android':switch(i){case'text':if(!a.startsWith('@string/')&&(Lt.numberResourceValue||!f(a))&&(a=jt.addString(a),''!==a)){n[i]='@string/'+a;continue}break;case'src':if(/^\w+:\/\//.test(a)&&(a=jt.addImage({mdpi:a}),''!==a)){n[i]='@drawable/'+a;continue}}}var r=be(a);''!==r&&(n[i]='@color/'+jt.addColor(r))}}return e}function we(e,t,n,i){''===t?null==e[n]&&(e[n]=i):(null==e[t]&&(e[t]={}),null==e[t][n]&&(e[t][n]=i))}function ke(){for(var e=!1,t=0,n;t<document.styleSheets.length;t++)if(n=document.styleSheets[t],n.cssRules)for(var a=0;a<n.cssRules.length;a++)try{(function(){var e=n.cssRules[a],t=new Set,i=!0,o=!1,l=void 0;try{for(var d=Array.from(e.style)[Symbol.iterator](),s,p;!(i=(s=d.next()).done);i=!0)p=s.value,t.add(r(p))}catch(e){o=!0,l=e}finally{try{!i&&d.return&&d.return()}finally{if(o)throw l}}var h=document.querySelectorAll(e.selectorText);Array.from(h).forEach(function(n){var i=!0,a=!1,o=void 0;try{for(var l=Array.from(n.style)[Symbol.iterator](),d,s;!(i=(d=l.next()).done);i=!0)s=d.value,t.add(r(s))}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}var p=W(n),h={},c=!0,g=!1,m=void 0;try{for(var f=t[Symbol.iterator](),y,_;!(c=(y=f.next()).done);c=!0){if(_=y.value,-1!==_.toLowerCase().indexOf('color')){var T=ce(e.style[_]);''!==T&&(e.style[_]=ge(T))}var x=e.style[_];n.style[_]?h[_]=n.style[_]:p[_]===x?h[_]=p[_]:x&&('width'===_||'height'===_||'lineHeight'===_||'verticalAlign'===_||'fontSize'===_||'marginTop'===_||'marginRight'===_||'marginBottom'===_||'marginLeft'===_||'paddingTop'===_||'paddingRight'===_||'paddingBottom'===_||'paddingLeft'===_?h[_]=/^[A-Za-z\-]+$/.test(x)||b(x)?x:u(x):null==h[_]&&(h[_]=x))}}catch(e){g=!0,m=e}finally{try{!c&&f.return&&f.return()}finally{if(g)throw m}}Lt.preloadImages&&null!=h.backgroundImage&&'initial'!==h.backgroundImage&&h.backgroundImage.split(',').map(function(e){return e.trim()}).forEach(function(e){var t=z(e);''===t||Cn.has(t)||Cn.set(t,{width:0,height:0,url:t})});var I=P(n,'styleMap');I?Object.assign(I,h):(D(n,'style',p),D(n,'styleMap',h))})})()}catch(t){e||(alert('External CSS files cannot be parsed when loading this program from your hard drive with Chrome 64+ (file://). Either use a local web server (http://), embed your CSS files into a <style> tag, or use a different browser. See the README for further instructions.\n\n'+(n.href+'\n\n'+t)),e=!0)}}function Be(e){Cn.has(e.src)||Cn.set(e.src,{width:e.naturalWidth,height:e.naturalHeight,url:e.src})}function Ce(e){e instanceof St&&''!==e.name&&Array.isArray(e.tagNames)&&Gn.registerExtension(e)}function De(e,t){if(null!=t){var n=Gn.getExtension(e);null!=n&&Object.assign(n.options,t)}}function Pe(e){return Gn.getExtension(e)}function Fe(){return!kn&&!Gn.closed}function Me(){!kn&&0<Gn.size&&Gn.finalize()}function Ge(){!kn&&0<Gn.size&&(!Gn.closed&&Gn.finalize(),Gn.resourceHandler.file.saveAllToDisk(Gn.viewData))}function He(){return!(!Lt.autoCloseOnWrite||kn||Gn.closed)&&(Gn.finalize(),!0)}var We=Math.round,Ve=Number.MAX_VALUE,ze=Math.abs,Xe=Math.min,Ue=Math.max,je=Math.floor,Ye=Math.ceil,Ze='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},Ke=function(){var e='function'==typeof Symbol&&Symbol.for&&Symbol.for('react.element')||60103;return function(t,n,a,r){var o=t&&t.defaultProps,l=arguments.length-3;if(n||0==l||(n={}),n&&o)for(var d in o)void 0===n[d]&&(n[d]=o[d]);else n||(n=o||{});if(1==l)n.children=r;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===a?null:''+a,ref:null,props:n,_owner:null}}}(),qe=function(){function e(e){this.value=e}function t(t){function n(a,r){try{var o=t[a](r),l=o.value;l instanceof e?Promise.resolve(l.value).then(function(e){n('next',e)},function(e){n('throw',e)}):i(o.done?'return':'normal',o.value)}catch(e){i('throw',e)}}function i(e,t){'return'===e?a.resolve({value:t,done:!0}):'throw'===e?a.reject(t):a.resolve({value:t,done:!1}),a=a.next,a?n(a.key,a.arg):r=null}var a,r;this._invoke=function(e,t){return new Promise(function(i,o){var l={key:e,arg:t,resolve:i,reject:o,next:null};r?r=r.next=l:(a=r=l,n(e,t))})},'function'!=typeof t.return&&(this.return=void 0)}return'function'==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke('next',e)},t.prototype.throw=function(e){return this._invoke('throw',e)},t.prototype.return=function(e){return this._invoke('return',e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),Je=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')},Qe=function(){function e(e,t){for(var n=0,a;n<t.length;n++)a=t[n],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),$e=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},et=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var a in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},tt=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if('value'in a)return a.value;var o=a.get;return void 0===o?void 0:o.call(i)},nt=function(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},it=function(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e},at='undefined'==typeof global?self:global,rt=function e(t,n,i,a){var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);null!==o&&e(o,n,i,a)}else if('value'in r&&r.writable)r.value=i;else{var l=r.set;void 0!==l&&l.call(a,i)}return i},ot=function(){function e(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o=e[Symbol.iterator](),l;!(i=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(e){a=!0,r=e}finally{try{!i&&o['return']&&o['return']()}finally{if(a)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),lt=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},dt;(function(e){e[e.NONE=0]='NONE',e[e.RANGE=1]='RANGE',e[e.RADIO=2]='RADIO',e[e.CHECKBOX=3]='CHECKBOX',e[e.BUTTON=4]='BUTTON',e[e.SELECT=5]='SELECT',e[e.EDIT=6]='EDIT',e[e.INLINE=7]='INLINE',e[e.TEXT=8]='TEXT',e[e.IMAGE=9]='IMAGE',e[e.LINE=10]='LINE',e[e.SPACE=11]='SPACE',e[e.BLOCK=12]='BLOCK',e[e.WEB_VIEW=13]='WEB_VIEW',e[e.FRAME=14]='FRAME',e[e.LINEAR=15]='LINEAR',e[e.RADIO_GROUP=16]='RADIO_GROUP',e[e.GRID=17]='GRID',e[e.RELATIVE=18]='RELATIVE',e[e.CONSTRAINT=19]='CONSTRAINT',e[e.SCROLL_HORIZONTAL=20]='SCROLL_HORIZONTAL',e[e.SCROLL_VERTICAL=21]='SCROLL_VERTICAL',e[e.SCROLL_NESTED=22]='SCROLL_NESTED'})(dt||(dt={}));var st;(function(e){e[e.NONE=0]='NONE',e[e.OPEN=2]='OPEN',e[e.SINGLE=4]='SINGLE',e[e.HORIZONTAL=8]='HORIZONTAL',e[e.VERTICAL=16]='VERTICAL',e[e.ABSOLUTE=32]='ABSOLUTE',e[e.FLOAT=64]='FLOAT',e[e.INLINE_WRAP=128]='INLINE_WRAP',e[e.SEGMENTED=256]='SEGMENTED',e[e.LEFT=512]='LEFT',e[e.RIGHT=1024]='RIGHT'})(st||(st={}));var ut;(function(e){e[e.NONE=0]='NONE',e[e.BOX_STYLE=2]='BOX_STYLE',e[e.BOX_SPACING=4]='BOX_SPACING',e[e.FONT_STYLE=8]='FONT_STYLE',e[e.VALUE_STRING=16]='VALUE_STRING',e[e.OPTION_ARRAY=32]='OPTION_ARRAY',e[e.IMAGE_SOURCE=64]='IMAGE_SOURCE',e[e.ASSET=120]='ASSET',e[e.ALL=126]='ALL'})(ut||(ut={}));var pt;(function(e){e[e.NONE=0]='NONE',e[e.LAYOUT=2]='LAYOUT',e[e.ALIGNMENT=4]='ALIGNMENT',e[e.AUTOFIT=8]='AUTOFIT',e[e.OPTIMIZATION=16]='OPTIMIZATION',e[e.CUSTOMIZATION=32]='CUSTOMIZATION',e[e.ACCESSIBILITY=64]='ACCESSIBILITY',e[e.ALL=126]='ALL'})(pt||(pt={}));var ht;(function(e){e[e.MARGIN_TOP=2]='MARGIN_TOP',e[e.MARGIN_RIGHT=4]='MARGIN_RIGHT',e[e.MARGIN_BOTTOM=8]='MARGIN_BOTTOM',e[e.MARGIN_LEFT=16]='MARGIN_LEFT',e[e.PADDING_TOP=32]='PADDING_TOP',e[e.PADDING_RIGHT=64]='PADDING_RIGHT',e[e.PADDING_BOTTOM=128]='PADDING_BOTTOM',e[e.PADDING_LEFT=256]='PADDING_LEFT',e[e.MARGIN=30]='MARGIN',e[e.MARGIN_VERTICAL=10]='MARGIN_VERTICAL',e[e.MARGIN_HORIZONTAL=20]='MARGIN_HORIZONTAL',e[e.PADDING=480]='PADDING',e[e.PADDING_VERTICAL=160]='PADDING_VERTICAL',e[e.PADDING_HORIZONTAL=320]='PADDING_HORIZONTAL'})(ht||(ht={}));var ct={INPUT:dt.NONE,PLAINTEXT:dt.TEXT,HR:dt.LINE,IMG:dt.IMAGE,SELECT:dt.SELECT,RANGE:dt.RANGE,TEXT:dt.EDIT,PASSWORD:dt.EDIT,NUMBER:dt.EDIT,EMAIL:dt.EDIT,SEARCH:dt.EDIT,URL:dt.EDIT,CHECKBOX:dt.CHECKBOX,RADIO:dt.RADIO,BUTTON:dt.BUTTON,SUBMIT:dt.BUTTON,RESET:dt.BUTTON,TEXTAREA:dt.EDIT,IFRAME:dt.WEB_VIEW},gt=['ADDRESS','ARTICLE','ASIDE','BLOCKQUOTE','CANVAS','DD','DIV','DL','DT','FIELDSET','FIGCAPTION','FIGURE','FOOTER','FORM','H1','H2','H3','H4','H5','H6','HEADER','LI','MAIN','NAV','OL','OUTPUT','P','PRE','SECTION','TFOOT','TH','THEAD','TR','UL','VIDEO'],mt=['A','ABBR','ACRONYM','B','BDO','BIG','BR','BUTTON','CITE','CODE','DFN','EM','I','IFRAME','IMG','INPUT','KBD','LABEL','MAP','OBJECT','Q','S','SAMP','SCRIPT','SELECT','SMALL','SPAN','STRIKE','STRONG','SUB','SUP','TEXTAREA','TIME','TT','U','VAR','PLAINTEXT'],ft=function(){function e(t,n){Je(this,e),this.parent=n,this._currentId=0,this._list=[],Array.isArray(t)&&(this._list=t)}return Qe(e,[{key:Symbol.iterator,value:function(){var e=this._list,t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0,value:void 0}}}}},{key:'reset',value:function(){this._currentId=0,this.clear()}},{key:'get',value:function(e){return null==e?this._list[this._list.length-1]:this._list[e]}},{key:'append',value:function(){for(var e=arguments.length,t=Array(e),n=0,i;n<e;n++)t[n]=arguments[n];(i=this._list).push.apply(i,t),null!=this.delegateAppend&&this.delegateAppend.call(this,t)}},{key:'prepend',value:function(){var e;(e=this._list).unshift.apply(e,arguments)}},{key:'remove',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this._list.splice(e,t)}},{key:'clone',value:function(){return new e(this._list.slice())}},{key:'filter',value:function(t){return new e(this._list.filter(t))}},{key:'sort',value:function(t){return new e(this._list.slice().sort(t))}},{key:'partition',value:function(t){var n=[],i=[];return this._list.forEach(function(e){t(e)?n.push(e):i.push(e)}),[new e(n),new e(i)]}},{key:'each',value:function(e){this._list.forEach(e)}},{key:'locate',value:function(e,t){return'string'==typeof e?this._list.find(function(n){return n[e]===t}):this._list.find(e)}},{key:'clear',value:function(){this._list=[]}},{key:'sortAsc',value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return B.apply(void 0,[this._list].concat(t)),this}},{key:'sortDesc',value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C.apply(void 0,[this._list].concat(t)),this}},{key:'length',get:function(){return this._list.length}},{key:'list',get:function(){return this._list}},{key:'visible',get:function(){return new e(this._list.filter(function(e){return e.visible}))}},{key:'elements',get:function(){return new e(this._list.filter(function(e){return e.visible&&e.hasElement}))}},{key:'nextId',get:function(){return++this._currentId}},{key:'linearX',get:function(){return e.linearX(this._list)}},{key:'linearY',get:function(){return e.linearY(this._list)}},{key:'top',get:function(){return Ue.apply(null,this._list.map(function(e){return e.linear.top}))}},{key:'bottom',get:function(){return Ue.apply(null,this._list.map(function(e){return e.linear.bottom}))}},{key:'right',get:function(){return Ue.apply(null,this._list.map(function(e){return e.linear.right}))}},{key:'left',get:function(){return Ue.apply(null,this._list.map(function(e){return e.linear.left}))}}],[{key:'cleared',value:function(e){var t=new Set,n=new Set;return e.forEach(function(e){var i=e.css('clear');0<n.size&&('both'===i||n.has(i))&&(t.add(e),n.clear()),e.floating&&n.add(e.float)}),t}},{key:'baselineText',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=arguments[2],i=t?[]:e.filter(function(e){return e.is(dt.IMAGE)&&e.baseline}),a=(0<i.length?i:e.filter(function(e){return e.is(dt.TEXT)&&e.baseline&&!e.multiLine})).sort(function(e,t){var n=d(u(e.css('fontSize'))),i=d(u(t.css('fontSize')));return n===i||0===n||0===i?e.hasElement&&!t.hasElement||0<n&&0===i?-1:!e.hasElement&&t.hasElement||0===n&&0<i?1:Ue(e.bounds.height,e.lineHeight)>=Ue(t.bounds.height,t.lineHeight)?-1:1:n>i?-1:1})[0],r=t?dt.TEXT:dt.IMAGE;if(null==a&&null!=n){var o=Array.from(n.element.children).some(function(e){var t=M(e);return!!t&&(t.nodeType<=r&&t.baseline||t.linearHorizontal&&t.children.some(function(e){return e.nodeType<=r&&e.baseline}))});if(o)return e.slice().sort(function(e,t){return e.nodeType>=t.nodeType?-1:1}).find(function(e){return e.nodeType<=r&&e.baseline})}return a}},{key:'linearX',value:function(t){var n=t.filter(function(e){return e.pageflow});switch(n.length){case 0:return!1;case 1:return!0;default:if(0===e.cleared(n).size){for(var a=n.filter(function(e){return'left'!==e.float}),r=1<a.length,o=1;o<a.length;o++){var l=a[o-1],d=a[o];if(!(l.inlineElement&&d.inlineElement&&l.bounds.right<=d.bounds.left)||!l.inlineElement){r=!1;break}}if(r)return!0;var s=Xe.apply(null,n.map(function(e){return e.bounds.left})),u=Xe.apply(null,n.map(function(e){return e.bounds.right}));if(1<n.filter(function(e){return e.bounds.left===s}).length||1<n.filter(function(e){return e.bounds.right===u}).length)return!1;var p=Xe.apply(null,n.map(function(e){return e.bounds.bottom}));return n.every(function(e){return e.inlineElement&&!e.autoMargin&&e.bounds.top<p})}return!1;}}},{key:'linearY',value:function(e){var t=e.filter(function(e){return e.pageflow});switch(t.length){case 0:return!1;case 1:return!0;default:if(t.every(function(e){return e.block&&!e.floating}))return!0;if(t.every(function(e,t){return e.inlineElement&&(0===t||!J(e.element.previousElementSibling))}))return!1;t=t.filter(function(e){return!e.floating});var n=Xe.apply(null,t.map(function(e){return e.bounds.right})),i=Ue.apply(null,t.map(function(e){return e.bounds.right}));return t.every(function(e,a){if(e.bounds.left<n)return!0;var r=t[a-1];return!!((null==r||r.inlineElement&&r.bounds.right!==i)&&e.inlineElement&&e.bounds.right!==i)});}}}]),e}();(function(e){e[e.PIE=28]='PIE',e[e.OREO_1=27]='OREO_1',e[e.OREO=26]='OREO',e[e.NOUGAT_1=25]='NOUGAT_1',e[e.NOUGAT=24]='NOUGAT',e[e.MARSHMALLOW=23]='MARSHMALLOW',e[e.LOLLIPOP_1=22]='LOLLIPOP_1',e[e.LOLLIPOP=21]='LOLLIPOP',e[e.KITKAT_1=20]='KITKAT_1',e[e.KITKAT=19]='KITKAT',e[e.JELLYBEAN_2=18]='JELLYBEAN_2',e[e.JELLYBEAN_1=17]='JELLYBEAN_1',e[e.JELLYBEAN=16]='JELLYBEAN',e[e.ICE_CREAM_SANDWICH_1=15]='ICE_CREAM_SANDWICH_1',e[e.ICE_CREAM_SANDWICH=14]='ICE_CREAM_SANDWICH',e[e.ALL=0]='ALL',e[e.LATEST=28]='LATEST'})(e.build||(e.build={})),function(e){e[e.LDPI=120]='LDPI',e[e.MDPI=160]='MDPI',e[e.HDPI=240]='HDPI',e[e.XHDPI=320]='XHDPI',e[e.XXHDPI=480]='XXHDPI',e[e.XXXHDPI=640]='XXXHDPI'}(e.density||(e.density={}));var yt={FRAME:'FrameLayout',LINEAR:'LinearLayout',CONSTRAINT:'android.support.constraint.ConstraintLayout',RELATIVE:'RelativeLayout',GRID:'android.support.v7.widget.GridLayout',SCROLL_VERTICAL:'ScrollView',SCROLL_HORIZONTAL:'HorizontalScrollView',SCROLL_NESTED:'android.support.v4.widget.NestedScrollView',RADIO_GROUP:'RadioGroup',WEB_VIEW:'WebView',TEXT:'TextView',EDIT:'EditText',IMAGE:'ImageView',SELECT:'Spinner',RANGE:'SeekBar',CHECKBOX:'CheckBox',RADIO:'RadioButton',BUTTON:'Button',LINE:'View',SPACE:'Space',GUIDELINE:'android.support.constraint.Guideline'},bt={MARGIN:'layout_margin',MARGIN_VERTICAL:'layout_marginVertical',MARGIN_HORIZONTAL:'layout_marginHorizontal',MARGIN_TOP:'layout_marginTop',MARGIN_RIGHT:'layout_marginRight',MARGIN_BOTTOM:'layout_marginBottom',MARGIN_LEFT:'layout_marginLeft',PADDING:'padding',PADDING_VERTICAL:'paddingVertical',PADDING_HORIZONTAL:'paddingHorizontal',PADDING_TOP:'paddingTop',PADDING_RIGHT:'paddingRight',PADDING_BOTTOM:'paddingBottom',PADDING_LEFT:'paddingLeft'},_t={HORIZONTAL:'horizontal',VERTICAL:'vertical'},Tt={android:'http://schemas.android.com/apk/res/android',app:'http://schemas.android.com/apk/res-auto',tools:'http://schemas.android.com/tools'},xt={"sans-serif":e.build.ICE_CREAM_SANDWICH,"sans-serif-thin":e.build.JELLYBEAN,"sans-serif-light":e.build.JELLYBEAN,"sans-serif-condensed":e.build.JELLYBEAN,"sans-serif-condensed-light":e.build.JELLYBEAN,"sans-serif-medium":e.build.LOLLIPOP,"sans-serif-black":e.build.LOLLIPOP,"sans-serif-smallcaps":e.build.LOLLIPOP,"serif-monospace":e.build.LOLLIPOP,serif:e.build.LOLLIPOP,casual:e.build.LOLLIPOP,cursive:e.build.LOLLIPOP,monospace:e.build.LOLLIPOP,"sans-serif-condensed-medium":e.build.OREO},It={arial:'sans-serif',helvetica:'sans-serif',tahoma:'sans-serif',verdana:'sans-serif',times:'serif',"times new roman":'serif',palatino:'serif',georgia:'serif',baskerville:'serif',goudy:'serif',fantasy:'serif',"itc stone serif":'serif',"sans-serif-monospace":'monospace',monaco:'monospace',courier:'serif-monospace',"courier new":'serif-monospace'},Et={"ms shell dlg \\32":'sans-serif',"system-ui":'sans-serif',"-apple-system":'sans-serif'},At={100:'thin',200:'extra_light',300:'light',400:'normal',500:'medium',600:'semi_bold',700:'bold',800:'extra_bold',900:'black'},vt=['STRONG','B','EM','CITE','DFN','I','BIG','SMALL','FONT','BLOCKQUOTE','TT','A','U','SUP','SUB','STRIKE','H1','H2','H3','H4','H5','H6','DEL','LABEL','BR','PLAINTEXT'],Rt=['abstract','assert','boolean','break','byte','case','catch','char','class','const','continue','default','double','do','else','enum','extends','false','final','finally','float','for','goto','if','implements','import','instanceof','int','interface','long','native','new','null','package','private','protected','public','return','short','static','strictfp','super','switch','synchronized','this','throw','throws','transient','true','try','void','volatile','while'],Lt={builtInExtensions:['androme.external','androme.custom','androme.list','androme.table','androme.grid','androme.widget'],targetAPI:e.build.OREO,density:e.density.MDPI,supportRTL:!0,dimensResourceValue:!0,numberResourceValue:!1,fontAliasResourceValue:!0,alwaysReevaluateResources:!0,excludeTextColor:['#000000'],excludeBackgroundColor:['#FFFFFF'],preloadImages:!0,autoSizePaddingAndBorderWidth:!0,autoSizeBackgroundImage:!0,ellipsisOnTextOverflow:!0,collapseUnattributedElements:!1,constraintPercentAccuracy:4,constraintChainDisabled:!1,constraintWhitespaceHorizontalOffset:4,constraintWhitespaceVerticalOffset:16,constraintChainPackedHorizontalOffset:4,constraintChainPackedVerticalOffset:16,constraintCirclePositionAbsolute:!1,constraintSupportNegativeLeftTop:!0,showAttributes:!0,customizationsOverwritePrivilege:!1,autoCloseOnWrite:!0,insertSpaces:4,convertPixels:'dp',outputDirectory:'app/src/main',outputActivityMainFileName:'activity_main.xml',outputArchiveFileType:'zip',outputMaxProcessingTime:30},Nt=function(){function e(t){Je(this,e),this._Node=t,this.elements=new Set,this.lateInsert={},this.extensions=[],this.closed=!1,this._views=[],this._includes=[],this._sorted={},this._currentIndex=-1,this.cache=new ft,this.cacheInternal=new ft}return Qe(e,[{key:'registerController',value:function(e){e.cache=this.cache,this.controllerHandler=e}},{key:'registerResource',value:function(e){e.cache=this.cache,this.resourceHandler=e}},{key:'registerExtension',value:function(e){var t=this,n=this.getExtension(e.name);n?(Array.isArray(e.tagNames)&&(n.tagNames=e.tagNames),Object.assign(n.options,e.options)):e.dependencies.every(function(e){return null!=t.getExtension(e.name)})&&(e.application=this,this.extensions.push(e))}},{key:'finalize',value:function(){var e=this.cacheInternal.visible,t=!0,n=!1,i=void 0;try{for(var a=e[Symbol.iterator](),r,o;!(t=(r=a.next()).done);t=!0)o=r.value,o.hasBit('excludeProcedure',pt.LAYOUT)||o.setLayout(),o.hasBit('excludeProcedure',pt.ALIGNMENT)||o.setAlignment()}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}var l=!0,d=!1,s=void 0;try{for(var u=e[Symbol.iterator](),p,h;!(l=(p=u.next()).done);l=!0)h=p.value,h.hasBit('excludeProcedure',pt.OPTIMIZATION)||h.applyOptimizations({autoSizePaddingAndBorderWidth:Lt.autoSizePaddingAndBorderWidth}),h.hasBit('excludeProcedure',pt.CUSTOMIZATION)||h.applyCustomizations(Lt.customizationsOverwritePrivilege)}catch(e){d=!0,s=e}finally{try{!l&&u.return&&u.return()}finally{if(d)throw s}}this.appendLateInsert(),this.controllerHandler.setDimensions(this.viewData);var c=!0,g=!1,m=void 0;try{for(var f=this.cacheInternal[Symbol.iterator](),y;!(c=(y=f.next()).done);c=!0){var b=y.value,_=b.renderExtension;null!=_&&(_.setTarget(b),_.finalize())}}catch(e){g=!0,m=e}finally{try{!c&&f.return&&f.return()}finally{if(g)throw m}}this.resourceHandler.finalize(this.viewData),this.controllerHandler.finalize(this.viewData),this.closed=!0}},{key:'reset',value:function(){var e=!0,t=!1,n=void 0;try{for(var i=this.cacheInternal[Symbol.iterator](),a,r;!(e=(a=i.next()).done);e=!0)r=a.value,F(r.element,'style','styleMap','boxSpacing','boxStyle','fontStyle','imageSource','optionArray','valueString')}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}this.cache.reset(),this.cacheInternal.reset(),this.resetController(),this.resetResource(),this.appName='',this.lateInsert={},this._views=[],this._includes=[],this._sorted={},this._currentIndex=-1,this.closed=!1}},{key:'setConstraints',value:function(){this.controllerHandler.setConstraints()}},{key:'resetController',value:function(){this.controllerHandler.reset()}},{key:'setResources',value:function(){this.resourceHandler.setBoxStyle(),this.resourceHandler.setFontStyle(),this.resourceHandler.setBoxSpacing(),this.resourceHandler.setValueString(),this.resourceHandler.setOptionArray(),this.resourceHandler.setImageSource()}},{key:'resetResource',value:function(){this.resourceHandler.reset()}},{key:'createNodeCache',value:function(e){function t(e){var t=P(e,'styleMap');return(!t||0===Object.keys(t).length)&&g.includes(e.tagName)&&0===e.children.length}var n=this,i=0;e===document.body&&Array.from(document.body.childNodes).some(function(e){return $(e)&&1<++i});var a=e===document.body?document.querySelectorAll(1<i?'body, body *':'body *'):e.querySelectorAll('*');this.cache.parent=void 0,this.cache.delegateAppend=void 0,this.cache.clear();var r=!0,o=!1,l=void 0;try{for(var s=this.extensions[Symbol.iterator](),u,h;!(r=(u=s.next()).done);r=!0)h=u.value,h.setTarget({},void 0,e),h.beforeInit()}catch(e){o=!0,l=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw l}}var c=this.insertNode(e);if(c)c.parent=new this._Node(0,Lt.targetAPI,(e===document.body?e:e.parentElement)||document.body),c.documentRoot=!0,this.cache.parent=c;else return!1;var g=this.controllerHandler.supportInline,m=function(i){if(!n.elements.has(i)&&(n.prioritizeExt(n.extensions,i).some(function(e){return e.init(i)}),!n.elements.has(i))){if(t(i)&&i.parentElement&&Array.from(i.parentElement.children).every(function(e){return t(e)}))return D(i,'supportInline',!0),'continue';for(var a=!0,r=i.parentElement;null!=r&&r!==e;){if(r!==e&&n.elements.has(r)){a=!1;break}r=r.parentElement}a&&n.insertNode(i)}},f=!0,y=!1,b=void 0;try{for(var _=Array.from(a)[Symbol.iterator](),T;!(f=(T=_.next()).done);f=!0){var x=T.value,I=m(x)}}catch(e){y=!0,b=e}finally{try{!f&&_.return&&_.return()}finally{if(y)throw b}}var E=function(e){var t=!0,i=[];Array.from(e.element.childNodes).forEach(function(n){'#text'===n.nodeName?'SELECT'!==e.element.tagName&&i.push(n):(!g.includes(n.tagName)||M(n))&&(t=!1)}),t||i.forEach(function(t){return n.insertNode(t,e)})},A=!0,v=!1,R=void 0;try{for(var L=this.cache[Symbol.iterator](),N,S;!(A=(N=L.next()).done);A=!0)S=N.value,E(S)}catch(e){v=!0,R=e}finally{try{!A&&L.return&&L.return()}finally{if(v)throw R}}if(0<this.cache.length){var O={},w=function(e){var t=e.element;O[e.id]={};var n=O[e.id],i=e.css('textAlign');switch(i){case'center':if('BUTTON'===t.tagName||'button'===t.type)break;case'right':case'end':n.textAlign=i,t.style.textAlign='left';}0>e.marginLeft&&(n.marginLeft=e.css('marginLeft'),t.style.marginLeft='0px'),0>e.marginTop&&(n.marginTop=e.css('marginTop'),t.style.marginTop='0px'),'relative'===e.position&&['top','right','bottom','left'].forEach(function(i){e.has(i)&&(n[i]=e.styleMap[i],t.style[i]='auto')}),n.verticalAlign=e.styleMap.verticalAlign||'',t.style.verticalAlign='top',0!==e.overflow&&(e.has('width')&&(n.width=e.styleMap.width,t.style.width='auto'),e.has('height')&&(n.height=e.styleMap.height,t.style.height='auto'),n.overflow=e.style.overflow,t.style.overflow='visible')},k=!0,C=!1,F=void 0;try{for(var G=this.cache.elements[Symbol.iterator](),H,S;!(k=(H=G.next()).done);k=!0)S=H.value,w(S)}catch(e){C=!0,F=e}finally{try{!k&&G.return&&G.return()}finally{if(C)throw F}}this.cache.each(function(e){return e.setBounds()});var W=function(e){if(e.pageflow){var t=e.element;if('INPUT'===t.tagName&&!e.hasBit('excludeProcedure',pt.ACCESSIBILITY))switch(t.type){case'radio':case'checkbox':[e.nextElementSibling,e.previousElementSibling].some(function(n){var i=M(n),a=n&&n.parentElement&&'LABEL'===n.parentElement.tagName?M(n.parentElement):null;return!!(i&&i.visible&&i.pageflow&&(''!==n.htmlFor&&n.htmlFor===t.id?e.companion=i:a&&(i.plainText||i.inlineText)&&(e.companion=a,a.renderAs=e),null!=e.companion))&&(i.hide(),e.setBounds(!1),!0)});}}},V=!0,z=!1,X=void 0;try{for(var U=this.cache[Symbol.iterator](),j,S;!(V=(j=U.next()).done);V=!0)S=j.value,W(S)}catch(e){z=!0,X=e}finally{try{!V&&U.return&&U.return()}finally{if(z)throw X}}var Y=this.cache.visible,Z=!0,K=!1,q=void 0;try{for(var J=Y[Symbol.iterator](),Q,S;!(Z=(Q=J.next()).done);Z=!0)if(S=Q.value,!S.documentRoot){var ee=S.getParentElementAsNode(Lt.constraintSupportNegativeLeftTop);null!=ee||S.pageflow||(ee=this.cache.parent),null==ee?S.hide():(S.parent=ee,S.documentParent=ee)}}catch(e){K=!0,q=e}finally{try{!Z&&J.return&&J.return()}finally{if(K)throw q}}var te=function(e){if(1===e.children.length){var t=e.children[0];t.pageflow||0!==t.toInt('top')||0!==t.toInt('right')||0!==t.toInt('bottom')||0!==t.toInt('left')||(t.pageflow=!0)}if(e.children.some(function(t){if(t.pageflow)return'right'!==t.float&&(ze(t.marginLeft)>=t.bounds.width||!['center','right','end'].includes(t.cssParent('textAlign',!0)))&&0>t.marginLeft&&e.marginLeft>=ze(t.marginLeft);var n=t.toInt('left'),i=t.toInt('right');return 0>n&&e.marginLeft>=ze(n)||0>i&&ze(i)>=t.bounds.width})){var n=[],i=[];if(e.each(function(t){var a=0;if(t.pageflow){var r=t.marginLeft;0>r&&e.marginLeft>=ze(r)&&(a=1)}else{var o=d(t.left),l=d(t.right);0>o?e.marginLeft>=o&&(t.css('left',p(o+e.marginLeft)),a=2):0>l&&ze(l)>=t.bounds.width&&i.push(t)}n.push(a)}),0<i.length){var a=new ft(e.children).partition(function(e){return!i.includes(e)}),r=ot(a,2),o=r[0],l=r[1];if(0<o.length&&0<l.length){'auto'===e.cssOriginal('marginLeft')&&e.css('marginLeft',e.style.marginLeft),e.modifyBox(ht.MARGIN_RIGHT,null);var s=e.has('width')?e.toInt('width'):Ue.apply(null,l.list.map(function(e){return e.linear.width})),u=Ue.apply(null,l.list.map(function(e){return ze(e.toInt('right'))}));o.each(function(e){e.pageflow&&0===e.viewWidth&&e.css('maxWidth',p(s))}),e.css('width',p(s+u))}}var h=Ue.apply(null,n);if(e.each(function(t,i){h&&2!==n[i]&&(t.pageflow&&!t.plainText&&n.includes(1)||2===h)&&(1===n[i]?(t.modifyBox(ht.MARGIN_LEFT,null),t.modifyBox(ht.MARGIN_LEFT,t.marginLeft+e.marginLeft,!1,!0)):t.modifyBox(ht.MARGIN_LEFT,e.marginLeft,!1,!0))}),0<h){var c=e.toInt('width');0<c&&e.css('width',p(c+e.marginLeft)),e.bounds.left-=e.marginLeft,e.modifyBox(ht.MARGIN_LEFT,null,!1,!0)}}if(!e.pageflow&&0<e.children.length){var g=!1;if(0===e.viewWidth){var m=Ue.apply(null,e.cascade().map(function(e){return e.linear.right}));e.bounds.right=m+e.paddingRight+e.borderRightWidth,e.bounds.width=e.bounds.right-e.bounds.left,g=!0}if(0===e.viewHeight){var f=Ue.apply(null,e.cascade().map(function(e){return e.linear.bottom}));e.bounds.bottom=f+e.paddingBottom+e.borderBottomWidth,e.bounds.height=e.bounds.bottom-e.bounds.top,g=!0}g&&e.setBounds(!0)}},ne=!0,ie=!1,ae=void 0;try{for(var re=Y[Symbol.iterator](),oe,le;!(ne=(oe=re.next()).done);ne=!0)le=oe.value,te(le)}catch(e){ie=!0,ae=e}finally{try{!ne&&re.return&&re.return()}finally{if(ie)throw ae}}var de=!0,se=!1,ue=void 0;try{for(var pe=this.cache[Symbol.iterator](),he;!(de=(he=pe.next()).done);de=!0){var ce=he.value,ge=O[ce.id];if(null!=ge)for(var me in ge)ce.element.style[me]=ge[me]}}catch(e){se=!0,ue=e}finally{try{!de&&pe.return&&pe.return()}finally{if(se)throw ue}}var fe=!0,ye=!1,be=void 0;try{for(var _e=this.extensions[Symbol.iterator](),Te,xe;!(fe=(Te=_e.next()).done);fe=!0)xe=Te.value,xe.setTarget(c),xe.afterInit()}catch(e){ye=!0,be=e}finally{try{!fe&&_e.return&&_e.return()}finally{if(ye)throw be}}var Ie=function(e){var t=0;Array.from(e.element.childNodes).forEach(function(e){var n=M(e);n&&n.visible&&(n.siblingIndex=t++)}),B(e.children,'siblingIndex')},Ee=!0,Ae=!1,ve=void 0;try{for(var Re=this.cache.elements[Symbol.iterator](),Le,Ne;!(Ee=(Le=Re.next()).done);Ee=!0)Ne=Le.value,Ie(Ne)}catch(e){Ae=!0,ve=e}finally{try{!Ee&&Re.return&&Re.return()}finally{if(Ae)throw ve}}return this.cache.sortAsc('depth','parent.siblingIndex','siblingIndex','id'),this.createLayout(e.dataset.viewName),!0}return!1}},{key:'createLayoutXml',value:function(){function e(e,t,n){a.has(e)||a.set(e,new Map);var i=a.get(e);null!=i&&i.set(t,n)}var t=this,n=this,i=[],a=new Map,r='<?xml version="1.0" encoding="utf-8"?>\n{:0}',o=!0,l;null!=this.cache.parent&&e(-1,0,this.cache.parent.parent);var d=!0,s=!1,u=void 0;try{for(var p=this.cache.visible[Symbol.iterator](),h;!(d=(h=p.next()).done);d=!0){var c=h.value,g=je(c.linear.left);null==i[c.depth]&&(i[c.depth]={}),null==i[c.depth][g]&&(i[c.depth][g]=[]),i[c.depth][g].push(c),e(c.depth,c.id,c)}}catch(e){s=!0,u=e}finally{try{!d&&p.return&&p.return()}finally{if(s)throw u}}this.cache.delegateAppend=function(t){t.forEach(function(t){return e(-2,t.id,t)})};var m=function(e){function l(e,t,n,i,a){var r=n+(''===a&&-1!==t.renderIndex?':'+t.renderIndex:'');e.has(r)||e.set(r,new Map),e.get(r).set(t.id,i)}function d(e,t,i){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',r=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4];if(''!==i)if(r&&e.each(function(t){[s,u].some(function(n){var i=!0,r=!1,o=void 0;try{for(var d=s.values()[Symbol.iterator](),u;!(i=(u=d.next()).done);i=!0){var p=u.value,h=p.get(t.id);if(h){var c=e.renderDepth+1;return t.renderDepth!==c&&(h=ie(h,c),t.renderDepth=c),l(n,t,e.id.toString(),h,a),p.delete(t.id),!0}}}catch(e){r=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(r)throw o}}return!1})}),''!==a)l(u,e,a,i,a);else{if(!n.elements.has(e.element))if(e.isSet('dataset','target')){var o=n.findByDomId(e.dataset.target,!0);if(!o||o!==t)return n.addLateInsert(e.dataset.target,[i]),void(e.relocated=!0)}else if(t.isSet('dataset','target'))return n.addLateInsert(t.nodeId,[i]),void(e.dataset.target=t.nodeId);l(s,e,t.id.toString(),i,a)}}var s=new Map,u=new Map,p=function(e){if(0===e.children.length)return'continue';var n=[],r=[],o=[],l=[],s=!0,u=!1,p=void 0;try{for(var h=e.children[Symbol.iterator](),c,g;!(s=(c=h.next()).done);s=!0)g=c.value,g.documentRoot?n.push(g):g.pageflow||g.alignMargin?o.push(g):0<=g.toInt('zIndex')||g.parent.element!==g.element.parentElement?l.push(g):r.push(g)}catch(e){u=!0,p=e}finally{try{!s&&h.return&&h.return()}finally{if(u)throw p}}t.sortByAlignment(o,e),n.push.apply(n,lt(B(r,'style.zIndex','siblingIndex'))),n.push.apply(n,o),n.push.apply(n,lt(B(l,'style.zIndex','siblingIndex'))),t.processing=n;for(var f=ft.cleared(n),m=[],y='',b=function(e){var r=n[e];if(!r.documentRoot&&t.elements.has(r.element))return'continue';var o=r.parent;if(t.controllerHandler.supportInclude){var s=T(r,'dataset.include').trim();if(''!==s&&-1===m.indexOf(s)&&(d(r,o,t.controllerHandler.renderInclude(r,o,s),0<m.length?m[m.length-1]:''),m.push(s)),y=0<m.length?m[m.length-1]:'',''!==y){var u=o.clone();u.renderDepth=t.controllerHandler.baseRenderDepth(y),r.parent=u,o=u}}if(!r.rendered){var p=o.renderExtension;if(null!=p){p.setTarget(r,o);var h=p.processChild();if(''!==h.xml&&d(r,o,h.xml,y),h.parent&&(o=h.parent),h.proceed)return'continue'}var c=[],g=!1;if(t.prioritizeExt(t.extensions,r.element).some(function(e){if(e.is(r)&&(e.setTarget(r,o),e.condition())){var t=e.processNode(i,a);if(''!==t.xml&&d(r,o,t.xml,y),t.parent&&(o=t.parent),(''!==t.xml||t.proceed)&&c.push(e),t.proceed)return g=!0,!0}return!1}),null==r.renderExtension&&0<c.length&&(r.renderExtension=c[0]),g)return'continue';var b=o.linearVertical;if(r.pageflow&&r.alignmentType<=st.OPEN&&!o.flex.enabled&&!o.has('columnCount')&&o.alignmentType<=st.OPEN&&(o.is(dt.CONSTRAINT,dt.RELATIVE)||b)&&''===y){var _=[r],x=[r],I=new Set(n.map(function(e){return e.float})).size,E=function(e){var t=n[e];if(t.pageflow){var i=!1,a=function(){for(var e=t.previousSibling;e;){if(J(e.element.nextSibling,'next')){i=!0;break}if(!e.pageflow)e=e.previousSibling;else break}return e}();if(i)return'break';if(a){var r=t.plainText&&t.multiLine&&!o.is(dt.RELATIVE)||1<_.length&&J(t.element.previousSibling)||!a.floating&&(!a.inlineElement||a.autoMargin||!t.inlineElement||t.autoMargin)||!t.floating&&(!a.inlineElement&&!a.floating||a.autoMargin)||f.has(a)&&t.blockStatic||1===I&&a.floating&&t.floating&&t.linear.top>=a.linear.bottom;if(f.has(t)){var l=new Set(['both'].concat(lt(_.map(function(e){return e.float}))));if(_.length>=x.length&&!l.has(t.css('clear'))&&!r)return _.push(t),'continue';if(1===_.length)return x[x.length-1]===a?(x.push(t),'continue'):(x.length=0,'break')}if(f.has(t)||r){if(1<_.length){if(b)for(var d=1;d<_.length;d++)if(J(_[d].element.previousSibling)){_.length=d;break}return'break'}if(b){var s=x[x.length-1];if(s.linearVertical)return t.parent=s,'continue'}return x[x.length-1]===a?(x.push(t),'continue'):(x.length=0,'break')}}if(J(t.element.previousSibling)&&!b)return 1<_.length?'break':x[x.length-1]===a?(x.push(t),'continue'):(x.length=0,'break');if(_[_.length-1]!==a)return _.length=0,'break';_.push(t)}};_loop12:for(var A=e+1,v;A<n.length;A++)switch(v=E(A),v){case'break':break _loop12;case'continue':continue;}var R=null,L='';1<_.length?_.some(function(e){return e.floating})&&!_.every(function(e){return _[0].float===e.float&&!f.has(e)})?(R=t.controllerHandler.createGroup(r,_,o),L=t.writeFrameLayoutHorizontal(R,o,_),R.alignmentType|=st.HORIZONTAL|st.FLOAT):_.length===n.length?(o.alignmentType|=st.HORIZONTAL,o.is(dt.RELATIVE)&&(t.sortByAlignment(n,o,st.HORIZONTAL),t.sortByAlignment(o.children,o,st.HORIZONTAL,!0),r=n[e])):_.some(function(e){return e.multiLine})||!ft.linearX(_)?(R=t.controllerHandler.createGroup(r,_,o),L=t.writeRelativeLayout(R,o),R.alignmentType|=st.INLINE_WRAP):_.some(function(e){return!e.parent.linearHorizontal})&&(R=t.controllerHandler.createGroup(r,_,o),L=t.writeLinearLayout(R,o,!0),t.sortByAlignment(R.children,R,st.HORIZONTAL,!0)):1<x.length&&(o.is(dt.CONSTRAINT)||!x.some(function(e){return f.has(e)&&e!==x[x.length-1]})||x.every(function(e){return f.has(e)})?x.length===n.length?o.alignmentType|=st.VERTICAL:x.some(function(e){return!e.parent.linearVertical})&&(R=t.controllerHandler.createGroup(r,x,o),L=t.writeLinearLayout(R,o,!1)):(R=t.controllerHandler.createGroup(r,x,o),L=t.writeFrameLayoutVertical(R,x,f))),null!=R&&(d(R,o,L,'',!0),o=r.parent)}if(!r.rendered){var N='';if(''===r.nodeName){var S=r.children.filter(function(e){return!e.isSet('dataset','target')});if(0===S.length){var O=Z(r.element,1);Lt.collapseUnattributedElements&&!O&&0===Object.keys(r.styleMap).length&&0===r.viewWidth&&0===r.viewHeight?(o.remove(r),r.hide()):(!r.inlineText||0>r.toInt('textIndent')+r.bounds.width)&&/url(.*?)/.test(r.css('backgroundImage'))&&'no-repeat'===r.css('backgroundRepeat')&&!r.has('backgroundColor')?(r.alignmentType|=st.SINGLE,r.excludeResource|=ut.FONT_STYLE|ut.VALUE_STRING,N=t.writeNode(r,o,dt.IMAGE)):O||r.inline?N=t.writeNode(r,o,dt.TEXT):!r.inlineElement&&(0<r.borderTopWidth+r.borderBottomWidth||0<r.paddingTop+r.paddingBottom)?N=t.writeNode(r,o,dt.LINE):!r.documentRoot&&(N=t.writeFrameLayout(r,o))}else if(r.flex.enabled||S.some(function(e){return!e.pageflow})||r.has('columnCount'))N=t.writeConstraintLayout(r,o);else if(1!==S.length){var w=r.children,k=[ft.linearX(w),ft.linearY(w)],B=k[0],C=k[1];if(!o.flex.enabled&&w.every(function(e){return e.pageflow})){var D=new Set(w.map(function(e){return e.float}));if(B){var P=w.some(function(e){return!['baseline','initial','sub','sup'].includes(e.css('verticalAlign'))});if(1===D.size&&D.has('none')&&w.some(function(e){return e.hasElement&&!['baseline','initial','top','middle','bottom','sub','sup'].includes(e.css('verticalAlign'))})&&w.every(function(e){return 0<=e.toInt('verticalAlign')}))N=t.writeConstraintLayout(r,o),r.alignmentType|=st.HORIZONTAL,t.sortByAlignment(w,r,r.alignmentType,!0);else if((1===D.size||!D.has('right'))&&!w.some(function(e){return e.multiLine})||P)N=t.writeLinearLayout(r,o,!0),(w.some(function(e){return e.plainText})||P)&&(r.alignmentType|=st.HORIZONTAL);else if((D.has('left')||D.has('none'))&&D.has('right')){var F=t.controllerHandler.createGroup(r,w,o,r.element),M=t.writeFrameLayoutHorizontal(F,o,F.children);return d(F,o,M,y,!0),'continue'}}else{var G=ft.cleared(w);(C||w.some(function(e){return e.blockStatic||G.has(e)})&&!w.some(function(e){return e.autoMargin}))&&(N=t.writeLinearLayout(r,o,!1),w.every(function(e){return e.blockStatic})&&(r.alignmentType|=st.VERTICAL))}}''===N&&(w.every(function(e){return e.pageflow&&e.inlineElement&&!f.has(e)})?(N=t.writeRelativeLayout(r,o),r.alignmentType|=st.OPEN):(N=t.writeConstraintLayout(r,o),!B&&C&&(r.alignmentType|=st.INLINE_WRAP)))}else if(Lt.collapseUnattributedElements&&0===Object.keys(r.styleMap).length&&!t.controllerHandler.hasAppendProcessing(r.id)){var H=S[0];H.documentRoot=r.documentRoot,H.parent=o,r.hide()}else N=t.writeFrameLayout(r,o)}else N=t.writeNode(r,o,r.nodeName);d(r,o,N,y)}}t.controllerHandler.supportInclude&&0<m.length&&'true'===T(r,'dataset.includeEnd')&&m.pop()},_=0,x;_<n.length;_++)x=b(_),'continue'===x},h=!0,c=!1,g=void 0;try{for(var m=e.values()[Symbol.iterator](),f;!(h=(f=m.next()).done);h=!0){var y=f.value,b=p(y)}}catch(e){c=!0,g=e}finally{try{!h&&m.return&&m.return()}finally{if(c)throw g}}var _=function(e,n){var i=[],a=e.split(':'),l=ot(a,2),d=l[0],s=l[1],u=Array.from(n.values());if(0<u.length){if(null!=t._sorted[d]){var p=[];t._sorted[d].forEach(function(e){var t=u.find(function(t){return-1!==t.indexOf(ee(e,'@'))});t&&p.push(t)}),p.length===u.length&&i.push.apply(i,p)}0===i.length&&i.push.apply(i,lt(u)),e=d+(null==s?'':':'+s);var h=ee(e);-1===r.indexOf(h)?t.addLateInsert(e,u):(r=te(r,h,i.join('')),o=!1)}N=e},x=!0,I=!1,E=void 0;try{for(var A=s.entries()[Symbol.iterator](),v;!(x=(v=A.next()).done);x=!0){var R=v.value,L=ot(R,2),N=L[0],S=L[1];_(N,S)}}catch(e){I=!0,E=e}finally{try{!x&&A.return&&A.return()}finally{if(I)throw E}}if(t.controllerHandler.supportInclude){var O=!0,w=!1,k=void 0;try{for(var C=u.entries()[Symbol.iterator](),D;!(O=(D=C.next()).done);O=!0){var P=D.value,F=ot(P,2),M=F[0],S=F[1],G=Array.from(S.values());if(0<G.length){var H=t.controllerHandler.renderMerge(M,G);t.addInclude(M,H)}}}catch(e){w=!0,k=e}finally{try{!O&&C.return&&C.return()}finally{if(w)throw k}}}},f=!0,y=!1,b=void 0;try{for(var _=a.values()[Symbol.iterator](),x,E;!(f=(x=_.next()).done);f=!0)E=x.value,m(E)}catch(e){y=!0,b=e}finally{try{!f&&_.return&&_.return()}finally{if(y)throw b}}var A=this.cache.parent;if(null==A.renderExtension||!A.isSet('dataset','target')){var v=I(T(A,'dataset.folder').trim(),'/');this.updateLayout(o?'':r,v,null!=A.renderExtension&&A.renderExtension.documentRoot)}else this._views.pop();if(!o){var R=!0,L=!1,N=void 0;try{for(var S=this.extensions[Symbol.iterator](),O,w;!(R=(O=S.next()).done);R=!0)w=O.value,w.setTarget(A),w.afterRender()}catch(e){L=!0,N=e}finally{try{!R&&S.return&&S.return()}finally{if(L)throw N}}}else null==A.renderExtension&&(A.visible=!1);(l=this.cacheInternal).append.apply(l,lt(this.cache))}},{key:'writeFrameLayout',value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return 0!==e.children.length||n?this.controllerHandler.renderGroup(e,t,dt.FRAME):this.controllerHandler.renderNode(e,t,dt.FRAME)}},{key:'writeLinearLayout',value:function(e,t,n){return this.controllerHandler.renderGroup(e,t,dt.LINEAR,{horizontal:n})}},{key:'writeGridLayout',value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return this.controllerHandler.renderGroup(e,t,dt.GRID,{columns:n,rows:i})}},{key:'writeRelativeLayout',value:function(e,t){return this.controllerHandler.renderGroup(e,t,dt.RELATIVE)}},{key:'writeConstraintLayout',value:function(e,t){return this.controllerHandler.renderGroup(e,t,dt.CONSTRAINT)}},{key:'writeNode',value:function(e,t,n){return this.controllerHandler.renderNode(e,t,n)}},{key:'writeFrameLayoutHorizontal',value:function(e,t,n){var i=this,a='',r=new ft(n).partition(function(e){return e.floating||e.autoMargin}),o=ot(r,2),l=o[0],d=o[1],s=new ft(l.list).partition(function(e){return'right'===e.float||'auto'===e.cssOriginal('marginLeft')}),u=ot(s,2),p=u[0],h=u[1],c=void 0;return 0===p.length?(a=this.writeLinearLayout(e,t,!0),c=[h,d]):(a=this.writeFrameLayout(e,t,!0),c=[d,h,p]),c.forEach(function(t,n){if(1<t.length){var r='',o=i.controllerHandler.createGroup(t.list[0],t.list,e);if(2!==n&&(!t.linearX||t.list.some(function(e){return e.plainText&&e.multiLine})))r=i.writeRelativeLayout(o,e),o.alignmentType|=st.INLINE_WRAP;else{if(r=i.writeLinearLayout(o,e,!0),i.sortByAlignment(o.children,o,st.HORIZONTAL,!0),2===n&&o.children.some(function(e){return 0>e.marginLeft})){var d=0,s=[];o.children.slice().reverse().forEach(function(e){var t=!1;0>d&&(ze(d)>e.bounds.width?(d+=e.bounds.width,e.modifyBox(ht.MARGIN_RIGHT,-1*e.bounds.width,!0),t=!0):ze(d)>=e.marginRight?(e.modifyBox(ht.MARGIN_RIGHT,Ye(ze(d)-e.marginRight)),e.modifyBox(ht.MARGIN_RIGHT,null)):e.modifyBox(ht.MARGIN_RIGHT,d,!0)),0>e.marginLeft&&(d+=Ue(e.marginLeft,-1*e.bounds.width),e.modifyBox(ht.MARGIN_LEFT,null)),t?s.splice(s.length-1,0,e):s.push(e)}),o.children=s.reverse(),i.preserveSortOrder(o.id,o.children)}o.alignmentType|=st.HORIZONTAL}0<l.length&&(o.alignmentType|=st.FLOAT),o.alignmentType|=st.SEGMENTED,o.alignmentType|=2>n?st.LEFT:st.RIGHT,a=te(a,e.id,r),e.renderAppend(o)}else if(0<t.length){var u=t.list[0];u.alignmentType|=st.SINGLE,u.alignmentType|=2>n?st.LEFT:st.RIGHT,u.renderIndex=n,a=te(a,e.id,'{:'+e.id+':'+n+'}'),e.renderAppend(u)}}),a}},{key:'writeFrameLayoutVertical',value:function(e,t,n){var i=this,a='',r=[],o=[],l=[],d=[],s=0,u=!1;t.some(function(e){return!e.floating&&(s+=e.linear.height,!0)});for(var p=0,h;p<t.length;p++)h=t[p],0<p&&n.has(h)?(d.push(h),!h.floating&&(h.modifyBox(ht.MARGIN_TOP,null),r.push(l.slice()),l.length=0),o.push(d.slice()),d.length=0,u=!0):h.floating?(u&&(r.push(l.slice()),l.length=0,u=!1),d.push(h)):l.push(h);o.push(d),r.push(l);for(var c=0;c<Ue(o.length,r.length);c++){var g=o[c]||[],m=r[c]||[];(0<m.length||0<g.length)&&function(){var n=g[0]||m[0],r=i.controllerHandler.createGroup(n,void 0,e),o=[],l=null;1<g.length?l=i.controllerHandler.createGroup(g[0],g,r):0<g.length&&(l=g[0]),null!=l&&(o.push(l),0===c&&0<s&&l.modifyBox(ht.MARGIN_TOP,s),l=null),1<m.length?l=i.controllerHandler.createGroup(m[0],m,r):0<m.length&&(l=m[0]),null!=l&&o.push(l),r.children=o,r.alignmentType|=st.VERTICAL,r.init(),a+=i.writeFrameLayout(r,e,!0),o.forEach(function(e,n){e.parent=r,t.includes(e)?a=te(a,r.id,'{:'+r.id+':'+n+'}'):(a=te(a,r.id,i.writeLinearLayout(e,r,!1)),e.alignmentType|=st.VERTICAL|st.SEGMENTED)})}()}return a}},{key:'appendLateInsert',value:function(){var e=!0,t=!1,n=void 0;try{for(var i=this.cacheInternal[Symbol.iterator](),a;!(e=(a=i.next()).done);e=!0){var r=a.value,o=r.renderExtension;null!=o&&(o.setTarget(r),o.beforeInsert())}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}var l={};for(var d in this.lateInsert){var s=d.split(':'),u=ot(s,1),p=u[0],h=p;if(!f(h)){var c=this.findByDomId(h);c&&(h=c.id.toString())}var g=this.lateInsert[d].join('\n');if(h!==p){var m=this.cacheInternal.locate('id',parseInt(h));if(m){var y=m.renderDepth+1;g=ie(g,y);for(var b=/{@([0-9]+)}/g,_=null,T=0,x;null!=(_=b.exec(g));)x=this.cacheInternal.locate('id',parseInt(_[1])),x&&(0==T++?x.renderDepth=y:x.renderDepth=x.parent.renderDepth+1)}}l[h]=g}for(var I in l)for(var E in l)I!==E&&(l[I]=l[I].replace(ee(E),l[E]),l[E]=l[E].replace(ee(I),l[I]));var A=!0,v=!1,R=void 0;try{for(var L=this.everyLayout[Symbol.iterator](),N,S;!(A=(N=L.next()).done);A=!0){for(var O in S=N.value,l)S.content=S.content.replace(ee(O),l[O]);S.content=this.controllerHandler.appendLateInsert(S.content)}}catch(e){v=!0,R=e}finally{try{!A&&L.return&&L.return()}finally{if(v)throw R}}var w=!0,k=!1,B=void 0;try{for(var C=this.cacheInternal[Symbol.iterator](),D;!(w=(D=C.next()).done);w=!0){var P=D.value,o=P.renderExtension;null!=o&&(o.setTarget(P),o.afterInsert())}}catch(e){k=!0,B=e}finally{try{!w&&C.return&&C.return()}finally{if(k)throw B}}}},{key:'createLayout',value:function(e){this._currentIndex=this._views.length,this._views.push({filename:e,pathname:'',content:''})}},{key:'updateLayout',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];if(t=t||this.controllerHandler.settings.folderLayout,n&&0<this._views.length&&''===this._views[0].content){var i=this._views.pop();Object.assign(this._views[0],{pathname:t,filename:i.filename,content:e}),this._currentIndex=0}else this.currentLayout.pathname=t,this.currentLayout.content=e}},{key:'addInclude',value:function(e,t){this._includes.push({pathname:this.controllerHandler.settings.folderLayout,filename:e,content:t})}},{key:'addLateInsert',value:function(e,t){var n;null==this.lateInsert[e]&&(this.lateInsert[e]=[]),(n=this.lateInsert[e]).push.apply(n,lt(t))}},{key:'sortByAlignment',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:st.NONE,i=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],a=!1;return t&&n===st.NONE&&(t.linearHorizontal?n|=st.HORIZONTAL:t.is(dt.CONSTRAINT)&&(n|=st.ABSOLUTE)),a||(m(n,st.HORIZONTAL)&&e.some(function(e){return e.floating})&&(e.sort(function(e,t){return e.floating&&!t.floating?'left'===e.float?-1:1:!e.floating&&t.floating?'left'===t.float?1:-1:e.floating&&t.floating&&e.float!==t.float?'left'===e.float?-1:1:e.linear.left<=t.linear.left?-1:1}),a=!0),m(n,st.ABSOLUTE)&&e.some(function(e){return 0!==e.toInt('zIndex')})&&(e.sort(function(e,t){var n=e.css('zIndex'),i=t.css('zIndex');return('auto'===n||''===n||'0'===n)&&('auto'===i||''===i||'0'===i)?e.siblingIndex<t.siblingIndex?-1:1:d(n)<=d(i)?-1:1}),a=!0)),t&&i&&a&&this.preserveSortOrder(t.id,e),e}},{key:'preserveSortOrder',value:function(e,t){this._sorted[e.toString()]=t.map(function(e){return e.id})}},{key:'getExtension',value:function(e){return this.extensions.find(function(t){return t.name===e})}},{key:'addXmlNs',value:function(e,t){this.controllerHandler.addXmlNs(e,t)}},{key:'findByDomId',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];return(t?this.cache:this.cacheInternal).locate(function(t){return t.element.id===e||t.nodeId===e})}},{key:'toString',value:function(){return 0<this._views.length?this._views[0].content:''}},{key:'insertNode',value:function(e,t){var n=null;return'#text'===e.nodeName?(K(e)||U(e,'whiteSpace','pre','pre-wrap'))&&(n=new this._Node(this.cache.nextId,Lt.targetAPI,e),n.tagName='PLAINTEXT',t?(n.parent=t,n.inherit(t,'style')):n.css('whiteSpace',(e.parentElement?W(e.parentElement).whiteSpace:null)||'normal'),n.css({position:'static',display:'inline',clear:'none',cssFloat:'none',verticalAlign:'baseline'})):$(e)&&(n=new this._Node(this.cache.nextId,Lt.targetAPI,e),P(e,'nodeIsolated')&&(n.isolated=!0),n.setExclusions()),null!=n&&(n.setMultiLine(),this.cache.append(n)),n}},{key:'prioritizeExt',value:function(e,t){for(var n=[],i=t;null!=i;)n=[].concat(lt(n),lt(T(i,'dataset.ext').split(',').map(function(e){return e.trim()}))),i=i.parentElement;if(n=n.filter(function(e){return e}),0<n.length){var a=[],r=[],o=!0,l=!1,d=void 0;try{for(var s=e[Symbol.iterator](),u;!(o=(u=s.next()).done);o=!0){var p=u.value,h=n.indexOf(p.name);-1===h?r.push(p):a[h]=p}}catch(e){l=!0,d=e}finally{try{!o&&s.return&&s.return()}finally{if(l)throw d}}return[].concat(lt(a.filter(function(e){return e})),r)}return e}},{key:'appName',set:function(e){null!=this.resourceHandler&&(this.resourceHandler.file.appName=e)},get:function(){return null==this.resourceHandler?'':this.resourceHandler.file.appName}},{key:'currentLayout',set:function(e){this._views[this._currentIndex]=e},get:function(){return this._views[this._currentIndex]}},{key:'everyLayout',get:function(){return[].concat(lt(this._views),lt(this._includes))}},{key:'viewData',get:function(){return{cache:this.cacheInternal,views:this._views,includes:this._includes}}},{key:'size',get:function(){return this._views.length+this._includes.length}}]),e}(),St=function(){function e(t,n,i){Je(this,e),this.name=t,this.options={},this.tagNames=[],this.dependencies=[],this.documentRoot=!1,Array.isArray(n)&&(this.tagNames=n.map(function(e){return e.trim().toUpperCase()})),null!=i&&Object.assign(this.options,i)}return Qe(e,[{key:'setTarget',value:function(e,t,n){this.node=e,this.parent=t,this.element=n||this.node.element}},{key:'is',value:function(e){return e.hasElement&&(0===this.tagNames.length||this.tagNames.includes(e.element.tagName))}},{key:'require',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];this.dependencies.push({name:e,init:t})}},{key:'included',value:function(e){return null==e&&(e=this.element),_(T(e,'dataset.ext'),this.name)}},{key:'beforeInit',value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];!t&&this.included()&&this.dependencies.filter(function(e){return e.init}).forEach(function(t){var n=e.application.getExtension(t.name);null!=n&&(n.setTarget(e.node,e.parent,e.element),n.beforeInit(!0))})}},{key:'init',value:function(){return!1}},{key:'afterInit',value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];!t&&this.included()&&this.dependencies.filter(function(e){return e.init}).forEach(function(t){var n=e.application.getExtension(t.name);n&&(n.setTarget(e.node,e.parent,e.element),n.afterInit(!0))})}},{key:'condition',value:function(){var e=this.node;if(e&&e.hasElement){var t=T(e.element,'dataset.ext');return''===t?0<this.tagNames.length:this.included()}return!1}},{key:'processNode',value:function(){return{xml:''}}},{key:'processChild',value:function(){return{xml:''}}},{key:'afterRender',value:function(){}},{key:'beforeInsert',value:function(){}},{key:'afterInsert',value:function(){}},{key:'finalize',value:function(){}},{key:'getData',value:function(){var e={};if(this.element instanceof HTMLElement){var t=r(this.name,'\\.');for(var n in this.element.dataset)n.length>t.length&&n.startsWith(t)&&(e[l(n.substring(t.length),!1)]=this.element.dataset[n])}return e}}]),e}(),Ot={Pink:{hex:'#FFC0CB'},LightPink:{hex:'#FFB6C1'},HotPink:{hex:'#FF69B4'},DeepPink:{hex:'#FF1493'},PaleVioletRed:{hex:'#DB7093'},MediumVioletRed:{hex:'#C71585'},LightSalmon:{hex:'#FFA07A'},Salmon:{hex:'#FA8072'},DarkSalmon:{hex:'#E9967A'},LightCoral:{hex:'#F08080'},IndianRed:{hex:'#CD5C5C'},Crimson:{hex:'#DC143C'},Firebrick:{hex:'#B22222'},DarkRed:{hex:'#8B0000'},Red:{hex:'#FF0000'},OrangeRed:{hex:'#FF4500'},Tomato:{hex:'#FF6347'},Coral:{hex:'#FF7F50'},Orange:{hex:'#FFA500'},DarkOrange:{hex:'#FF8C00'},Yellow:{hex:'#FFFF00'},LightYellow:{hex:'#FFFFE0'},LemonChiffon:{hex:'#FFFACD'},LightGoldenrodYellow:{hex:'#FAFAD2'},PapayaWhip:{hex:'#FFEFD5'},Moccasin:{hex:'#FFE4B5'},PeachPuff:{hex:'#FFDAB9'},PaleGoldenrod:{hex:'#EEE8AA'},Khaki:{hex:'#F0E68C'},DarkKhaki:{hex:'#BDB76B'},Gold:{hex:'#FFD700'},Cornsilk:{hex:'#FFF8DC'},BlanchedAlmond:{hex:'#FFEBCD'},Bisque:{hex:'#FFE4C4'},NavajoWhite:{hex:'#FFDEAD'},Wheat:{hex:'#F5DEB3'},Burlywood:{hex:'#DEB887'},Tan:{hex:'#D2B48C'},RosyBrown:{hex:'#BC8F8F'},SandyBrown:{hex:'#F4A460'},Goldenrod:{hex:'#DAA520'},DarkGoldenrod:{hex:'#B8860B'},Peru:{hex:'#CD853F'},Chocolate:{hex:'#D2691E'},SaddleBrown:{hex:'#8B4513'},Sienna:{hex:'#A0522D'},Brown:{hex:'#A52A2A'},Maroon:{hex:'#800000'},DarkOliveGreen:{hex:'#556B2F'},Olive:{hex:'#808000'},OliveDrab:{hex:'#6B8E23'},YellowGreen:{hex:'#9ACD32'},LimeGreen:{hex:'#32CD32'},Lime:{hex:'#00FF00'},LawnGreen:{hex:'#7CFC00'},Chartreuse:{hex:'#7FFF00'},GreenYellow:{hex:'#ADFF2F'},SpringGreen:{hex:'#00FF7F'},MediumSpringGreen:{hex:'#00FA9A'},LightGreen:{hex:'#90EE90'},PaleGreen:{hex:'#98FB98'},DarkSeaGreen:{hex:'#8FBC8F'},MediumAquamarine:{hex:'#66CDAA'},MediumSeaGreen:{hex:'#3CB371'},SeaGreen:{hex:'#2E8B57'},ForestGreen:{hex:'#228B22'},Green:{hex:'#008000'},DarkGreen:{hex:'#006400'},Aqua:{hex:'#00FFFF'},Cyan:{hex:'#00FFFF'},LightCyan:{hex:'#E0FFFF'},PaleTurquoise:{hex:'#AFEEEE'},Aquamarine:{hex:'#7FFFD4'},Turquoise:{hex:'#40E0D0'},DarkTurquoise:{hex:'#00CED1'},MediumTurquoise:{hex:'#48D1CC'},LightSeaGreen:{hex:'#20B2AA'},CadetBlue:{hex:'#5F9EA0'},DarkCyan:{hex:'#008B8B'},Teal:{hex:'#008080'},LightSteelBlue:{hex:'#B0C4DE'},PowderBlue:{hex:'#B0E0E6'},LightBlue:{hex:'#ADD8E6'},SkyBlue:{hex:'#87CEEB'},LightSkyBlue:{hex:'#87CEFA'},DeepSkyBlue:{hex:'#00BFFF'},DodgerBlue:{hex:'#1E90FF'},Cornflower:{hex:'#6495ED'},SteelBlue:{hex:'#4682B4'},RoyalBlue:{hex:'#4169E1'},Blue:{hex:'#0000FF'},MediumBlue:{hex:'#0000CD'},DarkBlue:{hex:'#00008B'},Navy:{hex:'#000080'},MidnightBlue:{hex:'#191970'},Lavender:{hex:'#E6E6FA'},Thistle:{hex:'#D8BFD8'},Plum:{hex:'#DDA0DD'},Violet:{hex:'#EE82EE'},Orchid:{hex:'#DA70D6'},Fuchsia:{hex:'#FF00FF'},Magenta:{hex:'#FF00FF'},MediumOrchid:{hex:'#BA55D3'},MediumPurple:{hex:'#9370DB'},BlueViolet:{hex:'#8A2BE2'},DarkViolet:{hex:'#9400D3'},DarkOrchid:{hex:'#9932CC'},DarkMagenta:{hex:'#8B008B'},Purple:{hex:'#800080'},RebeccaPurple:{hex:'#663399'},Indigo:{hex:'#4B0082'},DarkSlateBlue:{hex:'#483D8B'},SlateBlue:{hex:'#6A5ACD'},MediumSlateBlue:{hex:'#7B68EE'},White:{hex:'#FFFFFF'},Snow:{hex:'#FFFAFA'},Honeydew:{hex:'#F0FFF0'},MintCream:{hex:'#F5FFFA'},Azure:{hex:'#F0FFFF'},AliceBlue:{hex:'#F0F8FF'},GhostWhite:{hex:'#F8F8FF'},WhiteSmoke:{hex:'#F5F5F5'},Seashell:{hex:'#FFF5EE'},Beige:{hex:'#F5F5DC'},OldLace:{hex:'#FDF5E6'},FloralWhite:{hex:'#FFFAF0'},Ivory:{hex:'#FFFFF0'},AntiqueWhite:{hex:'#FAEBD7'},Linen:{hex:'#FAF0E6'},LavenderBlush:{hex:'#FFF0F5'},MistyRose:{hex:'#FFE4E1'},Gainsboro:{hex:'#DCDCDC'},LightGray:{hex:'#D3D3D3'},Silver:{hex:'#C0C0C0'},DarkGray:{hex:'#A9A9A9'},Gray:{hex:'#808080'},DimGray:{hex:'#696969'},LightSlateGray:{hex:'#778899'},SlateGray:{hex:'#708090'},DarkSlateGray:{hex:'#2F4F4F'},Black:{hex:'#000000'}},wt=[];for(var kt in Ot){var i=Ot[kt];for(var Bt in i){var j=ye(i[Bt]);j&&(i.rgb=j,i.hsl=ue(i.rgb.r,i.rgb.g,i.rgb.b)),wt.push({name:kt,rgb:i.rgb,hex:i.hex,hsl:i.hsl})}}wt.sort(pe);var Ct={EXTERNAL:'androme.external',CUSTOM:'androme.custom',GRID:'androme.grid',LIST:'androme.list',TABLE:'androme.table'},Dt=function(e){function t(e,n,i){return Je(this,t),it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return nt(t,e),Qe(t,[{key:'beforeInit',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if((e||this.included())&&null!=this.element&&null==P(this.element,'andromeExternalDisplay')){for(var t=[],n=this.element;null!=n;)t.push(W(n).display),n.style.display='block',n=n.parentElement;D(this.element,'andromeExternalDisplay',t)}}},{key:'init',value:function(e){return this.included(e)&&this.application.elements.add(e),!1}},{key:'afterInit',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if((e||this.included())&&null!=this.element){var t=P(this.element,'andromeExternalDisplay');if(t){for(var n=this.element,a=0;null!=n;)n.style.display=t[a],n=n.parentElement,a++;F(this.element,'andromeExternalDisplay')}}}},{key:'is',value:function(){return!1}},{key:'condition',value:function(){return!1}}]),t}(St),Pt=function(){function e(){Je(this,e),this._before={},this._after={}}return Qe(e,[{key:'reset',value:function(){this._before={},this._after={}}},{key:'appendLateInsert',value:function(e){for(var t in this._before)e=e.replace('{<'+t+'}',this._before[t].join(''));for(var n in this._after)e=e.replace('{>'+n+'}',this._after[n].join(''));return e}},{key:'prependBefore',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1;null==this._before[e]&&(this._before[e]=[]),-1!==n&&n<this._before[e].length?this._before[e].splice(n,0,t):this._before[e].push(t)}},{key:'appendAfter',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1;null==this._after[e]&&(this._after[e]=[]),-1!==n&&n<this._after[e].length?this._after[e].splice(n,0,t):this._after[e].push(t)}},{key:'hasAppendProcessing',value:function(e){return null!=this._before[e]||null!=this._after[e]}},{key:'getEnclosingTag',value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:'',r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:'',o=E(Ue(0,e)),l=a+('{<'+n+'}');return l+=''===i?o+('<'+t+(0===e?'{#0}':'')+'{@'+n+'} />\n'):o+('<'+t+(0===e?'{#0}':'')+'{@'+n+'}>\n')+i+o+('</'+t+'>\n'),l+='{>'+n+'}'+r,l}}]),e}(),Ft=function(){function e(t){Je(this,e),this.file=t}return Qe(e,[{key:'addFile',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'';this.file.addFile(e,t,n,i)}},{key:'reset',value:function(){e.STORED.STRINGS=new Map,e.STORED.ARRAYS=new Map,e.STORED.FONTS=new Map,e.STORED.STYLES=new Map,e.STORED.DRAWABLES=new Map,e.STORED.COLORS=new Map,e.STORED.DIMENS=new Map,e.STORED.IMAGES=new Map,this.file.reset()}},{key:'setBoxSpacing',value:function(){this.cache.elements.each(function(e){if(!e.hasBit('excludeResource',ut.BOX_SPACING)&&(null==P(e.element,'boxSpacing')||Lt.alwaysReevaluateResources)){var t=V(e.element),n={};for(var i in t)n[i]=e.inlineStatic&&('marginTop'===i||'marginBottom'===i)?'0px':u(t[i]);D(e.element,'boxSpacing',n)}})}},{key:'setBoxStyle',value:function(){var e=this;this.cache.elements.each(function(t){if(!t.hasBit('excludeResource',ut.BOX_STYLE)&&(null==P(t.element,'boxStyle')||Lt.alwaysReevaluateResources)){var n={borderTop:e.parseBorderStyle,borderRight:e.parseBorderStyle,borderBottom:e.parseBorderStyle,borderLeft:e.parseBorderStyle,borderRadius:e.parseBorderRadius,backgroundColor:e.parseBackgroundColor,backgroundImage:!t.hasBit('excludeResource',ut.IMAGE_SOURCE),backgroundSize:e.parseBoxDimensions,backgroundRepeat:!0,backgroundPosition:!0};for(var a in n){var i=t.css(a);n[a]='function'==typeof n[a]?n[a](i,t,a):!0===n[a]?i:''}0<n.backgroundColor.length&&(Lt.excludeBackgroundColor.includes(n.backgroundColor[0])&&n.backgroundColor[1]!==t.styleMap.backgroundColor||!t.has('backgroundColor')&&t.documentParent.visible&&Y(t.element,'backgroundColor'))&&(n.backgroundColor=[]);var r=JSON.stringify(n.borderTop);r===JSON.stringify(n.borderRight)&&r===JSON.stringify(n.borderBottom)&&r===JSON.stringify(n.borderLeft)&&(n.border=n.borderTop),D(t.element,'boxStyle',n)}})}},{key:'setFontStyle',value:function(){var e=this;this.cache.each(function(t){if(!t.hasBit('excludeResource',ut.FONT_STYLE)&&(null==P(t.element,'fontStyle')||Lt.alwaysReevaluateResources)){if(0<t.renderChildren.length||t.imageElement||'HR'===t.element.tagName)return;var n=me(t.css('color'),t.css('opacity'));0<n.length&&Lt.excludeTextColor.includes(n[0])&&(t.plainText||t.styleMap.color!==n[1])&&(n.length=0);var i=me(t.css('backgroundColor'),t.css('opacity'));0<i.length&&(e.hasDrawableBackground(P(t.element,'boxStyle'))||Lt.excludeBackgroundColor.includes(i[0])&&(t.plainText||i[1]!==t.styleMap.backgroundColor)||!t.has('backgroundColor')&&Y(t.element,'backgroundColor'))&&(i.length=0);var a=t.css('fontWeight'),r=t.css('fontSize');0===d(r)&&('xx-small'===r?r='8px':'x-small'===r?r='10px':'small'===r?r='13px':'medium'===r?r='16px':'large'===r?r='18px':'x-large'===r?r='24px':'xx-large'===r?r='32px':void 0),f(a)||(a='lighter'===a?'200':'bold'===a?'700':'bolder'===a?'900':'400');var o={fontFamily:t.css('fontFamily'),fontStyle:t.css('fontStyle'),fontSize:r,fontWeight:a,color:n,backgroundColor:i};D(t.element,'fontStyle',o)}})}},{key:'setOptionArray',value:function(){this.cache.filter(function(e){return e.visible&&'SELECT'===e.element.tagName&&!e.hasBit('excludeResource',ut.OPTION_ARRAY)}).each(function(e){var t=e.element;if(null==P(t,'optionArray')||Lt.alwaysReevaluateResources){for(var n=[],a=[],r=0;r<t.children.length;r++){var o=t.children[r],l=o.text.trim();if(''!==l)if(!Lt.numberResourceValue&&null!=a&&0===n.length&&f(l))a.push(l);else{if(a&&0<a.length){r=-1,a=null;continue}''!==l&&n.push(l)}}D(t,'optionArray',{stringArray:0<n.length?n:null,numberArray:a&&0<a.length?a:null})}})}},{key:'setValueString',value:function(){function e(e,t){switch(e.multiLine&&(t=t.replace(/^\s*\n/,'')),e.css('whiteSpace')){case'nowrap':t=t.replace(/\n/g,' ');break;case'pre':case'pre-wrap':t=t.replace(/\n/g,'\\n'),t=t.replace(/\s/g,'&#160;');break;case'pre-line':t=t.replace(/\n/g,'\\n'),t=t.replace(/\s+/g,' ');break;default:return J(e.element.previousSibling)&&(t=t.replace(/^\s+/,'')),J(e.element.nextSibling)&&(t=t.replace(/\s+$/,'')),[t,!1];}return[t,!0]}this.cache.filter(function(e){return e.visible&&!e.hasBit('excludeResource',ut.VALUE_STRING)}).each(function(t){var n=t.element;if(null==P(n,'valueString')||Lt.alwaysReevaluateResources){var i='',a='',r=!1;if(n instanceof HTMLInputElement)switch(n.type){case'text':case'number':case'email':case'search':case'submit':case'reset':case'button':a=n.value.trim();break;default:null!=t.companion&&(a=((t.plainText?t.companion.element.textContent:t.companion.element.innerText)||'').trim());}else if(n instanceof HTMLTextAreaElement)a=n.value.trim();else if(n instanceof HTMLElement){if(t.inlineText){i=(n.innerText||n.textContent||'').trim(),a=re(0<n.children.length||'CODE'===n.tagName?n.innerHTML:n.innerText||n.textContent||'');var o=e(t,a),l=ot(o,2);a=l[0],r=l[1],a=a.replace(/\s*<br\s*\/?>\s*/g,'\\n'),a=a.replace(/\s+(class|style)=".*?"/g,'')}}else if(t.plainText){i=(n.textContent||'').trim(),a=re(n.textContent||''),a=a.replace(/&[A-Za-z]+;/g,function(e){return e.replace('&','&amp;')});var d=e(t,a),s=ot(d,2);a=s[0],r=s[1]}if(''!==a){var u=t.previousSibling,p=t.nextSibling,h=!1;if(null==u||u.multiLine?a=a.replace(/^\s+/,''):h=/\s+$/.test(u.element.innerText||u.element.textContent),r){var c=a;a=a.trim(),u&&'block'!==u.display&&!h&&/^\s+/.test(c)&&(a='&#160;'+a),p&&/\s+$/.test(c)&&(a+='&#160;')}else /^\s+$/.test(a)?0<a.length&&(a='&#160;'+a.substring(1)):(a=a.replace(/^\s+/,u&&(u.block||u.element instanceof HTMLElement&&1<u.element.innerText.length&&h||t.multiLine&&(q(n)||t.renderParent.renderParent.linearHorizontal))?'':'&#160;'),a=a.replace(/\s+$/,null==p?'':'&#160;'));''!==a&&D(n,'valueString',{name:i,value:a})}}})}},{key:'borderVisible',value:function(e){return e&&'none'!==e.style&&'0px'!==e.width}},{key:'hasDrawableBackground',value:function(e){return e&&(this.borderVisible(e.borderTop)||this.borderVisible(e.borderRight)||this.borderVisible(e.borderBottom)||this.borderVisible(e.borderLeft)||''!==e.backgroundImage||0<e.borderRadius.length)}},{key:'getBorderStyle',value:function(e){var t={solid:'android:color="@color/'+e.color+'"'};return Object.assign(t,{dotted:t.solid+' android:dashWidth="3px" android:dashGap="1px"',dashed:t.solid+' android:dashWidth="1px" android:dashGap="1px"'}),t[e.style]||t.solid}},{key:'parseBorderStyle',value:function(e,t,n){var i=t.css(n+'Style')||'none',a=t.css(n+'Width')||'1px',r='none'===i?[]:me(t.css(n+'Color'),t.css('opacity'));return'inset'===i&&'0px'===a&&(a='1px'),{style:i,width:a,color:0<r.length?r:['#000000','','0']}}},{key:'parseBorderRadius',value:function(e,t){var n=[t.css('borderTopLeftRadius'),t.css('borderTopRightRadius'),t.css('borderBottomLeftRadius'),t.css('borderBottomRightRadius')],i=n[0],a=n[1],r=n[2],o=n[3];return i===a&&a===r&&r===o?''===i||'0px'===i?[]:[i]:[i,a,r,o]}},{key:'parseBackgroundColor',value:function(e,t){return me(e,t.css('opacity'))}},{key:'parseBoxDimensions',value:function(e){if('auto'!==e&&'initial'!==e){var t=e.match(/^([0-9\.]+(?:px|pt|em|%)|auto)(?: ([0-9\.]+(?:px|pt|em|%)|auto))?(?: ([0-9\.]+(?:px|pt|em)))?(?: ([0-9\.]+(?:px|pt|em)))?$/);if(t)return'0px'===t[1]&&null==t[2]||'auto'===t[1]&&'auto'===t[2]?[]:'auto'===t[1]||'auto'===t[2]?['auto'===t[1]?'':u(t[1]),'auto'===t[2]?'':u(t[2])]:b(t[1])&&null==t[3]?[t[1],t[2]]:null==t[2]||t[1]===t[2]&&t[1]===t[3]&&t[1]===t[4]?[u(t[1])]:null==t[3]||t[1]===t[3]&&t[2]===t[4]?[u(t[1]),u(t[2])]:[u(t[1]),u(t[2]),u(t[3]),u(t[4])]}return[]}}],[{key:'insertStoredAsset',value:function(t,n,a){var r=e.STORED[t];if(r){var o='',l=!0,d=!1,s=void 0;try{for(var u=r.entries()[Symbol.iterator](),p;!(l=(p=u.next()).done);l=!0){var h=p.value,c=ot(h,2),g=c[0],m=c[1];if(JSON.stringify(a)===JSON.stringify(m)){o=g;break}}}catch(e){d=!0,s=e}finally{try{!l&&u.return&&u.return()}finally{if(d)throw s}}if(''===o&&(f(n)&&(n='__'+n),S(a))){var y=0;do o=n,0<y&&(o+='_'+y),r.has(o)||r.set(o,a),y++;while(r.has(o)&&r.get(o)!==a)}return o}return''}}]),e}();Ft.STORED={STRINGS:new Map,ARRAYS:new Map,FONTS:new Map,COLORS:new Map,STYLES:new Map,DIMENS:new Map,DRAWABLES:new Map,IMAGES:new Map};var Mt=function(){function e(t,n){Je(this,e),this.id=t,this.styleMap={},this.originalStyleMap={},this.nodeType=0,this.alignmentType=st.NONE,this.depth=-1,this.renderIndex=-1,this.siblingIndex=Ve,this.excludeProcedure=pt.NONE,this.excludeResource=ut.NONE,this.documentRoot=!1,this.visible=!0,this.rendered=!1,this.isolated=!1,this.relocated=!1,this._boxAdjustment={marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},this._boxReset={marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0},this._initialized=!1,this._data={},null!=n&&(this.element=n,this.init())}return Qe(e,[{key:'init',value:function(){if(!this._initialized){var e=this.element;if(e instanceof HTMLElement){var t=P(e,'styleMap')||{},n=!0,i=!1,a=void 0;try{for(var o=Array.from(e.style)[Symbol.iterator](),l,d;!(n=(l=o.next()).done);n=!0)d=l.value,t[r(d)]=e.style[d]}catch(e){i=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}this.style=P(e,'style')||getComputedStyle(e),this.styleMap=t,this.originalStyleMap=Object.assign({},t)}0!==this.id&&D(e,'node',this),this._initialized=!0}}},{key:'is',value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=!0,a=!1,r=void 0;try{for(var o=t[Symbol.iterator](),l,d;!(i=(l=o.next()).done);i=!0)if(d=l.value,this.nodeType===d)return!0}catch(e){a=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(a)throw r}}return!1}},{key:'of',value:function(e){if(this.nodeType===e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=!0,r=!1,o=void 0;try{for(var l=n[Symbol.iterator](),d,s;!(a=(d=l.next()).done);a=!0)if(s=d.value,this.hasBit('alignmentType',s))return!0}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}}return!1}},{key:'attr',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],a='_'+(e||'_');if(S(n)){if(null==this[a]&&(this._namespaces.add(e),this[a]={}),!i&&null!=this[a][t])return;this[a][t]=n}}},{key:'get',value:function(e){var t='_'+(e||'_');return null==this[t]?{}:this[t]}},{key:'delete',value:function(e){var t='_'+(e||'_');if(null!=this[t]){for(var n=arguments.length,i=Array(1<n?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var r=!0,o=!1,l=void 0;try{for(var d=i[Symbol.iterator](),s,u;!(r=(s=d.next()).done);r=!0)if(u=s.value,-1!==u.indexOf('*')){var p=!0,h=!1,c=void 0;try{for(var g=L(this[t],u)[Symbol.iterator](),m;!(p=(m=g.next()).done);p=!0){var f=m.value,y=ot(f,1),b=y[0];delete this[t][b]}}catch(e){h=!0,c=e}finally{try{!p&&g.return&&g.return()}finally{if(h)throw c}}}else delete this[t][u]}catch(e){o=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(o)throw l}}}}},{key:'apply',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};for(var t in e){var n=e[t];if('object'===('undefined'==typeof n?'undefined':Ze(n))){for(var i in n)this.attr(t,i,n[i]);delete e[t]}}}},{key:'each',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];return(t?this.renderChildren:this.children).forEach(e),this}},{key:'render',value:function(e){e&&(this.renderParent=e,this.renderDepth=e===this||this.documentRoot||e.isSet('dataset','target')?0:e.renderDepth+1,this.rendered=!0)}},{key:'hide',value:function(){this.rendered=!0,this.visible=!1}},{key:'data',value:function(e,t,n){var i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return S(n)&&(null==this._data[e]&&(this._data[e]={}),(i||null==this._data[e][t])&&(this._data[e][t]=n)),null==this._data[e]?null:this._data[e][t]}},{key:'ascend',value:function(){for(var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=[],n=e?'documentParent':'parent',i=this[n];null!=i&&0!==i.id;)t.push(i),i=i[n];return t}},{key:'cascade',value:function(){function e(t){var n=[].concat(lt(t.children));return t.each(function(t){return n.push.apply(n,lt(e(t)))}),n}return e(this)}},{key:'inherit',value:function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=!0,o=!1,l=void 0;try{for(var d=n[Symbol.iterator](),s,u;!(a=(s=d.next()).done);a=!0)switch(u=s.value,u){case'base':this.style=e.style,this.bounds=e.bounds,this.linear=e.linear,this.box=e.box;break;case'data':for(var p in this._data)for(var h in this._data[p]){var c=this._data[p][h];if('object'===('undefined'==typeof c?'undefined':Ze(c))&&!0===c.inherit){var g=e.data(p,h);if(g)for(var m in c)switch(Ze(c[m])){case'number':g[m]+=c[m];break;case'boolean':!0===c[m]&&(g[m]=!0);break;default:g[m]=c[m];}else e.data(p,h,c);delete this._data[p][h]}}break;case'style':var f={whiteSpace:e.css('whiteSpace')};for(var y in e.style)if(y.startsWith('font')||y.startsWith('color')){var b=r(y);f[b]=e.style[b]}this.css(f);break;case'styleMap':for(var _ in e.styleMap)null==this.styleMap[_]&&this.css(_,e.styleMap[_]);}}catch(e){o=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(o)throw l}}}},{key:'intersect',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear',n=e.top>this[t].top&&e.top<this[t].bottom,i=je(e.right)>Ye(this[t].left)&&e.right<this[t].right,a=je(e.bottom)>Ye(this[t].top)&&e.bottom<this[t].bottom,r=e.left>this[t].left&&e.left<this[t].right;return n&&(r||i)||a&&(r||i)}},{key:'intersectX',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.top>=this[t].top&&e.top<this[t].bottom||e.bottom>this[t].top&&e.bottom<=this[t].bottom||this[t].top>=e.top&&this[t].bottom<=e.bottom||e.top>=this[t].top&&e.bottom<=this[t].bottom}},{key:'intersectY',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.left>=this[t].left&&e.left<this[t].right||e.right>this[t].left&&e.right<=this[t].right||this[t].left>=e.left&&this[t].right<=e.right||e.left>=this[t].left&&e.right<=this[t].right}},{key:'withinX',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return this[t].top>=e.top&&this[t].bottom<=e.bottom}},{key:'withinY',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return this[t].left>=e.left&&this[t].right<=e.right}},{key:'css',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'';return'object'===('undefined'==typeof e?'undefined':Ze(e))?(Object.assign(this.styleMap,e),''):(2===arguments.length&&(this.styleMap[e]=S(t)?t:''),this.styleMap[e]||this.style&&this.style[e]||'')}},{key:'cssOriginal',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];return this.originalStyleMap[e]||(t?this.css(e):'')}},{key:'cssParent',value:function(e){for(var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n='',i=t?this:M(this.element.parentElement);null!=i&&(n=i.styleMap[e]||'',!(i.documentBody||n));)i=M(i.element.parentElement);return n}},{key:'has',value:function(e){return this.isSet('styleMap',e)}},{key:'hasBit',value:function(e,t){return null!=this[e]&&m(this[e],t)}},{key:'toInt',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return parseInt(this.styleMap[e])||t}},{key:'setExclusions',value:function(){var e=this;this.hasElement&&[['excludeProcedure',pt],['excludeResource',ut]].forEach(function(t){var n=e.dataset[t[0]]||'';null!=e.element.parentElement&&(n+='|'+(e.element.parentElement.dataset[t[0]+'Child']||'')),n.split('|').map(function(e){return e.toUpperCase().trim()}).forEach(function(n){null!=t[1][n]&&(e[t[0]]|=t[1][n])})})}},{key:'setBounds',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if(!e){var t;if(this.hasElement)t=H(this.element.getBoundingClientRect());else{var n=G(this.element),i=ot(n,1);t=i[0]}this.bounds=t}if(null!=this.bounds){if(null!=this.companion){var a=this.companion.bounds;this.bounds.left=Xe(this.bounds.left,a.left),this.bounds.right=Ue(this.bounds.right,a.right),this.bounds.width=this.bounds.right-this.bounds.left}var r={top:this.bounds.top-(0<this.marginTop?this.marginTop:0),right:this.bounds.right+this.marginRight,bottom:this.bounds.bottom+this.marginBottom,left:this.bounds.left-(0<this.marginLeft?this.marginLeft:0),width:0,height:0};null==this.linear?this.linear=r:Object.assign(this.linear,r);var o={top:this.bounds.top+(this.paddingTop+this.borderTopWidth),right:this.bounds.right-(this.paddingRight+this.borderRightWidth),bottom:this.bounds.bottom-(this.paddingBottom+this.borderBottomWidth),left:this.bounds.left+(this.paddingLeft+this.borderLeftWidth),width:0,height:0};null==this.box?this.box=o:Object.assign(this.box,o),this.setDimensions()}}},{key:'setBoundsMin',value:function(){if(this.element!==document.body){var e=this.children.filter(function(e){return!e.pageflow});if(0<e.length){var t=[Ue.apply(null,this.children.map(function(e){return e.linear.right})),Ue.apply(null,this.children.map(function(e){return e.linear.bottom}))],n=t[0],i=t[1],a=!1;n>this.box.right&&(this.bounds.right=n+(this.paddingRight+this.borderRightWidth),this.bounds.width=this.bounds.right-this.bounds.left,a=!0),i>this.box.bottom&&(this.bounds.bottom=i+(this.paddingBottom+this.borderBottomWidth),this.bounds.height=this.bounds.bottom-this.bounds.top,a=!0),a&&this.setBounds(!0)}}}},{key:'setDimensions',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:['linear','box'],t=!0,n=!1,i=void 0;try{for(var a=e[Symbol.iterator](),r;!(t=(r=a.next()).done);t=!0){var o=r.value,l=this[o];l.width=this.multiLine?this.bounds.width:l.right-l.left,l.height=l.bottom-l.top}}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}}},{key:'setMultiLine',value:function(){if(null!=this._element)switch(this._multiLine=!1,this._element.tagName){case'IMG':case'INPUT':case'BUTTON':case'TEXTAREA':case'HR':case'IFRAME':return;default:0===this.viewWidth&&this.inlineElement&&!this.floating&&(this.inlineText||this.plainText)&&(this._multiLine=G(this.element)[1]);}else this._multiLine=!1}},{key:'getParentElementAsNode',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=M(this.element.parentElement);if(!this.pageflow){for(var n=!1,i=null,a=null;t&&0!==t.id;){if(null==a&&'absolute'===this.position){if(!['static','initial'].includes(t.position)){var r=d(this.top),o=d(this.left);if(0<=r&&0<=o||!e||e&&ze(r)<=t.marginTop&&ze(o)<=t.marginLeft||this.imageElement){n=!0;break}a=t}}else if(this.withinX(t.box)&&this.withinY(t.box)||i&&(this.linear.top>=t.linear.top&&this.linear.top<i.linear.top||this.linear.right<=t.linear.right&&this.linear.right>i.linear.right||this.linear.bottom<=t.linear.bottom&&this.linear.bottom>i.linear.bottom||this.linear.left>=t.linear.left&&this.linear.left<i.linear.left)){n=!0;break}i=t,t=M(t.element.parentElement)}n||(t=a)}return t}},{key:'remove',value:function(e){this.children=this.children.filter(function(t){return t!==e})}},{key:'renderAppend',value:function(e){-1===this.renderChildren.indexOf(e)&&this.renderChildren.push(e)}},{key:'isSet',value:function(e,t){return!!(this[e]&&null!=this[e][t])&&S(this[e][t])}},{key:'boxDocument',value:function(e,t){var n=e+t;if(this.hasElement){var i=this,a='Left'===t||'Right'===t;if(a&&null!=this.companion){var r=!1,o=t.toLowerCase();'Left'===o?r=this.companion.linear[o]<this.linear[o]:'Right'===o?r=this.companion.linear[o]>this.linear[o]:void 0,r&&(i=this.companion)}var l=i.css(n);return b(l)?i.style[n]?d(i.style[n]):i.documentParent.box[a?'width':'height']*(d(l)/100):d(l)}return d(this.css(n))}},{key:'parent',set:function(e){var t=this;null==e||e===this._parent||(null!=this._parent&&(this._parent.children=this._parent.children.filter(function(e){return e!==t})),this._parent=e,-1===e.children.indexOf(this)&&e.children.push(this),this.depth=e.depth+1)},get:function(){return this._parent}},{key:'tagName',set:function(e){this._tagName=e},get:function(){return this._tagName||(this.hasElement?'INPUT'===this.element.tagName?this.element.type.toUpperCase():this.element.tagName:'')}},{key:'nodeName',set:function(e){this._nodeName=e},get:function(){return this._nodeName}},{key:'element',set:function(e){this._element=e},get:function(){return this._element||{}}},{key:'hasElement',get:function(){return this.element instanceof HTMLElement}},{key:'documentBody',get:function(){return this.element===document.body}},{key:'renderDepth',set:function(e){this._renderDepth=e},get:function(){return null==this._renderDepth&&(this.documentRoot?this._renderDepth=0:null!=this.parent&&(this._renderDepth=this.parent.renderDepth+1)),this._renderDepth||0}},{key:'dataset',get:function(){return this.element instanceof HTMLElement?this.element.dataset:{}}},{key:'extension',get:function(){return S(this.dataset.ext)?this.dataset.ext.split(',')[0].trim():''}},{key:'flex',get:function(){var e=this.style;if(null!=e){var t=this.documentParent;return{enabled:-1!==e.display.indexOf('flex'),direction:e.flexDirection,basis:e.flexBasis,grow:d(e.flexGrow),shrink:d(e.flexShrink),wrap:e.flexWrap,alignSelf:t.has('alignItems')&&(!this.has('alignSelf')||'auto'===e.alignSelf)?t.css('alignItems'):e.alignSelf,justifyContent:e.justifyContent,order:d(e.order)}}return{enabled:!1}}},{key:'viewWidth',get:function(){return this.inlineStatic?0:b(this.styleMap.width)?0:this.toInt('width')||this.toInt('minWidth')}},{key:'viewHeight',get:function(){return this.inlineStatic?0:b(this.styleMap.height)?0:this.toInt('height')||this.toInt('minHeight')}},{key:'lineHeight',get:function(){if(this.rendered){if(null==this._lineHeight&&(this._lineHeight=0,0===this.children.length&&!this.renderParent.linearHorizontal)){var e=this.toInt('lineHeight');this._lineHeight=this.inlineElement?e||this.documentParent.toInt('lineHeight'):e}return this._lineHeight}return 0}},{key:'display',get:function(){return this.css('display')||''}},{key:'position',get:function(){return this.css('position')||''}},{key:'top',get:function(){var e=this.styleMap.top;return e&&'auto'!==e?d(e):null}},{key:'right',get:function(){var e=this.styleMap.right;return e&&'auto'!==e?d(e):null}},{key:'bottom',get:function(){var e=this.styleMap.bottom;return e&&'auto'!==e?d(e):null}},{key:'left',get:function(){var e=this.styleMap.left;return e&&'auto'!==e?d(e):null}},{key:'marginTop',get:function(){return this.inlineStatic?0:this.boxDocument('margin','Top')}},{key:'marginRight',get:function(){return this.boxDocument('margin','Right')}},{key:'marginBottom',get:function(){return this.inlineStatic?0:this.boxDocument('margin','Bottom')}},{key:'marginLeft',get:function(){return this.boxDocument('margin','Left')}},{key:'borderTopWidth',get:function(){return'none'===this.css('borderTopStyle')?0:d(this.css('borderTopWidth'))}},{key:'borderRightWidth',get:function(){return'none'===this.css('borderRightStyle')?0:d(this.css('borderRightWidth'))}},{key:'borderBottomWidth',get:function(){return'none'===this.css('borderBottomStyle')?0:d(this.css('borderBottomWidth'))}},{key:'borderLeftWidth',get:function(){return'none'===this.css('borderLeftStyle')?0:d(this.css('borderLeftWidth'))}},{key:'paddingTop',get:function(){return this.boxDocument('padding','Top')}},{key:'paddingRight',get:function(){return this.boxDocument('padding','Right')}},{key:'paddingBottom',get:function(){return this.boxDocument('padding','Bottom')}},{key:'paddingLeft',get:function(){return this.boxDocument('padding','Left')}},{key:'pageflow',set:function(e){this._pageflow=e},get:function(){if(null==this._pageflow){var e=this.position;return'static'===e||'initial'===e||'relative'===e||this.alignMargin}return this._pageflow}},{key:'siblingflow',get:function(){var e=this.position;return'absolute'!==e&&'fixed'!==e}},{key:'inline',get:function(){var e=this.display;return'inline'===e||'initial'===e&&mt.includes(this.element.tagName)}},{key:'inlineElement',get:function(){var e=this.position,t=this.display;return this.inline||-1!==t.indexOf('inline')||'table-cell'===t||this.floating||('absolute'===e||'fixed'===e)&&this.alignMargin}},{key:'inlineStatic',get:function(){return this.inline&&!this.floating&&'IMG'!==this.element.tagName}},{key:'inlineText',get:function(){return this.hasElement&&!['SELECT','IMG'].includes(this.element.tagName)&&0===this.children.length&&(Z(this.element)||0<this.element.children.length&&Array.from(this.element.children).every(function(e){return P(e,'supportInline')})||0===this.element.children.length&&(0<this.borderTopWidth||0<this.borderBottomWidth||0<this.borderRightWidth||0<this.borderLeftWidth))}},{key:'plainText',get:function(){return'PLAINTEXT'===this.tagName}},{key:'imageElement',get:function(){return'IMG'===this.element.tagName}},{key:'block',get:function(){var e=this.display;return'block'===e||'list-item'===e}},{key:'blockStatic',get:function(){return this.block&&this.pageflow&&this.siblingflow&&!this.floating}},{key:'alignMargin',get:function(){return null==this.top&&null==this.right&&null==this.bottom&&null==this.left}},{key:'autoMargin',get:function(){return'auto'===this.styleMap.marginLeft||'auto'===this.styleMap.marginRight}},{key:'centerHorizontal',get:function(){return'auto'===this.styleMap.marginLeft&&'auto'===this.styleMap.marginRight}},{key:'centerVertical',get:function(){return'auto'===this.styleMap.marginTop&&'auto'===this.styleMap.marginBottom}},{key:'floating',get:function(){var e=this.css('cssFloat');return'absolute'!==this.position&&('left'===e||'right'===e)}},{key:'float',get:function(){return(this.floating?this.css('cssFloat'):null)||'none'}},{key:'overflow',get:function(){var e=0;if(this.hasElement){var t=[this.css('overflow'),this.css('overflowX'),this.css('overflowY')],n=t[0],i=t[1],a=t[2];0<this.toInt('width')&&('scroll'===n||'scroll'===i||'auto'===i&&this.element.clientWidth!==this.element.scrollWidth)&&(e|=2),0<this.toInt('height')&&('scroll'===n||'scroll'===a||'auto'===a&&this.element.clientHeight!==this.element.scrollHeight)&&(e|=4)}return e}},{key:'overflowX',get:function(){return this.hasBit('overflow',2)}},{key:'overflowY',get:function(){return this.hasBit('overflow',4)}},{key:'baseline',get:function(){return'baseline'===this.css('verticalAlign')}},{key:'multiLine',set:function(e){this._multiLine=e},get:function(){return null==this._multiLine&&this.setMultiLine(),this._multiLine}},{key:'inlineWrap',get:function(){return this.hasBit('alignmentType',st.INLINE_WRAP)}},{key:'dir',get:function(){switch(this.css('direction')){case'unset':case'inherit':var e=this.documentParent;do{var t=e.dir;if(''!==t)return t;e=e.documentParent}while(0!==e.id);return'';case'rtl':return'rtl';default:return'ltr';}}},{key:'previousSibling',get:function(){var e=null;for(null==this._element?0<this.children.length&&(e=this.children[0].element.previousSibling):e=this.element.previousSibling;null!=e;){var t=M(e);if(t&&t.siblingflow)return t;e=e.previousSibling}return null}},{key:'nextSibling',get:function(){var e=null;for(null==this._element?0<this.children.length&&(e=this.children[this.children.length-1].element.nextSibling):e=this.element.nextSibling;null!=e;){var t=M(e);if(t&&t.siblingflow)return t;e=e.nextSibling}return null}},{key:'previousElementSibling',get:function(){if(null!=this._element)for(var e=this.element.previousSibling;null!=e;){if(K(e)||e instanceof HTMLElement||'BR'===e.tagName)return e;e=e.previousSibling}return null}},{key:'nextElementSibling',get:function(){if(null!=this._element)for(var e=this.element.nextSibling;null!=e;){if(K(e)||e instanceof HTMLElement||'BR'===e.tagName)return e;e=e.nextSibling}return null}},{key:'singleChild',get:function(){return this.rendered?1===this.renderParent.renderChildren.length:1===this.parent.children.length}},{key:'firstElementChild',get:function(){if(this.hasElement)for(var e=0,t;e<this.element.childNodes.length;e++){if(t=this.element.childNodes[e],'#'!==t.nodeName.charAt(0))return t;if(K(t))return t}return null}},{key:'lastElementChild',get:function(){if(this.hasElement)for(var e=this.element.childNodes.length-1,t;0<=e;e--){if(t=this.element.childNodes[e],'#'!==t.nodeName.charAt(0))return t;if(K(t))return t}return null}},{key:'center',get:function(){return{x:this.bounds.left+je(this.bounds.width/2),y:this.bounds.top+je(this.bounds.height/2)}}}]),e}(),Gt=void 0,Ht=(Hn={},$e(Hn,e.build.PIE,{android:[],app:[],customizations:{}}),$e(Hn,e.build.OREO_1,{android:[],app:[],customizations:{}}),$e(Hn,e.build.OREO,{android:['fontWeight','layout_marginHorizontal','layout_marginVertical','paddingHorizontal','paddingVertical'],app:[],customizations:{}}),$e(Hn,e.build.NOUGAT_1,{android:[],app:[],customizations:{}}),$e(Hn,e.build.NOUGAT,{android:[],app:[],customizations:{}}),$e(Hn,e.build.MARSHMALLOW,{android:[],app:[],customizations:{}}),$e(Hn,e.build.LOLLIPOP_1,{android:[],app:[],customizations:{}}),$e(Hn,e.build.LOLLIPOP,{android:['layout_columnWeight'],app:[],customizations:{}}),$e(Hn,e.build.KITKAT_1,{android:[],app:[],customizations:{}}),$e(Hn,e.build.KITKAT,{android:[],app:[],customizations:{}}),$e(Hn,e.build.JELLYBEAN_2,{android:[],app:[],customizations:{}}),$e(Hn,e.build.JELLYBEAN_1,{android:['labelFor'],app:[],customizations:{}}),$e(Hn,e.build.JELLYBEAN,{android:[],app:[],customizations:{}}),$e(Hn,e.build.ICE_CREAM_SANDWICH_1,{android:[],app:[],customizations:{}}),$e(Hn,e.build.ICE_CREAM_SANDWICH,{android:[],app:[],customizations:{}}),$e(Hn,e.build.ALL,{android:[],app:[],customizations:{SUB:{android:{layout_marginTop:'4px'}},SUP:{android:{layout_marginTop:'-4px'}}}}),Hn),Wt=function(t){function n(e,t,i){Je(this,n);var a=it(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,i));return a.id=e,a.api=t,a.constraint={current:{}},a.children=[],a.renderChildren=[],a._namespaces=new Set(['android','app']),a._android={},a._app={},a}return nt(n,t),Qe(n,[{key:'attr',value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',a=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];this.supported(e,t)&&tt(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'attr',this).call(this,e,t,i,a)}},{key:'android',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return S(t)?void this.attr('android',e,t,n):null==this._android[e]?null:this._android[e]}},{key:'app',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return S(t)?void this.attr('app',e,t,n):null==this._app[e]?null:this._app[e]}},{key:'apply',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);for(var i in tt(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'apply',this).call(this,t),t)this.formatted(i+'="'+t[i]+'"')}},{key:'formatted',value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=e.match(/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/);n&&this.attr(n[1]||'_',n[2],n[3],t)}},{key:'anchor',value:function(e,t,n,i){1!==arguments.length&&null!=this.constraint.current[e]&&this.constraint.current[e].overwrite&&(!n||this.constraint[n])||(null==i&&(i='parent'===t||'true'===t),this[this.renderParent.nodeName===yt.RELATIVE?'android':'app'](e,t,i),n&&(this.constraint[n]=!0),this.constraint.current[e]={adjacent:t,orientation:n,overwrite:i})}},{key:'alignParent',value:function(e){if(this.renderParent.is(dt.CONSTRAINT,dt.RELATIVE)){var t=this.renderParent.nodeName===yt.CONSTRAINT,n=l(e),i=t?'layout_constraint'+n+'_to'+n+'Of':'layout_alignParent'+n;return this[t?'app':'android'](Re(i))===(t?'parent':'true')}return!1}},{key:'modifyBox',value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],a=g(e,ht,bt);if(''!==a&&0!==t){var r=a.replace('layout_','');null==t?this._boxReset[r]=1:(this._boxAdjustment[r]+=t,!n&&(this._boxAdjustment[r]=Ue(0,this._boxAdjustment[r]))),i&&t&&('marginTop'===r?this.linear.top-=t:'marginRight'===r?this.linear.right+=t:'marginBottom'===r?this.linear.bottom+=t:'marginLeft'===r?this.linear.left-=t:'paddingTop'===r?this.box.top+=t:'paddingRight'===r?this.box.right-=t:'paddingBottom'===r?this.box.bottom-=t:'paddingLeft'===r?this.box.left+=t:void 0,this.setDimensions([r.indexOf('margin')?'linear':'box']))}}},{key:'valueBox',value:function(e){var t=g(parseInt(e),ht,bt);if(''!==t){var n=Re(t);return[n,this.android(n)||'0px']}return['','0px']}},{key:'supported',value:function(t,n){if(0<this.api)for(var a=this.api+1,r;a<=e.build.LATEST;a++)if(r=Ht[a],r&&r[t]&&r[t].includes(n))return!1;return!0}},{key:'combine',value:function(){for(var e=[],t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];var a=!0,r=!1,o=void 0;try{for(var l=this._namespaces.values()[Symbol.iterator](),d;!(a=(d=l.next()).done);a=!0){var s=d.value,u=this['_'+s];if(0===n.length||n.includes(s))for(var p in u)'_'===s?e.push(p+'="'+u[p]+'"'):e.push(s+':'+p+'="'+u[p]+'"')}}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return e.sort(function(e,t){return e.startsWith('android:id=')?-1:t.startsWith('android:id=')?1:e>t?1:-1})}},{key:'applyCustomizations',value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];[Ht[this.api],Ht[0]].forEach(function(n){n&&null!=n.customizations&&[e.element.tagName,e.nodeName].forEach(function(i){var a=n.customizations[i];if(null!=a)for(var r in a)for(var o in a[r])e.attr(r,o,a[r][o],t)})})}},{key:'clone',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=new n(e||this.id,this.api,this.element);return i.nodeId=this.nodeId,i.nodeType=this.nodeType,i.nodeName=this.nodeName,i.alignmentType=this.alignmentType,i.depth=this.depth,i.rendered=this.rendered,i.renderDepth=this.renderDepth,i.renderParent=this.renderParent,i.renderExtension=this.renderExtension,i.visible=this.visible,i.documentRoot=this.documentRoot,i.documentParent=this.documentParent,t&&(i.children=this.children.slice()),i.inherit(this,'base','style','styleMap'),i}},{key:'setNodeId',value:function(e){for(var t in yt)if(yt[t]===e&&null!=dt[t]){this.nodeType=dt[t];break}if(rt(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'nodeName',e||this.nodeName,this),null==this.nodeId){var i=this.element,a=(i.id||i.name||'').trim();Rt.includes(a)&&(a+='_1'),this.nodeId=o(Te('android',a||v(this.nodeName,'.').toLowerCase()+'_1'))}this.android('id',this.stringId)}},{key:'setLayout',value:function(e,t){var n=this;if(this.nodeType>=dt.SCROLL_HORIZONTAL)this.is(dt.SCROLL_HORIZONTAL)?(this.android('layout_width',this.styleMap.width),this.android('layout_height','wrap_content')):(this.android('layout_width','wrap_content'),this.android('layout_height',this.styleMap.height));else if(this.renderParent.nodeType>=dt.SCROLL_HORIZONTAL)this.renderParent.is(dt.SCROLL_HORIZONTAL)?(this.android('layout_width','wrap_content',!1),this.android('layout_height','match_parent',!1)):(this.android('layout_width','match_parent',!1),this.android('layout_height','wrap_content',!1));else{var i=this.styleMap,a=this.constraint,r=this.documentParent,o=this.renderParent,l=r.box?r.box.width:r.element instanceof HTMLElement?r.element.offsetWidth-(r.paddingLeft+r.paddingRight+r.borderLeftWidth+r.borderRightWidth):0,u=r.box?r.box.height:r.element instanceof HTMLElement?r.element.offsetHeight-(r.paddingTop+r.paddingBottom+r.borderTopWidth+r.borderBottomWidth):0,h='TABLE'===o.element.tagName;if(null==e&&(e=this.linear?this.linear.width:this.hasElement?this.element.clientWidth+this.borderLeftWidth+this.borderRightWidth+this.marginLeft+this.marginRight:0),null==t&&(t=this.linear?this.linear.height:this.hasElement?this.element.clientHeight+this.borderTopWidth+this.borderBottomWidth+this.marginTop+this.marginBottom:0),(this.documentRoot&&!this.flex.enabled&&this.is(dt.FRAME,dt.CONSTRAINT,dt.RELATIVE)||this.documentBody)&&(0===this.viewWidth&&this.block&&!a.layoutHorizontal&&this.android('layout_width','match_parent',!1),0===this.viewHeight&&this.cascade().some(function(e){return!e.pageflow})&&!a.layoutHeight&&!a.layoutVertical&&this.android('layout_height','match_parent',!1)),'0px'!==this.android('layout_width')){if((!this.inlineStatic||h)&&0<this.toInt('width'))if(b(i.width)){var c=this.toInt('width')/100;if(h&&!o.inlineWidth)this.app('layout_columnWeight',c.toFixed(2)),this.android('layout_width','0px');else if('100%'===i.width)this.android('layout_width','match_parent');else{var g=je(d(this.style.width)*(this.pageflow&&!this.inlineElement?c:1));this.android('layout_width',0<g?p(g):'wrap_content')}}else this.linearVertical&&'visible'===this.css('overflow')&&!this.has('minWidth')&&this.renderChildren.some(function(e){return!e.multiLine&&e.box.width>n.box.width})?(this.android('minWidth',i.width),this.android('layout_width','wrap_content')):this.android('layout_width',i.width);this.has('minWidth')&&!b(i.minWidth)&&(this.android('layout_width','wrap_content',!1),this.android('minWidth',i.minWidth,!1)),this.has('maxWidth')&&!b(i.maxWidth)&&this.android('maxWidth',i.maxWidth,!1),a.layoutWidth&&(a.layoutHorizontal?this.android('layout_width',0<r.viewWidth?'match_parent':'wrap_content',!1):this.android('layout_width',this.bounds.width>=l?'match_parent':p(this.bounds.width),!1))}if(null==this.android('layout_width'))if(0<s(this.app('layout_columnWeight')))this.android('layout_width','0px');else{var m=this.nodeType<dt.INLINE||this.inlineElement||!this.pageflow||'table'===this.display||r.flex.enabled||o.inlineElement&&0===o.viewWidth&&!this.inlineElement&&this.nodeType>dt.BLOCK||o.is(dt.GRID);if(!m||this.blockStatic){var f=Ue.apply(null,[0].concat(lt(this.renderChildren.filter(function(e){return e.inlineElement&&'right'!==e.float}).map(function(e){return e.linear.right})))),y=this.previousSibling,_=this.nextSibling;if(this.hasElement&&this.blockStatic&&(this.ascend(!0).every(function(e){return e.blockStatic})||this.documentParent.blockStatic&&this.nodeType<=dt.LINEAR&&(null===y||!y.floating)&&(null===_||!_.floating))||!this.hasElement&&0<this.renderChildren.length&&this.renderChildren.some(function(e){return e.linear.width>=n.documentParent.box.width})||e>=l&&(r.documentBody||o.documentRoot||this.nodeType<dt.BLOCK)||0<this.ascend(!0).reduce(function(e,t){return Ue(e,t.viewWidth)},0)||0<f&&(this.is(dt.FRAME)||this.linearVertical)&&!w(f,this.box.right))this.android('layout_width','match_parent');else if(o.linearVertical&&(!this.inlineElement||this.blockStatic)&&(this.is(dt.TEXT)||o.blockWidth)){var T=[],x=0,I=!0,E=!1,A=void 0;try{for(var v=o.children[Symbol.iterator](),R;!(I=(R=v.next()).done);I=!0){var L=R.value,N=L.cascade().filter(function(e){return e.visible}).reduce(function(e,t){return Ue(e,t.linear.right)},0)+L.paddingRight+L.borderRightWidth+L.marginRight;N>x?(T.length=0,T.push(L),x=N):N===x&&T.push(L)}}catch(e){E=!0,A=e}finally{try{!I&&v.return&&v.return()}finally{if(E)throw A}}T.includes(this)||this.android('layout_width','match_parent')}}null==this.android('layout_width')&&this.android('layout_width','wrap_content')}if('0px'!==this.android('layout_height')){if((!this.inlineStatic||h)&&0<this.toInt('height'))if(b(i.height)){var S=this.toInt('height')/100;if(h&&!o.inlineHeight)this.android('layout_rowWeight',S.toFixed(2)),this.android('layout_height','0px');else if('100%'===i.height)this.android('layout_height','match_parent');else{var O=je(d(this.style.height)*(this.pageflow?S:1));this.android('layout_height',0<O?p(O):'wrap_content')}}else this.android('layout_height','hidden'===this.css('overflow')&&this.toInt('height')<this.box.height?'wrap_content':i.height);if(this.has('minHeight')&&!b(i.minHeight)&&(this.android('layout_height','wrap_content',!1),this.android('minHeight',i.minHeight,!1)),this.has('maxHeight')&&!b(i.maxHeight)&&this.android('maxHeight',i.maxHeight,!1),a.layoutHeight)if(a.layoutVertical)this.android('layout_height','wrap_content',!1);else if(this.documentRoot){var k=Ue.apply(null,[0].concat(lt(this.renderChildren.filter(function(e){return e.pageflow}).map(function(e){return e.linear.bottom}))));this.android('layout_height',0<k?p(k+this.paddingBottom+this.borderBottomWidth):'match_parent',!1)}else this.android('layout_height',this.bounds.height<u?p(this.bounds.height):'match_parent',!1)}null==this.android('layout_height')&&(t>=u&&0<r.viewHeight&&!(this.inlineElement&&this.nodeType<dt.INLINE)&&!(o.is(dt.RELATIVE)&&o.inlineHeight)?this.android('layout_height','match_parent'):this.inlineElement&&0<this.bounds.height&&this.lineHeight>=this.bounds.height?(this.android('layout_height',p(this.bounds.height)),this.modifyBox(ht.PADDING_TOP,null),this.modifyBox(ht.PADDING_BOTTOM,null)):this.block&&0<this.box.height&&this.lineHeight===this.box.height?this.android('layout_height',p(this.bounds.height)):this.android('layout_height','wrap_content'))}'none'===this.css('display')&&this.android('visibility','gone'),'hidden'===this.css('visibility')&&this.android('visibility','invisible')}},{key:'setAlignment',value:function(){function e(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=[].concat(lt((e||'').split('|')),n).filter(function(e){return e});switch(r.length){case 0:return'';case 1:return r[0];default:for(var o='',l='',d='',s=0,u;s<r.length;s++)switch(u=r[s],u){case'center':o='center_horizontal',l='center_vertical';break;case'left':case'start':case'right':case'end':case'center_horizontal':o=u;break;case'top':case'bottom':case'center_vertical':l=u;break;default:d+=(''==d?'':'|')+u;}var p=[o,l].filter(function(e){return e}),h=2===p.filter(function(e){return-1!==e.indexOf('center')}).length?'center':p.join('|');return''===h?d:''==d?h:h+'|'+d;}}function t(t){var n=[];return t.centerHorizontal?n.push('center_horizontal'):'auto'===t.css('marginLeft')&&n.push(o),t.centerVertical?n.push('center_vertical'):'auto'===t.css('marginTop')&&n.push('bottom'),!!(0<n.length)&&(t[a]('layout_gravity',e.apply(void 0,[t[a]('layout_gravity')].concat(n))),!0)}function n(e){return'left'===e||'start'===e?r:'right'===e||'end'===e?o:'center'===e?'center_horizontal':''}var i=this.renderParent,a=this.renderParent.is(dt.GRID)?'app':'android',r=Re('left'),o=Re('right'),l=this.styleMap.textAlign||'',d='';if(!(this.floating||i.of(dt.RELATIVE,st.HORIZONTAL)))switch(this.styleMap.verticalAlign){case'top':case'text-top':d='top',i.linearHorizontal&&this.inlineHeight&&this.android('layout_height','match_parent');break;case'middle':('table-cell'===this.documentParent.css('display')||this.inlineStatic&&0<this.documentParent.lineHeight||i.of(dt.LINEAR,st.HORIZONTAL))&&(d='center_vertical');break;case'bottom':case'text-bottom':d='bottom';}''==d&&0<this.lineHeight&&!this.blockHeight&&(d='center_vertical'),i.linearVertical&&('right'===this.float?this[a]('layout_gravity',e(this[a]('layout_gravity'),o)):t(this));var s='';if((this.hasBit('alignmentType',st.SEGMENTED|st.FLOAT)||this.linearHorizontal)&&(this.hasBit('alignmentType',st.LEFT)||this.renderChildren.some(function(e){return'left'===e.float||e.hasBit('alignmentType',st.LEFT)})?s=r:(this.hasBit('alignmentType',st.RIGHT)||this.renderChildren.some(function(e){return'right'===e.float||e.hasBit('alignmentType',st.RIGHT)}))&&(s=o)),i.is(dt.FRAME)&&!t(this)&&(''!==s||this.floating)){var u=this.singleChild?i:this;u.android('layout_gravity',e(u.android('layout_gravity'),Re(s||this.float))),s=''}''!==s&&(i.alignmentType===st.VERTICAL?l=s:this[a]('layout_gravity',e(this[a]('layout_gravity'),s))),'TABLE'===i.element.tagName&&(this[a]('layout_gravity',e(this[a]('layout_gravity'),'fill')),''===l&&'TH'===this.element.tagName&&(l='center'),''==d&&(d='center_vertical'));var p=this.cssParent('textAlign');''!==p&&Re(p)!==r&&(i.is(dt.FRAME)&&this.singleChild&&!this.floating&&!this.autoMargin&&this[a]('layout_gravity',e(this[a]('layout_gravity'),n(p))),''===l&&(l=p)),''!=d&&i.linearHorizontal&&(this[a]('layout_gravity',e(this[a]('layout_gravity'),d)),d=''),this.documentRoot&&this.blockWidth&&this.delete(a,'layout_gravity'),this.android('gravity',e(this.android('gravity'),n(l),d))}},{key:'setBoxSpacing',value:function(){var t=this;this.hasBit('excludeResource',ut.BOX_SPACING)||(['padding','margin'].forEach(function(e){['Top','Left','Right','Bottom'].forEach(function(n){var i=e+n,a=(0===t._boxReset[i]?t[i]:0)+t._boxAdjustment[i];if(0!==a){var r=Re(bt[e.toUpperCase()+'_'+n.toUpperCase()]);t.android(r,p(a))}})}),this.api>=e.build.OREO&&['layout_margin','padding'].forEach(function(e,n){var i=d(t.android(e+'Top')),a=d(t.android(Re(e+'Right'))),r=d(t.android(e+'Bottom')),o=d(t.android(Re(e+'Left')));0!==i&&i===r&&r===o&&o===a?(t.delete('android',e+'*'),t.android(e,p(i))):!(0===n&&t.renderParent.is(dt.GRID))&&(0!==i&&i===r&&(t.delete('android',e+'Top',e+'Bottom'),t.android(e+'Vertical',p(i))),0!==o&&o===a&&(t.delete('android',Re(e+'Left'),Re(e+'Right')),t.android(e+'Horizontal',p(o))))}))}},{key:'applyOptimizations',value:function(e){var t=this,n=this.renderParent,a=this.renderChildren,r=this.hasElement&&Array.from(this.element.children).every(function(e){return a.includes(M(e))});if(this.is(dt.LINEAR,dt.RADIO_GROUP)&&('block'!==this.display&&[[this.linearHorizontal,this.inlineElement,'width'],[this.linearVertical,!0,'height']].forEach(function(e){var n='inline'+l(e[2]);e[0]&&e[1]&&!t[n]&&a.every(function(e){return e[n]})&&t.android('layout_'+e[2],'wrap_content')}),this.linearHorizontal)){if(!r&&a.every(function(e){return(e.inline||e.alignMargin)&&0===e.viewWidth&&0===e.viewHeight&&0<=d(e.top)&&e.baseline})&&a.some(function(e){return e.floating||!e.siblingflow||e.plainText}))this.android('baselineAligned','false');else if(a.some(function(e){return e.nodeType<=dt.TEXT})){var o=ft.baselineText(a,!1,n.is(dt.GRID)||this.inline?this.documentParent:void 0);null!=o&&this.android('baselineAlignedChildIndex',a.indexOf(o).toString())}if(r){var s=a.filter(function(e){return!e.floating});if(s.every(function(e){return e.baseline||y(e.css('verticalAlign'))})){var u=Ue.apply(null,s.map(function(e){return e.toInt('verticalAlign')})),h=Xe.apply(null,s.map(function(e){return e.toInt('verticalAlign')}));0<u&&0>h&&s.forEach(function(e){var t=e.toInt('verticalAlign');0===t?(e.modifyBox(ht.PADDING_TOP,u),e.modifyBox(ht.PADDING_BOTTOM,ze(h))):(e.modifyBox(ht.MARGIN_TOP,-1*t,!0),e.css('verticalAlign','0px'))})}}}if(this.pageflow&&(!n.documentBody&&n.blockStatic&&this.documentParent===n&&[['firstElementChild','Top',ht.MARGIN_TOP],['lastElementChild','Bottom',ht.MARGIN_BOTTOM]].forEach(function(e,i){var a=M(n[e[0]]);if(a&&(a===t||a===t.renderChildren[0===i?0:t.renderChildren.length-1])){var r=n['margin'+e[1]];0<r&&0===n['padding'+e[1]]&&0===n['border'+e[1]+'Width']&&a.modifyBox(e[2],null)}}),this.blockStatic&&(this.linearVertical||this.is(dt.FRAME,dt.GRID))&&a.every(function(e){return a[0].documentParent===e.documentParent})))for(var c=a.length-1,g=function(e){var t=a[e];if(t.blockStatic){var n=t.previousSibling;if(null!=n){var i=d(t.cssOriginal('marginTop',!0)),r=d(n.cssOriginal('marginBottom',!0));0<r&&0<i&&(i>=r?n.modifyBox(ht.MARGIN_BOTTOM,null):t.modifyBox(ht.MARGIN_TOP,null))}}[t.element.previousElementSibling,e===c?t.element.nextElementSibling:null].forEach(function(e,n){if(!M(e)){var i=P(e,'styleMap');if(i){var a=Xe(d(i.marginTop),d(i.marginBottom));0>a&&(0===n?t.modifyBox(ht.MARGIN_TOP,a,!0):t.modifyBox(ht.MARGIN_BOTTOM,a,!0))}}})},m=0;m<a.length;m++)g(m);if(this.adjustWhiteSpace(),e.autoSizePaddingAndBorderWidth&&!this.hasBit('excludeProcedure',pt.AUTOFIT)){var f=d(this.android('layout_width')),b=d(this.android('layout_height'));if(this.imageElement){var _=this.borderTopWidth,T=this.borderRightWidth,x=this.borderBottomWidth,I=this.borderLeftWidth,E=0,A=0;0<_&&(this.modifyBox(ht.PADDING_TOP,_),A+=_),0<T&&(this.modifyBox(ht.PADDING_RIGHT,T),E+=T),0<x&&(this.modifyBox(ht.PADDING_BOTTOM,x),A+=x),0<I&&(this.modifyBox(ht.PADDING_LEFT,I),E+=I),A+=this.paddingTop+this.paddingBottom,E+=this.paddingLeft+this.paddingRight,0<E&&(0<f?this.android('layout_width',p(f+E)):(f=d(n.android('layout_width')),0<f&&this.singleChild&&n.android('layout_width',p(f+this.marginLeft+E)))),0<A&&(0<b?this.android('layout_height',p(b+A)):(b=d(n.android('layout_height')),0<b&&this.singleChild&&n.android('layout_height',p(b+this.marginTop+A))))}else if(!this.is(dt.LINE)&&this.hasElement&&!this.hasBit('excludeResource',ut.BOX_SPACING)){var v='TABLE'===this.element.tagName,R=('table'===n.display||'TABLE'===n.element.tagName)&&'collapse'===n.css('borderCollapse'),L=!1,N=!1;if(0<f&&0<d(this.cssOriginal('width'))){var S=this.paddingLeft+this.paddingRight+(R?0:this.borderLeftWidth+this.borderRightWidth);!v&&0<S&&this.android('layout_width',p(f+S)),L=!0}if(0<b&&0<d(this.cssOriginal('height'))){var O=this.lineHeight;if(0===O||O<this.box.height||O===this.toInt('height')){var w=this.paddingTop+this.paddingBottom+(R?0:this.borderTopWidth+this.borderBottomWidth);v||this.android('layout_height',p(b+w)),N=!0}}var k=this.borderTopWidth-(v&&N?this.paddingTop:0),B=this.borderRightWidth-(v&&L?this.paddingRight:0),C=this.borderBottomWidth-(v&&N?this.paddingBottom:0),D=this.borderLeftWidth-(v&&L?this.paddingLeft:0);0<k&&this.modifyBox(ht.PADDING_TOP,k),0<B&&this.modifyBox(ht.PADDING_RIGHT,B),0<C&&this.modifyBox(ht.PADDING_BOTTOM,C),0<D&&this.modifyBox(ht.PADDING_LEFT,D)}}if(!n.linearHorizontal){var F=this.lineHeight-this.bounds.height;0<F&&(this.modifyBox(ht.MARGIN_TOP,je(F/2)),this.modifyBox(ht.MARGIN_BOTTOM,Ye(F/2)))}if('relative'===this.position){var G=this.toInt('top'),H=this.toInt('bottom'),W=this.toInt('left');0===G?0!==H&&this.modifyBox(ht.MARGIN_TOP,-1*H,!0):this.modifyBox(ht.MARGIN_TOP,G,!0),0!==W&&('right'===this.float||'relative'===this.position&&'auto'===this.cssOriginal('marginLeft')?this.modifyBox(ht.MARGIN_RIGHT,-1*W,!0):this.modifyBox(ht.MARGIN_LEFT,W,!0))}if(this.inline&&!this.floating){var V=this.toInt('verticalAlign');0!==V&&(this.modifyBox(ht.MARGIN_TOP,-1*V,!0),0>V&&n.linearHorizontal&&n.inlineHeight&&n.renderChildren.every(function(e){return e.baseline||e.linearHorizontal})&&n.android('layout_height',p(n.bounds.height+ze(V))))}this.is(dt.TEXT)&&'nowrap'===this.css('whiteSpace')&&this.android('singleLine','true'),this.imageElement&&(this.baseline||n.linearHorizontal||n.of(dt.CONSTRAINT,st.HORIZONTAL))&&this.android('baselineAlignBottom','true')}},{key:'setAccessibility',value:function(){var e=this,t=this,i=this.element;switch(this.nodeName){case yt.EDIT:null==t.companion&&function(){for(var i=null,a=e,r=e.renderParent,o;r instanceof n&&0<r.renderChildren.length;){if(o=r.renderChildren.findIndex(function(e){return e===a}),0<o){i=r.renderChildren[o-1];break}a=r,r=r.renderParent}i&&i.is(dt.TEXT)&&i.element.htmlFor===t.element.id&&i.android('labelFor',e.stringId)}();case yt.SELECT:case yt.CHECKBOX:case yt.RADIO:case yt.BUTTON:i.disabled&&this.android('focusable','false');}}},{key:'adjustWhiteSpace',value:function(){if(this.linearHorizontal){if(!this.hasBit('alignmentType',st.FLOAT)){var e=this.box.left;this.each(function(t){if(!t.floating){var n=We(t.linear.left-e);1<=n&&t.modifyBox(ht.MARGIN_LEFT,n)}e=t.linear.right},!0)}}else if(this.linearVertical){var t=this.box.top,n=null;this.each(function(e){if(n&&!n.hasElement&&n.renderChildren.includes(e.previousSibling)&&(n=e.previousSibling),!e.hasElement&&!e.plainText||0<Q(null==n?null:n.element,e.element).filter(function(e){return'BR'===e.tagName||!M(e)&&'block'===W(e).display}).length){var i=We(e.linear.top-t);1<=i&&e.modifyBox(ht.MARGIN_TOP,i)}t=function(){return e.linearHorizontal&&e.renderChildren.some(function(e){return!e.floating})?e.renderChildren.filter(function(e){return!e.floating}).sort(function(e,t){return e.linear.bottom<t.linear.bottom?1:-1})[0].linear.bottom:e.linear.bottom}(),n=e},!0)}}},{key:'stringId',get:function(){return this.nodeId?'@+id/'+this.nodeId:''}},{key:'nodeName',set:function(e){this._nodeName=e},get:function(){if(null!=this._nodeName)return tt(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'nodeName',this);var e=ct[this.tagName];return null==e?'':n.getNodeFromElementName(e)}},{key:'documentParent',set:function(e){this._documentParent=e},get:function(){return null==this._documentParent?0===this.id?this:this.getParentElementAsNode(!1)||n.documentBody():this._documentParent}},{key:'renderParent',set:function(e){e!==this&&e.renderAppend(this),this._renderParent=e},get:function(){return this._renderParent||n.documentBody()}},{key:'anchored',get:function(){return this.constraint.horizontal&&this.constraint.vertical}},{key:'linearHorizontal',get:function(){return this._android.orientation===_t.HORIZONTAL&&this.is(dt.LINEAR,dt.RADIO_GROUP)}},{key:'linearVertical',get:function(){return this._android.orientation===_t.VERTICAL&&this.is(dt.LINEAR,dt.RADIO_GROUP)}},{key:'inlineWidth',get:function(){return'wrap_content'===this._android.layout_width}},{key:'inlineHeight',get:function(){return'wrap_content'===this._android.layout_height}},{key:'blockWidth',get:function(){return'match_parent'===this._android.layout_width}},{key:'blockHeight',get:function(){return'match_parent'===this._android.layout_height}},{key:'horizontalBias',get:function(){var e=this.documentParent;if(e!==this){var t=Ue(0,this.linear.left-e.box.left),n=Ue(0,e.box.right-this.linear.right);return ve(t,n)}return .5}},{key:'verticalBias',get:function(){var e=this.documentParent;if(e!==this){var t=Ue(0,this.linear.top-e.box.top),n=Ue(0,e.box.bottom-this.linear.bottom);return ve(t,n)}return .5}}],[{key:'documentBody',value:function(){if(null==n._documentBody){var e=new n(0,0,document.body);e.hide(),e.setBounds(),n._documentBody=e}return n._documentBody}},{key:'getNodeFromElementName',value:function(e){return yt[dt[e]]}}]),n}(Mt),Vt=function(e){function t(e,n,i,a,r){Je(this,t);var o=it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.api));return o.baseNode=n,null!=i&&(o.parent=i),null!=r&&(o.element=r),null!=a&&(o.children=a,o.init()),o}return nt(t,e),Qe(t,[{key:'init',value:function(){var e=this;tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'init',this).call(this);var n=this.baseNode;this.children.forEach(function(t){return t.parent=e}),this.documentParent=n.documentParent,this.hasElement?(this.tagName=n.tagName,this.inherit(n,'base','style','styleMap'),this.documentRoot=n.documentRoot,this.excludeProcedure=n.excludeProcedure,this.excludeResource=n.excludeResource,this.renderExtension=n.renderExtension):(this.tagName=n.tagName+'_GROUP',this.setBounds()),null==this.element&&n.hide(),this.depth=n.depth,this.css('direction',this.documentParent.dir)}},{key:'setLayout',value:function(){tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setLayout',this).apply(this,this.hasElement?null:this.childrenBox)}},{key:'setBounds',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=this.outerRegion();e||(this.bounds={top:t.top[0].linear.top,right:t.right[0].linear.right,bottom:t.bottom[0].linear.bottom,left:t.left[0].linear.left,width:0,height:0},this.bounds.width=this.bounds.right-this.bounds.left,this.bounds.height=this.bounds.bottom-this.bounds.top),this.linear={top:t.top[0].linear.top,right:t.right[0].linear.right,bottom:t.bottom[0].linear.bottom,left:t.left[0].linear.left,width:0,height:0},t=this.outerRegion('bounds'),this.box={top:t.top[0].bounds.top,right:t.right[0].bounds.right,bottom:t.bottom[0].bounds.bottom,left:t.left[0].bounds.left,width:0,height:0},this.setDimensions()}},{key:'outerRegion',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'linear',t=[],n=[],i=[],a=[];return this.each(function(r,o){0===o?(t.push(r),n.push(r),i.push(r),a.push(r)):(t[0][e].top===r[e].top?t.push(r):r[e].top<t[0][e].top&&(t=[r]),n[0][e].right===r[e].right?n.push(r):r[e].right>n[0][e].right&&(n=[r]),i[0][e].bottom===r[e].bottom?i.push(r):r[e].bottom>i[0][e].bottom&&(i=[r]),a[0][e].left===r[e].left?a.push(r):r[e].left<a[0][e].left&&(a=[r]))}),{top:t,right:n,bottom:i,left:a}}},{key:'pageflow',get:function(){return null==this.element?this.children.some(function(e){return e.pageflow}):tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'pageflow',this)}},{key:'display',get:function(){return this.children.some(function(e){return e.block&&!e.floating})?'block':this.children.every(function(e){return e.inline})?'inline':'inline-block'}},{key:'inlineElement',get:function(){return this.hasBit('alignmentType',st.SEGMENTED)}},{key:'childrenBox',get:function(){var e=Ve,t=0,n=Ve,i=0,a=!0,r=!1,o=void 0;try{for(var l=this.children[Symbol.iterator](),d,s;!(a=(d=l.next()).done);a=!0)s=d.value,e=Xe(s.linear.left,e),t=Ue(s.linear.right,t),n=Xe(s.linear.top,n),i=Ue(s.linear.bottom,i)}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return[t-e,i-n]}},{key:'previousSibling',get:function(){return 0<this.children.length?this.children[0].previousSibling:null}},{key:'nextSibling',get:function(){return 0<this.children.length?this.children[this.children.length-1].nextSibling:null}}]),t}(Wt),zt=['!0','<?xml version="1.0" encoding="utf-8"?>','<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">','!1','\t<stroke android:width="{&width}" {borderStyle} />','!1','!2','!3','\t<solid android:color="@color/{&color}" />','!3','!4','\t<corners android:radius="{&radius}" />','!4','!5','\t<corners android:topLeftRadius="{&topLeftRadius}" android:topRightRadius="{&topRightRadius}" android:bottomRightRadius="{&bottomRightRadius}" android:bottomLeftRadius="{&bottomLeftRadius}" />','!5','!2','</shape>','!0'].join('\n'),Xt=['!0','<?xml version="1.0" encoding="utf-8"?>','<layer-list xmlns:android="http://schemas.android.com/apk/res/android">','!1','\t<item android:top="{@top}" android:right="{@right}" android:bottom="{@bottom}" android:left="{@left}">','\t\t<shape android:shape="rectangle">','!2','\t\t\t<stroke android:width="{&width}" {borderStyle} />','!2','!3','\t\t\t<solid android:color="@color/{&color}" />','!3','!4','\t\t\t<corners android:radius="{&radius}" />','!4','!5','\t\t\t<corners android:topLeftRadius="{@topLeftRadius}" android:topRightRadius="{@topRightRadius}" android:bottomRightRadius="{@bottomRightRadius}" android:bottomLeftRadius="{@bottomLeftRadius}" />','!5','\t\t</shape>','\t</item>','!1','!6','\t<item android:top="{@top}" android:left="{@left}" android:drawable="@drawable/{image}" width="{@width}" height="{@height}" />','!6','!7','\t<item android:top="{@top}" android:left="{@left}">','\t\t<bitmap android:src="@drawable/{image}" android:gravity="{@gravity}" android:tileMode="{@tileMode}" android:tileModeX="{@tileModeX}" android:tileModeY="{@tileModeY}" />','\t</item>','!7','</layer-list>','!0'].join('\n'),Ut={boxStyle:{background:'android:background="@drawable/{0}"',backgroundColor:'android:background="@color/{0}"'},fontStyle:{fontFamily:'android:fontFamily="{0}"',fontStyle:'android:textStyle="{0}"',fontWeight:'android:fontWeight="{0}"',fontSize:'android:textSize="{0}"',color:'android:textColor="{0}"',backgroundColor:'android:background="{0}"'},valueString:{text:'android:text="{0}"'},optionArray:{entries:'android:entries="@array/{0}"'},imageSource:{src:'android:src="@drawable/{0}"'}},jt=function(e){function t(e){Je(this,t);var n=it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tagStyle={},n.tagCount={},n.file.stored=Ft.STORED,n}return nt(t,e),Qe(t,[{key:'reset',value:function(){tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'reset',this).call(this),this.file.reset(),this.tagStyle={},this.tagCount={}}},{key:'finalize',value:function(e){this.processFontStyle(e);var t={},n=!0,i=!1,a=void 0;try{for(var r=e.cache[Symbol.iterator](),o;!(n=(o=r.next()).done);n=!0){var l=o.value,d=l.renderChildren.filter(function(e){return e.visible&&!e.isolated&&!e.relocated});1<d.length&&function(){for(var e={},n='',a=!0,r=function(t){var i=d[t],r=!1;i.combine('_','android').forEach(function(i){i.startsWith('style=')&&(0===t?n=i:i!==n&&(a=!1),r=!0),null==e[i]&&(e[i]=0),e[i]++}),''===n||r||(a=!1)},o=0;o<d.length;o++)r(o);if(a){for(var s in e)e[s]!==d.length&&delete e[s];if(1<Object.keys(e).length){''!==n&&(n=I(n.substring(n.indexOf('/')+1),'"'));var u=[],p=function(e){var t=e.match(/(\w+):(\w+)="(.*?)"/);t&&(d.forEach(function(e){return e.delete(t[1],t[2])}),u.push(t[0]))};for(var h in e)p(h);u.sort();var c='';for(var g in t)if(t[g].join(';')===u.join(';')){c=g;break}''!==c&&''!==n&&c.startsWith(n+'.')||(c=(''===n?'':n+'.')+l.nodeId,t[c]=u),d.forEach(function(e){return e.attr('_','style','@style/'+c)})}}}()}}catch(e){i=!0,a=e}finally{try{!n&&r.return&&r.return()}finally{if(i)throw a}}if(0<Object.keys(t).length)for(var s in t)Ft.STORED.STYLES.set(s,{attributes:t[s].join(';')})}},{key:'setBoxSpacing',value:function(){tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setBoxSpacing',this).call(this),this.cache.elements.filter(function(e){return!e.hasBit('excludeResource',ut.BOX_SPACING)}).each(function(e){var t=P(e.element,'boxSpacing');t&&(t.marginLeft===t.marginRight&&e.alignParent('left')&&e.alignParent('right')&&!e.blockWidth&&(e.modifyBox(ht.MARGIN_LEFT,null),e.modifyBox(ht.MARGIN_RIGHT,null)),'auto'===e.styleMap.marginLeft&&e.modifyBox(ht.MARGIN_LEFT,null),'auto'===e.styleMap.marginRight&&e.modifyBox(ht.MARGIN_RIGHT,null))})}},{key:'setBoxStyle',value:function(){var e=this;tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setBoxStyle',this).call(this),this.cache.elements.filter(function(e){return!e.hasBit('excludeResource',ut.BOX_STYLE)}).each(function(a){var r=P(a.element,'boxStyle');if(r){0<r.backgroundColor.length&&(r.backgroundColor=t.addColor(r.backgroundColor[0],r.backgroundColor[2]));for(var o=r.backgroundImage.split(',').map(function(e){return e.trim()}),l=r.backgroundRepeat.split(',').map(function(e){return e.trim()}),s=r.backgroundPosition.split(',').map(function(e){return e.trim()}),h=[],c=0;c<o.length;c++)'none'===o[c]?(o[c]='',l[c]='',s[c]=''):(h.push(o[c]),o[c]=t.addImageURL(o[c]));o=o.filter(function(e){return''!==e}),l=l.filter(function(e){return''!==e}),s=s.filter(function(e){return''!==e}),[r.borderTop,r.borderRight,r.borderBottom,r.borderLeft].forEach(function(e){Array.isArray(e.color)&&0<e.color.length&&(e.color=t.addColor(e.color[0],e.color[2]))});var g=Ut.boxStyle,m=a.companion;if(m&&!Y(m.element,'backgroundColor')){var f=P(m.element,'boxStyle');f&&Array.isArray(f.backgroundColor)&&(r.backgroundColor=t.addColor(f.backgroundColor[0],f.backgroundColor[2]))}var y=e.borderVisible(r.borderTop)||e.borderVisible(r.borderRight)||e.borderVisible(r.borderBottom)||e.borderVisible(r.borderLeft)||0<r.borderRadius.length;if(y||0<o.length){for(var _=void 0,T=[],x=[],I=null,E='',A=function(e){var n='',i='',h='',c='',g=t.parseBackgroundPosition(s[e]),m=ot(g,2),f=m[0],_=m[1];switch(l[e]){case'repeat-x':h='repeat';break;case'repeat-y':c='repeat';break;case'no-repeat':i='disabled';break;case'repeat':i='repeat';}if(''===f)switch(s[e]){case'left top':case'0% 0%':n='left|top';break;case'left center':case'0% 50%':n='left|center_vertical';break;case'left bottom':case'0% 100%':n='left|bottom';break;case'right top':case'100% 0%':n='right|top';break;case'right center':case'100% 50%':n='right|center_vertical';break;case'right bottom':case'100% 100%':n='right|bottom';break;case'center top':case'50% 0%':n='center_horizontal|top';break;case'center bottom':case'50% 100%':n='center_horizontal|bottom';break;case'center center':case'50% 50%':n='center';break;default:var I=s[e].split(' ');if(2===I.length){var E=function(e,t){return e+(''===e?'':'|')+t};I.forEach(function(e,t){if(b(e))0===t?'0%'===e?n=E(n,'left'):'100%'===e?n=E(n,'right'):f=p(a.bounds.width*(d(e)/100)):1===t?'0%'===e?n=E(n,'top'):'100%'===e?n=E(n,'bottom'):_=p(a.bounds.height*(d(e)/100)):void 0;else if(/^[a-z]+$/.test(e))n=E(n,e);else{var i=u(e);'0px'!==i&&(0===t?f=i:_=i),n=E(n,0===t?'left':'top')}})}}if(0<r.backgroundSize.length&&(b(r.backgroundSize[0])||b(r.backgroundSize[1]))&&('100%'===r.backgroundSize[0]&&'100%'===r.backgroundSize[1]?(i='',h='',c='',n=''):'100%'===r.backgroundSize[0]?h='':'100%'===r.backgroundSize[1]&&(c=''),r.backgroundSize=[]),a.of(dt.IMAGE,st.SINGLE)&&1===s.length){a.android('src','@drawable/'+o[0]),0<d(f)&&a.modifyBox(ht.MARGIN_LEFT,d(f)),0<d(_)&&a.modifyBox(ht.MARGIN_TOP,d(_));var A='';if('left|top'===n||'left|center_vertical'===n||'left|bottom'===n?A='fitStart':'right|top'===n||'right|center_vertical'===n||'right|bottom'===n?A='fitEnd':'center'===n||'center_horizontal|top'===n||'center_horizontal|bottom'===n?A='center':void 0,a.android('scaleType',A),!y)return{v:void 0};o.length=0}else''!==n||''!=i||''!=h||''!=c?x.push({image:o[e],top:_,left:f,gravity:n,tileMode:i,tileModeX:h,tileModeY:c,width:'',height:''}):T.push({image:o[e],top:_,left:f,gravity:n,tileMode:i,tileModeX:h,tileModeY:c,width:0<r.backgroundSize.length?r.backgroundSize[0]:'',height:0<r.backgroundSize.length?r.backgroundSize[1]:''})},v=0,R;v<o.length;v++)if(R=A(v),'object'===('undefined'==typeof R?'undefined':Ze(R)))return R.v;x.sort(function(e,t){return'repeat'!==e.tileModeX&&'repeat'!==e.tileModeY&&'repeat'!==e.tileMode?1:'repeat'!==t.tileModeX&&'repeat'!==t.tileModeY&&'repeat'!==t.tileMode?-1:'repeat'===e.tileMode?-1:'repeat'===t.tileMode?1:'repeat'===t.tileModeX||'repeat'===t.tileModeY?1:-1});var L=e.getShapeAttribute(r,'backgroundColor'),N=e.getShapeAttribute(r,'radius'),S=e.getShapeAttribute(r,'radiusInit');if(null==r.border){I=le(Xt),_={0:[{1:[],6:!!(0<T.length)&&T,7:!!(0<x.length)&&x}]};var O=oe(_,'0'),w=[r.borderTop,r.borderRight,r.borderBottom,r.borderLeft],k=!0,B='',C='',D='';w.some(function(t,n){if(e.borderVisible(t)){if(''!==B&&B!==t.width||''!==C&&C!==e.getBorderStyle(t)||''!==D&&D!==r.borderRadius[n])return k=!1,!0;var i=[t.width,e.getBorderStyle(t),r.borderRadius[n]];B=i[0],C=i[1],D=i[2]}return!1});var F={};if(1<r.borderRadius.length&&Object.assign(F,{topLeftRadius:r.borderRadius[0],topRightRadius:r.borderRadius[1],bottomRightRadius:r.borderRadius[2],bottomLeftRadius:r.borderRadius[3]}),!1!==L&&O[1].push({2:!1,3:L,4:!1,5:!1}),k){var M='-'+p(2*parseInt(B)),G={top:e.borderVisible(r.borderTop)?'':M,right:e.borderVisible(r.borderRight)?'':M,bottom:e.borderVisible(r.borderBottom)?'':M,left:e.borderVisible(r.borderLeft)?'':M,2:[{width:B,borderStyle:C}],3:!1,4:N,5:S};1<r.borderRadius.length&&G[5].push(F),O[1].push(G)}else w.forEach(function(t,n){if(e.borderVisible(t)){var i='-'+t.width,a={top:i,right:i,bottom:i,left:i,2:[{width:t.width,borderStyle:e.getBorderStyle(t)}],3:!1,4:N,5:S};a[['top','right','bottom','left'][n]]='',1<r.borderRadius.length&&a[5].push(F),O[1].push(a)}});if(0===O[1].length)O[1]=!1;else{var H=O[1][0];H&&''!==H.top&&''!==H.right&&''===H.bottom&&''!==H.left&&(H.bottom=p(a.borderBottomWidth))}}else if(0===o.length){if(I=le(zt),_={0:[{1:e.getShapeAttribute(r,'stroke'),2:!!(0<r.backgroundColor.length||0<r.borderRadius.length)&&[{3:L,4:N,5:S}]}]},1<r.borderRadius.length){var W=oe(_,'0','2'),V=e.getShapeAttribute(r,'radiusAll');W[5].push(V)}}else if(0<o.length&&('none'===r.border.style||'0px'===r.border.width))I=le(Xt),_={0:[{1:!1!==L&&[{2:!1,3:L,4:!1,5:!1}],6:!!(0<T.length)&&T,7:!!(0<x.length)&&x}]};else if(I=le(Xt),_={0:[{1:[{2:e.getShapeAttribute(r,'stroke'),3:L,4:N,5:S}],6:!!(0<T.length)&&T,7:!!(0<x.length)&&x}]},1<r.borderRadius.length){var X=oe(_,'0','1'),U=e.getShapeAttribute(r,'radiusAll');X[5].push(U)}if(I){var j=de(I,_),Z=!0,K=!1,q=void 0;try{for(var J=Ft.STORED.DRAWABLES.entries()[Symbol.iterator](),Q;!(Z=(Q=J.next()).done);Z=!0){var $=Q.value,ee=ot($,2),te=ee[0],ne=ee[1];if(ne===j){E=te;break}}}catch(e){K=!0,q=e}finally{try{!Z&&J.return&&J.return()}finally{if(K)throw q}}''===E&&(E=a.tagName.toLowerCase()+'_'+a.nodeId,Ft.STORED.DRAWABLES.set(E,j))}if(a.formatted(n(g.background,E),null==a.renderExtension),Lt.autoSizeBackgroundImage&&!a.is(dt.IMAGE)&&0<o.length&&!a.documentRoot&&!a.hasBit('excludeProcedure',pt.AUTOFIT)){for(var ie=!0,ae=a;null!=ae&&!ae.documentBody;){if(0<ae.viewWidth&&0<ae.viewHeight){ie=!1;break}if(!ae.pageflow)break;ae=ae.documentParent}if(ie){var re=0,se=0;if(h.forEach(function(t){var n=e.imageDimensions.get(z(t));null!=n&&(re=Ue(re,n.width),se=Ue(se,n.height))}),!a.has('width')||'auto'===a.css('width')){var ue=a.bounds.width+(a.is(dt.LINE)?0:a.borderLeftWidth+a.borderRightWidth);(0===re||ue<re)&&a.css('width',p(ue))}if(!a.has('height')||'auto'===a.css('height')){var pe=a.bounds.height+(a.is(dt.LINE)?0:a.borderTopWidth+a.borderBottomWidth);(0===se||pe<se)&&a.css('height',p(pe))}}}}else null==P(a.element,'fontStyle')&&0<r.backgroundColor.length&&a.formatted(n(g.backgroundColor,r.backgroundColor),null==a.renderExtension)}})}},{key:'setFontStyle',value:function(){tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setFontStyle',this).call(this);var e={};for(var a in this.cache.filter(function(e){return e.visible&&!e.hasBit('excludeResource',ut.FONT_STYLE)}).each(function(n){P(n.element,'fontStyle')&&(null==e[n.tagName]&&(e[n.tagName]=[]),e[n.tagName].push(n));var i=n.css('textShadow').match(/(rgb(?:a)?\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}(?:, [0-9\.]+)?\)) ([0-9\.]+[a-z]{2}) ([0-9\.]+[a-z]{2}) ([0-9\.]+[a-z]{2})/);if(i){var a=me(i[1]);0<a.length&&n.android('shadowColor','@color/'+t.addColor(a[0],a[2])),n.android('shadowDx',d(i[2]).toString()),n.android('shadowDy',d(i[3]).toString()),n.android('shadowRadius',d(i[4]).toString())}}),e){var r=new ft(e[a]),l=[],s=!0,u=!1,p=void 0;try{for(var h=r[Symbol.iterator](),c;!(s=(c=h.next()).done);s=!0){var g=c.value,m=!1,f=null;null!=g.companion&&(f=g,g=g.companion);var y=g.element,b=(f||g).id,_=Object.assign({},P(y,'fontStyle'));if(Array.isArray(_.backgroundColor)&&0<_.backgroundColor.length&&(_.backgroundColor='@color/'+t.addColor(_.backgroundColor[0],_.backgroundColor[2])),_.fontFamily){var T=_.fontFamily.toLowerCase().split(',')[0].replace(/"/g,'').trim(),x='',I='';if(Array.isArray(_.color)&&0<_.color.length&&(_.color='@color/'+t.addColor(_.color[0],_.color[2])),Lt.fontAliasResourceValue&&null!=Et[T]&&(T=Et[T]),xt[T]&&Lt.targetAPI>=xt[T]||Lt.fontAliasResourceValue&&It[T]&&Lt.targetAPI>=xt[It[T]]?(m=!0,_.fontFamily=T,'normal'===_.fontStyle&&delete _.fontStyle,'400'===_.fontWeight&&delete _.fontWeight):(T=o(T),_.fontFamily='@font/'+(T+('normal'===_.fontStyle?'':'_'+_.fontStyle)+('400'===_.fontWeight?'':'_'+(At[_.fontWeight]||_.fontWeight))),x=_.fontStyle,I=_.fontWeight,delete _.fontStyle,delete _.fontWeight),!m){var E=Ft.STORED.FONTS.get(T)||{};Object.assign(E,$e({},x+'-'+I,!0)),Ft.STORED.FONTS.set(T,E)}}for(var A=Ut.fontStyle,v=Object.keys(A),R=0;R<v.length;R++){null==l[R]&&(l[R]={});var L=_[v[R]];if(S(L)&&g.supported('android',v[R])){var N=n(A[v[R]],L);null==l[R][N]&&(l[R][N]=[]),l[R][N].push(b)}}}}catch(e){u=!0,p=e}finally{try{!s&&h.return&&h.return()}finally{if(u)throw p}}var O=this.tagStyle[a];if(O){for(var w=0;w<O.length;w++)for(var k in O[w])if(null!=l[w][k]){var B;(B=l[w][k]).push.apply(B,lt(O[w][k]))}else l[w][k]=O[w][k];this.tagCount[a]+=r.visible.length}else this.tagCount[a]=r.visible.length;this.tagStyle[a]=l}}},{key:'setImageSource',value:function(){this.cache.filter(function(e){return e.visible&&(e.imageElement||'INPUT'===e.element.tagName&&'image'===e.element.type)&&!e.hasBit('excludeResource',ut.IMAGE_SOURCE)}).each(function(e){var i=e.element;if(null==P(i,'imageSource')||Lt.alwaysReevaluateResources){var a=e.imageElement?t.addImageSrcSet(i):t.addImage({mdpi:i.src});if(''!==a){var r=Ut.imageSource;e.formatted(n(r.src,a),null==e.renderExtension),D(i,'imageSource',a)}}})}},{key:'setOptionArray',value:function(){tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setOptionArray',this).call(this),this.cache.filter(function(e){return e.visible&&'SELECT'===e.element.tagName&&!e.hasBit('excludeResource',ut.OPTION_ARRAY)}).each(function(e){var i=P(e.element,'optionArray');if(i){var a=Ut.optionArray,r=[];null!=i.stringArray&&(r=i.stringArray.map(function(e){var n=t.addString(e);return''===n?'':'@string/'+n}).filter(function(e){return e})),null!=i.numberArray&&(r=i.numberArray);var o='',l=r.join('-'),d=!0,s=!1,u=void 0;try{for(var p=Ft.STORED.ARRAYS.entries()[Symbol.iterator](),h;!(d=(h=p.next()).done);d=!0){var c=h.value,g=ot(c,2),m=g[0],f=g[1];if(l===f.join('-')){o=m;break}}}catch(e){s=!0,u=e}finally{try{!d&&p.return&&p.return()}finally{if(s)throw u}}''===o&&(o=e.nodeId+'_array',Ft.STORED.ARRAYS.set(o,r)),e.formatted(n(a.entries,o),null==e.renderExtension)}})}},{key:'setValueString',value:function(){tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setValueString',this).call(this),this.cache.filter(function(e){return e.visible&&!e.hasBit('excludeResource',ut.VALUE_STRING)}).each(function(e){var i=P(e.element,'valueString');if(i){if(e.renderParent.of(dt.RELATIVE,st.INLINE_WRAP)&&e.alignParent('left')&&!U(e.element,'whiteSpace','pre','pre-wrap')&&(i.value=i.value.replace(/^(\s|&#160;)+/,'')),e.hasElement&&e.is(dt.TEXT)){switch(e.css('fontVariant')){case'small-caps':i.value=i.value.toUpperCase();}var a=e.css('textDecoration').match(/(underline|line-through)/);if(a)switch(a[0]){case'underline':i.value='<u>'+i.value+'</u>';break;case'line-through':i.value='<strike>'+i.value+'</strike>';}}var r=t.addString(i.value,i.name);if(''!==r){var o=Ut.valueString;e.formatted(n(o.text,isNaN(parseInt(r))||parseInt(r).toString()!==r?'@string/'+r:r),null==e.renderExtension)}}})}},{key:'addTheme',value:function(e,n,i){var a=le(e);if(null!=i.item){var r=oe(n,'0');for(var o in i.item){var l=i.item[o],d=be(l);''!==d&&(l='@color/'+t.addColor(d)),r[1].push({name:o,value:l})}}var s=de(a,n);this.addFile(i.output.path,i.output.file,s)}},{key:'processFontStyle',value:function(e){var t=this,n={},a={};for(var r in this.tagStyle){n[r]={},a[r]={};var o=this.tagStyle[r].filter(function(e){return 0<Object.keys(e).length}).sort(function(e,t){var n=0,i=0,a=0,r=0;for(var o in e)n=Ue(e[o].length,n),a+=e[o].length;for(var l in t)null!=t[l]&&(i=Ue(t[l].length,i),r+=t[l].length);return n===i?a>=r?-1:1:n>i?-1:1}),d=this.tagCount[r];do if(1===o.length){for(var s in o[0]){var u=o[0][s];2<u.length?n[r][s]=u:a[r][s]=u}o.length=0}else{for(var p={},h={},c=function(e){var i={},a={},l=new Set;for(var s in o[e])if(null!=o[e]){var u=o[e][s],c=!1;if(null==u||0===u.length)continue;else u.length===d?(p[s]=u,o[e]={},c=!0):1===u.length&&(h[s]=u,o[e][s]=[],c=!0);if(!c){for(var g={},m=!1,f=0;f<o.length;f++)if(e!==f)for(var y in o[f]){var b=o[f][y];if(0<b.length){var _=!0,T=!1,x=void 0;try{for(var I=u[Symbol.iterator](),E,A;!(_=(E=I.next()).done);_=!0)A=E.value,b.includes(A)&&(null==g[y]&&(g[y]=[]),g[y].push(A))}catch(e){T=!0,x=e}finally{try{!_&&I.return&&I.return()}finally{if(T)throw x}}}}for(var v in g)1<g[v].length&&(i[[s,v].sort().join(';')]=g[v],m=!0);m||(i[s]=u)}}for(var R in i)for(var L in i)if(R!==L&&i[R].join('')===i[L].join('')){var N=i[R].join(',');a[N]=null==a[N]?new Set([].concat(lt(R.split(';')),lt(L.split(';')))):new Set([].concat(lt(a[N]),lt(L.split(';')))),l.add(R).add(L)}for(var S in l.forEach(function(e){return delete i[e]}),i)t.deleteStyleAttribute(o,S,i[S]),n[r][S]=i[S];for(var O in a){var w=Array.from(a[O]).sort().join(';'),k=O.split(',').map(function(e){return parseInt(e)});t.deleteStyleAttribute(o,w,k),n[r][w]=k}},g=0;g<o.length;g++)c(g);var m=Object.keys(p);for(var f in 0<m.length&&(1<m.length||1<p[m[0]].length?n[r][m.join(';')]=p[m[0]]:Object.assign(h,p)),h)a[r][f]=h[f];for(var g=0;g<o.length;g++)o[g]&&0===Object.keys(o[g]).length&&delete o[g];o=o.filter(function(e){return e&&0<e.length})}while(0<o.length)}var y={},b=function(e){var t=n[e],i=[];for(var a in t)i.push({attributes:a,ids:t[a]});i.sort(function(e,t){var n=[e.ids.length,t.ids.length],i=n[0],a=n[1];if(i===a){var r=[e.attributes.split(';').length,t.attributes.split(';').length];i=r[0],a=r[1]}return i>=a?-1:1}),i.forEach(function(t,n){return t.name=l(e)+(0<n?'_'+n:'')}),y[e]=i};for(var _ in n)b(_);var T=new Set,x={};for(var _ in y){var I=!0,E=!1,A=void 0;try{for(var v=y[_][Symbol.iterator](),R;!(I=(R=v.next()).done);I=!0){var L=R.value,N=!0,S=!1,O=void 0;try{for(var w=L.ids[Symbol.iterator](),k,B;!(N=(k=w.next()).done);N=!0)B=k.value,null==x[B]&&(x[B]={styles:[],attributes:[]}),x[B].styles.push(L.name)}catch(e){S=!0,O=e}finally{try{!N&&w.return&&w.return()}finally{if(S)throw O}}}}catch(e){E=!0,A=e}finally{try{!I&&v.return&&v.return()}finally{if(E)throw A}}var C=a[_];if(null!=C)for(var D in C){var P=!0,F=!1,M=void 0;try{for(var G=C[D][Symbol.iterator](),H,W;!(P=(H=G.next()).done);P=!0)W=H.value,null==x[W]&&(x[W]={styles:[],attributes:[]}),x[W].attributes.push(D)}catch(e){F=!0,M=e}finally{try{!P&&G.return&&G.return()}finally{if(F)throw M}}}}var V=function(t){var n=e.cache.locate('id',parseInt(t));if(n){var i=x[t].styles,a=x[t].attributes;0<i.length&&(T.add(i.join('.')),n.attr('_','style','@style/'+i.pop())),0<a.length&&a.sort().forEach(function(e){return n.formatted(Ae(e,!0),!1)})}};for(var z in x)V(z);var X=function(e){var t='';e.split('.').forEach(function(e){var n=e.match(/^(\w*?)(?:_([0-9]+))?$/);if(n){var i=y[n[1].toUpperCase()][null==n[2]?0:parseInt(n[2])];Ft.STORED.STYLES.set(e,{parent:t,attributes:i.attributes}),t=e}})},U=!0,j=!1,Y=void 0;try{for(var Z=T[Symbol.iterator](),K,q;!(U=(K=Z.next()).done);U=!0)q=K.value,X(q)}catch(e){j=!0,Y=e}finally{try{!U&&Z.return&&Z.return()}finally{if(j)throw Y}}}},{key:'deleteStyleAttribute',value:function(e,t,n){t.split(';').forEach(function(t){for(var a=0;a<e.length;a++)if(null!=e[a]){var r=-1,o='';for(var l in e[a])if(l===t){r=a,o=l,a=e.length;break}if(-1!==r){e[r][o]=e[r][o].filter(function(e){return!n.includes(e)}),0===e[r][o].length&&delete e[r][o];break}}})}},{key:'getShapeAttribute',value:function(e,t){switch(t){case'stroke':return!!(e.border&&'0px'!==e.border.width)&&[{width:e.border.width,borderStyle:this.getBorderStyle(e.border)}];case'backgroundColor':return!!(0<e.backgroundColor.length)&&[{color:e.backgroundColor}];case'radius':return 1===e.borderRadius.length&&'0px'!==e.borderRadius[0]&&[{radius:e.borderRadius[0]}];case'radiusInit':return!!(1<e.borderRadius.length)&&[];case'radiusAll':var n={};return e.borderRadius.forEach(function(e,t){return n[['topLeft','topRight','bottomRight','bottomLeft'][t]+'Radius']=e}),n;}return!1}}],[{key:'addString',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'';if(''!==e){''===t&&(t=e);var n=f(e);if(Lt.numberResourceValue||!n){var i=!0,a=!1,r=void 0;try{for(var o=Ft.STORED.STRINGS.entries()[Symbol.iterator](),l;!(i=(l=o.next()).done);i=!0){var d=l.value,s=ot(d,2),u=s[0],p=s[1];if(p===e)return u}}catch(e){a=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(a)throw r}}t=t.trim().replace(/[^a-zA-Z0-9]/g,'_').toLowerCase().replace(/_+/g,'_').split('_').slice(0,4).join('_').replace(/_+$/g,''),n||/^[0-9]/.test(t)||Rt.includes(t)?t='__'+t:''===t&&(t='__symbol'+Ye(1e5*Math.random())),Ft.STORED.STRINGS.has(t)&&(t=Te('strings',t+'_1')),Ft.STORED.STRINGS.set(t,e)}return t}return''}},{key:'addImageSrcSet',value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',i=e.srcset.trim(),a={};if(''!==i){var r=e.src.substring(0,e.src.lastIndexOf('/')+1);i.split(',').forEach(function(e){var t=/^(.*?)\s*([0-9]+\.?[0-9]*x)?$/.exec(e.trim());if(t){null==t[2]&&(t[2]='1x');var n=r+v(t[1]);switch(t[2]){case'0.75x':a.ldpi=n;break;case'1x':a.mdpi=n;break;case'1.5x':a.hdpi=n;break;case'2x':a.xhdpi=n;break;case'3x':a.xxhdpi=n;break;case'4x':a.xxxhdpi=n;}}})}return null==a.mdpi&&(a.mdpi=e.src),t.addImage(a,n)}},{key:'addImage',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n='';if(e&&e.mdpi){n=v(e.mdpi);var i=v(n,'.').toLowerCase();switch(n=n.replace(/.\w+$/,'').replace(/-/g,'_'),i){case'bmp':case'cur':case'gif':case'ico':case'jpg':case'png':n=Ft.insertStoredAsset('IMAGES',t+n,e);break;default:n='';}}return n}},{key:'addImageURL',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',i=z(e);return''===i?'':t.addImage({mdpi:i},n)}},{key:'addColor',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'1';e=e.toUpperCase().trim();var n=1>parseFloat(t)?'#'+(parseFloat(t).toFixed(2).substring(2)+e.substring(1)):e;if(''!==e){var i='';if(!Ft.STORED.COLORS.has(n)){var r=he(e);''!==r&&(r.name=a(r.name),i=e===r.hex&&e===n?r.name:Te('color',r.name+'_1'),Ft.STORED.COLORS.set(n,i))}else i=Ft.STORED.COLORS.get(n);return i}return''}},{key:'parseBackgroundPosition',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=new RegExp(/([0-9]+[a-z]{2}) ([0-9]+[a-z]{2})/).exec(e);return t?[u(t[1]),u(t[2])]:['','']}}]),t}(Ft),Yt={relativeParent:{top:'layout_alignParentTop',bottom:'layout_alignParentBottom'},relative:{top:'layout_alignTop',bottom:'layout_alignBottom',baseline:'layout_alignBaseline',bottomTop:'layout_above',topBottom:'layout_below'},constraint:{top:'layout_constraintTop_toTopOf',bottom:'layout_constraintBottom_toBottomOf',baseline:'layout_constraintBaseline_toBaselineOf',bottomTop:'layout_constraintBottom_toTopOf',topBottom:'layout_constraintTop_toBottomOf'}},Zt={direction:['horizontalChain','verticalChain'],leftTop:['left','top'],rightBottom:['right','bottom'],rightLeftBottomTop:['rightLeft','bottomTop'],leftRightTopBottom:['leftRight','topBottom'],widthHeight:['Width','Height'],horizontalVertical:['Horizontal','Vertical']},Kt=function(e){function t(){Je(this,t);var e=it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._merge={},_e(),e}return nt(t,e),Qe(t,[{key:'finalize',value:function(e){this.setAttributes(e);for(var t=[].concat(lt(e.views),lt(e.includes)),n=0,i;n<t.length;n++)i=t[n],i.content=ne(i.content).replace(/\n\n/g,'\n'),Lt.dimensResourceValue&&(i.content=this.parseDimensions(i.content)),i.content=Ae(i.content),i.content=ae(i.content,Lt.insertSpaces)}},{key:'reset',value:function(){tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'reset',this).call(this),_e(),this._merge={}}},{key:'setConstraints',value:function(){function e(e,t){return u?'parent'===e.app(c[t]):'true'===e.android(s[t])}function t(e,t){return e[u?'app':'android'](c[t])}function n(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.delete.apply(e,[u?'app':'android'].concat(lt(n.map(function(e){return c[e]}))))}function i(e){return e.filter(function(e){return e.anchored})}function a(e,n,i){if(!e.constraint[i]){for(var a=e,r;null!=a;)if(r=t(a,i===_t.HORIZONTAL?'leftRight':'topBottom'),!r)a=null;else if(a=n.locate('nodeId',xe(r)),a&&a.constraint[i])return!0;return!1}return!0}function r(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];for(var a in c){var r=t.app(c[a]);('parent'!==r||i)&&(''===n||r===n)&&t.delete('app',c[a])}t.constraint.horizontal=e(t,'left')||e(t,'right'),t.constraint.vertical=e(t,'top')||e(t,'bottom')}function o(e){if(1<e.length){var t=ft.baselineText(e);if(null!=t){var n=!0,i=!1,a=void 0;try{for(var r=e[Symbol.iterator](),o,l;!(n=(o=r.next()).done);n=!0)l=o.value,l!==t&&(l.nodeType<dt.IMAGE||l.linearHorizontal)&&l.android(c.baseline,t.stringId)}catch(e){i=!0,a=e}finally{try{!n&&r.return&&r.return()}finally{if(i)throw a}}}}}var l=this;Object.assign(Yt.relativeParent,{left:Re('layout_alignParentLeft'),right:Re('layout_alignParentRight')}),Object.assign(Yt.relative,{left:Re('layout_alignLeft'),right:Re('layout_alignRight'),leftRight:Re('layout_toRightOf'),rightLeft:Re('layout_toLeftOf')}),Object.assign(Yt.constraint,{left:Re('layout_constraintLeft_toLeftOf'),right:Re('layout_constraintRight_toRightOf'),leftRight:Re('layout_constraintLeft_toRightOf'),rightLeft:Re('layout_constraintRight_toLeftOf')});var s=Yt.relativeParent,u=!1,h=!1,c=void 0,g=function(g){u=g.is(dt.CONSTRAINT),h=g.is(dt.RELATIVE);var m=g.flex;u||h||m.enabled?function(){c=Yt[h?'relative':'constraint'];var u=new ft(g.renderChildren.filter(function(e){return!e.isolated&&!e.relocated}),g);if(h){var f=[],y=[],_=u.list.some(function(e){return e.multiLine}),T=g.hasBit('alignmentType',st.FLOAT),x=g.toInt('textIndent'),I=0;0>x&&ze(x)<=g.paddingLeft&&(I=g.paddingLeft,g.modifyBox(ht.PADDING_LEFT,g.paddingLeft+x),g.modifyBox(ht.PADDING_LEFT,null));for(var E=null,v=0,N=0;N<u.length;N++){var S=u.get(N),k=S[S.multiLine?'bounds':'linear'];if(0===N)S.android(s.top,'true'),S.android(s.left,'true'),v+=k.width,!g.inline&&0<x&&S.modifyBox(ht.MARGIN_LEFT,x),0<I&&S.android('singleLine','true'),f[f.length]=[S];else{var C=u.get(N-1);if(S instanceof Vt||_&&je(v-S.marginLeft)+k.width>g.box.width||!_&&(S.linear.top>=C.linear.bottom||w(S.linear.left,g.box.left))||S.multiLine&&(q(S.element)||g.renderParent.linearHorizontal)||J(S.element.previousSibling)||J(C.element.nextSibling,'next')){var D=f[f.length-1];E=D[0];for(var P=1;P<D.length;P++)D[P].linear.bottom>E.linear.bottom&&(E=D[P]);if(S instanceof Vt&&(S.constraint.marginVertical=E.stringId),S.android(c.topBottom,E.stringId),S.android(s.left,'true'),v=k.width,Lt.ellipsisOnTextOverflow&&null!=C&&(1<f[f.length-1].length||C.linearHorizontal)){var F=C;C.linearHorizontal&&(F=C.children[C.children.length-1]),F.multiLine&&F.android('singleLine','true')}0<I&&S.modifyBox(ht.PADDING_LEFT,I),T||(o(y),y.length=0),f.push([S])}else S.android(c.leftRight,C.stringId),null!=E&&S.android(c.topBottom,E.stringId),v+=k.width,f[f.length-1].push(S)}!T&&S.alignMargin&&y.push(S)}T||o(y)}else if(g.of(dt.CONSTRAINT,st.HORIZONTAL))for(var M=ft.baselineText(u.list),G=ft.baselineText(u.list,!0),H=u.sort(function(e,t){return e.linear.top<=t.linear.top?-1:1}).get(0),W=u.sort(function(e,t){return e.linear.bottom>=t.linear.bottom?-1:1}).get(0),V=0;V<u.length;V++){var z=u.get(V),X=u.get(V-1);switch(0===V?(z.app(c.left,'parent'),u.list.some(function(e){return e.imageElement})&&z.app(c.bottom,'parent')):(z.app(c.leftRight,X.stringId),z.constraint.marginHorizontal=X.stringId),z.css('verticalAlign')){case'text-top':if(G&&z!==G){z.app(c.top,G.stringId);break}case'top':H!==z&&z.app(c.top,H.stringId);break;case'middle':l.setAlignParent(z,_t.VERTICAL);break;case'baseline':G&&z.is(dt.TEXT)||z===M?G&&z!==G&&z.app(c.baseline,G.stringId):M&&z!==M&&z.app(c.baseline,M.stringId);break;case'text-bottom':if(G&&z!==G){z.app(c.bottom,G.stringId);break}case'bottom':W!==z&&z.app(c.bottom,W.stringId);}}else(function(){var o=u.partition(function(e){return e.pageflow}),s=ot(o,2),h=s[0],f=s[1];if(0<h.length){var _=!0,T=!1,x=void 0;try{for(var I=h[Symbol.iterator](),E;!(_=(E=I.next()).done);_=!0){var v=E.value,N=v.documentParent;v.centerHorizontal?l.setAlignParent(v,_t.HORIZONTAL):((v.linear.left<=N.box.left||w(v.linear.left,N.box.left))&&v.anchor(c.left,'parent',_t.HORIZONTAL),(v.linear.right>=N.box.right||w(v.linear.right,N.box.right))&&v.anchor(c.right,'parent',0<N.viewWidth||'right'===v.float||v.inlineWrap||'auto'===v.cssOriginal('marginLeft')?_t.HORIZONTAL:''));var S=!1;(v.linear.top<=N.box.top||w(v.linear.top,N.box.top))&&(v.anchor(c.top,'parent',_t.VERTICAL),S=!0),(v.linear.bottom>=N.box.bottom||w(v.linear.bottom,N.box.bottom))&&!(S&&v.inlineWrap)&&v.anchor(c.bottom,'parent',0<N.viewHeight?_t.VERTICAL:'');var k=!0,C=!1,D=void 0;try{for(var P=h[Symbol.iterator](),F,M;!(k=(F=P.next()).done);k=!0)if(M=F.value,v!==M){var G=M.stringId,H=a(M,u,_t.HORIZONTAL)?_t.HORIZONTAL:'',W=a(M,u,_t.VERTICAL)?_t.VERTICAL:'',V=v.intersectY(M.linear),z=v.alignMargin&&M.alignMargin;0===v.viewWidth&&v.linear.left===M.linear.left&&v.linear.right===M.linear.right&&(!e(v,'right')&&v.anchor(c.left,G),!e(v,'left')&&v.anchor(c.right,G)),v.centerHorizontal||((!v.constraint.horizontal&&z&&O(v.linear.left,M.linear.right,Lt.constraintWhitespaceHorizontalOffset)||w(v.linear.left,M.linear.right))&&('right'!==v.float||v.float===M.float)&&v.anchor(c.leftRight,G,H,v.withinX(M.linear)),(!v.constraint.horizontal&&z&&O(v.linear.right,M.linear.left,Lt.constraintWhitespaceHorizontalOffset)||w(v.linear.right,M.linear.left))&&v.anchor(c.rightLeft,G,H,v.withinX(M.linear)));var X=e(v,'top'),U=e(v,'bottom'),j=!m.enabled&&!v.inlineElement;(!v.constraint.vertical&&z&&O(v.linear.top,M.linear.bottom,Lt.constraintWhitespaceVerticalOffset)||w(v.linear.top,M.linear.bottom))&&(V||!U||j)&&v.anchor(c.topBottom,G,W,V),(!v.constraint.vertical&&z&&O(v.linear.bottom,M.linear.top,Lt.constraintWhitespaceVerticalOffset)||w(v.linear.bottom,M.linear.top))&&(V||!X||j)&&v.anchor(c.bottomTop,G,W,V),X||U||(v.linear.top===M.linear.top&&v.anchor(c.top,G,W),v.linear.bottom===M.linear.bottom&&v.anchor(c.bottom,G,W))}}catch(e){C=!0,D=e}finally{try{!k&&P.return&&P.return()}finally{if(C)throw D}}}}catch(e){T=!0,x=e}finally{try{!_&&I.return&&I.return()}finally{if(T)throw x}}}if(0<f.length){g.setBoundsMin();var Y=!0,Z=!1,K=void 0;try{for(var J=f[Symbol.iterator](),Q,$;!(Y=(Q=J.next()).done);Y=!0)$=Q.value,null!=$.top&&0===$.toInt('top')&&$.anchor(c.top,'parent',_t.VERTICAL),null!=$.right&&0<=$.toInt('right')&&($.anchor(c.right,'parent',_t.HORIZONTAL),$.centerHorizontal&&0<$.toInt('left')&&($.anchor(c.left,'parent'),$.modifyBox(ht.MARGIN_LEFT,$.toInt('left')))),null!=$.bottom&&0<=$.toInt('bottom')&&$.anchor(c.bottom,'parent',_t.VERTICAL),null!=$.left&&0===$.toInt('left')&&($.anchor(c.left,'parent',_t.HORIZONTAL),$.centerHorizontal&&0<$.toInt('right')&&($.anchor(c.right,'parent'),$.modifyBox(ht.MARGIN_RIGHT,$.toInt('right')))),0!==$.left||0!==$.right||$.floating||$.android('layout_width','match_parent'),0===$.top&&0===$.bottom&&$.android('layout_height','match_parent')}catch(e){Z=!0,K=e}finally{try{!Y&&J.return&&J.return()}finally{if(Z)throw K}}}var ee=!0,te=!1,ne=void 0;try{for(var ie=u[Symbol.iterator](),ae;!(ee=(ae=ie.next()).done);ee=!0){var re=ae.value,oe=t(re,'leftRight');oe&&(!re.constraint.horizontal&&(re.constraint.horizontal=m.enabled||a(re,u,_t.HORIZONTAL)),re.constraint.marginHorizontal=oe);var le=t(re,'topBottom');if(le&&(!re.constraint.vertical&&(re.constraint.vertical=m.enabled||a(re,u,_t.VERTICAL)),re.constraint.marginVertical=le,n(re,'top')),e(re,'left')&&e(re,'right'))if(re.autoMargin)'auto'===re.cssOriginal('marginLeft')&&'auto'!==re.cssOriginal('marginRight')&&n(re,'left'),'auto'!==re.cssOriginal('marginLeft')&&'auto'===re.cssOriginal('marginRight')&&n(re,'right'),re.centerHorizontal&&(0<g.viewWidth?re.android('layout_width','match_parent'):re.inlineElement&&0===re.viewWidth&&re.android('layout_width','wrap_content'));else if(re.floating)n(re,'right'===re.float?'left':'right');else if(!re.inlineElement)n(re,'right'),re.android('layout_width','match_parent');else if(re.nodeType<=dt.IMAGE)switch(re.css('textAlign')){case'center':break;case'right':case'end':n(re,'left');break;default:n(re,'right');}else n(re,'right');t(re,'bottomTop')&&n(re,'bottom')}}catch(e){te=!0,ne=e}finally{try{!ee&&ie.return&&ie.return()}finally{if(te)throw ne}}for(var de=0,se;de<h.length;de++)if(se=h.get(de),!se.anchored){var ue=L(se.get('app'),'*constraint*'),pe=!0,he=!1,ce=void 0;try{for(var ge=ue[Symbol.iterator](),me;!(pe=(me=ge.next()).done);pe=!0){var fe=me.value,ye=ot(fe,2),be=ye[0],_e=ye[1];'parent'!==_e&&i(h).locate('stringId',_e)&&(-1!==A(be,Re('Left'),Re('Right'))&&(se.constraint.horizontal=!0),-1!==A(be,'Top','Bottom','Baseline','above','below')&&(se.constraint.vertical=!0))}}catch(e){he=!0,ce=e}finally{try{!pe&&ge.return&&ge.return()}finally{if(he)throw ce}}se.anchored&&(de=-1)}if(m.enabled||!Lt.constraintChainDisabled&&1<h.length){var Te=null;if(!m.enabled){var Ie=h.list.filter(function(e){return!e.constraint.horizontal}),Ae=h.list.filter(function(e){return!e.constraint.vertical});h.list.some(function(e){var t=[],n=[];return 0<Ie.length&&(t=l.partitionChain(e,h,_t.HORIZONTAL),e.constraint.horizontalChain=new ft(B(t,'linear.left'))),0<Ae.length&&(n=l.partitionChain(e,h,_t.VERTICAL),e.constraint.verticalChain=new ft(B(n,'linear.top'))),t.length===h.length||n.length===h.length})}else if('nowrap'===m.wrap){var ve=h.clone(),Le=h.clone();switch(m.direction){case'row-reverse':ve.list.reverse();case'row':Le.clear();break;case'column-reverse':Le.list.reverse();case'column':ve.clear();}Te=[{constraint:{horizontalChain:ve,verticalChain:Le}}]}else{var Ne=function(){for(var e in Oe)Oe[e].reverse()},Se=h.clone();switch(m.direction){case'row-reverse':case'column-reverse':Se.list.reverse();}var Oe={},we=[],ke=!0,Be=!1,Ce=void 0;try{for(var De=Se[Symbol.iterator](),Pe;!(ke=(Pe=De.next()).done);ke=!0){var Fe=Pe.value,Me=Fe.linear.top;null==Oe[Me]&&(Oe[Me]=[],we.push(Me)),Oe[Me].push(Fe)}}catch(e){Be=!0,Ce=e}finally{try{!ke&&De.return&&De.return()}finally{if(Be)throw Ce}}switch(m.wrap){case'wrap':'column-reverse'===m.direction&&Ne();break;case'wrap-reverse':-1===m.direction.indexOf('row')?'column'===m.direction&&Ne():we.reverse();}Te=[];var y=!0,Ge=!1,He=void 0;try{for(var Ve=we[Symbol.iterator](),je,Ye;!(y=(je=Ve.next()).done);y=!0)Ye=je.value,Te.push({constraint:{horizontalChain:new ft(Oe[Ye]),verticalChain:new ft}})}catch(e){Ge=!0,He=e}finally{try{!y&&Ve.return&&Ve.return()}finally{if(Ge)throw He}}}Zt.direction.forEach(function(i,r){var o=m.enabled?Te:h.clone().list.sort(function(e,t){return(null==e.constraint[i]?0:e.constraint[i].length)>=(null==t.constraint[i]?0:t.constraint[i].length)?-1:1});null!=o&&o.filter(function(e){return e.constraint[i]}).forEach(function(s,f){var y=s.constraint[i];if(y.length>(m.enabled?0:1)){var _=0===r?1:0,T=[Zt.horizontalVertical[r],Zt.horizontalVertical[_]],x=T[0],I=T[1],E=[Zt.leftTop[r],Zt.leftTop[_]],A=E[0],v=E[1],L=[Zt.rightBottom[r],Zt.rightBottom[_]],N=L[0],S=L[1],O=[Zt.widthHeight[r],Zt.widthHeight[_]],k=O[0],B=O[1],C=x.toLowerCase(),D=I.toLowerCase(),P=k.toLowerCase();if(m.enabled)y.list.some(function(e){return 0<e.flex.order})&&y[-1===m.direction.indexOf('reverse')?'sortAsc':'sortDesc']('flex.order');else if(y.list.every(function(e){return a(e,u,C)}))return;y.parent=g;for(var F=y.get(0),M=y.get(),G=-1,H=!1,W=!1,V=0===r?[_t.HORIZONTAL,'left','leftRight','top',_t.VERTICAL,'viewWidth','right','marginHorizontal']:[_t.VERTICAL,'top','topBottom','left',_t.HORIZONTAL,'viewHeight','bottom','marginVertical'],z=0,X;z<y.length;z++)if(X=y.get(z),0===z){if(!e(X,V[1])){H=!0;break}}else if(null==t(X,V[2])){H=!0;break}if(!H){if(y.list.every(function(e){return R(F,e,'linear.'+V[3])}))for(var U=1,j;U<y.length;U++)j=y.get(U),j.constraint[V[4]]||j.anchor(c[V[3]],F.stringId,V[4]);m.enabled||0!==g[V[5]]||(n(M,V[6]),M.constraint[V[7]]=t(M,V[2]))}F.anchor(c[A],'parent',C),M.anchor(c[N],'parent',C);for(var Y=function(a){var s=y.get(a),u=y.get(a+1),h=y.get(a-1);if(m.enabled){s.linear[v]===g.box[v]&&s.linear[S]===g.box[S]&&l.setAlignParent(s,D);var _=o[f+1];if(_&&null!=_.constraint[i]){var T=_.constraint[i].get(a);T&&s.withinY(T.linear)&&(s.anchor(c.bottomTop,T.stringId),!e(s,'bottom')&&n(s,'bottom'))}}if(u&&(s.anchor(c[Zt.rightLeftBottomTop[r]],u.stringId),G=Ue(u.linear[A]-s.linear[N],G)),h&&(s.anchor(c[Zt.leftRightTopBottom[r]],h.stringId),s.constraint['margin'+x]=h.stringId),s.constraint['chain'+x]=!0,!s.has(P)){var I=s.styleMap['min'+k],E=s.styleMap['max'+k];I&&s.app('layout_constraint'+k+'_min',I),E&&s.app('layout_constraint'+k+'_max',E),(I||E)&&s.android('layout_'+P,'0px')}if(m.enabled){switch(s.app('layout_constraint'+x+'_weight',s.flex.grow.toString()),null==s['view'+k]&&0===s.flex.grow&&1>=s.flex.shrink?s.android('layout_'+P,'wrap_content'):0<s.flex.grow&&s.android('layout_'+P,'0px'),0===s.flex.shrink&&s.app('layout_constrained'+k,'true'),s.flex.alignSelf){case'flex-start':s.anchor(c[v],'parent',D);break;case'flex-end':s.anchor(c[S],'parent',D);break;case'baseline':var R=y.list.some(function(e){return!!(e!==s&&e.nodeType<=dt.TEXT)&&(s.anchor(c.baseline,e.stringId),!0)});if(R){n(s,'top','bottom');var L=!0,O=!1,w=void 0;try{for(var C=y[Symbol.iterator](),F,M;!(L=(F=C.next()).done);L=!0)M=F.value,t(M,'top')===s.stringId&&n(M,'top'),t(M,'bottom')===s.stringId&&n(M,'bottom')}catch(e){O=!0,w=e}finally{try{!L&&C.return&&C.return()}finally{if(O)throw w}}s.constraint.vertical=!0}break;case'center':case'stretch':'center'!==s.flex.alignSelf&&s.android('layout_'+B.toLowerCase(),'0px'),l.setAlignParent(s,D);}if('auto'!==s.flex.basis){var H=d(s.flex.basis);0<H&&(b(s.flex.basis)?s.app('layout_constraint'+k+'_percent',(H/100).toString()):(s.app('layout_constraint'+k+'_min',p(H)),s.constraint['min'+k]=!0))}}},Z=0;Z<y.length;Z++)Y(Z);var K='layout_constraint'+x+'_chainStyle';if(m.enabled&&'normal'!==m.justifyContent&&0===Ue.apply(null,y.list.map(function(e){return e.flex.grow}))){switch(m.justifyContent){case'space-between':F.app(K,'spread_inside');break;case'space-evenly':F.app(K,'spread');var q=!0,J=!1,Q=void 0;try{for(var $=y[Symbol.iterator](),ee,te;!(q=(ee=$.next()).done);q=!0)te=ee.value,te.app('layout_constraint'+x+'_weight',(te.flex.grow||1).toString())}catch(e){J=!0,Q=e}finally{try{!q&&$.return&&$.return()}finally{if(J)throw Q}}break;case'space-around':F.app('layout_constraint'+x+'_chainStyle','spread_inside'),F.constraint[C]=!1,M.constraint[C]=!1,l.addGuideline(F,C,!0,!1),l.addGuideline(M,C,!0,!0);break;default:var ne=m.justifyContent;if(-1!==m.direction.indexOf('reverse'))switch(m.justifyContent){case'flex-start':ne='flex-end';break;case'flex-end':ne='flex-start';}var ie='0.5';'flex-start'===ne?ie='0':'flex-end'===ne?ie='1':void 0,F.app(K,'packed'),F.app('layout_constraint'+x+'_bias',ie);}W=!0}else{var ae=w(g.box.left,F.linear.left),re=w(M.linear.right,g.box.right),oe=w(g.box.top,F.linear.top),le=w(M.linear.bottom,g.box.bottom);if(C===_t.HORIZONTAL&&ae&&re||C===_t.VERTICAL&&oe&&le)2<y.length||m.enabled?!m.enabled&&g.inlineElement?(F.app(K,'packed'),F.app('layout_constraint'+x+'_bias',0===r&&'right'===g.float?'1':'0')):(F.app(K,'spread_inside'),W=!0):G>Lt['constraintChainPacked'+x+'Offset']&&(e(F,A)&&n(F,Zt.rightLeftBottomTop[r]),e(M,N)&&n(M,Zt.leftRightTopBottom[r]));else if(G<=Lt['chainPacked'+x+'Offset']||'nowrap'!==g.flex.wrap||C===_t.HORIZONTAL&&(ae||re)){F.app(K,'packed');var de='';C===_t.HORIZONTAL&&(ae?de='0':re&&(de='1')),''===de&&(de=y[C+'Bias']),F.app('layout_constraint'+x+'_bias',de)}else F.app(K,'spread'),W=!0;if(!m.enabled){(0===r?[[v,S],[S,v]]:[[A,N],[N,A]]).forEach(function(e){if(y.list.every(function(t){return R(F,t,'linear.'+e[0])&&y.list.some(function(t){return!R(F,t,'linear.'+e[1])})})){var t=!0,i=!1,a=void 0;try{for(var r=y[Symbol.iterator](),o,l;!(t=(o=r.next()).done);t=!0)l=o.value,n(l,e[1])}catch(e){i=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw a}}}});var se=!0,ue=!1,pe=void 0;try{for(var he=y[Symbol.iterator](),ce;!(se=(ce=he.next()).done);se=!0){var ge=ce.value,me=!0,fe=!1,ye=void 0;try{for(var be=h[Symbol.iterator](),_e;!(me=(_e=be.next()).done);me=!0){var Te=_e.value,xe=Te.constraint.horizontalChain,Ie=Te.constraint.verticalChain;xe&&0<xe.length&&xe.locate('id',ge.id)&&xe.clear(),Ie&&0<Ie.length&&Ie.locate('id',ge.id)&&Ie.clear()}}catch(e){fe=!0,ye=e}finally{try{!me&&be.return&&be.return()}finally{if(fe)throw ye}}}}catch(e){ue=!0,pe=e}finally{try{!se&&he.return&&he.return()}finally{if(ue)throw pe}}}else W=!0}if(W){var Ee=!0,Ae=!1,ve=void 0;try{for(var Re=y[Symbol.iterator](),Le,Ne;!(Ee=(Le=Re.next()).done);Ee=!0)Ne=Le.value,delete Ne.constraint.marginHorizontal,delete Ne.constraint.marginVertical}catch(e){Ae=!0,ve=e}finally{try{!Ee&&Re.return&&Re.return()}finally{if(Ae)throw ve}}}}})})}var Ze=!0,Ke=!1,qe=void 0;try{for(var Je=h[Symbol.iterator](),Qe,$e;!(Ze=(Qe=Je.next()).done);Ze=!0)$e=Qe.value,$e.constraint.horizontal=a($e,u,_t.HORIZONTAL),$e.constraint.vertical=a($e,u,_t.VERTICAL)}catch(e){Ke=!0,qe=e}finally{try{!Ze&&Je.return&&Je.return()}finally{if(Ke)throw qe}}m.enabled?'nowrap'!==m.wrap&&['topBottom','bottomTop'].forEach(function(i,a){var r=!0,o=!1,l=void 0;try{for(var d=h[Symbol.iterator](),s,p;!(r=(s=d.next()).done);r=!0)if(p=s.value,e(p,0===a?'bottom':'top')){for(var g=[p],m=!1,f=p,y;null!=f;)if(y=t(f,i),!y)f=null;else if(f=u.locate('nodeId',xe(y)),f&&p.withinY(f.linear)&&(g.push(f),m=e(f,0===a?'top':'bottom'),m))break;if(!m){var b=function(e){h.list.some(function(t){return e!==t&&t.linear.top===e.linear.top&&t.linear.bottom===e.linear.bottom&&(n(e,'topBottom','bottomTop'),e.app(c.top,t.stringId),e.app(c.bottom,t.stringId),!0)})},_=!0,T=!1,x=void 0;try{for(var I=g[Symbol.iterator](),E,A;!(_=(E=I.next()).done);_=!0)A=E.value,b(A)}catch(e){T=!0,x=e}finally{try{!_&&I.return&&I.return()}finally{if(T)throw x}}}}}catch(e){o=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(o)throw l}}}):function(){var o=Math.pow,d=function(e,t){n(e,t),J[e.stringId][t]=null},s=function(n){[['top','bottom','topBottom'],['bottom','top','bottomTop']].forEach(function(i){e(n,i[1])&&null==t(n,i[2])&&['leftRight','rightLeft'].forEach(function(e){var a=t(n,e);if(a){var r=h.locate('stringId',a);r&&t(r,i[2])&&(w(n.linear[i[0]],r.linear[i[0]])&&n.anchor(c[i[0]],r.stringId),w(n.linear[i[1]],r.linear[i[1]])&&n.anchor(c[i[1]],r.stringId))}})})},m=!0,f=!1,y=void 0;try{for(var b=h[Symbol.iterator](),_,T;!(m=(_=b.next()).done);m=!0)T=_.value,s(T)}catch(e){f=!0,y=e}finally{try{!m&&b.return&&b.return()}finally{if(f)throw y}}var I=h.filter(function(t){return!t.anchored&&(e(t,'top')||e(t,'right')||e(t,'bottom')||e(t,'left'))});0===i(u).length&&0===I.length&&I.append(u.get(0));var E=!0,A=!1,v=void 0;try{for(var R=I[Symbol.iterator](),L,N;!(E=(L=R.next()).done);E=!0)N=L.value,l.addGuideline(N,'',!1,!1)}catch(e){A=!0,v=e}finally{try{!E&&R.return&&R.return()}finally{if(A)throw v}}var S=u.partition(function(e){return e.anchored}),k=ot(S,2),B=k[0],C=k[1],D=!0,P=!1,F=void 0;try{for(var M=C[Symbol.iterator](),G,H;!(D=(G=M.next()).done);D=!0)if(H=G.value,O(H.horizontalBias,.5,.01)&&O(H.verticalBias,.5,.01))l.setAlignParent(H);else if(Lt.constraintCirclePositionAbsolute&&0<B.length&&!H.constraint.horizontal&&!H.constraint.vertical){r(H,'',!0);var W=B.get(0),V=H.center,z=W.center,X=ze(V.x-z.x),x=ze(V.y-z.y),U=We(Math.atan(Xe(X,x)/Ue(X,x))*(180/Math.PI)),j=We(Math.sqrt(o(X,2)+o(x,2)));V.y>z.y?V.x>z.x?X>x?U+=90:U=180-U:X>x?U=270-U:U+=180:V.y<z.y?z.x>V.x?X>x?U+=270:U=360-U:X>x&&(U=90-U):U=V.x>z.x?90:270,H.app('layout_constraintCircle',W.stringId),H.app('layout_constraintCircleRadius',Ee(''+H.tagName,'constraintcircleradius',p(j))),H.app('layout_constraintCircleAngle',U.toString()),H.constraint.horizontal=!0,H.constraint.vertical=!0}else l.addGuideline(H)}catch(e){P=!0,F=e}finally{try{!D&&M.return&&M.return()}finally{if(P)throw F}}var Y=null,Z=null,K=u.bottom,J={},Q=function(i){var r=e(i,'top'),o=e(i,'right'),d=e(i,'bottom'),s=e(i,'left');J[i.stringId]={leftRight:t(i,'leftRight'),rightLeft:t(i,'rightLeft'),topBottom:t(i,'topBottom'),bottomTop:t(i,'bottomTop')},(r&&d&&'auto'!==i.cssOriginal('marginTop')&&i.linear.bottom<K||d&&t(i,'topBottom')&&0<i.viewHeight)&&(n(i,'bottom'),d=!1),i.pageflow?([[s,o,'rightLeft','leftRight','right','left','Horizontal'],[r,d,'bottomTop','topBottom','bottom','top','Vertical']].forEach(function(a,r){if(a[0]||a[1]){var o=a[0]&&a[1],d=i;if(!o)do{var s=t(d,a[0]?a[2]:a[3]);if(!s)d=null;else if(d=l.findByStringId(s),d&&(a[0]&&e(d,a[4])||a[1]&&e(d,a[5]))){o=!0;break}}while(null!=d);if(o&&(g.constraint['layout'+a[6]]=!0),!i.constraint['chain'+a[6]])if(a[0]&&a[1])i.autoMargin||i.linearVertical||i.android('layout_'+(0===r?'width':'height'),'match_parent',!1);else if(a[1]&&o){var u=l.findByStringId(t(i,a[3]));u&&0===u.marginBottom&&n(i,a[4])}}}),o?!Z&&(Z=!1,Z=a(i,u,_t.HORIZONTAL)):s&&(i.is(dt.TEXT)&&'center'===i.cssParent('textAlign',!0)&&i.anchor(c.right,'parent'),(i.inlineText||i.plainText)&&0===i.viewWidth&&0===i.toInt('maxWidth')&&i.multiLine&&!q(i.element)&&!u.list.some(function(e){return t(e,'rightLeft')===i.stringId})&&i.android('layout_width','match_parent')),d&&!Y&&(Y=!1,Y=a(i,u,_t.VERTICAL))):(s&&o&&null==i.right&&0<i.viewWidth&&n(i,'right'),r&&d&&null==i.bottom&&0<i.viewHeight&&n(i,'bottom'),s&&o&&0===g.viewWidth&&(g.constraint.layoutWidth=!0),r&&d&&0===g.viewHeight&&(g.constraint.layoutHeight=!0),o&&0<i.toInt('right')&&i.modifyBox(ht.MARGIN_RIGHT,i.toInt('right')),d&&0<i.toInt('bottom')&&i.modifyBox(ht.MARGIN_BOTTOM,i.toInt('bottom')),o&&d&&g.documentRoot&&(0===g.viewWidth&&(g.constraint.layoutWidth=!1,g.constraint.layoutHorizontal=!1),0===g.viewHeight&&(g.constraint.layoutHeight=!1,g.constraint.layoutVertical=!1)))},$=!0,ee=!1,te=void 0;try{for(var ne=u[Symbol.iterator](),ie,ae;!($=(ie=ne.next()).done);$=!0)ae=ie.value,Q(ae)}catch(e){ee=!0,te=e}finally{try{!$&&ne.return&&ne.return()}finally{if(ee)throw te}}var re=function(e){var n=function(n){e!==n&&['leftRight','rightLeft','bottomTop','topBottom'].forEach(function(i){if(J[e][i]&&J[e][i]===J[n][i]){var a=u.locate('stringId',J[e][i]);a&&[u.locate('stringId',e),u.locate('stringId',n)].some(function(r,o){if(r){var l=0===o?e:n;switch(i){case'leftRight':case'rightLeft':if((t(r,'left')||t(r,'right'))&&t(a,'rightLeft'===i?'leftRight':'rightLeft')!==l)return d(r,i),!0;break;case'bottomTop':case'topBottom':if((t(r,'top')||t(r,'bottom'))&&t(a,'topBottom'===i?'bottomTop':'topBottom')!==l)return d(r,i),!0;}}return!1})}})};for(var i in J)n(i)};for(var oe in J)re(oe);!1===Z&&(g.constraint.layoutWidth=!0),!1===Y&&(g.constraint.layoutHeight=!0)}()})();var U=!0,Y=!1,Z=void 0;try{for(var K=u[Symbol.iterator](),Q,$;!(U=(Q=K.next()).done);U=!0){if($=Q.value,null!=$.constraint.marginHorizontal){var ee=l.findByStringId($.constraint.marginHorizontal);if(ee){var te=$.linear.left-ee.linear.right;1<=te&&$.modifyBox(ht.MARGIN_LEFT,te)}}if(null!=$.constraint.marginVertical){var ne=l.findByStringId($.constraint.marginVertical);if(ne){var ie=$.linear.top-ne.linear.bottom;1<=ie&&$.modifyBox(ht.MARGIN_TOP,ie)}}}}catch(e){Y=!0,Z=e}finally{try{!U&&K.return&&K.return()}finally{if(Y)throw Z}}}():g.linearHorizontal&&l.adjustLineHeight(g.renderChildren,g)},m=!0,f=!1,y=void 0;try{for(var _=this.cache.visible[Symbol.iterator](),T,x;!(m=(T=_.next()).done);m=!0)x=T.value,g(x)}catch(e){f=!0,y=e}finally{try{!m&&_.return&&_.return()}finally{if(f)throw y}}}},{key:'renderGroup',value:function(e,t,n,i){var a=this,r=e.isSet('dataset','target')&&!e.isSet('dataset','include'),o='',l='',d=t;switch('number'==typeof n&&(n=Wt.getNodeFromElementName(n)),n){case yt.LINEAR:i={android:{orientation:i&&i.horizontal?_t.HORIZONTAL:_t.VERTICAL}};break;case yt.GRID:i={app:{columnCount:i&&i.columns?i.columns.toString():'2',rowCount:i&&0<i.rows?i.rows.toString():''}};break;default:i={};}if(e.setNodeId(n),0!==e.overflow){var s=[];e.overflowX&&s.push(yt.SCROLL_HORIZONTAL),e.overflowY&&s.push(e.ascend().some(function(e){return 0!==e.overflow})?yt.SCROLL_NESTED:yt.SCROLL_VERTICAL);var u=e,p=t.renderDepth+s.length;s.map(function(t){var n=new Wt(a.cache.nextId,Lt.targetAPI,e.element);n.setBounds(),n.setNodeId(t),n.inherit(e,'styleMap'),a.cache.append(n),t===yt.SCROLL_HORIZONTAL?delete n.styleMap.overflowY:t===yt.SCROLL_NESTED||t===yt.SCROLL_VERTICAL?delete n.styleMap.overflowX:void 0;var i=E(p--);return o=i+('<'+t+'{@'+n.id+'}>\n')+o,l+=i+('</'+t+'>\n'),u===e&&(e.parent=n,d=n),u=n,n}).reverse().forEach(function(n,i){0===i?(n.parent=t,n.render(t)):1===i?(n.android('fadeScrollbars','false'),n.parent=u,n.render(u),n.excludeResource|=ut.ALL,e.android('layout_width','wrap_content'),e.android('layout_height','wrap_content')):void 0,u=n}),e.excludeResource|=ut.BOX_STYLE|ut.BOX_SPACING}return e.apply(i),e.render(r?e:d),this.getEnclosingTag(r||t.isSet('dataset','target')||0===e.renderDepth&&!e.documentRoot?-1:e.renderDepth,n,e.id,ee(e.id),o,l)}},{key:'renderNode',value:function(e,t,n){var i=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3];null==e.renderAs||e.renderAs.rendered||(e.hide(),e=e.renderAs);var a=e.isSet('dataset','target')&&!e.isSet('dataset','include');switch('number'==typeof n&&(n=Wt.getNodeFromElementName(n)),e.setNodeId(n),e.element.tagName){case'IMG':{if(!i){var r=e.element,o=e.toInt('width'),l=e.toInt('height'),s=e.toInt('top'),u=e.toInt('left'),h=b(e.css('width')),c=b(e.css('height')),g='';if(h||c)g=h&&c?'fitXY':'fitCenter';else{if(0===o){var m=/width="([0-9]+)"/.exec(r.outerHTML);m&&(o=parseInt(m[1]),e.css('width',p(m[1])))}if(0===l){var f=/height="([0-9]+)"/.exec(r.outerHTML);f&&(l=parseInt(f[1]),e.css('height',p(f[1])))}switch(e.css('objectFit')){case'contain':g='centerInside';break;case'cover':g='centerCrop';break;case'scale-down':g='fitCenter';break;case'none':g='matrix';break;default:g='fitXY';}}if(''!=g&&e.android('scaleType',g),(0<o&&0===l||0===o&&0<l)&&e.android('adjustViewBounds','true'),0>s||0>u){var y=new Wt(this.cache.nextId,Lt.targetAPI,e.element);return y.excludeProcedure|=pt.ALL,y.excludeResource|=ut.ALL,y.android('layout_width',0<o?p(o):'wrap_content'),y.android('layout_height',0<l?p(l):'wrap_content'),y.setBounds(),y.setNodeId(yt.FRAME),y.render(t),0>u&&e.modifyBox(ht.MARGIN_LEFT,u),0>s&&e.modifyBox(ht.MARGIN_TOP,s),e.parent=y,this.cache.append(y),this.getEnclosingTag(y.renderDepth,yt.FRAME,y.id,this.renderNode(e,y,n,!0))}}break}case'TEXTAREA':{var _=e.element;if(e.android('minLines','2'),2<_.rows&&e.android('maxLines',_.rows.toString()),0<_.maxLength&&e.android('maxLength',_.maxLength.toString()),0===e.viewWidth){var T=d(_.cols);0<T&&e.css('width',p(10*T))}e.android('hint',_.placeholder),e.android('scrollbars',_t.VERTICAL),e.android('inputType','textMultiLine'),e.overflowX&&e.android('scrollHorizontally','true');break}case'INPUT':{var x=e.element;switch(x.type){case'radio':if(!i){var I=t.children.filter(function(e){return e.visible&&null!=e.renderAs&&(e=e.renderAs),'radio'===e.element.type&&e.element.name===x.name});if(1<I.length){var E='',A=ft.linearX(I),v=this.createGroup(e,A?B(I,'linear.left'):I,t);v.setNodeId(yt.RADIO_GROUP),v.css({marginLeft:'auto'===e.cssOriginal('marginLeft')?'auto':'',marginRight:'auto'===e.cssOriginal('marginRight')?'auto':'',verticalAlign:e.css('verticalAlign'),cssFloat:e.css('cssFloat'),clear:e.css('clear')}),v.render(t);var R='',L=!0,N=!1,O=void 0;try{for(var w=v.children[Symbol.iterator](),k,C;!(L=(k=w.next()).done);L=!0)C=k.value,C.element.checked&&(R=C.stringId),E+=this.renderNode(C,v,dt.RADIO,!0)}catch(e){N=!0,O=e}finally{try{!L&&w.return&&w.return()}finally{if(N)throw O}}return v.android('orientation',A?_t.HORIZONTAL:_t.VERTICAL),v.alignmentType|=(A?st.HORIZONTAL:st.VERTICAL)|st.SEGMENTED,''!==R&&v.android('checkedButton',R),this.getEnclosingTag(v.renderDepth,yt.RADIO_GROUP,v.id,E)}}break;case'password':e.android('inputType','textPassword');break;case'text':e.android('inputType','text');break;case'range':S(x.min)&&e.android('min',x.min),S(x.max)&&e.android('max',x.max),S(x.value)&&e.android('progess',x.value);}switch(x.type){case'text':case'search':case'tel':case'url':case'email':case'password':if(0===e.viewWidth){var D=d(x.size);0<D&&e.css('width',p(10*D))}}break}}switch(e.nodeName){case yt.TEXT:if(0!==e.overflow){var P=[];e.overflowX&&P.push(_t.HORIZONTAL),e.overflowY&&P.push(_t.VERTICAL),e.android('scrollbars',P.join('|'))}break;case yt.LINE:0===e.viewHeight&&e.android('layout_height',p(e.borderTopWidth+e.borderBottomWidth+e.paddingTop+e.paddingBottom||1));}return e.cascade().forEach(function(e){return e.hide()}),e.render(a?e:t),e.hasBit('excludeProcedure',pt.ACCESSIBILITY)||e.setAccessibility(),this.getEnclosingTag(a||t.isSet('dataset','target')||0===e.renderDepth&&!e.documentRoot?-1:e.renderDepth,e.nodeName,e.id)}},{key:'renderNodeStatic',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:'',r=arguments[5],o=arguments[6];null==r&&(r=new Wt(0,Lt.targetAPI));var l=Ue(0,t),d='number'==typeof e?Wt.getNodeFromElementName(e):e;switch(e=r.hasElement?r.tagName:d,d){case'include':case'merge':case'menu':break;default:r.setNodeId(d);}S(i)&&(!isNaN(parseInt(i))&&(i=Ee(e,'width',i)),r.android('layout_width',i)),S(a)&&(!isNaN(parseInt(a))&&(a=Ee(e,'height',a)),r.android('layout_height',a)),r.renderDepth=l,null!=n&&r.apply(Oe(n));var s=this.getEnclosingTag(0!==t||r.documentRoot?t:-1,d,r.id,o?ee(r.id):'');if(Lt.showAttributes&&0===r.id){var u=E(l+1),p=r.combine().map(function(e){return'\n'+(u+e)}).join('');s=s.replace(ee(r.id,'@'),p)}return n.stringId=r.stringId,s}},{key:'renderInclude',value:function(e,t,n){return this._merge[n]='true'===e.dataset.includeMerge,e.documentRoot=!this._merge[n],this.renderNodeStatic('include',t.renderDepth+1,{layout:'@layout/'+n})}},{key:'renderMerge',value:function(e,t){var n=t.join('');if(this._merge[e]){var i=new Wt(0,0);i.documentRoot=!0,n=this.renderNodeStatic('merge',0,{},'','',i,!0).replace('{:0}',n)}return n}},{key:'baseRenderDepth',value:function(e){return this._merge[e]?0:-1}},{key:'createGroup',value:function(e,t,n,i){var a=new Vt(this.cache.nextId,e,n,t,i);return null!=t&&t.forEach(function(e){return e.inherit(a,'data')}),this.cache.append(a),a}},{key:'setDimensions',value:function(e){function t(e,t,n,a,r){var o=i[e],l=n;if(5===arguments.length)if(null!=r&&/(px|dp|sp)$/.test(r))l=n+','+a+','+r;else return;null==o[l]&&(o[l]=[]),o[l].push(t)}var n=this,i={},a=function(e){if(e.setBoxSpacing(),Lt.dimensResourceValue){var n=e.tagName.toLowerCase();null==i[n]&&(i[n]={});var a=!0,r=!1,o=void 0;try{for(var l=Object.keys(ht)[Symbol.iterator](),d;!(a=(d=l.next()).done);a=!0){var s=d.value,u=e.valueBox(s);if(''!==u[0]&&'0px'!==u[1]){var p=ht[s].toLowerCase()+','+u[0]+','+u[1];t(n,e,p)}}}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}['android:layout_width:width','android:layout_height:height','android:minWidth:min_width','android:minHeight:min_height','app:layout_constraintWidth_min:constraint_width_min','app:layout_constraintHeight_min:constraint_height_min'].forEach(function(i){var a=i.split(':'),r=ot(a,3),o=r[0],l=r[1],d=r[2];t(n,e,d,l,e[o](l))})}},r=!0,o=!1,l=void 0;try{for(var d=e.cache.visible[Symbol.iterator](),s,u;!(r=(s=d.next()).done);r=!0)u=s.value,a(u)}catch(e){o=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(o)throw l}}if(Lt.dimensResourceValue){var p=Ft.STORED.DIMENS;for(var h in i){var c=i[h],g=function(e){var t=e.split(','),i=ot(t,3),a=i[0],r=i[1],o=i[2],l=n.getDimenResourceKey(p,h+'_'+Re(a),o);c[e].forEach(function(e){return e[-1===r.indexOf('constraint')?'android':'app'](r,'@dimen/'+l)}),p.set(l,o)};for(var m in c)g(m)}}}},{key:'addXmlNs',value:function(e,t){Tt[e]=t}},{key:'setAttributes',value:function(e){var t=this;if(Lt.showAttributes){var n=e.cache.visible.list.map(function(e){return{pattern:ee(e.id,'@'),attributes:t.parseAttributes(e)}});[].concat(lt(e.views),lt(e.includes)).forEach(function(e){n.forEach(function(t){return e.content=e.content.replace(t.pattern,t.attributes)}),e.content=e.content.replace('{#0}',t.getRootNamespace(e.content))})}}},{key:'parseDimensions',value:function(e){for(var t=Ft.STORED.DIMENS,n=/\s+\w+:\w+="({%(\w+),(\w+),(-?\w+)})"/g,i=void 0,a;null!=(i=n.exec(e));)a=this.getDimenResourceKey(t,i[2]+'_'+Re(i[3]),i[4]),t.set(a,i[4]),e=e.replace(new RegExp(i[1],'g'),'@dimen/'+a);return e}},{key:'parseAttributes',value:function(e){if('rtl'===e.dir)switch(e.nodeName){case yt.RADIO:case yt.CHECKBOX:e.android('layoutDirection','rtl');break;default:0===e.renderChildren.length&&e.android('textDirection','rtl');}for(var t in e.dataset)/^attr[A-Z]+/.test(t)&&function(){var n=l(t.substring(4),!1);e.dataset[t].split(';').forEach(function(t){var i=t.split('::'),a=ot(i,2),r=a[0],o=a[1];S(r)&&S(o)&&e.attr(n,r,o)})}();var n=E(e.renderDepth+1);return e.combine().map(function(e){return'\n'+(n+e)}).join('')}},{key:'getRootNamespace',value:function(e){var t='';for(var n in Tt)new RegExp('\\s+'+n+':').test(e)&&(t+='\n\txmlns:'+n+'="'+Tt[n]+'"');return t}},{key:'getDimenResourceKey',value:function(e,t,n){return e.has(t)&&e.get(t)!==n&&(t=Te('dimens',t+'_1')),t}},{key:'setAlignParent',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=Yt.constraint;[_t.HORIZONTAL,_t.VERTICAL].forEach(function(a,r){e.constraint[a]||''!==t&&a!==t||(e.app(i[0===r?'left':'top'],'parent'),e.app(i[0===r?'right':'bottom'],'parent'),e.constraint[a]=!0,n&&e.app('layout_constraint'+(a.charAt(0).toUpperCase()+a.substring(1))+'_bias',e[a+'Bias']))})}},{key:'partitionChain',value:function(e,t,n){var i=Yt.constraint,a=[],r=[],o=[];n===_t.HORIZONTAL?(a.push(i.left,i.right),r.push('linear.top','linear.bottom'),o.push(i.leftRight,i.rightLeft)):n===_t.VERTICAL?(a.push(i.top,i.bottom),r.push('linear.left','linear.right'),o.push(i.topBottom,i.bottomTop)):void 0;var l=r.map(function(l){var s=B(t.list.filter(function(t){return R(e,t,l)}),r[0]);if(1<s.length){var h=e.documentParent;if(n===_t.HORIZONTAL&&h.toInt('columnCount')===s.length){var c=d(u(h.css('columnGap')));if(0<c)for(var g=1;g<s.length;g++)s[g].android('layout_'+Re('marginLeft'),p(s[g].marginLeft+c));return s}if(!s.some(function(e){return e.floating})&&'parent'===s[0].app(a[0])&&'parent'===s[s.length-1].app(a[1]))return s;var m=function(){var t=void 0,n=new Set([e]);do t=!1,Array.from(n).some(function(e){return s.some(function(i){return n.has(i)||i.app(o[0])!==e.stringId&&i.app(o[1])!==e.stringId||(n.add(i),t=!0),t})});while(t);return{v:Array.from(n)}}();if('object'===('undefined'==typeof m?'undefined':Ze(m)))return m.v}return[]}).reduce(function(e,t){return e.length>=t.length?e:t});return l}},{key:'addGuideline',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=this,i=arguments[2],a=arguments[3],r=Yt.constraint;e.pageflow&&(null==a&&(a='right'===e.float||null==e.left&&null!=e.right||e.is(dt.TEXT)&&'right'===e.css('textAlign')||'parent'===e.app(Yt.constraint.right)),null==i&&!0===a&&(i=!0)),null!=e.dataset.constraintPercent&&(i='true'===e.dataset.constraintPercent);var o='layout_constraintGuide_'+(i?'percent':'begin'),d=e.documentParent;[_t.HORIZONTAL,_t.VERTICAL].forEach(function(s,u){if(!e.constraint[s]&&(''===t||s===t)){var h='',c='',g='',m='',f=!1;0===u?(h=a?'right':'left',c=a?'left':'right',g=a?'rightLeft':'leftRight',m=a?'leftRight':'rightLeft'):1===u?(h=a?'bottom':'top',c=a?'top':'bottom',g=a?'bottomTop':'topBottom',m=a?'topBottom':'bottomTop'):void 0;var y=e.pageflow?'bounds':'linear',b=i?ze(e[y][h]-(d.documentBody?0:d.box[h]))/d.box[0===u?'width':'height']:0;if(i||(f=d.renderChildren.some(function(t){if(t.constraint[s]&&(!t.constraint['chain'+l(s)]||null!=t.constraint['margin'+l(s)])){if(w(e.linear[h],t.linear[c]))return e.anchor(r[g],t.stringId,s,!0),!0;if(w(e.linear[c],t.linear[h]))return e.anchor(r[m],t.stringId,s,!0),!0;if(w(e.bounds[h],t.bounds[h]))return e.anchor(r[1===u&&e.is(dt.TEXT)&&0===e.viewHeight&&t.is(dt.TEXT)&&0===t.viewHeight?'baseline':h],t.stringId,s,!0),!0;if(w(e.bounds[c],t.bounds[c]))return e.anchor(r[c],t.stringId,s,!0),!0}return!1})),!f){var _=d.constraint.guideline||{},x=i?parseFloat(ze(b-(a?1:0)).toFixed(Lt.constraintPercentAccuracy)):p(Ue(0,a?e[y][h]-d.box[c]:e[y][h]-(d.documentBody?0:d.box[h])));if(0===x||'0px'===x)e.anchor(r[h],'parent',s,!0);else{var I={android:{orientation:0===u?_t.VERTICAL:_t.HORIZONTAL},app:$e({},o,x)},E=T(_,s+'.'+o+'.'+h,'object');if(E)for(var A in E)if(E[A]===x){e.anchor(r[h],A,s,!0),e.delete('app',r[c]),f=!0;break}if(!f){i||(I.app[o]=Ee(e.tagName,'constraintguide_begin',x));var v=n.renderNodeStatic(yt.GUIDELINE,e.renderDepth,I,'wrap_content','wrap_content'),R=I.stringId;n.appendAfter(e.id,v),e.anchor(r[h],R,s,!0),e.delete('app',r[c]),e.constraint[s+'Guideline']=R,null==_[s]&&(_[s]={}),null==_[s][o]&&(_[s][o]={}),null==_[s][o][h]&&(_[s][o][h]={}),_[s][o][h][R]=x,d.constraint.guideline=_}}}}})}},{key:'adjustLineHeight',value:function(e,t){var n=Ue.apply(null,e.map(function(e){return e.toInt('lineHeight')}));if(0<n){var i=Ve,a=0,r=e.every(function(e){var t=n-e.bounds.height;return!!(0<t)&&(i=Xe(t,i),n===e.toInt('lineHeight')&&(a=Ue(0>e.toInt('top')?ze(e.toInt('top')):0,a)),!0)});r&&(t.modifyBox(ht.PADDING_TOP,je(i/2)),t.modifyBox(ht.PADDING_BOTTOM,Ye(i/2)+a))}}},{key:'findByStringId',value:function(e){return this.cache.locate('stringId',e)}},{key:'supportInline',get:function(){return vt}},{key:'supportInclude',get:function(){return!0}},{key:'settings',get:function(){return{folderLayout:'res/layout'}}}]),t}(Pt),qt=function(){function e(t,n,i){Je(this,e),this._directory=t,this._processingTime=n,this.appName='',this.queue=[],this._compression='zip',i&&(this._compression=i)}return Qe(e,[{key:'addFile',value:function(e,t,n,i){if(''!==n||''!==i){var a=this.queue.findIndex(function(n){return n.pathname===e&&n.filename===t});-1===a?this.queue.push({pathname:e,filename:t,content:n,uri:i}):(this.queue[a].content=n||'',this.queue[a].uri=i||'')}}},{key:'reset',value:function(){this.queue=[]}},{key:'saveToDisk',value:function(e){var t=this;return location.protocol.startsWith('http')?void(Array.isArray(e)&&0<e.length&&(e.push.apply(e,lt(this.queue)),fetch('/api/savetodisk?directory='+encodeURIComponent(I(this._directory,'/'))+'&appname='+encodeURIComponent(this.appName.trim())+'&filetype='+this._compression.toLocaleLowerCase()+'&processingtime='+this._processingTime.toString().trim(),{method:'POST',body:JSON.stringify(e),headers:new Headers({Accept:'application/json, text/plain, */*',"Content-Type":'application/json'})}).then(function(e){return e.json()}).then(function(e){e&&(null==e.zipname?null!=e.system&&alert(e.application+'\n\n'+e.system):fetch('/api/downloadtobrowser?filename='+encodeURIComponent(e.zipname)).then(function(e){return e.blob()}).then(function(n){return t.downloadToDisk(n,v(e.zipname))}))}).catch(function(e){return alert('ERROR: '+e)}))):void alert('SERVER (required): See README for instructions')}},{key:'downloadToDisk',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',i=new Blob([e],{type:n||'application/octet-stream'});if('undefined'!=typeof window.navigator.msSaveBlob)return void window.navigator.msSaveBlob(i,t);var a=window.URL.createObjectURL(i),r=document.createElement('a');r.style.display='none',r.href=a,r.setAttribute('download',t),'undefined'==typeof r.download&&r.setAttribute('target','_blank'),document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(function(){return window.URL.revokeObjectURL(a)},100)}}]),e}(),Jt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<string name="{name}">{value}</string>','!1','</resources>','<!-- filename: res/values/strings.xml -->','!0'].join('\n'),Qt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<string-array name="{name}">','!2','\t\t<item>{value}</item>','!2','\t</string-array>','!1','</resources>','<!-- filename: res/values/string_arrays.xml -->','!0'].join('\n'),$t=['!0','<?xml version="1.0" encoding="utf-8"?>','<font-family xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="{#app=http://schemas.android.com/apk/res-auto}">','!1','\t<font android:fontStyle="{style}" android:fontWeight="{weight}" android:font="{font}" app:fontStyle="{#app=style}" app:fontWeight="{#app=weight}" app:font="{#app=font}" />','!1','</font-family>','<!-- filename: res/font/{name}.xml -->','!0'].join('\n'),en=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<color name="{value}">{name}</color>','!1','</resources>','<!-- filename: res/values/colors.xml -->','!0'].join('\n'),tn=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<style name="{name1}" parent="{@parent}">','!2','\t\t<item name="{name2}">{value}</item>','!2','\t</style>','!1','</resources>','<!-- filename: res/values/styles.xml -->','!0'].join('\n'),nn=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<dimen name="{name}">{value}</dimen>','!1','</resources>','<!-- filename: res/values/dimens.xml -->','!0'].join('\n'),an=['!0','{value}','<!-- filename: {name} -->','!0'].join('\n'),rn=function(t){function n(){return Je(this,n),it(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Lt.outputDirectory,Lt.outputMaxProcessingTime,Lt.outputArchiveFileType))}return nt(n,t),Qe(n,[{key:'saveAllToDisk',value:function(e){for(var t=[],n=[].concat(lt(e.views),lt(e.includes)),a=0,r;a<n.length;a++)r=n[a],t.push(this.getLayoutFile(r.pathname,0===a?Lt.outputActivityMainFileName:r.filename+'.xml',r.content));var o=this.resourceDrawableToXml();t.push.apply(t,lt(this.parseFileDetails(this.resourceStringToXml()))),t.push.apply(t,lt(this.parseFileDetails(this.resourceStringArrayToXml()))),t.push.apply(t,lt(this.parseFileDetails(this.resourceFontToXml()))),t.push.apply(t,lt(this.parseFileDetails(this.resourceColorToXml()))),t.push.apply(t,lt(this.parseFileDetails(this.resourceStyleToXml()))),t.push.apply(t,lt(this.parseFileDetails(this.resourceDimenToXml()))),t.push.apply(t,lt(this.parseImageDetails(o)).concat(lt(this.parseFileDetails(o)))),this.saveToDisk(t)}},{key:'layoutAllToXml',value:function(e){for(var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n={},a=[],r=[].concat(lt(e.views),lt(e.includes)),o=0,l;o<r.length;o++)l=r[o],n[l.filename]=l.content,t&&a.push(this.getLayoutFile(l.pathname,0===o?Lt.outputActivityMainFileName:l.filename+'.xml',l.content));return t&&this.saveToDisk(a),n}},{key:'resourceAllToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml()};for(var n in t)''===t[n]&&delete t[n];if(e){var i=[];for(var a in t)'drawable'==a&&i.push.apply(i,lt(this.parseImageDetails(t[a]))),i.push.apply(i,lt(this.parseFileDetails(t[a])));this.saveToDisk(i)}return t}},{key:'resourceStringToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(this.stored.STRINGS=new Map([].concat(lt(this.stored.STRINGS.entries())).sort(k)),0<this.stored.STRINGS.size){var n=le(Jt),i={0:[{1:[]}]},a=oe(i,'0');''===this.appName||this.stored.STRINGS.has('app_name')||a[1].push({name:'app_name',value:this.appName});var r=!0,o=!1,l=void 0;try{for(var d=this.stored.STRINGS.entries()[Symbol.iterator](),s;!(r=(s=d.next()).done);r=!0){var u=s.value,p=ot(u,2),h=p[0],c=p[1];a[1].push({name:h,value:c})}}catch(e){o=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(o)throw l}}t=de(n,i),t=ae(t,Lt.insertSpaces,!0),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceStringArrayToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(this.stored.ARRAYS=new Map([].concat(lt(this.stored.ARRAYS.entries())).sort()),0<this.stored.ARRAYS.size){var n=le(Qt),i={0:[{1:[]}]},a=oe(i,'0'),r=!0,o=!1,l=void 0;try{for(var d=this.stored.ARRAYS.entries()[Symbol.iterator](),s;!(r=(s=d.next()).done);r=!0){var u=s.value,p=ot(u,2),h=p[0],c=p[1],g={name:h,2:[]},m=g[2],f=!0,y=!1,b=void 0;try{for(var _=c[Symbol.iterator](),T,x;!(f=(T=_.next()).done);f=!0)x=T.value,m.push({value:x})}catch(e){y=!0,b=e}finally{try{!f&&_.return&&_.return()}finally{if(y)throw b}}a[1].push(g)}}catch(e){o=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(o)throw l}}t=de(n,i),t=ae(t,Lt.insertSpaces,!0),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceFontToXml',value:function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],n='';if(this.stored.FONTS=new Map([].concat(lt(this.stored.FONTS.entries())).sort()),0<this.stored.FONTS.size){var i=le($t),a=!0,r=!1,o=void 0;try{for(var l=this.stored.FONTS.entries()[Symbol.iterator](),d;!(a=(d=l.next()).done);a=!0){var s=d.value,u=ot(s,2),p=u[0],h=u[1],c={"#include":{},"#exclude":{},0:[{name:p,1:[]}]};c[Lt.targetAPI<e.build.OREO?'#include':'#exclude'].app=!0;var g=oe(c,'0');for(var m in h){var f=m.split('-'),y=ot(f,2),b=y[0],_=y[1];g[1].push({style:b,weight:_,font:'@font/'+(p+('normal'===b&&'400'===_?'_'+b:('normal'===b?'':'_'+b)+('400'===_?'':'_'+(At[_]||_))))})}n+='\n\n'+de(i,c)}}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}n=ae(n,Lt.insertSpaces),t&&this.saveToDisk(this.parseFileDetails(n))}return n.trim()}},{key:'resourceColorToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.COLORS.size){this.stored.COLORS=new Map([].concat(lt(this.stored.COLORS.entries())).sort());var n=le(en),i={0:[{1:[]}]},a=oe(i,'0'),r=!0,o=!1,l=void 0;try{for(var d=this.stored.COLORS.entries()[Symbol.iterator](),s;!(r=(s=d.next()).done);r=!0){var u=s.value,p=ot(u,2),h=p[0],c=p[1];a[1].push({name:h,value:c})}}catch(e){o=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(o)throw l}}t=de(n,i),t=ae(t,Lt.insertSpaces),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceStyleToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.STYLES.size){this.stored.STYLES=new Map([].concat(lt(this.stored.STYLES.entries())).sort(k));var n=le(tn),i={0:[{1:[]}]},a=oe(i,'0'),r=function(e,t){var n={name1:e,parent:t.parent||'',2:[]};t.attributes.split(';').sort().forEach(function(e){var t=e.split('='),i=ot(t,2),a=i[0],r=i[1];n[2].push({name2:a,value:r.replace(/"/g,'')})}),a[1].push(n)},o=!0,l=!1,d=void 0;try{for(var s=this.stored.STYLES.entries()[Symbol.iterator](),u;!(o=(u=s.next()).done);o=!0){var p=u.value,h=ot(p,2),c=h[0],g=h[1];r(c,g)}}catch(e){l=!0,d=e}finally{try{!o&&s.return&&s.return()}finally{if(l)throw d}}t=de(n,i),t=Ae(t,!0),t=ae(t,Lt.insertSpaces),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceDimenToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(this.stored.DIMENS=new Map([].concat(lt(this.stored.DIMENS.entries())).sort()),0<this.stored.DIMENS.size){var n=le(nn),i={0:[{1:[]}]},a=oe(i,'0'),r=!0,o=!1,l=void 0;try{for(var d=this.stored.DIMENS.entries()[Symbol.iterator](),s;!(r=(s=d.next()).done);r=!0){var u=s.value,p=ot(u,2),h=p[0],c=p[1];a[1].push({name:h,value:c})}}catch(e){o=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(o)throw l}}t=de(n,i),t=Ae(t),t=ae(t,Lt.insertSpaces),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceDrawableToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.DRAWABLES.size||0<this.stored.IMAGES.size){var n=le(an),i={0:[]},a=i[0],r=!0,o=!1,l=void 0;try{for(var d=this.stored.DRAWABLES.entries()[Symbol.iterator](),s;!(r=(s=d.next()).done);r=!0){var u=s.value,p=ot(u,2),h=p[0],c=p[1];a.push({name:'res/drawable/'+h+'.xml',value:c})}}catch(e){o=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(o)throw l}}var g=!0,m=!1,f=void 0;try{for(var y=this.stored.IMAGES.entries()[Symbol.iterator](),b;!(g=(b=y.next()).done);g=!0){var _=b.value,T=ot(_,2),x=T[0],I=T[1];if(1<Object.keys(I).length)for(var E in I)a.push({name:'res/drawable-'+E+'/'+x+'.'+v(I[E],'.'),value:'<!-- image: '+I[E]+' -->'});else null!=I.mdpi&&a.push({name:'res/drawable/'+x+'.'+v(I.mdpi,'.'),value:'<!-- image: '+I.mdpi+' -->'})}}catch(e){m=!0,f=e}finally{try{!g&&y.return&&y.return()}finally{if(m)throw f}}t=de(n,i),t=Ae(t),t=ae(t,Lt.insertSpaces),e&&this.saveToDisk([].concat(lt(this.parseImageDetails(t)),lt(this.parseFileDetails(t))))}return t}},{key:'parseImageDetails',value:function(e){for(var t=[],n=/<!-- image: (.+) -->\n<!-- filename: (.+)\/(.*?\.\w+) -->/,i=null;null!=(i=n.exec(e));)t.push({uri:i[1],pathname:i[2],filename:i[3],content:''}),e=e.replace(i[0],'');return t}},{key:'parseFileDetails',value:function(e){for(var t=[],n=/<\?xml[\w\W]*?(<!-- filename: (.+)\/(.*?\.xml) -->)/,i=null;null!=(i=n.exec(e));)t.push({content:i[0].replace(i[1],'').trim(),pathname:i[2],filename:i[3]}),e=e.replace(i[0],'');return t}},{key:'getLayoutFile',value:function(e,t,n){return{pathname:e,filename:t,content:n}}}]),n}(qt),on=function(e){function t(e,n,i){Je(this,t);var a=it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return a.require(Ct.EXTERNAL,!0),a}return nt(t,e),Qe(t,[{key:'processNode',value:function(){var e=this,t='',n=this.node,i=this.parent,a=this.getData();return a.tag&&(t=0<n.children.length?this.application.controllerHandler.renderGroup(n,i,a.tag):this.application.controllerHandler.renderNode(n,i,a.tag),n.nodeType=gt.includes(n.element.tagName)&&!n.inline?dt.BLOCK:dt.INLINE),a.tagChild&&n.each(function(t){t.element instanceof HTMLElement&&(t.element.dataset.ext=e.name,t.element.dataset.andromeCustomTag=a.tagChild)}),{xml:t}}}]),t}(St),ln=function(e){function t(e,n,i){return Je(this,t),it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return nt(t,e),Qe(t,[{key:'afterInsert',value:function(){var e=this.node,t=Object.assign({},this.options[e.element.id]);e.apply(Oe(t))}}]),t}(on),dn=function(e){function t(e,n,i){return Je(this,t),it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return nt(t,e),Qe(t,[{key:'condition',value:function(){var e=this,n=this.node.children;return tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'condition',this).call(this)&&0<n.length&&(n.every(function(e){return e.inlineElement})||n.every(function(e){return!e.inlineElement||'list-item'===e.display}))&&(n.some(function(t){return'list-item'===t.display&&('none'!==t.css('listStyleType')||e.hasSingleImage(t))})||n.every(function(t){return'LI'!==t.element.tagName&&'none'===t.styleMap.listStyleType&&e.hasSingleImage(t)}))}},{key:'processNode',value:function(){var e='',t=this.node,n=this.parent,a=!t.children.some(function(e){return e.floating})&&(ft.linearY(t.children)||t.children.every(function(e){return!e.inlineElement}));e=a?this.application.writeGridLayout(t,n,t.children.some(function(e){return'inside'===e.css('listStylePosition')})?3:2):this.application.writeLinearLayout(t,n,!0);var r=0;return t.each(function(e){var t='0';if('list-item'===e.display||e.has('listStyleType')){var n=e.css('listStyleImage');if(n&&'none'!==n)t={image:n,position:''};else switch(e.css('listStyleType')){case'disc':t='\u25CF';break;case'square':t='\u25A0';break;case'decimal':t=(r+1).toString()+'.';break;case'decimal-leading-zero':t=(9>r?'0':'')+(r+1).toString()+'.';break;case'lower-alpha':case'lower-latin':t=h(r).toLowerCase()+'.';break;case'upper-alpha':case'upper-latin':t=h(r)+'.';break;case'lower-roman':t=c(r+1).toLowerCase()+'.';break;case'upper-roman':t=c(r+1)+'.';break;case'none':n='';var i='',a=e.css('backgroundRepeat');'no-repeat'===a&&(n=e.css('backgroundImage'),i=e.css('backgroundPosition')),n&&'none'!==n&&(t={image:n,position:i},e.excludeResource|=ut.IMAGE_SOURCE);break;default:t='\u25CB';}r++}e.data(Ct.LIST,'listStyleType',t)}),{xml:e}}},{key:'beforeInsert',value:function(){var e=this.node;e.modifyBox(ht.MARGIN_LEFT,null),e.modifyBox(ht.PADDING_LEFT,null)}},{key:'hasSingleImage',value:function(e){return'none'!==e.css('backgroundImage')&&'no-repeat'===e.css('backgroundRepeat')}}]),t}(St),sn=function(e){function t(e,n,i){return Je(this,t),it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return nt(t,e),Qe(t,[{key:'processChild',value:function(){var e=this.application.controllerHandler,t=this.node,n=this.parent,i=this.node.data(Ct.LIST,'listStyleType')||'0',a=d(n.css('paddingLeft'))+d(n.cssOriginal('marginLeft',!0)),r=0,o=t.marginLeft;t.modifyBox(ht.MARGIN_LEFT,null),n.is(dt.GRID)?(r=d(n.app('columnCount')),o+=a):n.children[0]===t&&(o+=a);var l=t.children.find(function(e){return'left'===e.float&&0>d(e.cssOriginal('marginLeft',!0))&&ze(d(e.cssOriginal('marginLeft',!0)))<=d(e.documentParent.cssOriginal('marginLeft',!0))});if(l&&'0'===i){l.parent=n;var s='';l.inlineText||0===l.children.length?s=this.application.controllerHandler.renderNode(l,n,dt.TEXT):l.children.every(function(e){return e.pageflow})?(s=this.application.controllerHandler.renderGroup(l,n,dt.RELATIVE),l.alignmentType=st.INLINE_WRAP):s=this.application.controllerHandler.renderGroup(l,n,dt.CONSTRAINT),e.prependBefore(t.id,s),3===r&&t.app('layout_columnSpan','2'),o+=l.marginLeft,l.modifyBox(ht.MARGIN_LEFT,null),0===l.viewWidth&&0<o&&l.android('minWidth',p(o))}else{var u=0<r?'0':'',h='inside'===t.css('listStylePosition'),c=!['','none'].includes(t.css('listStyleImage')),g='',m=0,f=0;if('object'===('undefined'==typeof i?'undefined':Ze(i))){g=jt.addImageURL(i.image);var y=jt.parseBackgroundPosition(i.position).map(function(e){return d(e)}),b=ot(y,2);m=b[0],f=b[1]}var _=(''===g||c)&&(0!==a||0!==t.marginLeft)?'right':'';''==_&&(o+=t.paddingLeft,t.modifyBox(ht.PADDING_LEFT,null)),0<m&&o>m&&(o-=m),o=Ue(o,20);var T=0<o?Ee(t.tagName,Re('min_width'),p(o)):'',x=function(){return 24>=o?8:32>=o?10:12}(),I=''==_&&''===g?Ee(t.tagName,Re('padding_left'),p(x)):'',E='right'==_?Ee(t.tagName,Re('padding_right'),p(x)):'',A=0<m?Ee(t.tagName,Re('margin_left'),p(m)):'',v={android:{layout_marginTop:0<t.marginTop+f?Ee(t.tagName,'margin_top',p(t.marginTop+f)):''},app:{layout_columnWeight:u}};if(h){var R;e.prependBefore(t.id,e.renderNodeStatic(dt.SPACE,n.renderDepth+1,{android:(R={minWidth:T},$e(R,Re('layout_marginLeft'),A),$e(R,Re('paddingLeft'),I),$e(R,Re('paddingRight'),E),R),app:{layout_columnWeight:u}},'wrap_content','wrap_content')),Object.assign(v.android,{minWidth:Ee(t.tagName,Re('min_width'),p(24))})}else{var L;Object.assign(v.android,(L={minWidth:T,gravity:Re(_)},$e(L,Re('layout_marginLeft'),A),$e(L,Re('paddingLeft'),I),$e(L,Re('paddingRight'),E),L)),3===r&&t.app('layout_columnSpan','2')}''===g?Object.assign(v.android,{text:'0'===i?'':i}):Object.assign(v.android,{src:'@drawable/'+g,baselineAlignBottom:'true',scaleType:h||'right'!=_?'fitStart':'fitEnd'}),e.prependBefore(t.id,e.renderNodeStatic(''===g?'0'===i?dt.SPACE:dt.TEXT:dt.IMAGE,n.renderDepth+1,v,'wrap_content','wrap_content'))}return 0<r&&t.app('layout_columnWeight','1'),{xml:''}}},{key:'afterInsert',value:function(){var e=this.node;e.is(dt.GRID)&&e.android('layout_width','match_parent')}}]),t}(dn),un=function(e){function t(e,n,i){return Je(this,t),it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return nt(t,e),Qe(t,[{key:'condition',value:function(){var e=this.node;return this.included()||'table'===e.display&&e.children.every(function(e){return'table-row'===e.display&&e.children.every(function(e){return'table-cell'===e.display})})||e.children.every(function(e){return e.pageflow&&!e.has('backgroundColor')&&!e.has('backgroundImage')&&0===e.borderTopWidth+e.borderRightWidth+e.borderBottomWidth+e.borderLeftWidth&&(!e.inlineElement||e.blockStatic)})&&('none'===e.css('listStyle')||e.children.every(function(e){return'list-item'===e.display&&'none'===e.css('listStyleType')})||!S(e.dataset.ext)&&!e.flex.enabled&&1<e.children.length&&e.children.some(function(e){return 1<e.children.length})&&!e.children.some(function(e){return'list-item'===e.display||e.inlineText||e.plainText}))}},{key:'processNode',value:function(e){var t='',i=this.node,a=this.parent,r=this.options.balanceColumns,o=[],d={columnEnd:[],columnCount:0,padding:{top:0,right:0,bottom:0,left:0}};if(r){var s=[];i.each(function(e,t){var n=e.children;s[t]=[];for(var i=0;i<n.length;i++)s[t].push(n[i].bounds.width);o.push(n)});var u=o[s.findIndex(function(e){return e===s.reduce(function(e,t){return e.length===t.length?e.reduce(function(e,t){return e+t},0)<t.reduce(function(e,t){return e+t},0)?e:t:e.length<t.length?e:t})})];if(u&&1<u.length)for(var p=-1,h=[],c=!1,g=function(e){var t=u[e].bounds,n=[];if(e<u.length-1)for(var i=function(i){if(o[i]===u)n.push(e);else{var a=o[i].findIndex(function(n,a){return a>=e&&je(n.bounds.width)===je(t.width)&&a<o[i].length-1});if(-1!==a)n.push(a);else return n.length=0,'break'}},a=0,r;a<o.length&&(r=i(a),'break'!==r);a++);else for(var a=0;a<o.length;a++)if(o[a].length>u.length){var l=o[a].splice(h[a]+(c?2:1),o[a].length-u.length);o[a][h[a]+(c?1:0)].data(Ct.GRID,'gridSiblings',[].concat(lt(l)))}if(n.length===o.length){var d=n.reduce(function(e,t){return Xe(e,t)});if(p=n.reduce(function(e,t){return Ue(e,t)}),p>d)for(var s=0;s<o.length;s++)if(n[s]>d){var g=o[s].splice(d,n[s]-d);o[s][h[s]+(c?1:0)].data(Ct.GRID,'gridSiblings',[].concat(lt(g)))}h=n,c=!0}else h=Array(o.length).fill(e),c=!1},f=0;f<u.length;f++)g(f);else o.length=0}else{var y=e[i.depth+2],b=y?Object.keys(y):[],_=[];if(1<b.length){for(var T=[],f=0,x;f<b.length;f++){if(x=B(y[parseInt(b[f])].filter(function(e){return e.documentParent.documentParent.id===i.id}),'linear.top'),0===f&&0===x.length)return{xml:''};T[f]=0===f?0:T[f-1];for(var I=function(e){function t(){return o[0].findIndex(function(e){return w(e.linear.top,i.linear.top)||i.linear.top>=e.linear.top&&i.linear.bottom<=e.linear.bottom})}var i=x[e],a=[i.linear.left,i.linear.right],r=a[0],l=a[1],d=f;if(0<d&&i.element instanceof HTMLElement&&'right'===i.float){i.element.style.cssFloat='left';var s=i.element.getBoundingClientRect();if(s.left-i.marginLeft!==r){r=s.left-i.marginLeft,l=s.right+i.marginRight;for(var u=1;u<T.length&&(d=u,!(r>T[u-1]));u++);}i.element.style.cssFloat='right'}if(!(0===d||r>=T[d-1])){var p=o.length-1;if(null!=o[p]){var h=o[p].reduce(function(e,t){return Xe(e,t.linear.left)},Number.MAX_VALUE),c=o[p].reduce(function(e,t){return Ue(e,t.linear.right)},0);if(r>h&&l>c){var g=o.filter(function(e){return e}),m=t();-1!==m&&null==g[g.length-1][m]&&(o[p]=null)}}}else if(null==o[d]&&(o[d]=[]),0===d||o[0].length===x.length)o[d][e]=i;else{var y=t();-1!==y&&(o[d][y]=i)}T[f]=Ue(i.linear.right,T[f])},E=0;E<x.length;E++)I(E)}for(var A=0,E=-1;A<T.length;A++)if(-1===E&&null==o[A])E=A-1;else if(null==o[A]){-1!==E&&A===T.length-1&&(T[E]=T[A]);continue}else-1!==E&&(T[E]=T[A-1],E=-1);for(var v=0;v<o.length;v++)null!=o[v]&&_.push(T[v]);o=o.filter(function(e){return e});for(var R=o.reduce(function(e,t){return Ue(e,t.length)},0),L=0;L<R;L++)for(var N=0;N<o.length;N++)null==o[N][L]&&(o[N][L]={spacer:1})}0<_.length&&(d.columnEnd=_,d.columnEnd[d.columnEnd.length-1]=i.box.right)}if(1<o.length){d.columnCount=r?o[0].length:o.length,t=this.application.writeGridLayout(i,a,d.columnCount),i.children.length=0;for(var S=0,O=0,k;S<o.length;S++){k=0;for(var C=0,D=0,P;C<o[S].length;C++)if(P=o[S][C],!P.spacer){P.parent.hide(),P.parent=i;var F={inherit:!0,rowSpan:0,columnSpan:0,index:-1,cellFirst:!1,cellLast:!1,rowEnd:!1,rowStart:!1};if(r)F.rowStart=0===C,F.rowEnd=C===o[S].length-1,F.cellFirst=0===S&&0===C,F.cellLast=S===o.length-1&&F.rowEnd,F.index=C;else{for(var M=1,G=1+k,H=S+1;H<o.length&&1===o[H][C].spacer;H++)G++,o[H][C].spacer=2;if(1===G)for(var W=C+1;W<o[S].length&&1===o[S][W].spacer;W++)M++,o[S][W].spacer=2;F.rowSpan=M,F.columnSpan=G,F.rowStart=0==D++,F.rowEnd=G+S===o.length,F.cellFirst=0==O++,F.cellLast=F.rowEnd&&C===o[S].length-1,F.index=S,k=0}P.data(Ct.GRID,'cellData',F)}else 1===P.spacer&&k++}B(i.children,'documentParent.siblingIndex','siblingIndex'),'table'===i.display&&'collapse'===i.css('borderCollapse')&&(i.modifyBox(ht.PADDING_TOP,null),i.modifyBox(ht.PADDING_RIGHT,null),i.modifyBox(ht.PADDING_BOTTOM,null),i.modifyBox(ht.PADDING_LEFT,null)),i.data(Ct.GRID,'mainData',d),i.render(a)}return{xml:t}}},{key:'processChild',value:function(){var e='',t=this.node,n=this.parent,i=n.data(Ct.GRID,'mainData'),a=t.data(Ct.GRID,'cellData');if(i&&a){var r;if(this.options.balanceColumns)r=t.data(Ct.GRID,'gridSiblings');else{var o=i.columnEnd[Xe(a.index+(a.columnSpan-1),i.columnEnd.length-1)];r=Array.from(t.documentParent.element.children).map(function(e){var n=M(e);return n&&!n.rendered&&n.linear.left>=t.linear.right&&n.linear.right<=o?n:null}).filter(function(e){return e})}if(r&&0<r.length){r.unshift(t);var l=[ft.linearX(r),ft.linearY(r)],d=l[0],s=l[1],u=this.application.controllerHandler.createGroup(t,r,n);if(d||s){var p=!s||d;e=this.application.writeLinearLayout(u,n,p),u.alignmentType|=p?st.HORIZONTAL:st.VERTICAL,this.application.sortByAlignment(u.children,u,u.alignmentType,!0)}else e=this.application.writeConstraintLayout(u,n);return{xml:e,parent:u}}}return{xml:e}}}]),t}(St),pn=function(e){function t(e,n,i){return Je(this,t),it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return nt(t,e),Qe(t,[{key:'processChild',value:function(){var e=this.node,n=e.data(Ct.GRID,'cellData');return n&&(1<n.rowSpan&&e.app('layout_rowSpan',n.rowSpan.toString()),1<n.columnSpan&&e.app('layout_columnSpan',n.columnSpan.toString()),'table'===e.parent.display&&'table-cell'===e.display&&e.app('layout_gravity','fill')),tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'processChild',this).call(this)}},{key:'afterRender',value:function(){var e=this,t=[];this.application.cache.each(function(n){if(n.renderExtension===e)t.push(n);else{var i=n.renderParent;if(i.is(dt.GRID)&&('table'!==i.display||'collapse'!==i.css('borderCollapse'))){var a=i.data(Ct.GRID,'mainData'),r=n.data(Ct.GRID,'cellData');if(a&&r){var o=V(n.documentParent.element,!0),l=a.padding;if(r.cellFirst&&(l.top=o.paddingTop+o.marginTop),r.rowStart&&(l.left=Ue(o.marginLeft+o.paddingLeft,l.left)),r.rowEnd){var d=o.marginBottom+o.paddingBottom+(r.cellLast?0:o.marginTop+o.paddingTop);0<d&&(r.cellLast?l.bottom=d:e.application.controllerHandler.appendAfter(n.id,e.application.controllerHandler.renderNodeStatic(dt.SPACE,n.renderDepth,{app:{layout_columnSpan:a.columnCount}},'match_parent',p(d)))),l.right=Ue(o.marginRight+o.paddingRight,l.right)}}}}});var n=!0,i=!1,a=void 0;try{for(var r=t[Symbol.iterator](),o;!(n=(o=r.next()).done);n=!0){var l=o.value,d=l.data(Ct.GRID,'mainData');d&&(l.modifyBox(ht.PADDING_TOP,d.padding.top),l.modifyBox(ht.PADDING_RIGHT,d.padding.right),l.modifyBox(ht.PADDING_BOTTOM,d.padding.bottom),l.modifyBox(ht.PADDING_LEFT,d.padding.left))}}catch(e){i=!0,a=e}finally{try{!n&&r.return&&r.return()}finally{if(i)throw a}}}}]),t}(un),hn=function(e){function t(e,n,i){return Je(this,t),it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return nt(t,e),Qe(t,[{key:'processNode',value:function(){var e='',t=this.node,n=this.parent,a=[],r=t.children.filter(function(e){return'THEAD'===e.element.tagName}),o=t.children.filter(function(e){return'TBODY'===e.element.tagName}),s=t.children.filter(function(e){return'TFOOT'===e.element.tagName}),u=Array.from(t.element.children).find(function(e){return'COLGROUP'===e.tagName});0<r.length&&(r[0].cascade().filter(function(e){return'TH'===e.element.tagName||'TD'===e.element.tagName}).forEach(function(e){return e.inherit(r[0],'styleMap')}),a.push.apply(a,lt(r[0].children)),r.forEach(function(e){return e.hide()})),0<o.length&&o.forEach(function(e){a.push.apply(a,lt(e.children)),e.hide()}),0<s.length&&(s[0].cascade().filter(function(e){return'TH'===e.element.tagName||'TD'===e.element.tagName}).forEach(function(e){return e.inherit(s[0],'styleMap')}),a.push.apply(a,lt(s[0].children)),s.forEach(function(e){return e.hide()}));var h='collapse'===t.css('borderCollapse'),c=h?[0,0]:t.css('borderSpacing').split(' ').map(function(e){return parseInt(e)}),g=ot(c,2),m=g[0],f=g[1];0<m&&(t.modifyBox(ht.PADDING_LEFT,m),t.modifyBox(ht.PADDING_RIGHT,m)),0<f&&(t.modifyBox(ht.PADDING_TOP,f),t.modifyBox(ht.PADDING_BOTTOM,f));for(var y=p(1<m?We(m/2):m),_=p(1<f?We(f/2):m),T=Array(a.length).fill(0),x=0,I;x<a.length;x++){I=a[x];for(var E=0;E<I.children.length;E++){for(var A=I.children[E],v=I.children[E].element,R=0,L;R<v.rowSpan-1;R++)L=x+1+R,null!=T[L]&&(T[L]+=v.colSpan);if(!A.has('background')&&!A.has('backgroundColor')){var N=A.element;if(null!=u){var S=W(u.children[T[x]]);S.background?N.style.background=S.background:S.backgroundColor&&(N.style.backgroundColor=S.backgroundColor)}else{var O=X(N,'background',['rgba(0, 0, 0, 0)']);''===O?(O=X(N,'backgroundColor',['rgba(0, 0, 0, 0)']),''!==O&&(N.style.backgroundColor=O)):N.style.background=O}}A.css({marginTop:0===x?'0px':_,marginRight:E<I.children.length-1?y:'0px',marginBottom:x+v.rowSpan-1>=a.length-1?'0px':_,marginLeft:0===T[x]?'0px':y}),T[x]+=v.colSpan}}var w=a.length,B=Ue.apply(null,T),C=!1,D=t.children.find(function(e){return'CAPTION'===e.element.tagName});D&&(!D.has('textAlign')&&D.css('textAlign','center'),w++,D.data(Ct.TABLE,'colSpan',B)),t.children.length=0,D&&t.children.push(D);for(var P=function(e){var n=a[e],i=!!(0<t.viewWidth&&1<n.children.length)&&n.children.every(function(e){return!e.has('width')||e.css('width')===n.children[0].css('width')});if(n.each(function(e){var t=e.element;1<t.rowSpan&&e.data(Ct.TABLE,'rowSpan',t.rowSpan),1<t.colSpan&&e.data(Ct.TABLE,'colSpan',t.colSpan),e.has('verticalAlign')||e.css('verticalAlign','middle'),0<d(e.css('borderWidth'))&&'none'!==e.css('borderStyle')&&(C=!0),i&&e.css('width','0px')}),T[e]<B){var r=n.children[n.children.length-1];r.data(Ct.TABLE,'spaceSpan',B-T[e])}else{var o=0,l=0;if(n.each(function(e){var t=e.styleMap.width;0<d(t)&&(b(t)&&(o+=d(t)),l++)}),0<l&&l<n.children.length&&100>o){var s=je((100-o)/(n.children.length-l));1<=s&&n.each(function(e){0===e.toInt('width')&&(e.css('width',(0==--l?100-o:s)+'%'),o+=s)})}}n.children.slice().forEach(function(e){return e.parent=t}),n.hide()},F=0;F<a.length;F++)P(F);return h&&C&&t.css({borderTopWidth:'0px',borderRightWidth:'0px',borderBottomWidth:'0px',borderLeftWidth:'0px'}),e=this.application.writeGridLayout(t,n,B,w),{xml:e}}}]),t}(St),cn=function(e){function t(e,n,i){return Je(this,t),it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return nt(t,e),Qe(t,[{key:'processNode',value:function(){var e=tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'processNode',this).call(this),n=this.node,i=d(n.app('columnCount'));if(1<i&&n.children.some(function(e){return e.multiLine})){var a=!1;if(n.each(function(e){0===e.viewWidth&&(e.android('layout_width','0px'),e.app('layout_columnWeight',e.element.colSpan.toString()),a=!0)}),0===n.viewWidth&&a){var r=0;n.ascend(!0).some(function(e){return!!(0<e.viewWidth)&&(r=e.viewWidth,!0)}),n.bounds.width>=r?n.android('layout_width','match_parent'):n.css('width',p(n.bounds.width))}}else n.each(function(e){'0px'===e.styleMap.width&&(e.android('layout_width','0px'),e.app('layout_columnWeight',e.element.colSpan.toString()))});return e}},{key:'processChild',value:function(){var e=this.parent,t=this.node,n=d(t.data(Ct.TABLE,'rowSpan')),i=d(t.data(Ct.TABLE,'colSpan')),a=d(t.data(Ct.TABLE,'spaceSpan'));return 1<n&&t.app('layout_rowSpan',n.toString()),1<i&&t.app('layout_columnSpan',i.toString()),0<a&&this.application.controllerHandler.appendAfter(t.id,this.application.controllerHandler.renderNodeStatic(dt.SPACE,e.renderDepth+1,{app:{layout_columnSpan:a.toString()}},'wrap_content','wrap_content')),{xml:''}}},{key:'beforeInsert',value:function(){var e=this.node;if(0===d(e.cssOriginal('width'))&&0<e.toInt('width')){var t=d(e.app('columnCount')),n=0,i=0;e.each(function(e,a){0===a||0!=a%t?n+=e.toInt('width'):n=0,i=Ue(n,i)}),i>e.toInt('width')&&e.android('layout_width',p(i))}}}]),t}(hn),gn=function(e){function t(e,n,i){return Je(this,t),it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return nt(t,e),Qe(t,[{key:'is',value:function(e){return tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)&&('INPUT'!==e.element.tagName||['button','file','image','reset','search','submit'].includes(e.element.type))}},{key:'init',value:function(e){if(this.included(e)){var t=W(e).position;D(e,'nodeIsolated','static'!==t&&'initial'!==t)}return!1}},{key:'condition',value:function(){return this.included()}}]),t}(St),mn={FAB:'androme.widget.floatingactionbutton',MENU:'androme.widget.menu',COORDINATOR:'androme.widget.coordinator',TOOLBAR:'androme.widget.toolbar',DRAWER:'androme.widget.drawer',BOTTOM_NAVIGATION:'androme.widget.bottomnavigation'},fn={DRAWER:'android.support.v4.widget.DrawerLayout',NAVIGATION_VIEW:'android.support.design.widget.NavigationView',COORDINATOR:'android.support.design.widget.CoordinatorLayout',APPBAR:'android.support.design.widget.AppBarLayout',COLLAPSING_TOOLBAR:'android.support.design.widget.CollapsingToolbarLayout',TOOLBAR:'android.support.v7.widget.Toolbar',FLOATING_ACTION_BUTTON:'android.support.design.widget.FloatingActionButton',BOTTOM_NAVIGATION:'android.support.design.widget.BottomNavigationView'},yn={MENU:'menu',ITEM:'item',GROUP:'group'},bn={MENU:'ic_menu_',DIALOG:'ic_dialog_'},_n=function(e){function t(e,n,i){return Je(this,t),it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return nt(t,e),Qe(t,[{key:'processNode',value:function(){var e='',t=this.node,n=this.parent,i=t.element,a=Object.assign({},this.options[i.id]),r=me(t.css('backgroundColor'),t.css('opacity'));we(a,'android','backgroundTint',0<r.length?'@color/'+jt.addColor(r[0],r[2]):'?attr/colorAccent'),t.hasBit('excludeProcedure',pt.ACCESSIBILITY)||we(a,'android','focusable','false');var o='';switch(i.tagName){case'IMG':o=jt.addImageSrcSet(i,bn.DIALOG);break;case'INPUT':o='image'===i.type?jt.addImage({mdpi:i.src},bn.DIALOG):jt.addImageURL(t.css('backgroundImage'),bn.DIALOG);break;case'BUTTON':o=jt.addImageURL(t.css('backgroundImage'),bn.DIALOG);}''!==o&&we(a,'app','srcCompat','@drawable/'+o);var l=t.isSet('dataset','target');if(e=this.application.controllerHandler.renderNodeStatic(fn.FLOATING_ACTION_BUTTON,l?-1:n.renderDepth+1,a,'wrap_content','wrap_content',t),t.nodeType=dt.BUTTON,t.excludeResource|=ut.BOX_STYLE|ut.ASSET,!t.isolated)t.render(n);else if(Se(t),l){var d=n.stringId;if(n.nodeName===fn.TOOLBAR){var s=n.data(mn.TOOLBAR,'outerParent');s&&(d=s)}t.app('layout_anchor',d),t.app('layout_anchorGravity',t.android('layout_gravity')),t.delete('android','layout_gravity'),t.excludeProcedure|=pt.ALIGNMENT,t.render(t)}else t.render(n);return{xml:e}}},{key:'afterInsert',value:function(){var e=this.node;e.android('layout_width','wrap_content'),e.android('layout_height','wrap_content')}}]),t}(gn),Tn=function(e){function t(e,n,i){Je(this,t);var a=it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return a.require(Ct.EXTERNAL,!0),a}return nt(t,e),Qe(t,[{key:'init',value:function(e){if(this.included(e)){var t=!1;if(0<e.children.length){var n=e.children[0].tagName;t=gt.includes(n)&&Array.from(e.children).every(function(e){return e.tagName===n});for(var i=e.parentElement;null!=i;){if('NAV'===i.tagName&&this.application.elements.has(i)){t=!1;break}i=i.parentElement}}t&&(Array.from(e.querySelectorAll('NAV')).forEach(function(t){var n=W(e);'none'===n.display&&(D(t,'andromeExternalDisplay','none'),t.style.display='block')}),this.application.elements.add(e))}return!1}},{key:'afterRender',value:function(){var e=this.node;this.included(e.element)&&Array.from(e.element.querySelectorAll('NAV')).forEach(function(e){var t=P(e,'andromeExternalDisplay');t&&(e.style.display=t,F(e,'andromeExternalDisplay'))})}}]),t}(St),xn={id:/^@\+id\/\w+$/,title:/^.+$/,titleCondensed:/^.+$/,icon:/^@drawable\/.+$/,onClick:/^.+$/,showAsAction:/^(ifRoom|never|withText|always|collapseActionView)$/,actionLayout:/^@layout\/.+$/,actionViewClass:/^.+$/,actionProviderClass:/^.+$/,alphabeticShortcut:/^[a-zA-Z]+$/,alphabeticModifiers:/(META|CTRL|ALT|SHIFT|SYM|FUNCTION)+/g,numericShortcut:/^[0-9]+$/,numericModifiers:/(META|CTRL|ALT|SHIFT|SYM|FUNCTION)+/g,checkable:/^(true|false)$/,visible:/^(true|false)$/,enabled:/^(true|false)$/,menuCategory:/^(container|system|secondary|alternative)$/,orderInCategory:/^[0-9]+$/},In={id:/^@\+id\/\w+$/,checkableBehavior:/^(none|all|single)$/,visible:/^(true|false)$/,enabled:/^(true|false)$/,menuCategory:/^(container|system|secondary|alternative)$/,orderInCategory:/^[0-9]+$/},En=['showAsAction','actionViewClass','actionProviderClass'],An=function(e){function t(e,n,i){return Je(this,t),it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return nt(t,e),Qe(t,[{key:'condition',value:function(){return this.included()}},{key:'processNode',value:function(){var e=this,t=this.node,n=this.application.controllerHandler.renderNodeStatic(yn.MENU,0,{},'','',t,!0);return t.documentRoot=!0,t.rendered=!0,t.cascade().forEach(function(t){return t.renderExtension=e}),t.nodeType=dt.BLOCK,t.excludeResource|=ut.ALL,{xml:n}}},{key:'processChild',value:function(){var e=this,t='',n=!1,i=this.node,a=this.parent;if(i.plainText)return i.hide(),{xml:t,proceed:!0};var r=i.element,o={android:{},app:{}},l=yn.ITEM,d='',s=!1;if(i.children.some(function(e){return(!e.inlineElement||!e.blockStatic)&&0<e.children.length})){if(i.children.some(function(e){return'NAV'===e.element.tagName}))''===r.title?Array.from(i.element.childNodes).some(function(e){return'#text'===e.nodeName?(d=T(e,'textContent').trim(),''!==d):'NAV'!==e.tagName&&(d=e.innerText.trim(),!0)}):d=r.title.trim(),i.each(function(e){return'NAV'!==e.element.tagName&&e.hide()});else if('NAV'===i.element.tagName)l=yn.MENU,n=!0;else{l=yn.GROUP;var u='';i.children.every(function(t){return e.hasInputType(t,'radio')})?u='single':i.children.every(function(t){return e.hasInputType(t,'checkbox')})&&(u='all'),o.android.checkableBehavior=u}s=!0}else null==a.android('checkableBehavior')&&this.hasInputType(i,'checkbox')&&(o.android.checkable='true'),d=(r.title||r.innerText).trim();switch(l){case yn.ITEM:if(this.parseDataSet(xn,r,o),null==i.android('icon')){var p=jt.addImageURL(r.style.backgroundImage,bn.MENU);if(''!==p)o.android.icon='@drawable/'+p;else{var h=i.children.find(function(e){return e.imageElement});h&&(p=jt.addImageSrcSet(h.element,bn.MENU),''!==p&&(o.android.icon='@drawable/'+p))}}break;case yn.GROUP:this.parseDataSet(In,r,o);}if(null==i.android('title')&&''!==d){var c=jt.addString(d);''!==c&&(d='@string/'+c),o.android.title=d}return null==o.android.id?i.setNodeId(l):i.nodeName=l,t=this.application.controllerHandler.renderNodeStatic(l,a.renderDepth+1,o,'','',i,s),i.rendered=!0,i.excludeResource|=ut.ALL,{xml:t,proceed:n}}},{key:'afterRender',value:function(){tt(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'afterRender',this).call(this),this.included(this.node.element)&&(this.application.currentLayout.pathname='res/menu')}},{key:'parseDataSet',value:function(e,t,n){for(var i in t.dataset){var a=t.dataset[i];if(null!=a&&null!=e[i]){var r=a.match(e[i]);if(r){var o=(null==this.options.appCompat||this.options.appCompat)&&En.includes(i)?'app':'android';n[o][i]=Array.from(new Set(r)).join('|')}}}}},{key:'hasInputType',value:function(e,t){return 0<e.children.length&&e.children.some(function(e){return e.element.type===t})}}]),t}(Tn),vn=function(e){function t(e,n,i){return Je(this,t),it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return nt(t,e),Qe(t,[{key:'processNode',value:function(){var e='',t=this.node,n=this.parent;if(e=this.application.controllerHandler.renderGroup(t,n,fn.COORDINATOR),t.apply(this.options[t.element.id]),t.nodeType=dt.BLOCK,t.excludeResource|=ut.ASSET,0<t.children.filter(function(e){return!e.isolated}).length){var i=M(Ne(t,mn.TOOLBAR));if(i){var a=this.application.getExtension(mn.TOOLBAR);if(a){var r=null==a.options[i.element.id]?null:a.options[i.element.id].collapsingToolbar;null!=r&&t.android('fitsSystemWindows','true')}}}return{xml:e}}},{key:'afterInsert',value:function(){var e=this.node;e.documentRoot&&(e.android('layout_width','match_parent'),e.android('layout_height','match_parent'))}}]),t}(St),Rn=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','\t<style name="{@appTheme}" parent="{@parentTheme}">','!1','\t\t<item name="{name}">{value}</item>','!1','\t</style>','\t<style name="{@appTheme}.NoActionBar">','\t\t<item name="windowActionBar">false</item>','\t\t<item name="windowNoTitle">true</item>','\t</style>','\t<style name="AppTheme.AppBarOverlay" parent="{@appBarOverlay}" />','\t<style name="AppTheme.PopupOverlay" parent="{@popupOverlay}" />','</resources>','!0'].join('\n'),Ln=function(e){function t(e,n,i){Je(this,t);var a=it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return a.require(mn.MENU),a}return nt(t,e),Qe(t,[{key:'init',value:function(e){if(this.included(e)){if(Array.from(e.children).some(function(e){return!('NAV'!==e.tagName||_(e.dataset.ext,Ct.EXTERNAL))&&(e.dataset.ext=(S(e.dataset.ext)?e.dataset.ext+', ':'')+Ct.EXTERNAL,!0)}),S(e.dataset.target)){var t=document.getElementById(e.dataset.target);t&&e.parentElement!==t&&!_(T(t,'dataset.ext'),mn.COORDINATOR)&&this.application.elements.add(e)}_(T(e,'parentElement.dataset.ext'),mn.COORDINATOR)&&D(e,'nodeIsolated',!0)}return!1}},{key:'processNode',value:function(){var e='',t=this.node,n=t.isSet('dataset','target'),i=Object.assign({},this.options[t.element.id]),a=Object.assign({},i.toolbar),r=Object.assign({},i.appBar),o=Object.assign({},i.collapsingToolbar),l=[],d=[],s=null!=Ne(t,mn.MENU),u=t.css('backgroundImage'),h=n?0:t.depth,c=t.children.filter(function(e){return!e.isolated}).length;Array.from(t.element.children).forEach(function(e){if('IMG'===e.tagName){if(S(e.dataset.navigationIcon)){var t=jt.addImageSrcSet(e,bn.MENU);''!==t&&(we(toolbar,'app','navigationIcon','@drawable/'+t),'none'!==W(e).display&&c--)}if(S(e.dataset.collapseIcon)){var n=jt.addImageSrcSet(e,bn.MENU);''!==n&&(we(toolbar,'app','collapseIcon','@drawable/'+n),'none'!==W(e).display&&c--)}}if(!S(e.dataset.target)){var i=M(e);if(i)switch(e.dataset.targetModule){case'appBar':l.push(i),c--;break;case'collapsingToolbar':d.push(i),c--;}}});var g=null!=i.collapsingToolbar||0<d.length,m=null!=i.appBar||0<l.length||g,f='',y='';g?we(a,'app','layout_collapseMode','pin'):(we(m?r:a,'android','fitsSystemWindows','true'),we(a,'app','popupTheme','@style/ThemeOverlay.AppCompat.Light'),'none'===u?we(a,'app','layout_scrollFlags','scroll|enterAlways'):(we(0<l.length?r:a,'android','background','@drawable/'+jt.addImageURL(u)),t.excludeResource|=ut.IMAGE_SOURCE)),0<l.length?we(r,'android','layout_height','?android:attr/actionBarSize'):(we(a,'android','layout_height','?android:attr/actionBarSize'),t.excludeProcedure|=pt.LAYOUT),s&&m&&(null!=a.app.popupTheme&&(y=a.app.popupTheme.replace('@style/','')),a.app.popupTheme='@style/AppTheme.PopupOverlay');var b=h+(m?1:0)+(g?1:0);if(e=this.application.controllerHandler.renderNodeStatic(fn.TOOLBAR,b,a,'match_parent','wrap_content',t,0<c),g&&'none'!==u){var _=Object.assign({},i.backgroundImage),T='center';switch(t.css('backgroundSize')){case'cover':case'100% auto':case'auto 100%':T='centerCrop';break;case'contain':case'100% 100%':T='fitXY';break;case'auto':T='matrix';}we(_,'android','id',t.stringId+'_image'),we(_,'android','src','@drawable/'+jt.addImageURL(u)),we(_,'android','scaleType',T),we(_,'android','fitsSystemWindows','true'),we(_,'app','layout_collapseMode','parallax'),e=this.application.controllerHandler.renderNodeStatic(yt.IMAGE,b,_,'match_parent','match_parent')+e,t.excludeResource|=ut.IMAGE_SOURCE}var x='',I=null,E=null;if(m&&(we(r,'android','id',t.stringId+'_appbar'),we(r,'android','layout_height',0<t.viewHeight?Ee('appbar','height',p(t.viewHeight)):'wrap_content'),g&&we(r,'android','fitsSystemWindows','true'),s?(null!=r.android.theme&&(f=r.android.theme),r.android.theme='@style/AppTheme.AppBarOverlay',this.createResourceTheme(f,y)):we(r,'android','theme','@style/ThemeOverlay.AppCompat.Dark.ActionBar'),I=Le(this.application.cache.nextId,t,l),I.nodeId=xe(r.android.id),I.each(function(e){return e.dataset.target=I.nodeId}),this.application.cache.append(I),x=this.application.controllerHandler.renderNodeStatic(fn.APPBAR,n?-1:h,r,'match_parent','wrap_content',I,!0),I.rendered=!0,g)){h++,we(o,'android','id',t.stringId+'_collapsingtoolbar'),we(o,'android','fitsSystemWindows','true'),'none'===u&&we(o,'app','contentScrim','?attr/colorPrimary'),we(o,'app','layout_scrollFlags','scroll|exitUntilCollapsed'),we(o,'app','toolbarId',t.stringId),E=Le(this.application.cache.nextId,t,d),E.each(function(e){return e.dataset.target=E.nodeId}),this.application.cache.append(E);var A=this.application.controllerHandler.renderNodeStatic(fn.COLLAPSING_TOOLBAR,h,o,'match_parent','match_parent',E,!0);E.rendered=!0,x=te(x,I.id,A)}return I?(e=E?te(x,E.id,e):te(x,I.id,e),null==E?t.parent=I:E.parent=I,t.data(mn.TOOLBAR,'outerParent',I.stringId)):E&&(t.parent=E),n?t.render(t):(t.render(this.parent),t.renderDepth=b),t.nodeType=dt.BLOCK,t.excludeResource|=ut.FONT_STYLE,{xml:e}}},{key:'processChild',value:function(){var e=this.node;return e.imageElement&&(null!=e.dataset.navigationIcon||null!=e.dataset.collapseIcon)?(e.hide(),{xml:'',proceed:!0}):{xml:''}}},{key:'beforeInsert',value:function(){var e=this.node,t=T(Ne(e,mn.MENU),'dataset.viewName');if(''!==t){var n=Object.assign({},this.options[e.element.id]),i=Object.assign({},n.toolbar);we(i,'app','menu','@menu/'+t),e.app('menu',i.app.menu)}}},{key:'createResourceTheme',value:function(e,t){var n=Object.assign({},this.options.resource);we(n,'','appTheme','AppTheme'),we(n,'','parentTheme','Theme.AppCompat.Light.DarkActionBar');var i={0:[{appTheme:n.appTheme,parentTheme:n.parentTheme,appBarOverlay:e||'ThemeOverlay.AppCompat.Dark.ActionBar',popupOverlay:t||'ThemeOverlay.AppCompat.Light',1:[]}]};we(n,'output','path','res/values'),we(n,'output','file',mn.TOOLBAR+'.xml'),this.application.resourceHandler.addTheme(Rn,i,n)}}]),t}(St),Nn=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','\t<style name="{@appTheme}" parent="{@parentTheme}">','!1','\t\t<item name="{name}">{value}</item>','!1','\t</style>','</resources>','!0'].join('\n'),Sn=function(e){function t(e,n,i){Je(this,t);var a=it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return a.require(mn.MENU),a}return nt(t,e),Qe(t,[{key:'processNode',value:function(){var e=this,t='',n=this.node,a=this.parent,r=Object.assign({},this.options[n.element.id]);we(r,'android','background','?android:attr/windowBackground'),t=this.application.controllerHandler.renderNodeStatic(fn.BOTTOM_NAVIGATION,n.depth,r,a.is(dt.CONSTRAINT)?'0px':'match_parent','wrap_content',n);for(var o=5;o<n.children.length;o++)n.children[o].hide(),n.children[o].cascade().forEach(function(e){return e.hide()});return n.cascade().forEach(function(t){return t.renderExtension=e}),n.render(a),n.nodeType=dt.BLOCK,n.excludeResource|=ut.ASSET,this.createResourceTheme(),{xml:t}}},{key:'beforeInsert',value:function(){var e=this.node,t=T(Ne(e,mn.MENU),'dataset.viewName');if(''!==t){var n=Object.assign({},this.options[e.element.id]);we(n,'app','menu','@menu/'+t),e.app('menu',n.app.menu)}}},{key:'afterInsert',value:function(){var e=this.node;e.renderParent.has('width')||e.renderParent.android('layout_width','match_parent'),e.renderParent.has('height')||e.renderParent.android('layout_height','match_parent')}},{key:'createResourceTheme',value:function(){var e=Object.assign({},this.options.resource);we(e,'','appTheme','AppTheme'),we(e,'','parentTheme','Theme.AppCompat.Light.DarkActionBar');var t={0:[{appTheme:e.appTheme,parentTheme:e.parentTheme,1:[]}]};we(e,'output','path','res/values'),we(e,'output','file',mn.BOTTOM_NAVIGATION+'.xml'),this.application.resourceHandler.addTheme(Nn,t,e)}}]),t}(St),On=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','\t<style name="{@appTheme}" parent="{@parentTheme}">','\t\t<item name="android:windowDrawsSystemBarBackgrounds">true</item>','\t\t<item name="android:statusBarColor">@android:color/transparent</item>','\t\t<item name="android:windowTranslucentStatus">true</item>','!1','\t\t<item name="{name}">{value}</item>','!1','\t</style>','</resources>','!0'].join('\n'),wn=function(e){function t(e,n,i){Je(this,t);var a=it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return a.documentRoot=!0,a.require(Ct.EXTERNAL,!0),a.require(mn.MENU),a.require(mn.COORDINATOR),a}return nt(t,e),Qe(t,[{key:'init',value:function(e){return!!(this.included(e)&&0<e.children.length)&&(Array.from(e.children).forEach(function(e){'NAV'!==e.tagName||_(e.dataset.ext||'',Ct.EXTERNAL)||(e.dataset.ext=(S(e.dataset.ext)?e.dataset.ext+', ':'')+Ct.EXTERNAL)}),this.application.elements.add(e),!0)}},{key:'processNode',value:function(){var e=this.node;e.documentRoot=!0;var t=Object.assign({},this.options.drawer);if(Ne(e,mn.MENU))we(t,'android','fitsSystemWindows','true'),this.createResourceTheme();else{var n=Object.assign({},this.options.navigation);we(n,'android','layout_gravity',Re('left'));var i=e.children[e.children.length-1];i.android('layout_gravity',n.android.layout_gravity),i.android('layout_height','match_parent'),i.isolated=!0}var a=this.application.controllerHandler.renderNodeStatic(fn.DRAWER,e.depth,t,'match_parent','match_parent',e,!0);return e.rendered=!0,e.nodeType=dt.BLOCK,e.excludeResource|=ut.FONT_STYLE,{xml:a}}},{key:'beforeInsert',value:function(){var e=this.application,t=this.node;if(null!=e.lateInsert[t.nodeId]){var n=e.cacheInternal.locate(function(e){return e.isolated&&e.parent===t.parent&&e.nodeName===fn.COORDINATOR});n&&(e.lateInsert[n.nodeId]=e.lateInsert[t.nodeId],delete e.lateInsert[t.nodeId])}var i=T(Ne(t,mn.MENU),'dataset.viewName'),a=T(Ne(t,Ct.EXTERNAL),'dataset.viewName'),r=Object.assign({},this.options.navigation);if(''!==i&&we(r,'app','menu','@menu/'+i),''!==a&&we(r,'app','headerLayout','@layout/'+a),''!==i||''!==a){we(r,'android','id',t.stringId+'_view'),we(r,'android','fitsSystemWindows','true'),we(r,'android','layout_gravity',Re('left'));var o=e.controllerHandler.renderNodeStatic(fn.NAVIGATION_VIEW,t.depth+1,r,'wrap_content','match_parent');e.addLateInsert(t.id.toString(),[o])}}},{key:'afterInsert',value:function(){var e=Ne(this.node,Ct.EXTERNAL);if(e){var t=M(e);t&&0===t.viewHeight&&t.android('layout_height','wrap_content')}}},{key:'createResourceTheme',value:function(){var e=Object.assign({},this.options.resource);we(e,'','appTheme','AppTheme'),we(e,'','parentTheme','Theme.AppCompat.Light.NoActionBar');var t={0:[{appTheme:e.appTheme,parentTheme:e.parentTheme,1:[]}]};we(e,'output','path','res/values-v21'),we(e,'output','file',mn.DRAWER+'.xml'),this.application.resourceHandler.addTheme(On,t,e)}}]),t}(St),kn=!1,Bn=new Set,Cn=new Map,Dn=(Wn={},$e(Wn,Ct.EXTERNAL,new Dt(Ct.EXTERNAL)),$e(Wn,Ct.CUSTOM,new ln(Ct.CUSTOM)),$e(Wn,Ct.LIST,new sn(Ct.LIST,['UL','OL','DL','DIV'])),$e(Wn,Ct.TABLE,new cn(Ct.TABLE,['TABLE'])),$e(Wn,Ct.GRID,new pn(Ct.GRID,['FORM','UL','OL','DL','DIV','TABLE','NAV','SECTION','ASIDE','MAIN','HEADER','FOOTER','P','ARTICLE','FIELDSET','SPAN'])),$e(Wn,mn.FAB,new _n(mn.FAB,['BUTTON','INPUT','IMG'])),$e(Wn,mn.MENU,new An(mn.MENU,['NAV'])),$e(Wn,mn.COORDINATOR,new vn(mn.COORDINATOR)),$e(Wn,mn.TOOLBAR,new Ln(mn.TOOLBAR)),$e(Wn,mn.BOTTOM_NAVIGATION,new Sn(mn.BOTTOM_NAVIGATION)),$e(Wn,mn.DRAWER,new wn(mn.DRAWER)),Wn),Pn=new Kt,Fn=new rn,Mn=new jt(Fn),Gn=new Nt(Wt),Hn,Wn;Gn.registerController(Pn),Gn.registerResource(Mn),function(){var e=new Set,t=!0,n=!1,i=void 0;try{for(var a=Lt.builtInExtensions[Symbol.iterator](),r,o;!(t=(r=a.next()).done);t=!0)for(var l in o=r.value,o=o.toLowerCase().trim(),Dn)(l===o||l.startsWith(o+'.'))&&e.add(Dn[l])}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}var d=!0,s=!1,u=void 0;try{for(var p=e[Symbol.iterator](),h,c;!(d=(h=p.next()).done);d=!0)c=h.value,Gn.registerExtension(c)}catch(e){s=!0,u=e}finally{try{!d&&p.return&&p.return()}finally{if(s)throw u}}}(),e.parseDocument=function(){function e(){kn=!1,Lt.preloadImages&&null!=a&&Array.from(a.getElementsByClassName('androme.preload')).forEach(function(e){return a&&a.removeChild(e)}),Gn.resourceHandler.imageDimensions=Cn;var e=!0,t=!1,n=void 0;try{for(var i=Gn.elements[Symbol.iterator](),r,l;!(e=(r=i.next()).done);e=!0){l=r.value,''===Gn.appName?(''===l.id&&(l.id='untitled'),Gn.appName=l.id):''===l.id&&(l.id='content_'+Gn.size);var d=T(l,'dataset.filename').trim().replace(/\.xml$/,'')||l.id;l.dataset.views=(T(l,'dataset.views','number')+1).toString(),l.dataset.viewName=o('1'===l.dataset.views?d:d+'_'+l.dataset.views),Gn.createNodeCache(l)&&(Gn.createLayoutXml(),Gn.setConstraints(),Gn.setResources(),Bn.add(l))}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}'function'==typeof h&&h.call(Gn)}if(!Gn.closed){kn=!1,ke(),Gn.elements.clear();for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];''===Gn.appName&&0===n.length&&n.push(document.body);var a=null,r=!0,l=!1,d=void 0;try{for(var s=n[Symbol.iterator](),u,p;!(r=(u=s.next()).done);r=!0)p=u.value,'string'==typeof p&&(p=document.getElementById(p)),p instanceof HTMLElement&&(null==a&&(a=p),Gn.elements.add(p))}catch(e){l=!0,d=e}finally{try{!r&&s.return&&s.return()}finally{if(l)throw d}}var h;if(Lt.preloadImages&&null!=a){var c=!0,g=!1,m=void 0;try{for(var f=Cn.values()[Symbol.iterator](),y,b;!(c=(y=f.next()).done);c=!0)if(b=y.value,0===b.width&&0===b.height){var _=document.createElement('IMG');_.src=b.url,_.complete&&0<_.naturalWidth&&0<_.naturalHeight?(b.width=_.naturalWidth,b.height=_.naturalHeight):(_.style.display='none',_.className='androme.preload',a.appendChild(_))}}catch(e){g=!0,m=e}finally{try{!c&&f.return&&f.return()}finally{if(g)throw m}}}var x=Array.from(Gn.elements).map(function(e){var t=[];return Array.from(e.querySelectorAll('IMG')).forEach(function(e){e.complete?Be(e):t.push(e)}),t}).reduce(function(e,t){return e.concat(t)},[]);if(0===x.length)e();else{kn=!0;var I=x.map(function(e){return new Promise(function(t,n){e.onload=t,e.onerror=n})});Promise.all(I).then(function(t){t.forEach(function(e){return Be(e)}),e()}).catch(function(t){var n=null==t.srcElement?'':t.srcElement.src;(!S(n)||confirm('FAIL: '+n))&&e()})}return{then:function(e){kn?h=e:e()}}}},e.registerExtension=Ce,e.configureExtension=De,e.getExtension=Pe,e.ext=function(e,t){if('object'===('undefined'==typeof e?'undefined':Ze(e)))Ce(e);else if(null!=t)De(e,t);else if(''!==e)return Pe(e)},e.ready=Fe,e.close=Me,e.reset=function(){var e=!0,t=!1,n=void 0;try{for(var i=Bn[Symbol.iterator](),a,r;!(e=(a=i.next()).done);e=!0)r=a.value,delete r.dataset.views,delete r.dataset.viewName,Array.from(r.querySelectorAll('*')).forEach(function(e){return F(e,'node','style','styleMap')})}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}Bn.clear(),Gn.reset()},e.saveAllToDisk=Ge,e.writeLayoutAllXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return Gn.closed||He()?Gn.resourceHandler.file.layoutAllToXml(Gn.viewData,e):''},e.writeResourceAllXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return Gn.closed||He()?Gn.resourceHandler.file.resourceAllToXml(e):''},e.writeResourceStringXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return Gn.closed||He()?Gn.resourceHandler.file.resourceStringToXml(e):''},e.writeResourceArrayXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return Gn.closed||He()?Gn.resourceHandler.file.resourceStringArrayToXml(e):''},e.writeResourceFontXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return Gn.closed||He()?Gn.resourceHandler.file.resourceFontToXml(e):''},e.writeResourceColorXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return Gn.closed||He()?Gn.resourceHandler.file.resourceColorToXml(e):''},e.writeResourceStyleXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return Gn.closed||He()?Gn.resourceHandler.file.resourceStyleToXml(e):''},e.writeResourceDimenXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return Gn.closed||He()?Gn.resourceHandler.file.resourceDimenToXml(e):''},e.writeResourceDrawableXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return Gn.closed||He()?Gn.resourceHandler.file.resourceDrawableToXml(e):''},e.customize=function(e,t,n){if(null!=Ht[e]){var i=Ht[e].customizations;null==i[t]&&(i[t]={}),Object.assign(i[t],n)}},e.addXmlNs=function(e,t){Gn.addXmlNs(e,t)},e.toString=function(){return Gn.toString()},e.settings=Lt,e.Extension=St,Object.defineProperty(e,'__esModule',{value:!0})});
