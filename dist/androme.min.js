/* androme 1.7.10 https://github.com/anpham6/androme */(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?t(exports):'function'==typeof define&&define.amd?define(['exports'],t):t(e.androme={})})(this,function(e){'use strict';function t(e){for(var t=arguments.length,n=Array(2<t?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;return e.sort(function(e,t){var i=!0,a=!1,o=void 0;try{for(var l=n[Symbol.iterator](),d;!(i=(d=l.next()).done);i=!0){var s=d.value,u=A(e,t,s);if(u&&u[0]!==u[1])return 0===r?u[0]>=u[1]?1:-1:u[0]<=u[1]?1:-1}}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}return 0})}function n(){Pe={android:['parent']}}function r(e,t){var n=t,r=1,a=t.match(/^(\w+)_([0-9]+)$/);null!=a&&(n=a[1],r=parseInt(a[2])),null==Pe[e]&&(Pe[e]=[]);do if(!Pe[e].includes(t)){Pe[e].push(t);break}else t=n+'_'+r++;while(!0);return t}function a(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0;a<n.length;a++)e=e.replace('{'+a+'}',n[a]);return e}function o(e){e=e.charAt(0).toLowerCase()+e.substring(1);var t=e.match(/([a-z]{1}[A-Z]{1})/g);if(null!=t){var n=!0,i=!1,r=void 0;try{for(var a=t[Symbol.iterator](),o,l;!(n=(o=a.next()).done);n=!0)l=o.value,e=e.replace(l,l[0]+'_'+l[1].toLowerCase())}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}return e}function l(e){e=e.replace(/$-+/,'');var t=e.match(/(-{1}[a-z]{1})/g);if(null!=t){var n=!0,i=!1,r=void 0;try{for(var a=t[Symbol.iterator](),o,l;!(n=(o=a.next()).done);n=!0)l=o.value,e=e.replace(l,l[1].toUpperCase())}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}return e}function d(e){for(var t='',n;e>=26;){n=Se(e/26),1<n&&n<=26?(t+='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(n-1),e-=n*26):n>26&&(t+=d(n*26),e-=n*26);var i=e%26;t+='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(i),e-=i+26}return t='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(e)+t,t}function s(e){for(var t='',n=e.toString().split(''),r=['','C','CC','CCC','CD','D','DC','DCC','DCCC','CM','','X','XX','XXX','XL','L','LX','LXX','LXXX','XC','','I','II','III','IV','V','VI','VII','VIII','IX'],a=3;a--;)t=(r[parseInt(n.pop())+10*a]||'')+t;return'M'.repeat(parseInt(n.join('')))+t}function u(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'\t';return t.repeat(e)}function h(e){return e=parseFloat(e),(isNaN(e)?0:ve(e))+'px'}function p(e){if(w(e)){y(e)&&(e+='px');var t=e.match(/(pt|em)/);if(e=parseFloat(e),null!=t)switch(t[0]){case'pt':e*=4/3;break;case'em':e*=16;}if(!isNaN(e))return e+'px'}return'0px'}function g(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:160,n=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];return w(e)&&(e=parseFloat(p(e)),!isNaN(e))?(e=parseFloat((e/(t/160)).toFixed(2)),e+(n?'sp':'dp')):'0dp'}function c(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:160,n=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];return e.replace(/("|>)([0-9]+(?:\.[0-9]+)?px)("|<)/g,function(){return(1>=arguments.length?void 0:arguments[1])+g(2>=arguments.length?void 0:arguments[2],t,n)+(3>=arguments.length?void 0:arguments[3])})}function m(e){return parseInt(e)||0}function f(e){return Se(e.reduce(function(e,t){return e+t})/e.length)}function y(e){return /^[0-9]+\.?[0-9]*$/.test(e.toString().trim())}function b(e){return /^[0-9]+%$/.test(e)}function _(e,t){return e.replace(new RegExp('^'+t+'+','g'),'').replace(new RegExp(t+'+$','g'),'')}function x(e){return e.substring(e.lastIndexOf('/')+1)}function v(e){return e.substring(e.lastIndexOf('.')+1)}function S(e,t){var n=[];if('object'===('undefined'==typeof t?'undefined':Ee(t)))for(var r in t){var a=t[r];w(e[a])&&n.push([a,e[a]])}else{var i=function(e){return e===t};if(/^\*.+\*$/.test(t)?i=function(e){return-1!==e.indexOf(t.replace(/\*/g,''))}:/^\*/.test(t)?i=function(e){return e.endsWith(t.replace(/\*/,''))}:/\*$/.test(t)&&(i=function(e){return e.startsWith(t.replace(/\*/,''))}),null!=i)for(var o in e)i(o)&&n.push([o,e[o]])}return n}function E(e){if(w(e)){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=!0,a=!1,o=void 0;try{for(var l=n[Symbol.iterator](),d;!(r=(d=l.next()).done);r=!0){var s=d.value,u=e.indexOf(s);if(-1!==u)return u}}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}}return-1}function T(e,t){for(var n=arguments.length,i=Array(2<n?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var a=!0,o=!1,l=void 0;try{for(var d=i[Symbol.iterator](),s;!(a=(s=d.next()).done);a=!0){var u=s.value,h=A(e,t,u);if(!h||h[0]!==h[1])return!1}}catch(e){o=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(o)throw l}}return!0}function A(e,t,n){var i=n.split('.'),r=e,a=t,o=!0,l=!1,d=void 0;try{for(var s=i[Symbol.iterator](),u,h;!(o=(u=s.next()).done);o=!0)if(h=u.value,null!=r[h]&&null!=a[h])r=r[h],a=a[h];else return(null!=r[h]||null!=a[h])&&(null==r[h]?[0,1]:[1,0])}catch(e){l=!0,d=e}finally{try{!o&&s.return&&s.return()}finally{if(l)throw d}}return isNaN(parseInt(r))&&isNaN(parseInt(a))?[r,a]:[m(r),m(a)]}function R(e,t){return parseFloat(xe(0===e?0:0===t?1:e/(e+t),0).toFixed(2))}function w(e){return'undefined'!=typeof e&&null!==e&&''!==e.toString()}function k(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1;return t>=e-i&&t<=e+i}function L(e,t){return e===t||ve(e)===Se(t)}function I(e,t){return e.toString().toLowerCase()>=t.toString().toLowerCase()?1:-1}function C(e){for(var n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.apply(void 0,[e,0].concat(i))}function O(e){for(var n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.apply(void 0,[e,1].concat(i))}function D(e){var t=X(e);return null==t?null:F(t.r,t.g,t.b)}function F(e,t,n){e/=255,t/=255,n/=255;var i=_e(e,t,n),a=xe(e,t,n),o=(a+i)/2,u=o,p=o;if(a===i)o=0,u=0;else{var l=a-i;u=.5<p?l/(2-a-i):l/(a+i);a===e?o=(t-n)/l+(t<n?6:0):a===t?o=(n-e)/l+2:a===n?o=(e-t)/l+4:void 0;o/=6}return{h:360*o,s:100*u,l:100*p}}function B(e,t){var n=[e.hsl.h,t.hsl.h],i=n[0],r=n[1];if(i===r){var a=[e.hsl.s,t.hsl.s];if(i=a[0],r=a[1],i===r){var o=[e.hsl.l,t.hsl.l];i=o[0],r=o[1]}}return i>=r?1:-1}function N(e){var t=je.slice(),n=t.findIndex(function(t){return t.hex===e});if(-1!==n)return t[n];var i=D(e);return null==i?'':(t.push({name:'',hsl:i,rgb:{r:-1,g:-1,b:-1},hex:''}),t.sort(B),n=t.findIndex(function(e){return''===e.name}),t[_e(n+1,t.length-1)])}function P(e){for(var t in Ue)if(t.toLowerCase()===e.toLowerCase())return Ue[t];return''}function G(e){var t=e.rgb;return'rgb('+t.r+', '+t.g+', '+t.b+')'}function M(e){if(null!=e){var t=P(e);if(''!==t)return[t.hex,G(t),'1'];var n=e.match(/rgb(?:a)?\(([0-9]{1,3}), ([0-9]{1,3}), ([0-9]{1,3})(?:, ([0-9]{1,3}))?\)/);if(n&&4<=n.length)return['#'+H(n[1])+H(n[2])+H(n[3]),n[0],n[4]||'1']}return[]}function H(e){var t=parseInt(e);return isNaN(t)?'00':(t=xe(0,_e(t,255)),'0123456789ABCDEF'.charAt((t-t%16)/16)+'0123456789ABCDEF'.charAt(t%16))}function X(e){return e=e.replace('#','').trim(),3===e.length&&(e=e.charAt(0).repeat(2)+e.charAt(1).repeat(2)+e.charAt(2).repeat(2)),6===e.length?{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4),16)}:{r:-1,g:-1,b:-1}}function W(e){var t=document.createRange();t.selectNodeContents(e);var n=t.getClientRects(),i=z(n[n.length-1]);return 1<n.length&&(i.x=_e.apply(null,Array.from(n).map(function(e){return e.x})),i.left=i.x,i.width=Array.from(n).reduce(function(e,t){return e+t.width},0)),i}function z(e){return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function V(e){var t=e;return null==t.__node?getComputedStyle(e):t.__node.style}function U(e,t){return!!(e&&null!=e.parentElement)&&V(e)[t]===V(e.parentElement)[t]}function Y(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n={},i=V(e),r=e.__node;return['padding','margin'].forEach(function(e){['Top','Left','Right','Bottom'].forEach(function(a){var o=e+a,l=m(null==r?i[o]:r[o]);(t||0!==l)&&(n[o]=l)})}),n}function K(e){return Array.from(e.childNodes).some(function(e){return'#text'===e.nodeName&&null!=e.textContent&&''!==e.textContent.trim()})}function J(e){switch(e.tagName){case'BR':case'OPTION':return!1;}if('function'==typeof e.getBoundingClientRect){var t=e.getBoundingClientRect();if(0!==t.width&&0!==t.height)return!0;if(0<e.children.length)return Array.from(e.children).some(function(e){var t=getComputedStyle(e);return''!==t.position&&'static'!==t.position||'left'===t.float||'right'===t.float})}return!1}function q(t){if(tt.supportRTL&&tt.targetAPI>=e.build.JELLYBEAN_1){switch(t){case'left':return'start';case'right':return'end';}t=t.replace(/Left/g,'Start').replace(/Right/g,'End')}return t}function Z(e){for(var t=e,n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var a=!0,o=!1,l=void 0;try{for(var d=i[Symbol.iterator](),s;!(a=(s=d.next()).done);a=!0){var u=s.value,h=u.split('-'),p=Be(h,2),g=p[0],c=p[1],m=c===void 0?'0':c;t=t[g][m]}}catch(e){o=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(o)throw l}}return t}function Q(e){var t={},n=null,i=!1,r=0,a=e.length;do{if(i){var o=i[0].replace(new RegExp(i[1],'g'),'');for(var l in t)t[l]=t[l].replace(new RegExp(i[0],'g'),'{%'+i[2]+'}');t[i[2]]=o,a-=i[0].length}if(null==i||0===a){if(e=t[r++],!w(e))break;a=e.length,i=null}if(i||(n=/(!([0-9]+)\n?)[\w\W]*\1/g),null!=n)i=n.exec(e);else break}while(!0);return t}function $(e,t,n,r,a){var o=null==n?'':e[n];for(var l in null!=t['#include']&&(r=t['#include'],delete t['#include']),null!=t['#exclude']&&(a=t['#exclude'],delete t['#exclude']),t){var i='';if(!1===t[l]){o=o.replace('{%'+l+'}','');continue}else if(Array.isArray(t[l]))for(var d in t[l])i+=$(e,t[l][d],l,r,a);else i=t[l];w(i)?o=null==n?i.trim():o.replace(new RegExp('{[%@&]*'+l+'}'),i):new RegExp('{%'+l+'}').test(o)||!1===i?o=o.replace('{%'+l+'}',''):new RegExp('{&'+l+'}').test(o)&&(o='');for(var s=/\s+[\w:]+="{#(\w+)=(.*?)}"/g,u=void 0;null!=(u=s.exec(o));)if(r[u[1]]){var h='{#'+u[1]+'='+u[2]+'}';o=null==t[u[2]]?o.replace(h,u[2]):o.replace(h,t[u[2]])}else a[u[1]]&&(o=o.replace(u[0],''))}return o.replace(/\s+[\w:]+="{@\w+}"/g,'')}function ee(e){return e}function te(){var e;if(null==Ot){var t=new ht,n=new Rt,i=new bt(n);e=new nt(ot,dt),e.registerController(t),e.registerResource(i);var r=!0,a=!1,o=void 0;try{for(var l=tt.builtInExtensions[Symbol.iterator](),d;!(r=(d=l.next()).done);r=!0){var s=d.value,u=Ft[s.trim().toLowerCase().replace(/^androme\./,'')];null!=u&&e.registerExtension(u)}}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}Ot=e}else e=Ot,e.resetController();if(!e.closed){e.setStyleMap(),e.elements.clear();for(var h=arguments.length,p=Array(h),g=0;g<h;g++)p[g]=arguments[g];''===e.appName&&0===p.length&&p.push(document.body),p.forEach(function(t){'string'==typeof t&&(t=document.getElementById(t)),t instanceof HTMLElement&&e.elements.add(t)}),e.elements.forEach(function(t){''===e.appName?(''===t.id&&(t.id='androme'),e.appName=t.id):''===t.id&&(t.id='view'+e.length),t.dataset.views=(t.dataset.views?parseInt(t.dataset.views)+1:'1').toString(),t.dataset.currentId=('1'===t.dataset.views?t.id:t.id+'_'+t.dataset.views).replace(/-/g,'_'),e.setNodeCache(t),e.setLayoutXml(),e.setResources(),tt.showAttributes&&(e.setMarginPadding(),e.setConstraints(),e.replaceInlineAttributes()),e.replaceAppended(),Dt.add(t)})}}function ne(e){var t=ee(Ot);null!=t&&e instanceof Me&&t.registerExtension(e)}function ie(e,t){var n=ee(Ot);null!=n&&null!=t&&n.extensions.some(function(n){return!(n.extension!==e)&&(n.options=t,!0)})}function re(){var e=ee(Ot);return null==e||!e.closed}function ae(){var e=ee(Ot);null!=e&&0<e.length&&e.finalize()}function oe(){var e=ee(Ot);null!=e&&(Dt.forEach(function(e){delete e.dataset.views,delete e.dataset.currentId}),Dt.clear(),e.reset())}function le(){var e=ee(Ot);e&&0<e.length&&(!e.closed&&e.finalize(),e.resourceHandler.file.saveAllToDisk(e.viewData))}function de(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0],t=ee(Ot);return null!=t&&(ye(),t.closed)?t.resourceHandler.file.layoutAllToXml(t.viewData,e):''}function se(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0],t=ee(Ot);return null!=t&&(ye(),t.closed)?t.resourceHandler.file.resourceAllToXml(e):''}function ue(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return null!=Ot&&(ye(),Ot.closed)?Ot.resourceHandler.file.resourceStringToXml(e):''}function he(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0],t=ee(Ot);return null!=t&&(ye(),t.closed)?t.resourceHandler.file.resourceStringArrayToXml(e):''}function pe(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0],t=ee(Ot);return null!=t&&(ye(),t.closed)?t.resourceHandler.file.resourceFontToXml(e):''}function ge(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0],t=ee(Ot);return t&&t.closed?Ot.resourceHandler.file.resourceColorToXml(e):''}function ce(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0],t=ee(Ot);return null!=t&&(ye(),t.closed)?t.resourceHandler.file.resourceStyleToXml(e):''}function me(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0],t=ee(Ot);return null!=t&&(ye(),t.closed)?t.resourceHandler.file.resourceDrawableToXml(e):''}function fe(){var e=ee(Ot);return null==e?'':e.toString()}function ye(){var e=ee(Ot);tt.autoCloseOnWrite&&e&&!e.closed&&e.finalize()}var be=Number.MAX_VALUE,_e=Math.min,xe=Math.max,ve=Math.ceil,Se=Math.floor,Ee='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},Te=function(){var e='function'==typeof Symbol&&Symbol.for&&Symbol.for('react.element')||60103;return function(t,n,r,a){var o=t&&t.defaultProps,l=arguments.length-3;if(n||0==l||(n={}),n&&o)for(var d in o)void 0===n[d]&&(n[d]=o[d]);else n||(n=o||{});if(1==l)n.children=a;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===r?null:''+r,ref:null,props:n,_owner:null}}}(),Ae=function(){function e(e){this.value=e}function t(t){function n(r,a){try{var o=t[r](a),l=o.value;l instanceof e?Promise.resolve(l.value).then(function(e){n('next',e)},function(e){n('throw',e)}):i(o.done?'return':'normal',o.value)}catch(e){i('throw',e)}}function i(e,t){'return'===e?r.resolve({value:t,done:!0}):'throw'===e?r.reject(t):r.resolve({value:t,done:!1}),r=r.next,r?n(r.key,r.arg):a=null}var r,a;this._invoke=function(e,t){return new Promise(function(i,o){var l={key:e,arg:t,resolve:i,reject:o,next:null};a?a=a.next=l:(r=a=l,n(e,t))})},'function'!=typeof t.return&&(this.return=void 0)}return'function'==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke('next',e)},t.prototype.throw=function(e){return this._invoke('throw',e)},t.prototype.return=function(e){return this._invoke('return',e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),Re=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')},we=function(){function e(e,t){for(var n=0,r;n<t.length;n++)r=t[n],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),ke=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Le=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var r in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},Ie=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if('value'in r)return r.value;var o=r.get;return void 0===o?void 0:o.call(i)},Ce=function(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Oe=function(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e},De='undefined'==typeof global?self:global,Fe=function e(t,n,i,r){var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);null!==o&&e(o,n,i,r)}else if('value'in a&&a.writable)a.value=i;else{var l=a.set;void 0!==l&&l.call(r,i)}return i},Be=function(){function e(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(i=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));i=!0);}catch(e){r=!0,a=e}finally{try{!i&&o['return']&&o['return']()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),Ne=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Pe=void 0;n();var Ge=function(){function e(t,n){Re(this,e),this.parent=n,this._list=[],Array.isArray(t)&&(this._list=t),this.parent=n}return we(e,[{key:'find',value:function(e){return this._list.find(function(t){return t.id===e})||null}},{key:'reset',value:function(){e.currentId=0,this.clear()}},{key:'clear',value:function(){this._list=[]}},{key:'sortAsc',value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C.apply(void 0,[this._list].concat(t))}},{key:'sortDesc',value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return O.apply(void 0,[this._list].concat(t))}},{key:'intersect',value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'linear';return e.intersect(this._list,t)}},{key:'length',get:function(){return this._list.length}},{key:'list',get:function(){return this._list}},{key:'visible',get:function(){return this._list.filter(function(e){return e.visible})}},{key:'elements',get:function(){return this._list.filter(function(e){return null!=e.element})}},{key:'first',get:function(){return this._list[0]}},{key:'last',get:function(){return this._list[this._list.length-1]}},{key:'nextId',get:function(){return++e.currentId}},{key:'linearX',get:function(){return e.linearX(this._list)}},{key:'linearY',get:function(){return e.linearY(this._list)}}],[{key:'intersect',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.forEach(function(n){if(e.some(function(e){return e!==n&&n.intersect(e[t])}))return!0}),!1}},{key:'linearX',value:function(t){if(0<t.length&&!e.intersect(t)){if(1<t.length){var n=_e.apply(null,t.map(function(e){return e.linear.bottom}));return!t.some(function(e){return e.linear.top>=n})}return!0}return!1}},{key:'linearY',value:function(t){if(0<t.length&&!e.intersect(t)){if(1<t.length){var n=_e.apply(null,t.map(function(e){return e.linear.right}));return!t.some(function(e){return e.linear.left>=n})}return!0}return!1}}]),e}();Ge.currentId=0;var Me=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],i=arguments[2];Re(this,e),this.extension=n,this.options=i,this.enabled=!0,this.tagNames=[],this.tagNames=t.map(function(e){return e.toUpperCase()})}return we(e,[{key:'is',value:function(e){return 0===this.tagNames.length||this.tagNames.includes(e)}},{key:'included',value:function(e,t){null==t&&(t=this.element);var n=(this.extension||e||'').trim();return!!(t&&t.dataset.extension&&n)&&t.dataset.extension.split(',').map(function(e){return e.trim()}).includes(n)}},{key:'beforeInit',value:function(){}},{key:'init',value:function(){return!1}},{key:'afterInit',value:function(){}},{key:'condition',value:function(){return!!(this.node.element&&this.node.element.dataset&&this.extension)&&this.included(this.extension)}},{key:'processNode',value:function(){return!1}},{key:'processChild',value:function(){return['',!1]}},{key:'linearX',get:function(){return null!=this.node&&Ge.linearX(this.node.children)}},{key:'linearY',get:function(){return null!=this.node&&Ge.linearY(this.node.children)}}]),e}(),He;(function(e){e[e.FRAME=1]='FRAME',e[e.LINEAR=2]='LINEAR',e[e.CONSTRAINT=3]='CONSTRAINT',e[e.GUIDELINE=4]='GUIDELINE',e[e.RELATIVE=5]='RELATIVE',e[e.GRID=6]='GRID',e[e.SCROLL_VERTICAL=7]='SCROLL_VERTICAL',e[e.SCROLL_HORIZONTAL=8]='SCROLL_HORIZONTAL',e[e.SCROLL_NESTED=9]='SCROLL_NESTED',e[e.RADIO_GROUP=10]='RADIO_GROUP',e[e.TEXT=11]='TEXT',e[e.EDIT=12]='EDIT',e[e.IMAGE=13]='IMAGE',e[e.SELECT=14]='SELECT',e[e.RANGE=15]='RANGE',e[e.CHECKBOX=16]='CHECKBOX',e[e.RADIO=17]='RADIO',e[e.BUTTON=18]='BUTTON',e[e.VIEW=19]='VIEW',e[e.SPACE=20]='SPACE'})(He||(He={}));var Xe;(function(e){e[e.MARGIN_TOP=2]='MARGIN_TOP',e[e.MARGIN_RIGHT=4]='MARGIN_RIGHT',e[e.MARGIN_BOTTOM=8]='MARGIN_BOTTOM',e[e.MARGIN_LEFT=16]='MARGIN_LEFT',e[e.PADDING_TOP=32]='PADDING_TOP',e[e.PADDING_RIGHT=64]='PADDING_RIGHT',e[e.PADDING_BOTTOM=128]='PADDING_BOTTOM',e[e.PADDING_LEFT=256]='PADDING_LEFT'})(Xe||(Xe={}));var We={PLAINTEXT:He.TEXT,HR:He.VIEW,IMG:He.IMAGE,SELECT:He.SELECT,RANGE:He.RANGE,TEXT:He.EDIT,PASSWORD:He.EDIT,NUMBER:He.EDIT,EMAIL:He.EDIT,SEARCH:He.EDIT,URL:He.EDIT,CHECKBOX:He.CHECKBOX,RADIO:He.RADIO,BUTTON:He.BUTTON,SUBMIT:He.BUTTON,RESET:He.BUTTON,TEXTAREA:He.EDIT},ze=['ADDRESS','ARTICLE','ASIDE','BLOCKQUOTE','CANVAS','DD','DIV','DL','DT','FIELDSET','FIGCAPTION','FIGURE','FOOTER','FORM','H1','H2','H3','H4','H5','H6','HEADER','LI','MAIN','NAV','OL','OUTPUT','P','PRE','SECTION','TABLE','TFOOT','UL','VIDEO'],Ve=['STRONG','B','EM','CITE','DFN','I','BIG','SMALL','FONT','BLOCKQUOTE','TT','A','U','SUP','SUB','STRIKE','H1','H2','H3','H4','H5','H6','DEL','LABEL','PLAINTEXT'],Ue={Pink:{hex:'#FFC0CB'},LightPink:{hex:'#FFB6C1'},HotPink:{hex:'#FF69B4'},DeepPink:{hex:'#FF1493'},PaleVioletRed:{hex:'#DB7093'},MediumVioletRed:{hex:'#C71585'},LightSalmon:{hex:'#FFA07A'},Salmon:{hex:'#FA8072'},DarkSalmon:{hex:'#E9967A'},LightCoral:{hex:'#F08080'},IndianRed:{hex:'#CD5C5C'},Crimson:{hex:'#DC143C'},Firebrick:{hex:'#B22222'},DarkRed:{hex:'#8B0000'},Red:{hex:'#FF0000'},OrangeRed:{hex:'#FF4500'},Tomato:{hex:'#FF6347'},Coral:{hex:'#FF7F50'},Orange:{hex:'#FFA500'},DarkOrange:{hex:'#FF8C00'},Yellow:{hex:'#FFFF00'},LightYellow:{hex:'#FFFFE0'},LemonChiffon:{hex:'#FFFACD'},LightGoldenrodYellow:{hex:'#FAFAD2'},PapayaWhip:{hex:'#FFEFD5'},Moccasin:{hex:'#FFE4B5'},PeachPuff:{hex:'#FFDAB9'},PaleGoldenrod:{hex:'#EEE8AA'},Khaki:{hex:'#F0E68C'},DarkKhaki:{hex:'#BDB76B'},Gold:{hex:'#FFD700'},Cornsilk:{hex:'#FFF8DC'},BlanchedAlmond:{hex:'#FFEBCD'},Bisque:{hex:'#FFE4C4'},NavajoWhite:{hex:'#FFDEAD'},Wheat:{hex:'#F5DEB3'},Burlywood:{hex:'#DEB887'},Tan:{hex:'#D2B48C'},RosyBrown:{hex:'#BC8F8F'},SandyBrown:{hex:'#F4A460'},Goldenrod:{hex:'#DAA520'},DarkGoldenrod:{hex:'#B8860B'},Peru:{hex:'#CD853F'},Chocolate:{hex:'#D2691E'},SaddleBrown:{hex:'#8B4513'},Sienna:{hex:'#A0522D'},Brown:{hex:'#A52A2A'},Maroon:{hex:'#800000'},DarkOliveGreen:{hex:'#556B2F'},Olive:{hex:'#808000'},OliveDrab:{hex:'#6B8E23'},YellowGreen:{hex:'#9ACD32'},LimeGreen:{hex:'#32CD32'},Lime:{hex:'#00FF00'},LawnGreen:{hex:'#7CFC00'},Chartreuse:{hex:'#7FFF00'},GreenYellow:{hex:'#ADFF2F'},SpringGreen:{hex:'#00FF7F'},MediumSpringGreen:{hex:'#00FA9A'},LightGreen:{hex:'#90EE90'},PaleGreen:{hex:'#98FB98'},DarkSeaGreen:{hex:'#8FBC8F'},MediumAquamarine:{hex:'#66CDAA'},MediumSeaGreen:{hex:'#3CB371'},SeaGreen:{hex:'#2E8B57'},ForestGreen:{hex:'#228B22'},Green:{hex:'#008000'},DarkGreen:{hex:'#006400'},Aqua:{hex:'#00FFFF'},Cyan:{hex:'#00FFFF'},LightCyan:{hex:'#E0FFFF'},PaleTurquoise:{hex:'#AFEEEE'},Aquamarine:{hex:'#7FFFD4'},Turquoise:{hex:'#40E0D0'},DarkTurquoise:{hex:'#00CED1'},MediumTurquoise:{hex:'#48D1CC'},LightSeaGreen:{hex:'#20B2AA'},CadetBlue:{hex:'#5F9EA0'},DarkCyan:{hex:'#008B8B'},Teal:{hex:'#008080'},LightSteelBlue:{hex:'#B0C4DE'},PowderBlue:{hex:'#B0E0E6'},LightBlue:{hex:'#ADD8E6'},SkyBlue:{hex:'#87CEEB'},LightSkyBlue:{hex:'#87CEFA'},DeepSkyBlue:{hex:'#00BFFF'},DodgerBlue:{hex:'#1E90FF'},Cornflower:{hex:'#6495ED'},SteelBlue:{hex:'#4682B4'},RoyalBlue:{hex:'#4169E1'},Blue:{hex:'#0000FF'},MediumBlue:{hex:'#0000CD'},DarkBlue:{hex:'#00008B'},Navy:{hex:'#000080'},MidnightBlue:{hex:'#191970'},Lavender:{hex:'#E6E6FA'},Thistle:{hex:'#D8BFD8'},Plum:{hex:'#DDA0DD'},Violet:{hex:'#EE82EE'},Orchid:{hex:'#DA70D6'},Fuchsia:{hex:'#FF00FF'},Magenta:{hex:'#FF00FF'},MediumOrchid:{hex:'#BA55D3'},MediumPurple:{hex:'#9370DB'},BlueViolet:{hex:'#8A2BE2'},DarkViolet:{hex:'#9400D3'},DarkOrchid:{hex:'#9932CC'},DarkMagenta:{hex:'#8B008B'},Purple:{hex:'#800080'},RebeccaPurple:{hex:'#663399'},Indigo:{hex:'#4B0082'},DarkSlateBlue:{hex:'#483D8B'},SlateBlue:{hex:'#6A5ACD'},MediumSlateBlue:{hex:'#7B68EE'},White:{hex:'#FFFFFF'},Snow:{hex:'#FFFAFA'},Honeydew:{hex:'#F0FFF0'},MintCream:{hex:'#F5FFFA'},Azure:{hex:'#F0FFFF'},AliceBlue:{hex:'#F0F8FF'},GhostWhite:{hex:'#F8F8FF'},WhiteSmoke:{hex:'#F5F5F5'},Seashell:{hex:'#FFF5EE'},Beige:{hex:'#F5F5DC'},OldLace:{hex:'#FDF5E6'},FloralWhite:{hex:'#FFFAF0'},Ivory:{hex:'#FFFFF0'},AntiqueWhite:{hex:'#FAEBD7'},Linen:{hex:'#FAF0E6'},LavenderBlush:{hex:'#FFF0F5'},MistyRose:{hex:'#FFE4E1'},Gainsboro:{hex:'#DCDCDC'},LightGray:{hex:'#D3D3D3'},Silver:{hex:'#C0C0C0'},DarkGray:{hex:'#A9A9A9'},Gray:{hex:'#808080'},DimGray:{hex:'#696969'},LightSlateGray:{hex:'#778899'},SlateGray:{hex:'#708090'},DarkSlateGray:{hex:'#2F4F4F'},Black:{hex:'#000000'}},je=[];for(var Ye in Ue){var i=Ue[Ye];for(var Ke in i)i.rgb=X(i[Ke]),i.hsl=F(i.rgb.r,i.rgb.g,i.rgb.b),je.push({name:Ye,rgb:i.rgb,hex:i.hex,hsl:i.hsl})}je.sort(B),function(e){e[e.P=28]='P',e[e.OREO_1=27]='OREO_1',e[e.OREO=26]='OREO',e[e.NOUGAT_1=25]='NOUGAT_1',e[e.NOUGAT=24]='NOUGAT',e[e.MARSHMALLOW=23]='MARSHMALLOW',e[e.LOLLIPOP_1=22]='LOLLIPOP_1',e[e.LOLLIPOP=21]='LOLLIPOP',e[e.KITKAT_1=20]='KITKAT_1',e[e.KITKAT=19]='KITKAT',e[e.JELLYBEAN_2=18]='JELLYBEAN_2',e[e.JELLYBEAN_1=17]='JELLYBEAN_1',e[e.JELLYBEAN=16]='JELLYBEAN',e[e.ICE_CREAM_SANDWICH_1=15]='ICE_CREAM_SANDWICH_1',e[e.ICE_CREAM_SANDWICH=14]='ICE_CREAM_SANDWICH',e[e.ALL=0]='ALL',e[e.LATEST=28]='LATEST'}(e.build||(e.build={})),function(e){e[e.LDPI=120]='LDPI',e[e.MDPI=160]='MDPI',e[e.HDPI=240]='HDPI',e[e.XHDPI=320]='XHDPI',e[e.XXHDPI=480]='XXHDPI',e[e.XXXHDPI=640]='XXXHDPI'}(e.density||(e.density={}));var j={FRAME:'FrameLayout',LINEAR:'LinearLayout',CONSTRAINT:'android.support.constraint.ConstraintLayout',GUIDELINE:'android.support.constraint.Guideline',RELATIVE:'RelativeLayout',GRID:'GridLayout',SCROLL_VERTICAL:'ScrollView',SCROLL_HORIZONTAL:'HorizontalScrollView',SCROLL_NESTED:'NestedScrollView',RADIO_GROUP:'RadioGroup',TEXT:'TextView',EDIT:'EditText',IMAGE:'ImageView',SELECT:'Spinner',RANGE:'SeekBar',CHECKBOX:'CheckBox',RADIO:'RadioButton',BUTTON:'Button',VIEW:'View',SPACE:'Space'},Je={MARGIN_TOP:'layout_marginTop',MARGIN_RIGHT:'layout_marginRight',MARGIN_BOTTOM:'layout_marginBottom',MARGIN_LEFT:'layout_marginLeft',PADDING_TOP:'paddingTop',PADDING_RIGHT:'paddingRight',PADDING_BOTTOM:'paddingBottom',PADDING_LEFT:'paddingLeft'},qe=[j.EDIT,j.SELECT,j.CHECKBOX,j.RADIO,j.BUTTON],Ze={ANDROID:'xmlns:android="http://schemas.android.com/apk/res/android"',APP:'xmlns:app="http://schemas.android.com/apk/res-auto"'},Qe={"sans-serif":e.build.ICE_CREAM_SANDWICH,"sans-serif-thin":e.build.JELLYBEAN,"sans-serif-light":e.build.JELLYBEAN,"sans-serif-condensed":e.build.JELLYBEAN,"sans-serif-condensed-light":e.build.JELLYBEAN,"sans-serif-medium":e.build.LOLLIPOP,"sans-serif-black":e.build.LOLLIPOP,"sans-serif-smallcaps":e.build.LOLLIPOP,"serif-monospace":e.build.LOLLIPOP,serif:e.build.LOLLIPOP,casual:e.build.LOLLIPOP,cursive:e.build.LOLLIPOP,monospace:e.build.LOLLIPOP,"sans-serif-condensed-medium":e.build.OREO},$e={arial:'sans-serif',helvetica:'sans-serif',tahoma:'sans-serif',verdana:'sans-serif',times:'serif',"times new roman":'serif',palatino:'serif',georgia:'serif',baskerville:'serif',goudy:'serif',fantasy:'serif',"itc stone serif":'serif',"sans-serif-monospace":'monospace',monaco:'monospace',courier:'serif-monospace',"courier new":'serif-monospace'},et={100:'thin',200:'extra_light',300:'light',400:'normal',500:'medium',600:'semi_bold',700:'bold',800:'extra_bold',900:'black'},tt={targetAPI:e.build.OREO,density:e.density.MDPI,showAttributes:!0,horizontalPerspective:!0,useConstraintLayout:!0,useConstraintChain:!0,useConstraintGuideline:!0,useUnitDP:!0,useFontAlias:!0,supportRTL:!0,numberResourceValue:!1,alwaysReevaluateResources:!1,builtInExtensions:['hidden','list','table','grid'],excludeTextColor:['#000000'],excludeBackgroundColor:['#FFFFFF'],whitespaceHorizontalOffset:4,whitespaceVerticalOffset:14,chainPackedHorizontalOffset:4,chainPackedVerticalOffset:14,autoCloseOnWrite:!0,outputDirectory:'app/src/main',outputArchiveFileType:'zip',outputMaxProcessingTime:30,outputActivityMainFileName:'activity_main.xml'},nt=function(){function e(t,n){Re(this,e),this.TypeT=t,this.TypeU=n,this.elements=new Set,this.ids=[],this.views=[],this._extensions=[],this._closed=!1,this.cache=new this.TypeU,this.cacheInternal=new this.TypeU}return we(e,[{key:'registerController',value:function(e){e.cache=this.cache,this.controllerHandler=e}},{key:'registerResource',value:function(e){e.cache=this.cache,this.resourceHandler=e}},{key:'registerExtension',value:function(e){this._extensions.push(e)}},{key:'finalize',value:function(){this.resourceHandler.finalize(this.viewData);for(var e=this.resourceHandler.views,t=0,n;t<e.length;t++)n=e[t].replace(/{[<@&>]{1}[0-9]+}/g,''),tt.useUnitDP&&(n=c(n,tt.density)),this.views[t]=n;this._closed=!0}},{key:'reset',value:function(){n(),this.cacheInternal.list.forEach(function(e){var t=e.element;null!=t&&(delete t.__boxSpacing,delete t.__boxStyle,delete t.__fontStyle,delete t.__imageSource,delete t.__optionArray,delete t.__valueString)}),this.cache.reset(),this.cacheInternal.reset(),this.resetController(),this.resetResource(),this.appName='',this.ids=[],this.views=[],this._closed=!1}},{key:'resetController',value:function(){this.controllerHandler.reset()}},{key:'resetResource',value:function(){this.resourceHandler.reset()}},{key:'setConstraints',value:function(){this.controllerHandler.setConstraints()}},{key:'setMarginPadding',value:function(){this.controllerHandler.setMarginPadding()}},{key:'setResources',value:function(){this.resourceHandler.setFontStyle(),this.resourceHandler.setBoxSpacing(),this.resourceHandler.setBoxStyle(),this.resourceHandler.setValueString(),this.resourceHandler.setOptionArray(),this.resourceHandler.setImageSource()}},{key:'setStyleMap',value:function(){for(var e=this,t=!1,n=0,r;n<document.styleSheets.length;n++){r=document.styleSheets[n];try{for(var a=function(t){var n=r.cssRules[t],i=new Set,a=!0,o=!1,d=void 0;try{for(var s=Array.from(n.style)[Symbol.iterator](),u,h;!(a=(u=s.next()).done);a=!0)h=u.value,i.add(l(h))}catch(e){o=!0,d=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw d}}var p=document.querySelectorAll(n.selectorText);''!==e.appName&&Array.from(p).forEach(function(e){var t=e;delete t.__style,delete t.__styleMap}),Array.from(p).forEach(function(e){var t=!0,r=!1,a=void 0;try{for(var o=Array.from(e.style)[Symbol.iterator](),d,s;!(t=(d=o.next()).done);t=!0)s=d.value,i.add(l(s))}catch(e){r=!0,a=e}finally{try{!t&&o.return&&o.return()}finally{if(r)throw a}}var u=getComputedStyle(e),h={},p=!0,g=!1,c=void 0;try{for(var m=i[Symbol.iterator](),f,y;!(p=(f=m.next()).done);p=!0){if(y=f.value,-1!==y.toLowerCase().indexOf('color')){var b=P(n.style[y]);''!==b&&(n.style[y]=G(b))}w(e.style[y])?h[y]=e.style[y]:u[y]===n.style[y]&&(h[y]=u[y])}}catch(e){g=!0,c=e}finally{try{!p&&m.return&&m.return()}finally{if(g)throw c}}var _=e;null==_.__styleMap?(_.__style=u,_.__styleMap=h):Object.assign(_.__styleMap,h)})},o=0;o<r.cssRules.length;o++)a(o)}catch(e){t||(alert('External CSS files cannot be parsed when loading this program from your hard drive with Chrome 64+ (file://). Either use a local web server (http://), embed your CSS files into a <style> tag, or use a different browser. See the README for further instructions.\n\n'+(r.href+'\n\n'+e)),t=!0)}}}},{key:'setNodeCache',value:function(e){var t=this,n=0,i;e===document.body&&Array.from(document.body.childNodes).forEach(function(e){'#text'===e.nodeName?e.textContent&&''!==e.textContent.trim()&&n++:J(e)&&n++});var r=e===document.body?document.querySelectorAll(1<n?'body, body *':'body *'):e.querySelectorAll('*');if(this.cache.clear(),this.extensions.forEach(function(n){n.application=t,n.element=e,n.beforeInit()}),null!=e){var a=this.insertNode(e);null!=a&&(a.parent=new this.TypeT(0,0))}var o=function(e){var n=!1;if(t.extensions.some(function(i){return i.application=t,!!i.init(e)&&(n=!0,!0)}),!n){if(Ve.includes(e.tagName)&&e.parentElement&&(null!=We[e.parentElement.tagName]||Ve.includes(e.parentElement.tagName)))return'continue';t.insertNode(e)}},l=!0,d=!1,s=void 0;try{for(var u=Array.from(r)[Symbol.iterator](),h;!(l=(h=u.next()).done);l=!0){var p=h.value,g=o(p)}}catch(e){d=!0,s=e}finally{try{!l&&u.return&&u.return()}finally{if(d)throw s}}var c={};this.cache.list.forEach(function(e){var t=e.element;if(null!=t){c[e.id]={};var n=c[e.id];switch(e.styleMap.textAlign){case'center':case'right':case'end':n.textAlign=e.style.textAlign,t.style.textAlign='';}n.verticalAlign=e.styleMap.verticalAlign||'',t.style.verticalAlign='top',0!==e.overflow&&(w(e.styleMap.width)&&(n.width=e.styleMap.width,t.style.width=''),w(e.styleMap.height)&&(n.height=e.styleMap.height,t.style.height=''),n.overflow=e.style.overflow,t.style.overflow='visible')}e.setBounds()});var m={};this.cache.list.forEach(function(e){t.cache.list.forEach(function(t){e!==t&&(t.element&&t.element.parentElement===e.element&&(t.parent=e,e.children.push(t)),t.fixed&&t.box.left>=e.linear.left&&t.box.right<=e.linear.right&&t.box.top>=e.linear.top&&t.box.bottom<=e.linear.bottom&&(null==m[t.id]&&(m[t.id]=[]),m[t.id].push(e)))})}),this.cache.list.forEach(function(e){var n=m[e.id];if(null!=n){n.push(e.parent);var i=be,r=null;n.forEach(function(t){var n=t.box.left-e.linear.left+(t.box.right-e.linear.right)+(t.box.top-e.linear.top)+(t.box.bottom-e.linear.bottom);n<i?(r=t,i=n):n==i&&t.element===e.parent.element&&(r=t)}),null!=r&&(e.parent=r)}e.element&&0<e.element.children.length&&!e.children.every(function(e){return Ve.includes(e.tagName)})&&Array.from(e.element.childNodes).forEach(function(n){'#text'===n.nodeName&&n.textContent&&''!==n.textContent.trim()&&t.insertNode(n,e)})}),this.cache.list.forEach(function(e){if(null!=e.element){var t=c[e.id];if(null!=t)for(var n in t)e.element.style[n]=t[n]}}),this.extensions.forEach(function(n){n.application=t,n.element=e,n.afterInit()}),this.cache.sortAsc('depth','parent.id','parentIndex','id'),this.cache.list.forEach(function(e){if(null!=e.element){var t=0;Array.from(e.element.childNodes).forEach(function(n){null!=n.__node&&n.__node.parent.element===e.element&&(n.__node.parentIndex=t++)}),C(e.children,'parentIndex')}}),this.currentId=e.dataset.currentId,(i=this.cacheInternal.list).push.apply(i,Ne(this.cache.list))}},{key:'insertNode',value:function(e,t){var n=null;return'#text'===e.nodeName?e.textContent&&''!==e.textContent.trim()&&(n=new this.TypeT(this.cache.nextId,tt.targetAPI,void 0,{element:e,parent:t,tagName:'PLAINTEXT'}),n.setBounds(!1,e),null!=t&&(n.inheritStyle(t),t.children.push(n))):J(e)&&(n=new this.TypeT(this.cache.nextId,tt.targetAPI,e)),null!=n&&this.cache.list.push(n),n}},{key:'setLayoutXml',value:function(){var e=this,t='<?xml version="1.0" encoding="utf-8"?>\n{0}',n=[],r=[];this.cache.list.forEach(function(t){var i=Se(t.bounds.x),a=t.parent.id;null==n[t.depth]&&(n[t.depth]={}),null==r[t.depth]&&(r[t.depth]={}),null==n[t.depth][i]&&(n[t.depth][i]=new e.TypeU),null==r[t.depth][a]&&(r[t.depth][a]=new e.TypeU),n[t.depth][i].list.push(t),r[t.depth][a].list.push(t)});for(var a=0;a<r.length;a++){for(var o=Object.keys(r[a]),l=new Map,d=0;d<o.length;d++){var s=[],u=[],h=!0,p=!1,g=void 0;try{for(var c=r[a][o[d]].list[Symbol.iterator](),m,f;!(h=(m=c.next()).done);h=!0)switch(f=m.value,f.style.position){case'absolute':case'relative':case'fixed':u.push(f);break;default:s.push(f);}}catch(e){p=!0,g=e}finally{try{!h&&c.return&&c.return()}finally{if(p)throw g}}s.sort(function(e,t){return e.linear.left===t.linear.left||e.parent.flex.enabled||t.parent.flex.enabled||!e.withinX(t.linear)?e.parentIndex>t.parentIndex?1:-1:e.linear.left>t.linear.left?1:-1}),s.push.apply(s,Ne(C(u,'style.zIndex','parentIndex')));for(var y=function(t){var i=s[t],a=i.parent;if(!i.renderParent){var o='';if(e.extensions.some(function(l){if(l.is(i.tagName)&&(l.application=e,l.node=i,l.parent=a,l.condition())){var d=l.render(n,r);return''!==d&&(o+=d,l.processNode()&&t--),i.renderExtension=l,!0}return!1}),null!=a.renderExtension&&a.renderExtension instanceof Me){var d=a.renderExtension.processChild(i),u=Be(d,2),h=u[0],p=u[1];''!==h&&(o+=h,p&&t--)}if(''===o){var g=i.viewName;if(''===g)if(0<i.children.length&&i.children.some(function(e){return!Ve.includes(e.tagName)})){var c=[Ge.linearX(i.children),Ge.linearY(i.children)],m=c[0],f=c[1];i.renderParent||(1===i.children.length&&m&&f?o+=e.writeFrameLayout(i,a):(m||f)&&(!i.flex.enabled||i.children.every(function(e){return e.flex.enabled}))&&(!i.children.some(function(e){return'right'===e.css('float')})||i.children.every(function(e){return'right'===e.css('float')}))?o+=e.writeLinearLayout(i,a,f):o+=e.writeDefaultLayout(i,a))}else{if(0===i.children.length&&i.element&&!K(i.element))return'continue';g=e.controllerHandler.getViewName(He.TEXT)}i.renderParent||(o+=e.writeView(i,a,g))}''!==o&&(!l.has(a.id)&&l.set(a.id,[]),l.get(a.id).push(o))}b=t},b=0,_;b<s.length;b++)_=y(b),'continue'===_}var x=!0,v=!1,S=void 0;try{for(var E=l.entries()[Symbol.iterator](),T;!(x=(T=E.next()).done);x=!0){var A=T.value,R=Be(A,2),w=R[0],L=R[1];t=t.replace('{'+w+'}',L.join(''))}}catch(e){v=!0,S=e}finally{try{!x&&E.return&&E.return()}finally{if(v)throw S}}}this.create=t}},{key:'writeFrameLayout',value:function(e,t){return this.controllerHandler.renderGroup(e,t,He.FRAME)}},{key:'writeLinearLayout',value:function(e,t,n){return this.controllerHandler.renderGroup(e,t,He.LINEAR,{android:{orientation:n?'vertical':'horizontal'}})}},{key:'writeGridLayout',value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return this.controllerHandler.renderGroup(e,t,He.GRID,{android:{columnCount:n.toString(),rowCount:0<i?i.toString():''}})}},{key:'writeRelativeLayout',value:function(e,t){return this.controllerHandler.renderGroup(e,t,He.RELATIVE)}},{key:'writeConstraintLayout',value:function(e,t){return this.controllerHandler.renderGroup(e,t,He.CONSTRAINT)}},{key:'writeView',value:function(e,t,n){return this.controllerHandler.renderView(e,t,n)}},{key:'writeDefaultLayout',value:function(e,t){return tt.useConstraintLayout||e.flex.enabled?this.writeConstraintLayout(e,t):this.writeRelativeLayout(e,t)}},{key:'replaceInlineAttributes',value:function(){var e=this,t={},n=this.current;this.cache.visible.forEach(function(i){return n=e.controllerHandler.replaceInlineAttributes(n,i,t)}),n=n.replace('{@0}',this.controllerHandler.getRootAttributes(t)),this.current=n}},{key:'replaceAppended',value:function(){var e=this.controllerHandler.replaceAppended(this.current);this.current=e}},{key:'toString',value:function(){return 0<this.views.length?this.views[0]:''}},{key:'appName',set:function(e){null!=this.resourceHandler&&(this.resourceHandler.file.appName=e)},get:function(){return null==this.resourceHandler?'':this.resourceHandler.file.appName}},{key:'current',set:function(e){this.views[this.views.length-1]=e},get:function(){return this.views[this.views.length-1]}},{key:'currentId',set:function(e){this.ids.length===this.views.length&&this.ids.push(e)},get:function(){return this.ids[this.ids.length-1]||''}},{key:'create',set:function(e){this.views.length<this.ids.length&&this.views.push(e)}},{key:'closed',get:function(){return this._closed}},{key:'extensions',get:function(){return this._extensions.filter(function(e){return e.enabled})}},{key:'viewData',get:function(){return{cache:this.cacheInternal.list,ids:this.ids,views:this.views}}},{key:'length',get:function(){return this.views.length}}]),e}(),it=function(){function e(){Re(this,e),this.before={},this.after={}}return we(e,[{key:'reset',value:function(){this.before={},this.after={}}},{key:'replaceAppended',value:function(e){for(var t in this.before)e=e.replace('{<'+t+'}',this.before[t].join(''));for(var n in this.after)e=e.replace('{>'+n+'}',this.after[n].join(''));return e}},{key:'prependBefore',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1;null==this.before[e]&&(this.before[e]=[]),-1!==n&&n<this.before[e].length?this.before[e].splice(n,0,t):this.before[e].push(t)}},{key:'appendAfter',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1;null==this.after[e]&&(this.after[e]=[]),-1!==n&&n<this.after[e].length?this.after[e].splice(n,0,t):this.after[e].push(t)}},{key:'getEnclosingTag',value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:'',a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:'',o=u(e),l=r+('{<'+n+'}');return l+=w(i)?o+('<'+t+'{@'+n+'}{&'+n+'}>\n')+i+o+('</'+t+'>\n'):o+('<'+t+'{@'+n+'}{&'+n+'} />\n'),l+='{>'+n+'}'+a,l}}]),e}(),rt=function(){function e(t,n,i){if(Re(this,e),this.id=t,this.element=n,this.depth=-1,this.style={},this.styleMap={},this.visible=!0,this.companion=!1,this.parentIndex=be,this.gridRowSpan=0,this.gridColumnSpan=0,this.gridPadding={top:0,right:[],bottom:0,left:[]},this._namespaces=new Set,this._options={},Object.assign(this,i),null!=n||i&&null!=i.element){var r=this.element;if(this.element instanceof HTMLElement){var a=r.__styleMap||{},o=!0,d=!1,s=void 0;try{for(var u=Array.from(this.element.style)[Symbol.iterator](),h,p;!(o=(h=u.next()).done);o=!0)p=h.value,a[l(p)]=this.element.style[p]}catch(e){d=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(d)throw s}}this.style=r.__style||getComputedStyle(this.element),this.styleMap=a}r.__node=this}}return we(e,[{key:'add',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],r='_'+(e||'_');if(w(n)){if(null==this[r]&&(this._namespaces.add(e),this[r]={}),!i&&null!=this[r][t])return null;this[r][t]=n}return this[r]&&this[r][t]}},{key:'get',value:function(e,t){var n='_'+(e||'_');return this[n]&&null!=this[n][t]?this[n][t]:''}},{key:'delete',value:function(e){var t='_'+(e||'_');if(null!=this[t]){for(var n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if('object'===Ee(i[0]))for(var a in i[0])delete this[t][i[0][a]];else{var o=!0,l=!1,d=void 0;try{for(var s=i[Symbol.iterator](),u,h;!(o=(u=s.next()).done);o=!0)if(h=u.value,-1!==h.indexOf('*')){var p=!0,g=!1,c=void 0;try{for(var m=S(this[t],h)[Symbol.iterator](),f;!(p=(f=m.next()).done);p=!0){var y=f.value,b=Be(y,1),_=b[0];delete this[t][_]}}catch(e){g=!0,c=e}finally{try{!p&&m.return&&m.return()}finally{if(g)throw c}}}else delete this[t][h]}catch(e){l=!0,d=e}finally{try{!o&&s.return&&s.return()}finally{if(l)throw d}}}}}},{key:'apply',value:function(e){if(null!=e)for(var t in e){var n=e[t];for(var i in n)this.add(t,i,n[i])}}},{key:'render',value:function(e){this.renderParent=e,this.renderDepth=0===e.id?0:e.renderDepth+1}},{key:'hide',value:function(){this.renderParent=!0,this.visible=!1}},{key:'options',value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(w(t)){if(!n&&null!=this._options[e])return null;this._options[e]=t}return this._options[e]}},{key:'ascend',value:function(){for(var e=[],t=this.parent;null!=t&&0!==t.id;)e.push(t),t=t.parent;return e}},{key:'cascade',value:function(){function e(t){var n=[].concat(Ne(t.children));return t.children.forEach(function(t){return n.push.apply(n,Ne(e(t)))}),n}return e(this)}},{key:'inheritStyle',value:function(e){for(var t in e.style)if(t.startsWith('font')||t.startsWith('color')){var n=l(t);this.style[n]=e.style[n]}}},{key:'inheritStyleMap',value:function(e){for(var t in e.styleMap)null==this.styleMap[t]&&(this.styleMap[t]=e.styleMap[t])}},{key:'intersect',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'bounds',n=e.top>=this[t].top&&e.top<this[t].bottom,i=e.right>this[t].left&&e.right<=this[t].right,r=e.bottom>this[t].top&&e.bottom<=this[t].bottom,a=e.left>=this[t].left&&e.left<this[t].right;return n&&(a||i)||r&&(a||i)}},{key:'withinX',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.top>=this[t].top&&e.top<this[t].bottom||e.bottom>this[t].top&&e.bottom<=this[t].bottom||this[t].top>=e.top&&this[t].bottom<=e.bottom||e.top>=this[t].top&&e.bottom<=this[t].bottom}},{key:'withinY',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.left>=this[t].left&&e.left<this[t].right||e.right>this[t].left&&e.right<=this[t].right||this[t].left>=e.left&&this[t].right<=e.right||e.left>=this[t].left&&e.right<=this[t].right}},{key:'css',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'';return 2===arguments.length&&(this.styleMap[e]=w(t)?t:''),this.styleMap[e]||this.style[e]||''}},{key:'setBounds',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=arguments[1];if(!e){var n=null==t?null==this.element?null:z(this.element.getBoundingClientRect()):W(t);null!=n&&(this.bounds=n)}null!=this.bounds&&(this.linear={top:this.bounds.top-this.marginTop,right:this.bounds.right+this.marginRight,bottom:this.bounds.bottom+this.marginBottom,left:this.bounds.left-this.marginLeft,width:0,height:0},this.box={top:this.bounds.top+(this.paddingTop+this.borderTopWidth),right:this.bounds.right-(this.paddingRight+this.borderRightWidth),bottom:this.bounds.bottom-(this.paddingBottom+this.borderBottomWidth),left:this.bounds.left+(this.paddingLeft+this.borderLeftWidth),width:0,height:0},this.setDimensions())}},{key:'expandDimensions',value:function(){var e=[xe.apply(null,this.children.map(function(e){return e.linear.right})),xe.apply(null,this.children.map(function(e){return e.linear.bottom}))],t=e[0],n=e[1];switch(this.style.position){case'static':case'relative':t-=this.linear.left,n-=this.linear.top;}t+=this.paddingRight+this.borderRightWidth,n+=this.paddingBottom+this.borderBottomWidth;var i=!1;this.viewWidth<t&&(this.bounds.width<t?(this.bounds.width=t,this.bounds.right=this.bounds.left+this.bounds.width,i=!0):t=this.bounds.width,this.bounds.minWidth=h(t)),this.viewHeight<n&&(this.bounds.height<n?(this.bounds.height=n,this.bounds.bottom=this.bounds.top+this.bounds.height,i=!0):n=this.bounds.height,this.bounds.minHeight=h(n)),i&&this.setBounds(!0)}},{key:'setDimensions',value:function(){var e=this.linear;e.width=e.right-e.left,e.height=e.bottom-e.top;var t=this.box;t.width=t.right-t.left,t.height=t.bottom-t.top}},{key:'parent',set:function(e){e===this._parent||(this._parent&&null==this._parentOriginal&&(this._parentOriginal=this._parent),this._parent=e,-1===this.depth&&(this.depth=e.depth+1))},get:function(){return this._parent}},{key:'parentOriginal',set:function(e){this._parentOriginal=e},get:function(){return this._parentOriginal||this._parent}},{key:'tagName',set:function(e){this._tagName=e},get:function(){return this._tagName||(null==this.element?'':'INPUT'===this.element.tagName?this.element.type.toUpperCase():this.element.tagName)}},{key:'viewName',set:function(e){this._viewName=e},get:function(){return this._viewName}},{key:'renderParent',set:function(t){t instanceof e&&t.renderChildren.push(this),this._renderParent=t},get:function(){return this._renderParent}},{key:'parentElement',get:function(){return this.element&&this.element.parentElement}},{key:'namespaces',get:function(){return Array.from(this._namespaces)}},{key:'flex',get:function(){if(null==this._flex){var e=this.parentOriginal;this._flex={enabled:this.style.display&&-1!==this.style.display.indexOf('flex'),direction:this.style.flexDirection,basis:this.style.flexBasis,grow:m(this.style.flexGrow),shrink:m(this.style.flexShrink),wrap:this.style.flexWrap,alignSelf:null!=e.styleMap.alignItems&&(null==this.styleMap.alignSelf||'auto'===this.style.alignSelf)?e.styleMap.alignItems:this.style.alignSelf,justifyContent:this.style.justifyContent,order:m(this.style.order)}}return this._flex}},{key:'floating',get:function(){return'left'===this.style.float||'right'===this.style.float}},{key:'fixed',get:function(){return'fixed'===this.style.display}},{key:'overflow',get:function(){if(null==this._overflow){var e=0;null!=this.element&&(('scroll'===this.style.overflow||'auto'===this.style.overflowX&&this.element.clientWidth!==this.element.scrollWidth)&&(e|=2),('scroll'===this.style.overflow||'auto'===this.style.overflowY&&this.element.clientHeight!==this.element.scrollHeight)&&(e|=4)),this._overflow=e}return this._overflow}},{key:'overflowX',get:function(){return 2==(2&this._overflow)}},{key:'overflowY',get:function(){return 4==(4&this._overflow)}},{key:'viewWidth',get:function(){return m(this.styleMap.width||this.styleMap.minWidth)}},{key:'viewHeight',get:function(){return m(this.styleMap.height||this.styleMap.lineHeight||this.styleMap.minHeight)}},{key:'marginTop',get:function(){return m(this.css('marginTop'))}},{key:'marginRight',get:function(){return m(this.css('marginRight'))}},{key:'marginBottom',get:function(){return m(this.css('marginBottom'))}},{key:'marginLeft',get:function(){return m(this.css('marginLeft'))}},{key:'borderTopWidth',get:function(){return m(this.css('borderTopWidth'))}},{key:'borderRightWidth',get:function(){return m(this.css('borderRightWidth'))}},{key:'borderBottomWidth',get:function(){return m(this.css('borderBottomWidth'))}},{key:'borderLeftWidth',get:function(){return m(this.css('borderLeftWidth'))}},{key:'paddingTop',get:function(){return m(this.css('paddingTop'))}},{key:'paddingRight',get:function(){return m(this.css('paddingRight'))}},{key:'paddingBottom',get:function(){return m(this.css('paddingBottom'))}},{key:'paddingLeft',get:function(){return m(this.css('paddingLeft'))}},{key:'center',get:function(){return{x:this.bounds.left+Se(this.bounds.width/2),y:this.bounds.top+Se(this.bounds.height/2)}}}]),e}(),at=(gt={},ke(gt,e.build.OREO,{android:['fontWeight','layout_marginHorizontal','layout_marginVertical','paddingHorizontal','paddingVertical'],customizations:{}}),ke(gt,e.build.JELLYBEAN_1,{android:['labelFor'],customizations:{}}),ke(gt,e.build.LOLLIPOP,{android:['layout_columnWeight'],customizations:{Button:{android:{textAllCaps:'false'}}}}),ke(gt,e.build.ALL,{customizations:{Button:{android:{minWidth:'0dp',minHeight:'0dp'}}}}),gt),ot=function(t){function n(e,t,i,r){Re(this,n);var a=Oe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,i,r));return a.id=e,a.api=t,a.constraint={},a.children=[],a.renderChildren=[],a}return Ce(n,t),we(n,[{key:'add',value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return(!w(t)||this.supported(e,t))&&Ie(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'add',this).call(this,e,t,i,r)}},{key:'android',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];switch(arguments.length){case 0:return this._android;case 1:return this._android&&this._android[e];default:this.add('android',e,t,n);}}},{key:'app',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];switch(arguments.length){case 0:return this._app;case 1:return this._app&&this._app[e];default:this.add('app',e,t,n);}}},{key:'attr',value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=e.match(/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/);null!=n&&this.add(n[1]||'_',n[2],n[3],t)}},{key:'anchor',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',i=arguments[3];switch(null==i&&(i='parent'===t.stringId),this.renderParent.viewName){case j.CONSTRAINT:if(1===arguments.length)return this.app(e);this.app(e,t.stringId,i);break;case j.RELATIVE:if(1===arguments.length)return this.android(e);this.android(e,t.stringId,i);}''!==n&&(this.constraint[n]=!0)}},{key:'modifyBox',value:function(e,t){var n=!0,i=!1,r=void 0;try{for(var a=Object.keys(Xe)[Symbol.iterator](),o,l;!(n=(o=a.next()).done);n=!0)if(l=o.value,(e&Xe[l])===Xe[l]){var d=q(Je[l]),s=h(t+m(this.android(d)));this.css(d,s),this.android(d,s)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.setBounds(!0)}},{key:'supported',value:function(t,n){for(var r=this.api+1,a;r<e.build.LATEST;r++)if(a=at[r],a&&a[t]&&a[t].includes(n))return!1;return!0}},{key:'combine',value:function(){var e=this,t=[];return this.namespaces.forEach(function(n){var i=e['_'+n];for(var r in i)'_'===n?t.push(r+'="'+i[r]+'"'):t.push(n+':'+r+'="'+i[r]+'"')}),t.sort()}},{key:'applyCustomizations',value:function(){var e=this;[at[this.api],at[0]].forEach(function(t){if(null!=t){var n=t.customizations[e.viewName];if(null!=n)for(var i in n)for(var r in n[i])e.add(i,r,n[i][r],!1)}})}},{key:'is',value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=!0,a=!1,o=void 0;try{for(var l=t[Symbol.iterator](),d,s;!(r=(d=l.next()).done);r=!0)if(s=d.value,this.viewName===n.getViewName(s))return!0}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return!1}},{key:'setViewId',value:function(e){if(Fe(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'viewName',e||this.viewName,this),null==this.viewId){var t=this.element||{};this.viewId=r('android',t.id||t.name||v(this.viewName).toLowerCase()+'_1'),this.android('id',this.stringId)}}},{key:'setViewLayout',value:function(t){var n=this,i=this.styleMap,r=void 0,a=void 0,o=void 0,l=void 0,d=this.renderParent,s=this.constraint;if(null!=t){r=t.parent;var u=[t.width,t.height];a=u[0],o=u[1],l=t.wrapContent}else r=this.parent,a=null==this.element?0:this.element.offsetWidth+this.marginLeft+this.marginRight,o=null==this.element?0:this.element.offsetHeight+this.marginTop+this.marginBottom,l=r.is(He.CONSTRAINT,He.GRID);var g=null==r.element?be:r.element.offsetWidth-(r.paddingLeft+r.paddingRight+m(r.style.borderLeftWidth)+m(r.style.borderRightWidth)),c=null==r.element?be:r.element.offsetHeight-(r.paddingTop+r.paddingBottom+m(r.style.borderTopWidth)+m(r.style.borderBottomWidth));if(0!==this.overflow&&!this.is(He.TEXT))this.android('layout_width',this.horizontal?'wrap_content':'match_parent'),this.android('layout_height',this.horizontal?'match_parent':'wrap_content');else{if('0px'!==this.android('layout_width')&&(w(i.width)&&(b(i.width)?'TABLE'===d.tagName?(this.android('layout_columnWeight',(m(i.width)/100).toFixed(2)),this.android('layout_width','0px')):this.android('layout_width','wrap_content'):this.android('layout_width',p(i.width))),w(i.minWidth)&&!b(i.minWidth)&&!s.minWidth&&(this.android('layout_width','wrap_content',!1),this.android('minWidth',p(i.minWidth),!1)),w(i.maxWidth)&&!b(i.maxWidth)&&!s.maxWidth&&this.android('maxWidth',p(i.maxWidth),!1)),(!this.flex.enabled||s.expand)&&null!=s.layoutWidth)s.layoutWidth?this.android('layout_width',this.renderChildren.some(function(e){return'right'===e.css('float')})||m(this.bounds.minWidth)>=g?'match_parent':this.bounds.minWidth):this.android('layout_width','wrap_content',!1);else if(null==this.android('layout_width'))if(l||'wrap_content'===d.android('layout_width'))this.android('layout_width','wrap_content');else if(qe.includes(this.viewName)||this.floating)this.android('layout_width','wrap_content');else if(0===r.overflow&&a>=g)this.android('layout_width','match_parent');else switch(this.style.display){case'line-item':case'block':case'inherit':this.android('layout_width','match_parent');break;default:this.android('layout_width','wrap_content');}if('0px'!==this.android('layout_height')&&((w(i.height)||w(i.lineHeight))&&(b(i.height)||b(i.lineHeight)?'TABLE'===d.tagName?(this.android('layout_rowWeight',(m(i.height||i.lineHeight)/100).toFixed(2)),this.android('layout_height','0px')):this.android('layout_height','wrap_content'):this.android('layout_height',p(i.height||i.lineHeight))),w(i.minHeight)&&!b(i.minHeight)&&!s.minHeight&&(this.android('layout_height','wrap_content',!1),this.android('minHeight',p(i.minHeight),!1)),w(i.maxHeight)&&!b(i.maxHeight)&&!s.maxHeight&&this.android('maxHeight',p(i.maxHeight),!1)),(!this.flex.enabled||s.expand)&&null!=s.layoutHeight)this.android('layout_height',s.layoutHeight?this.bounds.minHeight:'wrap_content',s.layoutHeight);else if(null==this.android('layout_height')){var y='wrap_content';o>=c&&!l&&(0===r.id||0!==r.overflow||qe.includes(this.viewName)||d.is(He.RELATIVE)||'wrap_content'===d.android('layout_height')?this.parentOriginal.flex.enabled&&(y='0px'):y='match_parent'),this.android('layout_height',y)}}this.is(He.LINEAR)&&0<this.renderChildren.length&&this.renderChildren.every(function(e){return'right'===e.css('float')})&&this.android('gravity',q('right')),1<this.gridRowSpan&&this.android('layout_rowSpan',this.gridRowSpan.toString()),1<this.gridColumnSpan&&this.android('layout_columnSpan',this.gridColumnSpan.toString()),this.gridPadding&&(0<this.gridPadding.top&&this.modifyBox(Xe.PADDING_TOP,this.gridPadding.top),0<this.gridPadding.right.length&&this.modifyBox(Xe.PADDING_RIGHT,f(this.gridPadding.right)),0<this.gridPadding.bottom&&this.modifyBox(Xe.PADDING_BOTTOM,this.gridPadding.bottom),0<this.gridPadding.left.length&&this.modifyBox(Xe.PADDING_LEFT,f(this.gridPadding.left))),this.api>=e.build.OREO&&['layout_margin','padding'].forEach(function(e){var t=q(e+'Left'),i=q(e+'Right'),r=m(n.android(e+'Top')),a=m(n.android(i)),o=m(n.android(e+'Bottom')),l=m(n.android(t));0!==r&&r===o&&o===l&&l===a?(n.delete('android',e+'*'),n.android(e,h(r))):(0!==r&&r===o&&(n.delete('android',e+'Top',e+'Bottom'),n.android(e+'Vertical',h(r))),0!==l&&l===a&&(n.delete('android',t,i),n.android(e+'Horizontal',h(l))))})}},{key:'setGravity',value:function(){for(var e=this.styleMap.verticalAlign,t='',n=this;null!=n;){t=n.styleMap.textAlign||t;var i=n===this?'':n.styleMap.float;if('left'===i||'right'===i||w(t))break;n=n.parentOriginal}if(''===t&&'TH'===this.tagName&&(t='center'),w(e)||w(t)){var r='',a='';switch('start'===t?r='start':'right'===t?r=q('right'):'end'===t?r='end':'center'===t?r='center_horizontal':void 0,'top'===e?a='top':'middle'===e?a='center_vertical':'bottom'===e||'text-bottom'===e?a='bottom':(this.style.height===this.style.lineHeight||m(this.style.lineHeight)===this.box.bottom-this.box.top)&&(a='center_vertical'),this.renderParent.viewName){case j.GRID:var o='center_horizontal'===r||'center'===r,l='center_vertical'==a||'middle'==a;o&&l||'TABLE'===this.renderParent.tagName?this.android('layout_gravity','fill'):o?this.android('layout_gravity','fill_horizontal'):l&&this.android('layout_gravity','fill_vertical');}var d=[r,a].filter(function(e){return''!==e});0<d.length&&this.android('gravity',2===d.length?'center':d[0])}}},{key:'setAccessibility',value:function(){var e=this,t=this.element,n=t.nextElementSibling,i=!1;if('INPUT'===t.tagName&&n&&n.htmlFor===t.id){var r=n.__node;r.setViewId(j.TEXT),this.css('marginRight',r.style.marginRight),this.css('paddingRight',r.style.paddingRight),this.label=r,r.hide(),r.labelFor=this,i=!0}switch(this.viewName){case j.EDIT:i||function(){for(var t=e.renderParent,n=e,i=null,r;t&&null!=t.renderChildren;){if(r=t.renderChildren.findIndex(function(e){return e===n}),0<r){i=t.renderChildren[r-1];break}n=t,t=t.renderParent}i&&i.is(He.TEXT)&&i.android('labelFor',e.stringId)}();case j.SELECT:case j.CHECKBOX:case j.RADIO:case j.BUTTON:this.android('focusable','true');}}},{key:'label',set:function(e){this._label=e,e.companion=!0,e.labelFor=this},get:function(){return this._label}},{key:'stringId',get:function(){return w(this.viewId)?'@+id/'+this.viewId:''}},{key:'viewName',get:function(){if(null!=this._viewName)return Ie(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'viewName',this);var e=We[this.tagName];return null==e?'':n.getViewName(e)}},{key:'anchored',get:function(){return this.constraint.horizontal&&this.constraint.vertical}},{key:'horizontal',get:function(){return this._android&&'horizontal'===this._android.orientation}},{key:'horizontalBias',get:function(){var e=this.renderParent;if(e&&e.visible){var t=this.linear.left-e.box.left,n=e.box.right-this.linear.right;return R(t,n)}return .5}},{key:'verticalBias',get:function(){var e=this.renderParent;if(e&&e.visible){var t=this.linear.top-e.box.top,n=e.box.bottom-this.linear.bottom;return R(t,n)}return .5}}],[{key:'getViewName',value:function(e){return j[He[e]]}}]),n}(rt),lt=function(e){function t(e,n,i,r){Re(this,t);var a={parent:i,depth:n.depth,parentOriginal:n.parentOriginal},o=Oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.api,null,a));return null!=r&&(o.children=r),o}return Ce(t,e),we(t,[{key:'setViewLayout',value:function(){var e=Be(this.childrenBox,2),n=e[0],i=e[1],r={parent:this.parentOriginal,width:n,height:i,wrapContent:this.parent.is(He.CONSTRAINT,He.GRID)};Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setViewLayout',this).call(this,r)}},{key:'setBounds',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=this.outerRegion;e||(this.bounds={x:t.left[0].bounds.x,y:t.top[0].bounds.y,top:t.top[0].bounds.top,right:t.right[0].bounds.right,bottom:t.bottom[0].bounds.bottom,left:t.left[0].bounds.left,width:0,height:0},this.bounds.width=this.bounds.right-this.bounds.left,this.bounds.height=this.bounds.bottom-this.bounds.top),this.linear={top:t.top[0].linear.top,right:t.right[0].linear.right,bottom:t.bottom[0].linear.bottom,left:t.left[0].linear.left,width:0,height:0},this.box={top:t.top[0].box.top,right:t.right[0].box.right,bottom:t.bottom[0].box.bottom,left:t.left[0].box.left,width:0,height:0},this.setDimensions()}},{key:'inheritGrid',value:function(e){for(var t in e)t.startsWith('grid')&&('number'==typeof e[t]?(this[t]+=e[t],e[t]=0):!1!==e[t]&&(this[t]=e[t],e[t]=!1))}},{key:'childrenBox',get:function(){var e=be,t=0,n=be,i=0,r=!0,a=!1,o=void 0;try{for(var l=this.children[Symbol.iterator](),d,s;!(r=(d=l.next()).done);r=!0)s=d.value,e=_e(s.bounds.left,e),t=xe(s.bounds.right,t),n=_e(s.bounds.top,n),i=xe(s.bounds.bottom,i)}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return[t-e,i-n]}},{key:'outerRegion',get:function(){for(var e=this.children,t=[e[0]],n=[e[0]],r=[e[0]],a=[e[0]],o=1;o<e.length;o++){var l=e[o],d=l.label||l;t[0].bounds.top===l.bounds.top?t.push(l):l.bounds.top<t[0].bounds.top&&(t=[l]),n[0].bounds.right===d.bounds.right?n.push(d):d.bounds.right>n[0].bounds.right&&(n=[d]),r[0].bounds.bottom===l.bounds.bottom?r.push(l):l.bounds.bottom>r[0].bounds.bottom&&(r=[l]),a[0].bounds.left===l.bounds.left?a.push(l):l.bounds.left<a[0].bounds.left&&(a=[l])}return{top:t,right:n,bottom:r,left:a,children:e}}}]),t}(ot),dt=function(e){function t(e,n){return Re(this,t),Oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return Ce(t,e),we(t,[{key:'slice',value:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return new t(this.list.slice.apply(this.list,arguments))}},{key:'filter',value:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return new t(this.list.filter.apply(this.list,arguments))}},{key:'anchors',get:function(){return this.list.filter(function(e){return e.anchored})}},{key:'horizontalBias',get:function(){if(null!=this.parent&&0<this.list.length){var e=this.first.linear.left-this.parent.box.left,t=this.parent.box.right-this.last.linear.right;return R(e,t)}return .5}},{key:'verticalBias',get:function(){if(null!=this.parent&&0<this.list.length){var e=this.first.linear.top-this.parent.box.top,t=this.parent.box.bottom-this.last.linear.bottom;return R(e,t)}return .5}}]),t}(Ge),st={relative:{top:'layout_alignTop',bottom:'layout_alignBottom',baseline:'layout_alignBaseline',bottomTop:'layout_above',topBottom:'layout_below'},constraint:{top:'layout_constraintTop_toTopOf',bottom:'layout_constraintBottom_toBottomOf',baseline:'layout_constraintBaseline_toBaselineOf',bottomTop:'layout_constraintBottom_toTopOf',topBottom:'layout_constraintTop_toBottomOf'}},ut={direction:['horizontalChain','verticalChain'],leftTop:['left','top'],rightBottom:['right','bottom'],rightLeftBottomTop:['rightLeft','bottomTop'],leftRightTopBottom:['leftRight','topBottom'],widthHeight:['Width','Height'],horizontalVertical:['Horizontal','Vertical']},ht=function(e){function t(){return Re(this,t),Oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return Ce(t,e),we(t,[{key:'setConstraints',value:function(){var e=this;Object.assign(st.relative,{left:q('layout_alignLeft'),right:q('layout_alignRight'),leftRight:q('layout_toRightOf'),rightLeft:q('layout_toLeftOf')}),Object.assign(st.constraint,{left:q('layout_constraintLeft_toLeftOf'),right:q('layout_constraintRight_toRightOf'),leftRight:q('layout_constraintLeft_toRightOf'),rightLeft:q('layout_constraintRight_toLeftOf')}),this.cache.visible.forEach(function(t){var n=new dt(t.renderChildren,t),i=t.is(He.CONSTRAINT),r=t.is(He.RELATIVE),a=t.flex;if(0<n.list.length&&(i||r||a.enabled)){var o=function(){if(t.expandDimensions(),t.is(He.LINEAR))return t.renderChildren.some(function(e){return-1!==e.flex.direction.indexOf('row')})&&(t.constraint.layoutWidth=!0,t.constraint.expand=!0),t.renderChildren.some(function(e){return-1!==e.flex.direction.indexOf('column')})&&(t.constraint.layoutHeight=!0,t.constraint.expand=!0),{v:void 0};var o=st[r?'relative':'constraint'],l=n.linearX;if(n.list.forEach(function(n){k(n.horizontalBias,.5,.01)&&k(n.verticalBias,.5,.01)&&(i?e.setAlignParent(n):(n.android('layout_centerInParent','true'),n.constraint.horizontal=!0,n.constraint.vertical=!0),t.constraint.layoutWidth=!0,t.constraint.layoutHeight=!0)}),n.list.unshift(t),n.list.forEach(function(a){n.list.forEach(function(n){if(a!==n)if(i){var d=a.linear,s=n.linear,u=!1;if((a===t||n===t)&&(a===t&&(a=n),n={stringId:'parent'},d=a.linear,s=t.box,u=!0),null!=a.css('width')&&'0px'===a.styleMap.marginTop&&'auto'===a.styleMap.marginRight&&'0px'===a.styleMap.marginBottom&&'auto'===a.styleMap.marginLeft?e.setAlignParent(a,'horizontal'):u?(d.left===s.left&&a.anchor(o.left,n,'horizontal'),k(d.right,s.right,tt.whitespaceHorizontalOffset)&&a.anchor(o.right,n,'horizontal')):(0===a.viewWidth&&d.left===s.left&&d.right===s.right?(a.anchor(o.left,n),a.anchor(o.right,n)):!tt.horizontalPerspective&&(d.left===s.left?a.anchor(o.left,n):d.right===s.right&&a.anchor(o.right,n)),k(d.left,s.right,tt.whitespaceHorizontalOffset)&&('right'===a.css('float')?a.constraint.marginHorizontal=n.stringId:a.anchor(o.leftRight,n,'',a.withinX(s))),k(d.right,s.left,tt.whitespaceHorizontalOffset)&&'left'!==a.css('float')&&a.anchor(o.rightLeft,n,'',a.withinX(s))),u)d.top===s.top&&a.anchor(o.top,n,'vertical'),k(d.bottom,s.bottom,tt.whitespaceHorizontalOffset)&&a.anchor(o.bottom,n,'vertical');else if(k(d.top,s.bottom,tt.whitespaceVerticalOffset))(a.withinY(s)||!a.constraint.vertical)&&a.anchor(o.topBottom,n,n.constraint.vertical?'vertical':'',d.left===s.left||s.right===s.right);else if(0===a.viewHeight&&d.top===s.top&&d.bottom===s.bottom&&(!a.floating||!a.constraint.vertical)){var h=a.is(He.TEXT)&&'baseline'===a.style.verticalAlign&&n.is(He.TEXT)&&'baseline'===n.style.verticalAlign;'parent'!==a.app(o.top)&&a.anchor(o[h?'baseline':'top'],n),a.anchor(o.bottom,n)}}else if(r){if(a===t)return;if(n===t)n={stringId:'true'},a.linear.left===t.box.left&&a.anchor(q('layout_alignParentLeft'),n,'horizontal'),a.linear.right===t.box.right&&a.anchor(q('layout_alignParentRight'),n,'horizontal'),a.linear.top===t.box.top&&a.anchor('layout_alignParentTop',n,'vertical'),k(a.linear.bottom,t.box.bottom,tt.whitespaceHorizontalOffset)&&a.anchor('layout_alignParentBottom',n,'vertical');else{var p=a.linear,g=n.linear;null!=a.css('width')&&'0px'===a.styleMap.marginTop&&'auto'===a.styleMap.marginRight&&'0px'===a.styleMap.marginBottom&&'auto'===a.styleMap.marginLeft?(a.android('layout_centerHorizontal','true'),a.constraint.horizontal=!0):(p.top===g.top||p.bottom===g.bottom)&&k(p.left,g.right,tt.whitespaceHorizontalOffset)&&(a.anchor(o.leftRight,n,n.constraint.horizontal?'horizontal':''),n.constraint.horizontal&&a.delete('android',q('layout_alignParentRight'))),n.constraint.vertical&&k(p.top,g.bottom,tt.whitespaceVerticalOffset)&&(a.anchor(o.topBottom,n,n.constraint.vertical?'vertical':''),n.constraint.vertical&&a.delete('android','layout_alignParentBottom')),!n.constraint.horizontal||p.bottom!==g.bottom||l||a.floating&&a.constraint.vertical||(a.anchor(o.bottom,n,n.constraint.vertical?'vertical':''),n.constraint.vertical&&a.delete('android','layout_alignParentBottom'))}}})}),n.list.shift(),n.list.forEach(function(e){var t=e.anchor(o.leftRight);null!=t&&(e.constraint.horizontal=!0,e.constraint.marginHorizontal=t);var n=e.anchor(o.topBottom);if(null!=n&&(e.constraint.vertical=!0,e.constraint.marginVertical=n),i){var a=[];e.constraint.horizontal&&('parent'!==e.anchor(o.left)&&a.push(o.left),'parent'!==e.anchor(o.right)&&a.push(o.right)),e.constraint.vertical&&('parent'!==e.anchor(o.top)&&a.push(o.top),'parent'!==e.anchor(o.bottom)&&a.push(o.bottom)),e.delete.apply(e,[r?'android':'app'].concat(a))}}),a.enabled||i&&tt.useConstraintChain&&!n.intersect()&&!n.list.some(function(e){return e.floating})){var d=null;if(a.enabled){var s=n.slice(),u=n.slice();switch(a.direction){case'row-reverse':s.list.reverse();case'row':u=null;break;case'column-reverse':u.list.reverse();case'column':s=null;}d=[{constraint:{horizontalChain:s,verticalChain:u}}]}else n.list.forEach(function(e){var t=n.filter(function(t){return T(e,t,'linear.top')});0===t.list.length&&(t=n.filter(function(t){return T(e,t,'linear.bottom')})),0<t.list.length&&t.sortAsc('linear.x');var i=n.filter(function(t){return T(e,t,'linear.left')});0===i.list.length&&(i=n.filter(function(t){return T(e,t,'linear.right')})),0<i.list.length&&i.sortAsc('linear.y'),e.constraint.horizontalChain=t,e.constraint.verticalChain=i});var g=ut.direction.slice();tt.horizontalPerspective||g.reverse(),g.forEach(function(r,l){tt.horizontalPerspective||(l=0===l?1:0);var s=0===l?1:0,i=d||n.slice().list.sort(function(e,t){return e.constraint[r].length>=t.constraint[r].length?-1:1});i.forEach(function(n){var d=n.constraint[r];if(d&&1<d.length&&(a.enabled||0<d.list.map(function(e){return parseInt((e.constraint[r].list||[{id:0}]).map(function(e){return e.id}).join(''))}).reduce(function(e,t){return e===t?e:0}))){d.parent=t,a.enabled&&d.list.some(function(e){return 0<e.flex.order})&&d[-1===a.direction.indexOf('reverse')?'sortAsc':'sortDesc']('flex.order');for(var u=[ut.horizontalVertical[l],ut.horizontalVertical[s]],h=u[0],g=u[1],c=[ut.leftTop[l],ut.leftTop[s]],m=c[0],f=c[1],y=[ut.rightBottom[l],ut.rightBottom[s]],b=y[0],_=y[1],x=[ut.widthHeight[l],ut.widthHeight[s]],v=x[0],S=x[1],E=h.toLowerCase(),T=g.toLowerCase(),A=v.toLowerCase(),R=d.first,k=d.last,I=-1,C=0;C<d.list.length;C++){var O=d.list[C],D=d.list[C+1],F=d.list[C-1];if(a.enabled&&O.linear[f]===t.box[f]&&O.linear[_]===t.box[_]&&e.setAlignParent(O,T),null!=D&&(O.app(o[ut.rightLeftBottomTop[l]],D.stringId),I=xe(D.linear[m]-O.linear[b],I)),null!=F&&O.app(o[ut.leftRightTopBottom[l]],F.stringId),null==O.styleMap[A]){var B=O.styleMap['min'+v],N=O.styleMap['min'+S],P=O.styleMap['max'+v],G=O.styleMap['max'+S];w(B)&&(O.app('layout_constraint'+v+'_min',p(B)),O.constraint['min'+v]=!0),w(P)&&(O.app('layout_constraint'+v+'_max',p(P)),O.constraint['max'+v]=!0),w(N)&&(O.app('layout_constraint'+S+'_min',p(N)),O.constraint['min'+S]=!0),w(G)&&(O.app('layout_constraint'+S+'_max',p(G)),O.constraint['max'+S]=!0)}if(a.enabled){var M=st.constraint;switch(O.app('layout_constraint'+h+'_weight',O.flex.grow),null==O['view'+v]&&0===O.flex.grow&&1>=O.flex.shrink?O.android('layout_'+A,'wrap_content'):0<O.flex.grow&&O.android('layout_'+A,t.renderParent.is(He.LINEAR)&&t.renderParent.constraint.expand&&-1!==t.flex.direction.indexOf('row')?'wrap_content':'0px'),0===O.flex.shrink&&O.app('layout_constrained'+v,'true'),O.flex.alignSelf){case'flex-start':O.app(M[f],'parent'),O.constraint[T]=!0;break;case'flex-end':O.app(M[_],'parent'),O.constraint[T]=!0;break;case'baseline':O.app(M.baseline,'parent'),O.constraint.vertical=!0;break;case'center':case'stretch':'center'===O.flex.alignSelf?O.app('layout_constraint'+g+'_bias','0.5'):O.android('layout_'+S.toLowerCase(),'0px'),e.setAlignParent(O,T);}if('auto'!==O.flex.basis)if(/(100|[1-9][0-9]?)%/.test(O.flex.basis))O.app('layout_constraint'+v+'_percent',O.flex.basis);else{var H=p(O.flex.basis);'0px'!==H&&(O.app('layout_constraintWidth_min',H),delete O.styleMap.minWidth)}}}R.app(o[m],'parent'),R.constraint[E]=!0,k.app(o[b],'parent'),k.constraint[E]=!0;var X='layout_constraint'+h+'_chainStyle';if(a.enabled&&'normal'!==a.justifyContent&&0===xe.apply(null,d.list.map(function(e){return e.flex.grow})))switch(a.justifyContent){case'space-between':R.app(X,'spread_inside');break;case'space-evenly':R.app(X,'spread'),d.list.forEach(function(e){return e.app('layout_constraint'+h+'_weight',e.flex.grow||1)});break;case'space-around':var W=0===l?'left':'top',z=(R.bounds[W]-t.box[W])/t.box[A];R.app('layout_constraint'+h+'_chainStyle','spread_inside'),e.createGuideline(t,R,E,!1,parseFloat(z.toFixed(2))),e.createGuideline(t,k,E,!0,parseFloat((1-z).toFixed(2)));break;default:var V=a.justifyContent;if(-1!==a.direction.indexOf('reverse'))switch(a.justifyContent){case'flex-start':V='flex-end';break;case'flex-end':V='flex-start';}var U='0.5';'flex-start'===V?U='0':'flex-end'===V?U='1':void 0,R.app(X,'packed'),R.app('layout_constraint'+h+'_bias',U);}else{var j=!0;a.enabled&&L(t.box.left,R.linear.left)&&L(k.linear.right,t.box.right)?(R.app(X,'spread_inside'),j=!1):I<=tt['chainPacked'+h+'Offset']?(R.app(X,'packed'),e.adjustMargins(d.list)):R.app(X,'spread'),j&&R.app('layout_constraint'+h+'_bias',R[E+'Bias']),a.enabled||d.list.forEach(function(e){e.constraint.horizontalChain=[],e.constraint.verticalChain=[]})}}})})}a.enabled||function(){var r=n.anchors;if(i&&0===r.length){var a=n.sortAsc('bounds.x','bounds.y')[0];tt.useConstraintGuideline?e.createGuideline(t,a):e.setAlignParent(a,'',!0),r.push(a)}do{var l=!1;if(n.list.forEach(function(e){if(!e.anchored){var t=i?S(e.app(),'*constraint*'):S(e.android(),o),n=function(t,n){'parent'!==n&&null!=r.find(function(e){return e.stringId===n})&&(!e.constraint.horizontal&&-1!==E(t,q('Left'),q('Right'))&&(e.constraint.horizontal=!0),!e.constraint.vertical&&-1!==E(t,'Top','Bottom','Baseline','above','below')&&(e.constraint.vertical=!0))},a=!0,d=!1,s=void 0;try{for(var u=t[Symbol.iterator](),h;!(a=(h=u.next()).done);a=!0){var p=h.value,g=Be(p,2),c=g[0],m=g[1];n(c,m)}}catch(e){d=!0,s=e}finally{try{!a&&u.return&&u.return()}finally{if(d)throw s}}e.anchored&&(r.push(e),l=!0)}}),!l)break}while(!0);i?(n.list.forEach(function(i){var r=Math.pow,a=Math.round,o=Math.abs;if(!i.anchored)if(e.deleteConstraints(t),tt.useConstraintGuideline)e.createGuideline(t,i);else{var l=n.anchors[0],d=i.center,s=l.center,u=o(d.x-s.x),p=o(d.y-s.y),g=a(Math.atan(_e(u,p)/xe(u,p))*(180/Math.PI)),c=a(Math.sqrt(r(u,2)+r(p,2)));d.y>s.y?d.x>s.x?u>p?g+=90:g=180-g:u>p?g=270-g:g+=180:d.y<s.y?s.x>d.x?u>p?g+=270:g=360-g:u>p&&(g=90-g):g=d.x>s.x?90:270,i.app('layout_constraintCircle',l.stringId),i.app('layout_constraintCircleRadius',h(c)),i.app('layout_constraintCircleAngle',g.toString()),i.constraint.horizontal=!0,i.constraint.vertical=!0}}),n.list.forEach(function(e){'parent'===e.app(o.right)&&null==e.app(o.leftRight)&&(t.constraint.layoutWidth=!0),'parent'===e.app(o.bottom)&&null==e.app(o.topBottom)&&(t.constraint.layoutHeight=!0)})):n.list.forEach(function(n){var i=n.android(q('layout_alignParentRight')),a=n.android('layout_alignParentBottom');if(!r.includes(n)){var l=q('layout_alignParentLeft');if(n.delete('android',o),'true'!==n.android(l)){var d=h(n.bounds.left-t.box.left);n.css(q('marginLeft'),d),n.android(l,'true'),n.android(q('layout_marginLeft'),d)}if('true'!==a){var s=h(n.bounds.top-t.box.top);n.css('marginTop',s),n.android('layout_alignParentTop','true'),n.android('layout_marginTop',s)}n.constraint.horizontal=!0,n.constraint.vertical=!0}else e.adjustMargins([n]);'true'===i&&null==n.android(o.leftRight)&&(t.constraint.layoutWidth=!0),'true'===a&&null==n.android(o.topBottom)&&(t.constraint.layoutHeight=!0)})}()}();if('object'===('undefined'==typeof o?'undefined':Ee(o)))return o.v}})}},{key:'setMarginPadding',value:function(){this.cache.list.forEach(function(e){if(e.is(He.LINEAR,He.RADIO_GROUP))switch(e.android('orientation')){case'horizontal':var t=e.box.left;C(e.renderChildren,'linear.left').forEach(function(e){if(!e.floating){var n=ve(e.linear.left-t);1<=n&&e.modifyBox(Xe.MARGIN_LEFT,n)}t=(e.label||e).linear.right});break;case'vertical':var n=e.box.top;C(e.renderChildren,'linear.top').forEach(function(e){var t=ve(e.linear.top-n);1<=t&&e.modifyBox(Xe.MARGIN_TOP,t),n=e.linear.bottom});}})}},{key:'renderGroup',value:function(e,t,n,i){var r=this,a='',o='',l=t;if(e.setViewId(ot.getViewName(n)),0!==e.overflow){var d=[];e.overflowX&&d.push(j.SCROLL_HORIZONTAL),e.overflowY&&d.push(e.ascend().some(function(e){return 0!==e.overflow})?j.SCROLL_NESTED:j.SCROLL_VERTICAL);var s=e,h=t.renderDepth+d.length;d.map(function(t){var n=new lt(r.cache.nextId,s,null,[s]),i=n;n.setViewId(t),n.setBounds(),n.inheritGrid(s),n.android('fadeScrollbars','false'),r.cache.list.push(i),t===j.SCROLL_HORIZONTAL?(n.css('width',e.styleMap.width),n.css('minWidth',e.styleMap.minWidth),n.css('overflowX',e.styleMap.overflowX)):(n.css('height',e.styleMap.height),n.css('minHeight',e.styleMap.minHeight),n.css('overflowY',e.styleMap.overflowY));var d=u(h--);return a=d+('<'+t+'{@'+n.id+'}>\n')+a,o+=d+('</'+t+'>\n'),s===e&&(e.parent=i,l=i),s=i,n}).reverse().forEach(function(e,n){0===n?(e.parent=t,e.render(t)):1===n?(e.parent=s,e.render(s)):void 0,s=e})}return e.apply(i),e.applyCustomizations(),e.render(l),e.setGravity(),this.setGridSpace(e),this.getEnclosingTag(e.renderDepth,ot.getViewName(n),e.id,'{'+e.id+'}',a,o)}},{key:'renderView',value:function(e,t,n){var i=this,r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],a=e.element;switch('number'==typeof n&&(n=ot.getViewName(n)),e.setViewId(n),a.tagName){case'IMG':switch(a.style.objectFit){case'contain':e.android('scaleType','centerInside');break;case'cover':e.android('scaleType','centerCrop');break;case'fill':e.android('scaleType','fitXY');break;case'scale-down':e.android('scaleType','fitCenter');}break;case'TEXTAREA':e.android('minLines','2'),2<a.rows&&e.android('maxLines',a.rows.toString()),0<a.maxLength&&e.android('maxLength',a.maxLength.toString()),e.android('hint',a.placeholder),e.android('scrollbars','vertical'),e.android('inputType','textMultiLine'),e.overflowX&&e.android('scrollHorizontally','true');break;case'INPUT':switch(a.type){case'radio':if(!r){var o=e.parentOriginal.children.filter(function(e){return'radio'===e.element.type&&e.element.name===a.name}),l='';if(1<o.length){var d=new lt(this.cache.nextId,e,t,o),s=d,u='';return this.cache.list.push(s),d.setViewId(j.RADIO_GROUP),d.render(t),o.forEach(function(e){d.inheritGrid(e),e.element.checked&&(u=e.stringId),e.parent=d,e.render(d),l+=i.renderView(e,s,He.RADIO,!0)}),d.android('orientation',Ge.linearX(d.children)?'horizontal':'vertical'),''!==u&&d.android('checkedButton',u),d.setBounds(),this.setGridSpace(s),this.getEnclosingTag(d.renderDepth,j.RADIO_GROUP,d.id,l)}}break;case'password':e.android('inputType','textPassword');break;case'text':e.android('inputType','text');break;case'range':w(a.min)&&e.android('min',a.min),w(a.max)&&e.android('max',a.max),w(a.value)&&e.android('progess',a.value);}}switch(e.viewName){case j.TEXT:if(0!==e.overflow){var h=[];e.overflowX&&h.push('horizontal'),e.overflowY&&h.push('vertical'),e.android('scrollbars',h.join('|'))}}return e.applyCustomizations(),e.render(t),e.setGravity(),e.setAccessibility(),e.cascade().forEach(function(e){return e.hide()}),this.setGridSpace(e),this.getEnclosingTag(e.renderDepth,e.viewName,e.id)}},{key:'createGroup',value:function(e,t,n){var i=new lt(this.cache.nextId,e,t,n);return n.forEach(function(e){e.parent=i,i.inheritGrid(e)}),i.setBounds(),i}},{key:'getViewStatic',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'wrap_content',r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:'wrap_content',a=new ot(0,tt.targetAPI);a.setViewId(ot.getViewName(e));var o='';if(tt.showAttributes){a.apply(n),a.android('id',a.stringId),a.android('layout_width',i),a.android('layout_height',r);var l=u(t+1);o=a.combine().map(function(e){return'\n'+(l+e)}).join('')}return[this.getEnclosingTag(t,a.viewName,0).replace('{@0}',o),a.stringId]}},{key:'replaceInlineAttributes',value:function(e,t,n){return t.setViewLayout(),t.namespaces.forEach(function(e){return n[e]=!0}),e.replace('{@'+t.id+'}',this.parseAttributes(t))}},{key:'getRootAttributes',value:function(e){return Object.keys(e).sort().map(function(e){return null==Ze[e.toUpperCase()]?'':'\n\t'+Ze[e.toUpperCase()]}).join('')}},{key:'getViewName',value:function(e){return ot.getViewName(e)}},{key:'parseAttributes',value:function(e){var t='',n=e.combine();if(0<n.length){for(var r=u(e.renderDepth+1),a=0;a<n.length;a++)if(n[a].startsWith('android:id=')){n.unshift.apply(n,Ne(n.splice(a,1)));break}t=(0===e.renderDepth?'{@0}':'')+n.map(function(e){return'\n'+(r+e)}).join('')}return t}},{key:'setGridSpace',value:function(e){if(e.parent.is(He.GRID)){var t=Y(e.parentOriginal.element,!0),n={android:{layout_columnSpan:e.renderParent.gridColumnCount}};if(e.gridFirst){var i=t.paddingTop+t.marginTop;0<i&&(e.parent.gridPadding.top=i)}if(e.gridRowStart){var r=t.marginLeft+t.paddingLeft;0<r&&e.parent.gridPadding.left.push(r)}if(e.gridRowEnd){var a=t.marginBottom+t.paddingBottom+(e.gridLast?0:t.marginTop+t.paddingTop);0<a&&(e.gridLast?e.parent.gridPadding.bottom=a:this.appendAfter(e.id,this.getViewStatic(He.SPACE,e.renderDepth,n,'match_parent',p(a))[0]));var o=t.marginRight+t.paddingRight;0<o&&e.parent.gridPadding.right.push(o)}}}},{key:'setAlignParent',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=st.constraint;['horizontal','vertical'].forEach(function(r,a){(''===t||r===t)&&(e.app(i[0===a?'left':'top'],'parent'),e.app(i[0===a?'right':'bottom'],'parent'),e.constraint[r]=!0,n&&e.app('layout_constraint'+(r.charAt(0).toUpperCase()+r.substring(1))+'_bias',e[r+'Bias']))})}},{key:'createGuideline',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',i=this,r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:-1,o=st.constraint,l='layout_constraintGuide_'+(-1===a?'begin':'percent');['horizontal','vertical'].forEach(function(d,s){if(''===n&&!t.constraint[d]||n===d){var u=0===s?'left':'top',p={android:{orientation:0===s?'vertical':'horizontal'},app:ke({},l,-1===a?h(xe(t.bounds[u]-e.box[u],0)):a)},g=0===s?r?'right':'left':r?'bottom':'top',c=0===s?r?'left':'right':r?'top':'bottom',m=i.getViewStatic(He.GUIDELINE,t.renderDepth,p),f=Be(m,2),y=f[0],b=f[1];i.appendAfter(t.id,y,-1),t.app(o[g],b),t.delete('app',o[c]),t.constraint[d]=!0}})}},{key:'deleteConstraints',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=st.constraint;(''===t||'horizontal'===t)&&(e.delete('app',n.leftRight,n.rightLeft),e.constraint.horizontal=!1),(''===t||'vertical'===t)&&(e.delete('app',n.bottomTop,n.topBottom,n.baseline),e.constraint.vertical=!1)}},{key:'findByAndroidId',value:function(e){return this.cache.list.find(function(t){return t.android('id')===e})}},{key:'adjustMargins',value:function(e){var t=!0,n=!1,i=void 0;try{for(var r=e[Symbol.iterator](),a,o;!(t=(a=r.next()).done);t=!0){if(o=a.value,null!=o.constraint.marginHorizontal){var l=this.findByAndroidId(o.constraint.marginHorizontal);if(null!=l){var d=o.linear.left-l.linear.right;1<=d&&o.modifyBox(Xe.MARGIN_LEFT,d)}}if(null!=o.constraint.marginVertical){var s=this.findByAndroidId(o.constraint.marginVertical);if(null!=s){var u=o.linear.top-s.linear.bottom;1<=u&&o.modifyBox(Xe.MARGIN_TOP,u)}}}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}}}]),t}(it),pt=function(){function e(t){Re(this,e),this.file=t}return we(e,[{key:'reset',value:function(){e.STORED.STRINGS=new Map,e.STORED.COLORS=new Map,e.STORED.IMAGES=new Map}},{key:'setBoxSpacing',value:function(){this.cache.elements.forEach(function(e){if(e.element instanceof HTMLElement){var t=e.element;if(!w(t.__boxSpacing)||tt.alwaysReevaluateResources){var n=Y(t);for(var r in n)n[r]+='px';t.__boxSpacing=n}}})}},{key:'setBoxStyle',value:function(){var t=this;this.cache.elements.forEach(function(n){if(n.element instanceof HTMLElement){var r=n.element;if(!w(r.__boxStyle)||tt.alwaysReevaluateResources){var a={borderTop:t.parseBorderStyle,borderRight:t.parseBorderStyle,borderBottom:t.parseBorderStyle,borderLeft:t.parseBorderStyle,borderRadius:t.parseBorderRadius,backgroundColor:M,backgroundImage:t.parseImageURL,backgroundSize:t.parseBoxDimensions};for(var o in a)a[o]=a[o](n.css(o),n,o);tt.excludeBackgroundColor.includes(a.backgroundColor[0])||null==n.styleMap.backgroundColor&&U(r,'backgroundColor')||'0'===a.backgroundColor[2]?a.backgroundColor=[]:a.backgroundColor[0]=e.addColor(a.backgroundColor[0],!1);var i=JSON.stringify(a.borderTop);i===JSON.stringify(a.borderRight)&&i===JSON.stringify(a.borderBottom)&&i===JSON.stringify(a.borderLeft)&&(a.border=a.borderTop),r.__boxStyle=a}}})}},{key:'setFontStyle',value:function(){this.cache.elements.forEach(function(t){if(t.visible||t.companion){var n=t.element;if(!w(n.__fontStyle)||tt.alwaysReevaluateResources){if(0<t.renderChildren.length||'IMG'===t.tagName||'HR'===t.tagName)return;var i=M(t.css('color')||'');0<i.length&&tt.excludeTextColor.includes(i[0])&&(i=[]);var r=M(t.css('backgroundColor')||'');(tt.excludeBackgroundColor.includes(r[0])||null==t.styleMap.backgroundColor&&U(n,'backgroundColor'))&&(r=[]);var a={fontFamily:t.css('fontFamily'),fontStyle:t.css('fontStyle'),fontSize:t.css('fontSize'),fontWeight:t.css('fontWeight'),color:0<i.length?'@color/'+e.addColor(i[0])[0]:'',backgroundColor:0<r.length?'@color/'+e.addColor(r[0])[0]:''};n.__fontStyle=a}}})}},{key:'setImageSource',value:function(){this.cache.list.filter(function(e){return'IMG'===e.tagName}).forEach(function(t){var n=t.element;if(!w(n.__imageSource)||tt.alwaysReevaluateResources){var i=n.srcset.trim(),r={};if(w(i)){var a=n.src.substring(0,n.src.lastIndexOf('/')+1);i.split(',').forEach(function(e){var t=/^(.*?)\s*([0-9]+\.?[0-9]*x)?$/.exec(e.trim());if(null!=t){null==t[2]&&(t[2]='1x');var n=a+x(t[1]);switch(t[2]){case'0.75x':r.ldpi=n;break;case'1x':r.mdpi=n;break;case'1.5x':r.hdpi=n;break;case'2x':r.xhdpi=n;break;case'3x':r.xxhdpi=n;break;case'4x':r.xxxhdpi=n;}}})}null==r.mdpi&&(r.mdpi=n.src);var o=e.addImage(r);n.__imageSource=o}})}},{key:'setOptionArray',value:function(){this.cache.list.filter(function(e){return'SELECT'===e.tagName}).forEach(function(t){var n=t.element;if(!w(n.__optionArray)||tt.alwaysReevaluateResources){for(var r=[],a=[],o=0;o<n.children.length;o++){var l=n.children[o],d=l.text.trim();if(''!==d)if(null!=a&&0===r.length&&y(d))a.push(d);else{if(null!=a&&0<a.length){o=-1,a=null;continue}var s=e.addString(d);''!==s&&r.push(s)}}n.__optionArray={stringArray:0<r.length?r:null,numberArray:null!=a&&0<a.length?a:null}}})}},{key:'setValueString',value:function(){this.cache.elements.forEach(function(t){var n=t.element;if(!w(n.__valueString)||tt.alwaysReevaluateResources){var i='',r='';'INPUT'===n.tagName||'TEXTAREA'===n.tagName?'range'!==n.type&&(r=n.value.trim()):'#text'===n.nodeName?r=n.textContent?n.textContent.trim():'':(0===n.children.length||Array.from(n.children).every(function(e){return Ve.includes(e.tagName)}))&&(i=n.innerText.trim(),r=n.innerHTML.trim()),w(r)&&(e.addString(r,i),n.__valueString=r)}})}},{key:'borderVisible',value:function(e){return null!=e&&'none'!==e.style&&'0px'!==e.width}},{key:'getBorderStyle',value:function(e){var t={solid:'android:color="@color/'+e.color+'"'};return Object.assign(t,{inset:t.solid,outset:t.solid,dotted:t.solid+' android:dashWidth="3px" android:dashGap="1px"',dashed:t.solid+' android:dashWidth="1px" android:dashGap="1px"'}),t[e.style]||'android:color="@android:color/black"'}},{key:'parseBorderStyle',value:function(t,n,i){var r=n.css(i+'Style')||'none',a=n.css(i+'Width')||'1px',o='none'===r?[]:M(n.css(i+'Color'));return 0<o.length&&(o[0]=e.addColor(o[0],!1)),'inset'===r&&'0px'===a&&(a='1px'),{style:r,width:a,color:0<o.length?o[0]:'#000000'}}},{key:'parseBorderRadius',value:function(e,t){var n=t.css('borderTopLeftRadius'),i=t.css('borderTopRightRadius'),r=t.css('borderBottomLeftRadius'),a=t.css('borderBottomRightRadius');return n===i&&i===r&&r===a?''===n||'0px'===n?[]:[n]:[n,i,r,a]}},{key:'parseBoxDimensions',value:function(e){var t=e.match(/^([0-9]+(?:px|pt|em)|auto)(?: ([0-9]+(?:px|pt|em)|auto))?(?: ([0-9]+(?:px|pt|em)))?(?: ([0-9]+(?:px|pt|em)))?$/);return null==t?[]:'0px'===t[1]&&null==t[2]||'auto'===t[1]&&'auto'===t[2]?[]:'auto'===t[1]||'auto'===t[2]?['auto'===t[1]?'':p(t[1]),'auto'===t[2]?'':p(t[2])]:null==t[2]||t[1]===t[2]&&t[1]===t[3]&&t[1]===t[4]?[p(t[1])]:null==t[3]||t[1]===t[3]&&t[2]===t[4]?[p(t[1]),p(t[2])]:[p(t[1]),p(t[2]),p(t[3]),p(t[4])]}},{key:'parseImageURL',value:function(t){var n=t.match(/^url\("(.*?)"\)$/);return null==n?'':e.addImage({mdpi:n[1]})}}],[{key:'addString',value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'';if(w(t)){''===n&&(n=t);var i=y(t);if(tt.numberResourceValue||!i){var r=!0,a=!1,o=void 0;try{for(var l=e.STORED.STRINGS.keys()[Symbol.iterator](),d,s;!(r=(d=l.next()).done);r=!0)if(s=d.value,s===t)return s}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}n=n.trim().replace(/[^a-zA-Z0-9]/g,'_').toLowerCase().replace(/_+/g,'_').split('_').slice(0,4).join('_').replace(/_+$/g,''),i||/^[0-9]/.test(t)?n='__'+n:''===n&&(n='__symbol'+ve(1e5*Math.random())),e.STORED.STRINGS.set(t,n)}return t}return''}},{key:'addImage',value:function(t){var n='';if(null!=t.mdpi&&w(t.mdpi)){n=x(t.mdpi);var i=v(n).toLowerCase();n=n.replace(/.\w+$/,'').replace(/-/g,'_'),n='bmp'===i||'bmpf'===i||'cur'===i||'gif'===i||'ico'===i||'jpg'===i||'png'===i||'tif'===i||'tiff'===i||'webp'===i||'xbm'===i?e.insertStoredAsset('IMAGES',n,t):''}return n}},{key:'addColor',value:function(t){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(t=t.toUpperCase().trim(),''!==t){var i='';if(!e.STORED.COLORS.has(t)){var a=N(t);''!==a&&(a.name=o(a.name),i=t===a.hex?a.name:r('color',a.name+'_1'),e.STORED.COLORS.set(t,i))}else i=e.STORED.COLORS.get(t);return n?[i,t]:i}return''}},{key:'insertStoredAsset',value:function(t,n,r){var a=e.STORED[t];if(null!=a){var o='';if(y(n)&&(n='__'+n),w(r)){var l=0;do o=n,0<l&&(o+=l),a.has(o)||a.set(o,r),l++;while(a.has(o)&&a.get(o)!==r)}return o}return''}}]),e}(),gt;pt.STORED={STRINGS:new Map,COLORS:new Map,IMAGES:new Map};var ct=['!0','<?xml version="1.0" encoding="utf-8"?>','<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">','!1','\t<stroke android:width="{&width}" {borderStyle} />','!1','!2','!3','\t<solid android:color="@color/{&color}" />','!3','!4','\t<corners android:radius="{&radius}" />','!4','!5','\t<corners android:topLeftRadius="{&topLeftRadius}" android:topRightRadius="{&topRightRadius}" android:bottomRightRadius="{&bottomRightRadius}" android:bottomLeftRadius="{&bottomLeftRadius}" />','!5','!2','</shape>','!0'].join('\n'),mt=['!0','<?xml version="1.0" encoding="utf-8"?>','<layer-list xmlns:android="http://schemas.android.com/apk/res/android">','!1','\t<item android:top="{@top}" android:right="{@right}" android:bottom="{@bottom}" android:left="{@left}">','\t\t<shape android:shape="rectangle">','!2','\t\t\t<stroke android:width="{&width}" {borderStyle} />','!2','!3','\t\t\t<solid android:color="@color/{&color}" />','!3','!4','\t\t\t<corners android:radius="{&radius}" />','!4','!5','\t\t\t<corners android:topLeftRadius="{@topLeftRadius}" android:topRightRadius="{@topRightRadius}" android:bottomRightRadius="{@bottomRightRadius}" android:bottomLeftRadius="{@bottomLeftRadius}" />','!5','\t\t</shape>','\t</item>','!1','!6','\t<item android:drawable="@drawable/{image}" width="{@width}" height="{@height}" />','!6','</layer-list>','!0'].join('\n'),ft={ARRAYS:new Map,FONTS:new Map,DRAWABLES:new Map,STYLES:new Map,STRINGS:new Map,COLORS:new Map,IMAGES:new Map};Object.assign(ft,pt.STORED);var yt={boxSpacing:{margin:'android:layout_margin="{0}"',marginTop:'android:layout_marginTop="{0}"',marginRight:'android:layout_marginRight="{0}"',marginBottom:'android:layout_marginBottom="{0}"',marginLeft:'android:layout_marginLeft="{0}"',padding:'android:padding="{0}"',paddingTop:'android:paddingTop="{0}"',paddingRight:'android:paddingRight="{0}"',paddingBottom:'android:paddingBottom="{0}"',paddingLeft:'android:paddingLeft="{0}"'},boxStyle:{background:'android:background="@drawable/{0}"',backgroundColor:'android:background="@color/{0}"'},fontStyle:{fontFamily:'android:fontFamily="{0}"',fontStyle:'android:textStyle="{0}"',fontWeight:'android:fontWeight="{0}"',fontSize:'android:textSize="{0}"',color:'android:textColor="{0}"',backgroundColor:'android:background="{0}"'},valueString:{text:'android:text="{0}"'},optionArray:{entries:'android:entries="@array/{0}"'},imageSource:{src:'android:src="@drawable/{0}"'}},bt=function(e){function t(e){Re(this,t);var n=Oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tagStyle={},n.tagCount={},n.file.stored=ft,n}return Ce(t,e),we(t,[{key:'finalize',value:function(e){this.processFontStyle(e)}},{key:'reset',value:function(){Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'reset',this).call(this),ft.ARRAYS=new Map,ft.FONTS=new Map,ft.DRAWABLES=new Map,ft.STYLES=new Map,ft.STRINGS=new Map,ft.COLORS=new Map,ft.IMAGES=new Map,Object.assign(ft,pt.STORED),this.tagStyle={},this.tagCount={}}},{key:'setBoxSpacing',value:function(){Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setBoxSpacing',this).call(this),this.cache.elements.forEach(function(e){var t=e.element.__boxSpacing;if(null!=t){var n=yt.boxSpacing;for(var r in t)e.attr(a(q(n[r]),t[r]))}})}},{key:'setBoxStyle',value:function(){var e=this;Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setBoxStyle',this).call(this),this.cache.elements.forEach(function(t){var n=t.element,i=n.__boxStyle;if(null!=i){var r=yt.boxStyle,o=t.label;if(o&&!U(o.element,'backgroundColor')&&(i.backgroundColor=o.element.__boxStyle.backgroundColor),e.borderVisible(i.borderTop)||e.borderVisible(i.borderRight)||e.borderVisible(i.borderBottom)||e.borderVisible(i.borderLeft)||''!==i.backgroundImage||0<i.borderRadius.length){var l=void 0,d=void 0,s='';if(null!=i.border&&''===i.backgroundImage){if(l=Q(ct),d={0:[{1:e.getShapeAttribute(i,'stroke'),2:!!(0<i.backgroundColor.length||0<i.borderRadius.length)&&[{3:e.getShapeAttribute(i,'backgroundColor'),4:e.getShapeAttribute(i,'radius'),5:e.getShapeAttribute(i,'radiusInit')}]}]},1<i.borderRadius.length){var u=Z(d,'0','2'),h=e.getShapeAttribute(i,'radiusAll');u[5].push(h)}}else if(null==i.border){l=Q(mt),d={0:[{1:[],6:''!==i.backgroundImage&&[{image:i.backgroundImage,width:i.backgroundSize[0],height:i.backgroundSize[1]}]}]};var p=Z(d,'0'),g={};1<i.borderRadius.length&&Object.assign(g,{topLeftRadius:i.borderRadius[0],topRightRadius:i.borderRadius[1],bottomRightRadius:i.borderRadius[2],bottomLeftRadius:i.borderRadius[3]}),[i.borderTop,i.borderRight,i.borderBottom,i.borderLeft].forEach(function(t,n){if(e.borderVisible(t)){var r='-'+t.width,a={top:r,right:r,bottom:r,left:r,2:[{width:t.width,borderStyle:e.getBorderStyle(t)}],3:!1,4:e.getShapeAttribute(i,'radius'),5:e.getShapeAttribute(i,'radiusInit')};a[['top','right','bottom','left'][n]]=t.width,1<i.borderRadius.length&&a[5].push(g),p[1].push(a)}}),0===p[1].length&&(p[1]=!1)}else if(l=Q(mt),d={0:[{1:[{2:e.getShapeAttribute(i,'stroke'),3:e.getShapeAttribute(i,'backgroundColor'),4:e.getShapeAttribute(i,'radius'),5:e.getShapeAttribute(i,'radiusInit')}],6:''!==i.backgroundImage&&[{image:i.backgroundImage,width:i.backgroundSize[0],height:i.backgroundSize[1]}]}]},1<i.borderRadius.length){var c=Z(d,'0','1'),m=e.getShapeAttribute(i,'radiusAll');c[5].push(m)}var f=$(l,d),y=!0,b=!1,_=void 0;try{for(var x=ft.DRAWABLES.entries()[Symbol.iterator](),v;!(y=(v=x.next()).done);y=!0){var S=v.value,E=Be(S,2),T=E[0],A=E[1];if(A===f){s=T;break}}}catch(e){b=!0,_=e}finally{try{!y&&x.return&&x.return()}finally{if(b)throw _}}''===s&&(s=t.tagName.toLowerCase()+'_'+t.viewId,ft.DRAWABLES.set(s,f)),t.attr(a(r.background,s))}else null==n.__fontStyle&&0<i.backgroundColor.length&&t.attr(a(r.backgroundColor,i.backgroundColor[0]))}})}},{key:'setFontStyle',value:function(){var e=this;Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setFontStyle',this).call(this);var n={};this.cache.elements.forEach(function(e){null!=e.element.__fontStyle&&(null==n[e.tagName]&&(n[e.tagName]=[]),n[e.tagName].push(e))});var i=function(t){var r=n[t],o=[];if(r.forEach(function(e){if(null==e.labelFor){var t=!1,n=null;null!=e.label&&(n=e,e=e.label);var r=e.element;if(null!=r){var l=(n||e).id,d=Object.assign({},r.__fontStyle);if(null!=d.fontFamily){var s=d.fontFamily.toLowerCase().split(',')[0].replace(/"/g,'').trim(),u='',h='';Qe[s]&&tt.targetAPI>=Qe[s]||tt.useFontAlias&&$e[s]&&tt.targetAPI>=Qe[$e[s]]?(t=!0,d.fontFamily=s,'normal'===d.fontStyle&&delete d.fontStyle,'400'===d.fontWeight&&delete d.fontWeight):(d.fontFamily='@font/'+(s.replace(/ /g,'_')+('normal'===d.fontStyle?'':'_'+d.fontStyle)+('400'===d.fontWeight?'':'_'+(et[d.fontWeight]||d.fontWeight))),u=d.fontStyle,h=d.fontWeight,delete d.fontStyle,delete d.fontWeight),t||(!ft.FONTS.has(s)&&ft.FONTS.set(s,{}),ft.FONTS.get(s)[u+'-'+h]=!0)}for(var p=yt.fontStyle,g=Object.keys(p),c=0;c<g.length;c++){null==o[c]&&(o[c]={});var m=d[g[c]];if(w(m)){var f=a(p[g[c]],m);null==o[c][f]&&(o[c][f]=[]),o[c][f].push(l)}}}}}),null!=e.tagStyle[t]){for(var l=e.tagStyle[t],d=0;d<l.length;d++)for(var s in l[d])if(null!=o[d][s]){var u;(u=o[d][s]).push.apply(u,Ne(l[d][s]))}else o[d][s]=l[d][s];e.tagCount[t]+=r.filter(function(e){return e.visible}).length}else e.tagCount[t]=r.filter(function(e){return e.visible}).length;e.tagStyle[t]=o};for(var r in n)i(r)}},{key:'setImageSource',value:function(){Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setImageSource',this).call(this),this.cache.list.filter(function(e){return'IMG'===e.tagName}).forEach(function(e){var t=e.element.__imageSource;if(null!=t){var n=yt.imageSource;e.attr(a(n.src,t))}})}},{key:'setOptionArray',value:function(){Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setOptionArray',this).call(this),this.cache.list.filter(function(e){return'SELECT'===e.tagName}).forEach(function(e){var t=e.element.__optionArray,n=yt.optionArray,i=[];if(null!=t.stringArray){var r=!0,o=!1,l=void 0;try{for(var d=t.stringArray[Symbol.iterator](),s;!(r=(s=d.next()).done);r=!0){var u=s.value,h=ft.STRINGS.get(u);i.push(null==h?u:'@string/'+h)}}catch(e){o=!0,l=e}finally{try{!r&&d.return&&d.return()}finally{if(o)throw l}}}null!=t.numberArray&&(i=t.numberArray);var p='',g=i.join('-'),c=!0,m=!1,f=void 0;try{for(var y=ft.ARRAYS.entries()[Symbol.iterator](),b;!(c=(b=y.next()).done);c=!0){var _=b.value,x=Be(_,2),v=x[0],S=x[1];if(g===S.join('-')){p=v;break}}}catch(e){m=!0,f=e}finally{try{!c&&y.return&&y.return()}finally{if(m)throw f}}''===p&&(p=e.viewId+'_array',ft.ARRAYS.set(p,i)),e.attr(a(n.entries,p))})}},{key:'setValueString',value:function(){Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setValueString',this).call(this),this.cache.elements.forEach(function(e){var t=null==e.label?e.element:e.label.element,n=t.__valueString;if(null!=n){var i=yt.valueString,r=ft.STRINGS.get(n);if(e.is(He.TEXT)&&t instanceof HTMLElement){var o=e.style.textDecoration.match(/(underline|line-through)/);if(null!=o){var l='';switch(o[0]){case'underline':l='<u>'+n+'</u>';break;case'line-through':l='<strike>'+n+'</strike>';}null==r&&(r=''+l.replace(/[^\w+]/g,'')),/^[0-9]/.test(r)&&(r='__'+r),ft.STRINGS.delete(n),ft.STRINGS.set(l,r)}}e.attr(a(i.text,null==r?n:'@string/'+r))}})}},{key:'processFontStyle',value:function(e){var t=this,n={},r={};for(var a in this.tagStyle){n[a]={},r[a]={};var o=this.tagStyle[a].filter(function(e){return 0<Object.keys(e).length}).sort(function(e,t){var n=0,i=0,r=0,a=0;for(var o in e)n=xe(e[o].length,n),r+=e[o].length;for(var l in t)i=xe(t[l].length,i),a+=t[l].length;return n===i?r>=a?-1:1:n>i?-1:1}),l=this.tagCount[a];do if(1===o.length){for(var d in o[0]){var s=o[0][d];2<s.length?n[a][d]=s:r[a][d]=s}o.length=0}else{for(var h={},p={},g=function(e){var i={},r={},d=new Set;for(var s in o[e])if(null!=o[e]){var u=o[e][s],g=!1;if(null==u||0===u.length)continue;else u.length===l?(h[s]=u,o[e]=null,g=!0):1===u.length&&(p[s]=u,o[e]=null,g=!0);if(!g){for(var c={},m=!1,f=0;f<o.length;f++)if(e!==f)for(var y in o[f]){var b=o[f][y],_=!0,x=!1,v=void 0;try{for(var S=u[Symbol.iterator](),E,T;!(_=(E=S.next()).done);_=!0)T=E.value,b.includes(T)&&(null==c[y]&&(c[y]=[]),c[y].push(T))}catch(e){x=!0,v=e}finally{try{!_&&S.return&&S.return()}finally{if(x)throw v}}}for(var A in c)1<c[A].length&&(i[[s,A].sort().join(';')]=c[A],m=!0);m||(i[s]=u)}}for(var R in i)for(var w in i)if(R!==w&&i[R].join('')===i[w].join('')){var k=i[R].join(',');r[k]=null==r[k]?new Set([].concat(Ne(R.split(';')),Ne(w.split(';')))):new Set([].concat(Ne(r[k]),Ne(w.split(';')))),d.add(R).add(w)}for(var L in d.forEach(function(e){return delete i[e]}),i)t.deleteStyleAttribute(o,L,i[L]),n[a][L]=i[L];for(var I in r){var C=Array.from(r[I]).sort().join(';'),O=I.split(',').map(function(e){return parseInt(e)});t.deleteStyleAttribute(o,C,O),n[a][C]=O}},c=0;c<o.length;c++)g(c);var m=Object.keys(h);for(var f in 0<m.length&&(1<m.length||1<h[m[0]].length?n[a][m.join(';')]=h[m[0]]:Object.assign(p,h)),p)r[a][f]=p[f];for(var c=0;c<o.length;c++)o[c]&&0===Object.keys(o[c]).length&&delete o[c];o=o.filter(function(e){return e&&0<e.length})}while(0<o.length)}var y={},b=function(e){var t=n[e],i=[];for(var r in t)i.push({attributes:r,ids:t[r]});i.sort(function(e,t){var n=[e.ids.length,t.ids.length],i=n[0],r=n[1];if(i===r){var a=[e.attributes.split(';').length,t.attributes.split(';').length];i=a[0],r=a[1]}return i>=r?-1:1}),i.forEach(function(t,n){return t.name=e.charAt(0)+e.substring(1).toLowerCase()+'_'+(n+1)}),y[e]=i};for(var _ in n)b(_);var x=new Set,v={};for(var _ in y){var S=!0,E=!1,T=void 0;try{for(var A=y[_][Symbol.iterator](),R;!(S=(R=A.next()).done);S=!0){var w=R.value,k=!0,L=!1,I=void 0;try{for(var C=w.ids[Symbol.iterator](),O,D;!(k=(O=C.next()).done);k=!0)D=O.value,null==v[D]&&(v[D]={styles:[],attributes:[]}),v[D].styles.push(w.name)}catch(e){L=!0,I=e}finally{try{!k&&C.return&&C.return()}finally{if(L)throw I}}}}catch(e){E=!0,T=e}finally{try{!S&&A.return&&A.return()}finally{if(E)throw T}}var F=r[_];if(null!=F)for(var B in F){var N=function(t){if(B.startsWith('android:background=')){var n=e.cache.find(function(e){return e.id===t});if(n&&null!=n.android('backround'))return'continue'}null==v[t]&&(v[t]={styles:[],attributes:[]}),v[t].attributes.push(B)},P=!0,G=!1,M=void 0;try{for(var H=F[B][Symbol.iterator](),X;!(P=(X=H.next()).done);P=!0){var W=X.value,z=N(W)}}catch(e){G=!0,M=e}finally{try{!P&&H.return&&H.return()}finally{if(G)throw M}}}}var V=function(t){var n=e.cache.find(function(e){return e.id===parseInt(t)});if(null!=n){var i=v[t].styles,r=v[t].attributes,a=u(n.renderDepth+1),o='';0<i.length&&(x.add(i.join('.')),o+='\n'+a+'style="@style/'+i.pop()+'"'),0<r.length&&r.sort().forEach(function(e){return o+='\n'+a+e});for(var l=0;l<e.views.length;l++){var d=e.views[l],s='{&'+t+'}';if(new RegExp(s).test(d)){e.views[l]=d.replace(s,o);break}}}};for(var U in v)V(U);var j=function(e){var t='';e.split('.').forEach(function(e){var n=e.match(/^(\w+)_([0-9]+)$/);if(null!=n){var i=y[n[1].toUpperCase()][parseInt(n[2])-1];ft.STYLES.set(e,{parent:t,attributes:i.attributes}),t=e}})},Y=!0,K=!1,J=void 0;try{for(var q=x[Symbol.iterator](),Z,Q;!(Y=(Z=q.next()).done);Y=!0)Q=Z.value,j(Q)}catch(e){K=!0,J=e}finally{try{!Y&&q.return&&q.return()}finally{if(K)throw J}}this.views=e.views}},{key:'deleteStyleAttribute',value:function(e,t,n){t.split(';').forEach(function(t){for(var r=0;r<e.length;r++)if(null!=e[r]){var a=-1,o='';for(var l in e[r])if(l===t){a=r,o=l,r=e.length;break}if(-1!==a){e[a][o]=e[a][o].filter(function(e){return!n.includes(e)}),0===e[a][o].length&&delete e[a][o];break}}})}},{key:'getShapeAttribute',value:function(e,t){switch(t){case'stroke':return'0px'!==e.border.width&&[{width:e.border.width,borderStyle:this.getBorderStyle(e.border)}];case'backgroundColor':return!!(0<e.backgroundColor.length)&&[{color:e.backgroundColor[0]}];case'radius':return 1===e.borderRadius.length&&'0px'!==e.borderRadius[0]&&[{radius:e.borderRadius[0]}];case'radiusInit':return!!(1<e.borderRadius.length)&&[];case'radiusAll':var n={};return e.borderRadius.forEach(function(e,t){return n[['topLeft','topRight','bottomRight','bottomLeft'][t]+'Radius']=e}),n;}}}]),t}(pt),_t=function(){function e(t,n,i){Re(this,e),this.directory=t,this.processingTime=n,this.appName='',this.compression='zip',w(i)&&(this.compression=i)}return we(e,[{key:'saveToDisk',value:function(e){var t=this;return location.protocol.startsWith('http')?void(null!=e&&0<e.length&&fetch('/api/savetodisk?directory='+encodeURIComponent(_(this.directory,'/'))+'&appname='+encodeURIComponent(this.appName.trim())+'&filetype='+this.compression.toLocaleLowerCase()+'&processingtime='+this.processingTime.toString().trim(),{method:'POST',body:JSON.stringify(e),headers:new Headers({Accept:'application/json, text/plain, */*',"Content-Type":'application/json'})}).then(function(e){return e.json()}).then(function(e){e&&(null==e.zipname?null!=e.system&&alert(e.application+'\n\n'+e.system):fetch('/api/downloadtobrowser?filename='+encodeURIComponent(e.zipname)).then(function(e){return e.blob()}).then(function(n){return t.downloadToDisk(n,x(e.zipname))}))}).catch(function(e){return alert('ERROR: '+e)})):void alert('SERVER (required): See README for instructions')}},{key:'downloadToDisk',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',i=new Blob([e],{type:n||'application/octet-stream'});if('undefined'!=typeof window.navigator.msSaveBlob)return void window.navigator.msSaveBlob(i,t);var r=window.URL.createObjectURL(i),a=document.createElement('a');a.style.display='none',a.href=r,a.setAttribute('download',t),'undefined'==typeof a.download&&a.setAttribute('target','_blank'),document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(function(){return window.URL.revokeObjectURL(r)},100)}}]),e}(),xt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<string name="{name}">{value}</string>','!1','</resources>','<!-- filename: res/values/strings.xml -->','!0'].join('\n'),vt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<string-array name="{name}">','!2','\t\t<item>{value}</item>','!2','\t</string-array>','!1','</resources>','<!-- filename: res/values/string_arrays.xml -->','!0'].join('\n'),St=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<style name="{name1}" parent="{@parent}">','!2','\t\t<item name="{name2}">{value}</item>','!2','\t</style>','!1','</resources>','<!-- filename: res/values/styles.xml -->','!0'].join('\n'),Et=['!0','<?xml version="1.0" encoding="utf-8"?>','<font-family xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="{#app=http://schemas.android.com/apk/res-auto}">','!1','\t<font android:fontStyle="{style}" android:fontWeight="{weight}" android:font="{font}" app:fontStyle="{#app=style}" app:fontWeight="{#app=weight}" app:font="{#app=font}" />','!1','</font-family>','<!-- filename: res/font/{name}.xml -->','!0'].join('\n'),Tt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<color name="{value}">{name}</color>','!1','</resources>','<!-- filename: res/values/colors.xml -->','!0'].join('\n'),At=['!0','{value}','<!-- filename: {name} -->','!0'].join('\n'),Rt=function(t){function n(){return Re(this,n),Oe(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,tt.outputDirectory,tt.outputMaxProcessingTime,tt.outputArchiveFileType))}return Ce(n,t),we(n,[{key:'saveAllToDisk',value:function(e){for(var t=[],n=0;n<e.views.length;n++)t.push(this.getLayoutFile(0===n?tt.outputActivityMainFileName:e.ids[n]+'.xml',e.views[n]));var r=this.resourceDrawableToXml();t.push.apply(t,Ne(this.parseFileDetails(this.resourceStringToXml()))),t.push.apply(t,Ne(this.parseFileDetails(this.resourceStringArrayToXml()))),t.push.apply(t,Ne(this.parseFileDetails(this.resourceFontToXml()))),t.push.apply(t,Ne(this.parseFileDetails(this.resourceColorToXml()))),t.push.apply(t,Ne(this.parseFileDetails(this.resourceStyleToXml()))),t.push.apply(t,Ne(this.parseImageDetails(r)).concat(Ne(this.parseFileDetails(r)))),this.saveToDisk(t)}},{key:'layoutAllToXml',value:function(e){for(var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n={},r=[],a=0,o;a<e.views.length;a++)o=e.views[a],n[e.ids[a]]=o,t&&r.push(this.getLayoutFile(0===a?tt.outputActivityMainFileName:e.ids[a]+'.xml',o));return t&&this.saveToDisk(r),n}},{key:'resourceAllToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),drawable:this.resourceDrawableToXml()};if(e){var n=[];for(var i in t)'drawable'==i&&n.push.apply(n,Ne(this.parseImageDetails(t[i]))),n.push.apply(n,Ne(this.parseFileDetails(t[i])));this.saveToDisk(n)}return t}},{key:'resourceStringToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];w(this.appName)&&!this.stored.STRINGS.has('app_name')&&this.stored.STRINGS.set(this.appName,'app_name'),this.stored.STRINGS=new Map([].concat(Ne(this.stored.STRINGS.entries())).sort(I));var t='';if(0<this.stored.STRINGS.size){var n=Q(xt),i={0:[{1:[]}]},r=Z(i,'0'),a=!0,o=!1,l=void 0;try{for(var d=this.stored.STRINGS.entries()[Symbol.iterator](),s;!(a=(s=d.next()).done);a=!0){var u=s.value,h=Be(u,2),p=h[0],g=h[1];r[1].push({name:g,value:p})}}catch(e){o=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(o)throw l}}t=$(n,i),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceStringArrayToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.ARRAYS=new Map([].concat(Ne(this.stored.ARRAYS.entries())).sort());var t='';if(0<this.stored.ARRAYS.size){var n=Q(vt),i={0:[{1:[]}]},r=Z(i,'0'),a=!0,o=!1,l=void 0;try{for(var d=this.stored.ARRAYS.entries()[Symbol.iterator](),s;!(a=(s=d.next()).done);a=!0){var u=s.value,h=Be(u,2),p=h[0],g=h[1],c={name:p,2:[]},m=c[2],f=!0,y=!1,b=void 0;try{for(var _=g[Symbol.iterator](),x,v;!(f=(x=_.next()).done);f=!0)v=x.value,m.push({value:v})}catch(e){y=!0,b=e}finally{try{!f&&_.return&&_.return()}finally{if(y)throw b}}r[1].push(c)}}catch(e){o=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(o)throw l}}t=$(n,i),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceFontToXml',value:function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.FONTS=new Map([].concat(Ne(this.stored.FONTS.entries())).sort());var n='';if(0<this.stored.FONTS.size){var i=Q(Et),r=!0,a=!1,o=void 0;try{for(var l=this.stored.FONTS.entries()[Symbol.iterator](),d;!(r=(d=l.next()).done);r=!0){var s=d.value,u=Be(s,2),h=u[0],p=u[1],g={"#include":{},"#exclude":{},0:[{name:h,1:[]}]};g[tt.targetAPI<e.build.OREO?'#include':'#exclude'].app=!0;var c=Z(g,'0');for(var m in p){var f=m.split('-'),y=Be(f,2),b=y[0],_=y[1];c[1].push({style:b,weight:_,font:'@font/'+(h+('normal'===b&&'400'===_?'_'+b:('normal'===b?'':'_'+b)+('400'===_?'':'_'+(et[_]||_))))})}n+='\n\n'+$(i,g)}}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}t&&this.saveToDisk(this.parseFileDetails(n))}return n.trim()}},{key:'resourceColorToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.COLORS.size){this.stored.COLORS=new Map([].concat(Ne(this.stored.COLORS.entries())).sort());var n=Q(Tt),i={0:[{1:[]}]},r=Z(i,'0'),a=!0,o=!1,l=void 0;try{for(var d=this.stored.COLORS.entries()[Symbol.iterator](),s;!(a=(s=d.next()).done);a=!0){var u=s.value,h=Be(u,2),p=h[0],g=h[1];r[1].push({name:p,value:g})}}catch(e){o=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(o)throw l}}t=$(n,i),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceStyleToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.STYLES.size){this.stored.STYLES=new Map([].concat(Ne(this.stored.STYLES.entries())).sort());var n=Q(St),i={0:[{1:[]}]},r=Z(i,'0'),a=function(e,t){var n={name1:e,parent:t.parent||'',2:[]};t.attributes.split(';').sort().forEach(function(e){var t=e.split('='),i=Be(t,2),r=i[0],a=i[1];n[2].push({name2:r,value:a.replace(/"/g,'')})}),r[1].push(n)},o=!0,l=!1,d=void 0;try{for(var s=this.stored.STYLES.entries()[Symbol.iterator](),u;!(o=(u=s.next()).done);o=!0){var h=u.value,p=Be(h,2),g=p[0],m=p[1];a(g,m)}}catch(e){l=!0,d=e}finally{try{!o&&s.return&&s.return()}finally{if(l)throw d}}t=$(n,i),tt.useUnitDP&&(t=c(t,tt.density,!0)),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceDrawableToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.DRAWABLES.size||0<this.stored.IMAGES.size){var n=Q(At),i={0:[]},r=i[0],a=!0,o=!1,l=void 0;try{for(var d=this.stored.DRAWABLES.entries()[Symbol.iterator](),s;!(a=(s=d.next()).done);a=!0){var u=s.value,h=Be(u,2),p=h[0],g=h[1];r.push({name:'res/drawable/'+p+'.xml',value:g})}}catch(e){o=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(o)throw l}}var m=!0,f=!1,y=void 0;try{for(var b=this.stored.IMAGES.entries()[Symbol.iterator](),_;!(m=(_=b.next()).done);m=!0){var x=_.value,S=Be(x,2),E=S[0],T=S[1];if(1<Object.keys(T).length)for(var A in T)r.push({name:'res/drawable-'+A+'/'+E+'.'+v(T[A]),value:'<!-- image: '+T[A]+' -->'});else null!=T.mdpi&&r.push({name:'res/drawable/'+E+'.'+v(T.mdpi),value:'<!-- image: '+T.mdpi+' -->'})}}catch(e){f=!0,y=e}finally{try{!m&&b.return&&b.return()}finally{if(f)throw y}}t=$(n,i),tt.useUnitDP&&(t=c(t,tt.density)),e&&this.saveToDisk([].concat(Ne(this.parseImageDetails(t)),Ne(this.parseFileDetails(t))))}return t}},{key:'parseImageDetails',value:function(e){for(var t=[],n=/<!-- image: (.+) -->\n<!-- filename: (.+)\/(.*?\.\w+) -->/,i=null;null!=(i=n.exec(e));)t.push({uri:i[1],pathname:i[2],filename:i[3]}),e=e.replace(i[0],'');return t}},{key:'parseFileDetails',value:function(e){for(var t=[],n=/<\?xml[\w\W]*?(<!-- filename: (.+)\/(.*?\.xml) -->)/,i=null;null!=(i=n.exec(e));)t.push({content:i[0].replace(i[1],'').trim(),pathname:i[2],filename:i[3]}),e=e.replace(i[0],'');return t}},{key:'getLayoutFile',value:function(e,t){return{content:t,pathname:'res/layout',filename:e}}}]),n}(_t),wt=function(e){function t(e,n,i){return Re(this,t),Oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return Ce(t,e),we(t,[{key:'condition',value:function(){var e=this;return Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'condition',this).call(this)||!this.node.flex.enabled&&1<this.node.children.length&&this.node.children.every(function(t){return!t.flex.enabled&&e.node.children[0].tagName===t.tagName&&ze.includes(t.tagName)&&1<t.children.length&&t.children.every(function(e){return'right'!==e.css('float')})})}},{key:'render',value:function(e){var t='',i=[],r=[],a=this.options&&this.options.balanceColumns;if(a){for(var o=[],d=0,s;d<this.node.children.length;d++){s=this.node.children[d].children,o[d]=[];for(var u=0;u<s.length;u++)o[d].push(s[u].bounds.width);i.push(s)}var h=i[o.findIndex(function(e){return e===o.reduce(function(e,t){return e.length===t.length?e.reduce(function(e,t){return e+t},0)<t.reduce(function(e,t){return e+t},0)?e:t:e.length<t.length?e:t})})];if(1<h.length)for(var p=-1,g=[],c=!1,f=function(e){var t=h[e].bounds,n=[];if(e<h.length-1)for(var r=function(r){if(i[r]===h)n.push(e);else{var a=i[r].findIndex(function(n,a){return a>=e&&Se(n.bounds.width)===Se(t.width)&&a<i[r].length-1});if(-1!==a)n.push(a);else return n.length=0,'break'}},a=0,o;a<i.length&&(o=r(a),'break'!==o);a++);else for(var l=0;l<i.length;l++)if(i[l].length>h.length){var d=i[l].splice(g[l]+(c?2:1),i[l].length-h.length);i[l][g[l]+(c?1:0)].gridSiblings=[].concat(Ne(d))}if(n.length===i.length){var s=n.reduce(function(e,t){return _e(e,t)});if(p=n.reduce(function(e,t){return xe(e,t)}),p>s)for(var u=0;u<i.length;u++)if(n[u]>s){var m=i[u].splice(s,n[u]-s);i[u][g[u]].gridSiblings=[].concat(Ne(m))}g=n,c=!0}else g=Array(i.length).fill(e),c=!1},y=0;y<h.length;y++)f(y);else i.length=0}else{var b=e[this.node.depth+2],_=b?Object.keys(b):[];if(1<_.length){for(var x=[],v=0,S;v<_.length;v++){S=b[_[v]].sortAsc('bounds.top'),x[v]=0===v?0:x[v-1];for(var E=0,T;E<S.length;E++)if(T=S[E],T.parent.parent&&this.node.id===T.parent.parent.id){var A=[T.bounds.left,T.bounds.right],R=A[0],w=A[1];(0===v||R>=x[v-1])&&(null==i[v]&&(i[v]=[]),i[v].push(T)),x[v]=xe(w,x[v])}}for(var k=0,L=-1;k<x.length;k++)if(-1===L&&null==i[k])L=k-1;else if(null==i[k]){-1!=L&&k===x.length-1&&(x[L]=x[k]);continue}else-1!=L&&(x[L]=x[k-1],L=-1);for(var I=0;I<i.length;I++)null!=i[I]&&r.push(x[I]);i=i.filter(function(e){return e});for(var C=i.reduce(function(e,t){return xe(e,t.length)},0),O=0,D;O<C;O++){D=null;for(var F=0,B;F<i.length;F++)if(B=i[F][O],null==B)i[F].splice(O,0,{spacer:1});else if(null==D)D=B.bounds.top;else if(B.bounds.top!==D){var N=i[F-1][O+1];null==i[F][O-1]||N&&N.bounds.top===B.bounds.top?i[F].splice(O,0,{spacer:1}):null==i[F][O+1]&&(i[F][O+1]=B,i[F][O]={spacer:1})}}}}if(1<i.length){this.node.gridColumnEnd=r,this.node.gridColumnCount=a?i[0].length:i.length,t=this.application.writeGridLayout(this.node,this.parent,this.node.gridColumnCount);for(var P=0,G=0,M;P<i.length;P++){M=0;for(var H=0,X=0,W;H<i[P].length;H++)if(W=i[P][H],!!W.spacer)1===W.spacer&&M++;else if(W.parent.hide(),W.parent=this.node,a)W.gridRowStart=0===H,W.gridRowEnd=H===i[P].length-1,W.gridFirst=0===P&&0===H,W.gridLast=P===i.length-1&&W.gridRowEnd,W.gridIndex=H;else{for(var z=1,V=1+M,U=P+1;U<i.length&&1===i[U][H].spacer;U++)V++,i[U][H].spacer=2;if(1===V)for(var j=H+1;j<i[P].length&&1===i[P][j].spacer;j++)z++,i[P][j].spacer=2;1<z&&(W.gridRowSpan=z),1<V&&(W.gridColumnSpan=V),W.gridRowStart=0==X++,W.gridRowEnd=V+P===i.length,W.gridFirst=0==G++,W.gridLast=W.gridRowEnd&&H===i[P].length-1,W.gridIndex=P,M=0}}}return t}},{key:'processChild',value:function(e){var t='',n=void 0;if(this.options&&this.options.balanceColumns)n=e.gridSiblings;else{var i=this.parent.gridColumnEnd[e.gridIndex+e.gridColumnSpan];n=e.parentOriginal.children.filter(function(t){return!t.renderParent&&t.bounds.left>=e.bounds.right&&t.bounds.right<=i})}if(null!=n&&0<n.length){var r=this.parent;n.unshift(e),C(n,'bounds.x');var a=this.application.controllerHandler.createGroup(e,r,n);this.application.cache.list.push(a);var o=[Ge.linearX(n),Ge.linearY(n)],l=o[0],d=o[1];return t=l||d?this.application.writeLinearLayout(a,r,d):this.application.writeDefaultLayout(a,r),[t,!0]}return['',!1]}}]),t}(Me),kt=function(e){function t(e,n,i){return Re(this,t),Oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return Ce(t,e),we(t,[{key:'beforeInit',value:function(){this.included('androme.hidden')&&null!=this.element&&(this.element.style.display='')}},{key:'init',value:function(e){return!!(null!=this.application&&this.included('androme.hidden',e)&&'none'===e.style.display)&&(this.application.elements.add(e),!0)}},{key:'afterInit',value:function(){this.included('androme.hidden')&&null!=this.element&&(this.element.style.display='none')}},{key:'render',value:function(){return''}}]),t}(Me),Lt=function(e){function t(e,n,i){return Re(this,t),Oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return Ce(t,e),we(t,[{key:'condition',value:function(){return Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'condition',this).call(this)||this.node.children.every(function(e){return'LI'===e.tagName})&&this.node.children.some(function(e){return'list-item'===e.css('display')&&'none'!==e.css('listStyleType')})&&(this.linearX||this.linearY)}},{key:'render',value:function(){var e='';e=this.linearY?this.application.writeGridLayout(this.node,this.parent,2):this.application.writeLinearLayout(this.node,this.parent,this.linearY);for(var t=0,n=0;t<this.node.children.length;t++){var r=this.node.children[t],a='0';if('list-item'===r.css('display')){var o=r.css('listStyleType');a='disc'===o?'\u25CF':'square'===o?'\u25A0':'lower-alpha'===o||'lower-latin'===o?d(n).toLowerCase()+'.':'upper-alpha'===o||'upper-latin'===o?d(n)+'.':'lower-roman'===o?s(n+1).toLowerCase()+'.':'upper-roman'===o?s(n+1)+'.':'OL'===this.node.tagName?(('decimal-leading-zero'===o&&9>n?'0':'')&&(n+1).toString())+'.':'\u25CB',n++}r.options(this.extension||'androme.list',{listStyle:a})}return e}}]),t}(Me),It=function(e){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return Re(this,t),Oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return Ce(t,e),we(t,[{key:'processChild',value:function(e){var t=this.application.controllerHandler,n=e.options(this.extension||'androme.list');if(n&&null!=n.listStyle){var i;t.prependBefore(e.id,t.getViewStatic('0'===n.listStyle?He.SPACE:He.TEXT,e.depth,{android:(i={gravity:q('right'),layout_gravity:'fill',layout_columnWeight:'0'},ke(i,q('layout_marginRight'),'8px'),ke(i,'text','0'===n.listStyle?'':n.listStyle),i)})[0]),e.android('layout_columnWeight','1')}return['',!1]}}]),t}(Lt),Ct=function(e){function t(e,n,i){return Re(this,t),Oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return Ce(t,e),we(t,[{key:'condition',value:function(){return Ie(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'condition',this).call(this)||null!=this.node&&null!=this.node.element&&null==this.node.element.dataset.extension}},{key:'render',value:function(){var e=[],t=this.node.children.find(function(e){return'THEAD'===e.tagName}),n=this.node.children.find(function(e){return'TBODY'===e.tagName}),r=this.node.children.find(function(e){return'TFOOT'===e.tagName});null!=t&&(t.cascade().filter(function(e){return'TH'===e.tagName||'TD'===e.tagName}).forEach(function(e){return e.inheritStyleMap(t)}),e.push.apply(e,Ne(t.children)),t.hide()),null!=n&&(e.push.apply(e,Ne(n.children)),n.hide()),null!=r&&(r.cascade().filter(function(e){return'TH'===e.tagName||'TD'===e.tagName}).forEach(function(e){return e.inheritStyleMap(r)}),e.push.apply(e,Ne(r.children)),r.hide());for(var a=e.length,o=0,l=0,d;l<e.length;l++){d=e[l],d.hide(),o=xe(d.children.map(function(e){return e.element}).reduce(function(e,t){return e+t.colSpan},0),o);for(var s=0,u;s<d.children.length;s++)if(u=d.children[s],null!=u.element){var h=u.element.style,p=u.element;1<p.rowSpan&&(u.gridRowSpan=p.rowSpan),1<p.colSpan&&(u.gridColumnSpan=p.colSpan),null!=u.styleMap.textAlign||'left'===h.textAlign||'start'===h.textAlign||(u.styleMap.textAlign=h.textAlign),null==u.styleMap.verticalAlign&&''===h.verticalAlign&&(u.styleMap.verticalAlign='middle');var g='collapse'===this.node.style.borderCollapse?['0px','0px']:this.node.style.borderSpacing.split(' '),c=Be(g,2),m=c[0],f=c[1];delete u.styleMap.margin,u.styleMap.marginTop=f,u.styleMap.marginRight=m,u.styleMap.marginBottom=f,u.styleMap.marginLeft=m,u.parent=this.node}}var y=this.application.writeGridLayout(this.node,this.parent,o,a);return y}}]),t}(Me),Ot=void 0,Dt=new Set,Ft={grid:new wt([],'androme.grid',{balanceColumns:!0}),hidden:new kt([],'androme.hidden'),list:new It(['UL','OL'],'androme.list'),table:new Ct(['TABLE'],'androme.table')};e.parseDocument=te,e.registerExtension=ne,e.configureExtension=ie,e.ready=re,e.close=ae,e.reset=oe,e.saveAllToDisk=le,e.writeLayoutAllXml=de,e.writeResourceAllXml=se,e.writeResourceStringXml=ue,e.writeResourceArrayXml=he,e.writeResourceFontXml=pe,e.writeResourceColorXml=ge,e.writeResourceStyleXml=ce,e.writeResourceDrawableXml=me,e.toString=fe,e.api=at,e.settings=tt,Object.defineProperty(e,'__esModule',{value:!0})});
