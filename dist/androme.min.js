/* androme 1.8.18 https://github.com/anpham6/androme */(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?t(exports):'function'==typeof define&&define.amd?define(['exports'],t):t(e.androme={})})(this,function(e){'use strict';function t(e){for(var t=arguments.length,n=Array(2<t?t-2:0),a=2;a<t;a++)n[a-2]=arguments[a];var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;return e.sort(function(e,t){var a=!0,r=!1,o=void 0;try{for(var d=n[Symbol.iterator](),l;!(a=(l=d.next()).done);a=!0){var s=l.value,u=N(e,t,s);if(u&&u[0]!==u[1])return 0===i?u[0]>=u[1]?1:-1:u[0]<=u[1]?1:-1}}catch(e){r=!0,o=e}finally{try{!a&&d.return&&d.return()}finally{if(r)throw o}}return 0})}function n(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(var r=0;r<n.length;r++)e=e.replace('{'+r+'}',n[r]);return e}function a(e){e=e.charAt(0).toLowerCase()+e.substring(1);var t=e.match(/([a-z]{1}[A-Z]{1})/g);if(null!=t){var n=!0,a=!1,i=void 0;try{for(var r=t[Symbol.iterator](),o,d;!(n=(o=r.next()).done);n=!0)d=o.value,e=e.replace(d,d[0]+'_'+d[1].toLowerCase())}catch(e){a=!0,i=e}finally{try{!n&&r.return&&r.return()}finally{if(a)throw i}}}return e}function r(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'-';e=e.replace(new RegExp('^'+t+'+'),'');var n=e.match(new RegExp('('+t+'{1}[a-z]{1})','g'));if(null!=n){var a=!0,i=!1,r=void 0;try{for(var o=n[Symbol.iterator](),d,l;!(a=(d=o.next()).done);a=!0)l=d.value,e=e.replace(l,l[1].toUpperCase())}catch(e){i=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(i)throw r}}}return e}function o(e){return null==e?'':e.replace(/[^\w]/g,'_').trim()}function d(e){var t=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];return e.charAt(0)[t?'toUpperCase':'toLowerCase']()+e.substring(1)[t?'toLowerCase':'toString']()}function l(e){return we(e.reduce(function(e,t){return e+t})/e.length)}function s(e){return e&&parseInt(e)||0}function u(e){return e&&parseFloat(e)||0}function p(e){if(S(e)){y(e)&&(e+='px');var t=e.match(/(pt|em)/);if(e=parseFloat(e),null!=t)switch(t[0]){case'pt':e*=4/3;break;case'em':e*=16;}if(!isNaN(e))return e+'px'}return'0px'}function c(e){return e=parseFloat(e),(isNaN(e)?0:Oe(e))+'px'}function h(e){for(var t='',n;e>=26;){n=we(e/26),1<n&&n<=26?(t+='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(n-1),e-=n*26):n>26&&(t+=h(n*26),e-=n*26);var a=e%26;t+='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(a),e-=a+26}return t='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(e)+t,t}function g(e){for(var t='',n=e.toString().split(''),a=['','C','CC','CCC','CD','D','DC','DCC','DCCC','CM','','X','XX','XXX','XL','L','LX','LXX','LXXX','XC','','I','II','III','IV','V','VI','VII','VIII','IX'],r=3;r--;)t=(a[parseInt(n.pop())+10*r]||'')+t;return'M'.repeat(parseInt(n.join('')))+t}function m(e,t,n){var a=!0,i=!1,r=void 0;try{for(var o=Object.keys(e)[Symbol.iterator](),d;!(a=(d=o.next()).done);a=!0){var l=d.value,s=e[l];if(n===s)return t[l]}}catch(e){i=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(i)throw r}}return''}function f(e,t){return(e&t)===t}function y(e){return /^[0-9]+(\.[0-9]+)?$/.test(e.toString().trim())}function b(e){return /^[0-9]+%$/.test(e)}function _(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:',';return e.split(n).map(function(e){return e.trim()}).includes(t)}function T(e,t,n){var a=!1,r=null;if(null!=e){var o=t.split('.');r=e;var d=0;do r=null==r[o[d]]?null:r[o[d]];while(null!=r&&++d<o.length&&'string'!=typeof r&&'number'!=typeof r&&'boolean'!=typeof r);a=null!=r&&d===o.length}return'object'===n?a?r:null:'number'===n?a&&!isNaN(parseInt(r))?parseInt(r):0:'boolean'===n?a&&r:a?r.toString():''}function x(e){if(!/^\w+:\/\//.test(e)){var t=location.pathname.split('/');if(t.pop(),'/'===e.charAt(0))e=location.origin+e;else if(e.startsWith('../')){var n=[],a=0,i;e.split('/').forEach(function(e){'..'===e?a++:n.push(e)}),t=t.slice(0,Se(t.length-a,0)),(i=t).push.apply(i,n),e=location.origin+t.join('/')}else e=location.origin+t.join('/')+'/'+e}return e}function E(e,t){return e.replace(new RegExp('^'+t+'+','g'),'').replace(new RegExp(t+'+$','g'),'')}function I(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'\t';return t.repeat(e)}function R(e){if(S(e)){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var i=!0,r=!1,o=void 0;try{for(var d=n[Symbol.iterator](),l;!(i=(l=d.next()).done);i=!0){var s=l.value,u=e.indexOf(s);if(-1!==u)return u}}catch(e){r=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(r)throw o}}}return-1}function v(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'/';return e.substring(e.lastIndexOf(t)+1)}function A(e,t){for(var n=arguments.length,a=Array(2<n?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];var r=!0,o=!1,d=void 0;try{for(var l=a[Symbol.iterator](),s;!(r=(s=l.next()).done);r=!0){var u=s.value,p=N(e,t,u);if(!p||p[0]!==p[1])return!1}}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}return!0}function L(e,t){var n=[];if('object'===('undefined'==typeof t?'undefined':ke(t)))for(var a in t){var r=t[a];S(e[r])&&n.push([r,e[r]])}else{var o=function(e){return e===t};for(var d in /^\*.+\*$/.test(t)?o=function(e){return-1!==e.indexOf(t.replace(/\*/g,''))}:/^\*/.test(t)?o=function(e){return e.endsWith(t.replace(/\*/,''))}:/\*$/.test(t)&&(o=function(e){return e.startsWith(t.replace(/\*/,''))}),e)o(d)&&n.push([d,e[d]])}return n}function N(e,t,n){var a=n.split('.'),i=e,r=t,o=!0,d=!1,l=void 0;try{for(var u=a[Symbol.iterator](),p,c;!(o=(p=u.next()).done);o=!0)if(c=p.value,null!=i[c]&&null!=r[c])i=i[c],r=r[c];else return(null!=i[c]||null!=r[c])&&(null==i[c]?[0,1]:[1,0])}catch(e){d=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(d)throw l}}return isNaN(parseInt(i))&&isNaN(parseInt(r))?[i,r]:[s(i),s(r)]}function S(e){return'undefined'!=typeof e&&null!==e&&''!==e.toString().trim()}function O(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;return t>=e-a&&t<=e+a}function w(e,t){return e===t||we(e)===we(t)||Oe(e)===we(t)||we(e)===Oe(t)}function k(e,t){return e.toString().toLowerCase()>=t.toString().toLowerCase()?1:-1}function C(e){for(var n=arguments.length,a=Array(1<n?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.apply(void 0,[e,0].concat(a))}function D(e){for(var n=arguments.length,a=Array(1<n?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return t.apply(void 0,[e,1].concat(a))}function B(e){return e.replace(/{[<:@>]{1}[0-9]+}/g,'').trim()}function P(e,t){return e.split('\n').map(function(e){var n=/^({.*?})(.*)/g.exec(e),a=I(t);return null==n?a+e:''===n[2]?'':n[1]+a+n[2]}).join('\n')}function F(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return 0<t&&(n?e=e.split('\n').map(function(e){var n=e.match(/^(\t+)(.*)$/);return null==n?e:' '.repeat(t*n[1].length)+n[2]}).join('\n'):e=e.replace(/\t/g,' '.repeat(t))),e}function M(e){return e=e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)}),e=e.replace(/&nbsp;/g,'&#160;'),e}function G(e){for(var t=e,n=arguments.length,a=Array(1<n?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var r=!0,o=!1,d=void 0;try{for(var l=a[Symbol.iterator](),s;!(r=(s=l.next()).done);r=!0){var u=s.value,p=u.split('-'),c=ze(p,2),h=c[0],g=c[1],m=g===void 0?'0':g;t=t[h][m]}}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}return t}function H(e){var t={},n=null,a=!1,i=0,r=e.length;do{if(a){var o=a[0].replace(new RegExp(a[1],'g'),'');for(var d in t)t[d]=t[d].replace(new RegExp(a[0],'g'),'{%'+a[2]+'}');t[a[2]]=o,r-=a[0].length}if(null==a||0===r){if(e=t[i++],!S(e))break;r=e.length,a=null}if(a||(n=/(!([0-9]+)\n?)[\w\W]*\1/g),null!=n)a=n.exec(e);else break}while(!0);return t}function W(e,t,n,a,r){var o=null==n?'':e[n];for(var d in null!=t['#include']&&(a=t['#include'],delete t['#include']),null!=t['#exclude']&&(r=t['#exclude'],delete t['#exclude']),t){var i='';if(!1===t[d]){o=o.replace('{%'+d+'}','');continue}else if(Array.isArray(t[d]))for(var l in t[d])i+=W(e,t[d][l],d,a,r);else i=t[d];null!=i&&''!==i?o=null==n?i.trim():o.replace(new RegExp('{[%@&]*'+d+'}','g'),i):new RegExp('{%'+d+'}').test(o)||!1===i?o=o.replace('{%'+d+'}',''):new RegExp('{&'+d+'}').test(o)&&(o='');for(var s=/\s+[\w:]+="{#(\w+)=(.*?)}"/g,u=void 0;null!=(u=s.exec(o));)if(a&&a[u[1]]){var p='{#'+u[1]+'='+u[2]+'}';o=o.replace(p,t[u[2]]||u[2])}else r&&r[u[1]]&&(o=o.replace(u[0],''))}return o.replace(/\s+[\w:]+="{@\w+}"/g,'')}function X(e){var t=!1,n=document.createRange();n.selectNodeContents(e);for(var a=Array.from(n.getClientRects()),r=JSON.parse(JSON.stringify(a[0])),o=new Set([r.top]),d=new Set([r.bottom]),l=1,s;l<a.length;l++)s=a[l],o.add(s.top),d.add(s.bottom),r.width+=s.width,r.right=Se(s.right,r.right);return 1<o.size&&1<d.size&&(r.top=Ne.apply(null,Array.from(o)),r.bottom=Se.apply(null,Array.from(d)),r.height=r.bottom-r.top,t=!0),[V(r),t]}function V(e){return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function z(e){var t=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];if(null!=e){var n=e;if(t){if(null!=n.__style)return n.__style;if(null!=n.__node&&null!=n.__node.style)return n.__node.style}if('#text'!==e.nodeName){var a=getComputedStyle(e);return n.__style=a,a}}return{}}function U(e,t){if(null!=e.parentElement){var n=z(e);return n&&n[t]===z(e.parentElement)[t]}return!1}function Y(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n={},a=z(e),i=e.__node;return['padding','margin'].forEach(function(e){['Top','Left','Right','Bottom'].forEach(function(r){var o=e+r,d=s(null==i?a[o]:i[o]);(t||0!==d)&&(n[o]=d)})}),n}function Z(e){return e&&e.childNodes&&Array.from(e.childNodes).some(function(e){return'#text'===e.nodeName&&''!==T(e,'textContent').trim()})}function K(e){switch(e.tagName){case'BR':case'OPTION':case'AREA':return!1;}if('function'==typeof e.getBoundingClientRect){var t=e.getBoundingClientRect();if(0!==t.width&&0!==t.height||'none'!==z(e).display&&Qe.includes(e.tagName))return!0;for(var n=e.parentElement,a=!0;null!=n;){if('none'===z(n).display){a=!1;break}n=n.parentElement}if(a&&0<e.children.length)return Array.from(e.children).some(function(e){var t=z(e),n=t.float;return'static'!==t.position&&'initial'!==t.position||'left'===n||'right'===n})}return!1}function q(e){var t=ie(e);return null==t?null:J(t.r,t.g,t.b)}function J(e,t,n){e/=255,t/=255,n/=255;var a=Ne(e,t,n),i=Se(e,t,n),o=(i+a)/2,u=o,p=o;if(i===a)o=0,u=0;else{var l=i-a;u=.5<p?l/(2-i-a):l/(i+a);i===e?o=(t-n)/l+(t<n?6:0):i===t?o=(n-e)/l+2:i===n?o=(e-t)/l+4:void 0;o/=6}return{h:360*o,s:100*u,l:100*p}}function Q(e,t){if(null!=e.hsl&&null!=t.hsl){var n=[e.hsl.h,t.hsl.h],a=n[0],i=n[1];if(a===i){var r=[e.hsl.s,t.hsl.s];if(a=r[0],i=r[1],a===i){var o=[e.hsl.l,t.hsl.l];a=o[0],i=o[1]}}return a>=i?1:-1}return 0}function $(e){var t=tt.slice(),n=t.findIndex(function(t){return t.hex===e});if(-1!==n)return t[n];var a=q(e);return null==a?'':(t.push({name:'',hsl:a,rgb:{r:-1,g:-1,b:-1},hex:''}),t.sort(Q),n=t.findIndex(function(e){return''===e.name}),t[Ne(n+1,t.length-1)])}function ee(e){for(var t in et)if(t.toLowerCase()===e.trim().toLowerCase())return et[t];return''}function te(e){var t=e.rgb;return null==t?'':'rgb('+t.r+', '+t.g+', '+t.b+')'}function ne(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'1';if(S(e)){var n=ee(e);if(''!==n)return[n.hex,te(n),'1'];var a=e.match(/rgb(?:a)?\(([0-9]{1,3}), ([0-9]{1,3}), ([0-9]{1,3})(?:, ([0-9]{1,3}))?\)/);if(a&&4<=a.length&&'0'!==a[4])return null==a[4]&&(a[4]=t),['#'+ae(a[1])+ae(a[2])+ae(a[3]),a[0],1>parseFloat(a[4])?parseFloat(a[4]).toFixed(2):'1']}return[]}function ae(e){var t=parseInt(e);return isNaN(t)?'00':(t=Se(0,Ne(t,255)),'0123456789ABCDEF'.charAt((t-t%16)/16)+'0123456789ABCDEF'.charAt(t%16))}function ie(e){return e=e.replace('#','').trim(),3===e.length&&(e=e.charAt(0).repeat(2)+e.charAt(1).repeat(2)+e.charAt(2).repeat(2)),6===e.length?{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4),16)}:null}function re(e){if(S(e)){e=e.trim();var t=ne(e);if(0<t.length&&(e=t[0]),'#'===e.charAt(0)&&/^#[a-zA-Z0-9]{3,6}$/.test(e))return 4===e.length?ne(te({rgb:ie(e)}))[0]:e}return''}function oe(){It={android:['parent']}}function de(e,t){var n=t,a=1,r=t.match(/^(\w+)_([0-9]+)$/);null!=r&&(n=r[1],a=parseInt(r[2])),null==It[e]&&(It[e]=[]);do if(!It[e].includes(t)){It[e].push(t);break}else t=n+'_'+a++;while(!0);return t}function le(e){return e.replace(/@\+?id\//,'')}function se(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:160,n=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];return S(e)&&(e=parseFloat(p(e)),!isNaN(e))?(e/=t/160,e=1<=e||0===e?we(e):e.toFixed(2),e+(n?'sp':'dp')):'0dp'}function ue(e,t,n){return mt.dimensResourceValue?'{%'+e.toLowerCase()+'-'+t+'-'+n+'}':n}function pe(e){var t=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];return mt.useUnitDP?e.replace(/("|>)(-)?([0-9]+(?:\.[0-9]+)?px)("|<)/g,function(){return(1>=arguments.length?void 0:arguments[1])+((2>=arguments.length?void 0:arguments[2])||'')+se(3>=arguments.length?void 0:arguments[3],mt.density,t)+(4>=arguments.length?void 0:arguments[4])}):e}function ce(e,t,n){return null==n&&(n=mt.constraintPercentAccuracy),parseFloat(Se(0===e?0:0===t?1:e/(e+t),0).toFixed(n))}function he(t){return mt.supportRTL&&mt.targetAPI>=e.build.JELLYBEAN_1&&(t=t.replace(/left/g,'start').replace(/right/g,'end'),t=t.replace(/Left/g,'Start').replace(/Right/g,'End')),t}function ge(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],a=new vt(e,t.api,t.element);return a.parent=t.parent,a.inherit(t,'base'),a.excludeResource|=Ze.ALL,a.children=n,a.isolated=!0,a}function me(e){for(var t in e){var n=e[t];if('object'===('undefined'==typeof n?'undefined':ke(n)))for(var a in n)if(S(n[a])){var i=n[a].toString();switch(t){case'android':switch(a){case'text':if(!i.startsWith('@string/')&&(mt.numberResourceValue||!y(i))&&(i=wt.addString(i),''!==i)){n[a]='@string/'+i;continue}break;case'src':if(/^\w+:\/\//.test(i)&&(i=wt.addImage({mdpi:i}),''!==i)){n[a]='@drawable/'+i;continue}}}var r=re(i);''!==r&&(n[a]='@color/'+wt.addColor(r))}}return e}function fe(e,t){return Array.from(e.element.children).find(function(e){return _(T(e,'dataset.ext','string'),t)})}function ye(e,t,n,a){''===t?null==e[n]&&(e[n]=a):(null==e[t]&&(e[t]={}),null==e[t][n]&&(e[t][n]=a))}function be(e){var t=e.horizontalBias,n=e.verticalBias,a=[];.5>t?a.push(he('left')):.5<t?a.push(he('right')):a.push('center_horizontal'),.5>n?(a.push('top'),e.app('layout_dodgeInsetEdges','top')):.5<n?a.push('bottom'):a.push('center_vertical'),e.android('layout_gravity',2===a.filter(function(e){return-1!==e.indexOf('center')}).length?'center':a.join('|'));var i=e.documentParent;0<t&&1>t&&.5!==t&&(.5>t?e.css('marginLeft',p(we(e.bounds.left-i.box.left))):e.css('marginRight',p(we(i.box.right-e.bounds.right)))),0<n&&1>n&&.5!==n&&(.5>n?e.css('marginTop',p(we(e.bounds.top-i.box.top))):e.css('marginBottom',p(we(i.box.bottom-e.bounds.bottom))))}function _e(e){e instanceof yt&&''!==e.name&&Array.isArray(e.tagNames)&&In.registerExtension(e)}function Te(e,t){if(null!=t){var n=In.findExtension(e);null!=n&&Object.assign(n.options,t)}}function xe(e){return In.findExtension(e)}function Ee(){return!yn&&!In.closed}function Ie(){!yn&&0<In.size&&In.finalize()}function Re(){!yn&&0<In.size&&(!In.closed&&In.finalize(),In.resourceHandler.file.saveAllToDisk(In.viewData))}function ve(){return!(!mt.autoCloseOnWrite||yn||In.closed)&&(In.finalize(),!0)}var Ae=Number.MAX_VALUE,Le=Math.abs,Ne=Math.min,Se=Math.max,Oe=Math.ceil,we=Math.floor,ke='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},Ce=function(){var e='function'==typeof Symbol&&Symbol.for&&Symbol.for('react.element')||60103;return function(t,n,a,r){var o=t&&t.defaultProps,d=arguments.length-3;if(n||0==d||(n={}),n&&o)for(var l in o)void 0===n[l]&&(n[l]=o[l]);else n||(n=o||{});if(1==d)n.children=r;else if(1<d){for(var s=Array(d),u=0;u<d;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===a?null:''+a,ref:null,props:n,_owner:null}}}(),De=function(){function e(e){this.value=e}function t(t){function n(i,r){try{var o=t[i](r),d=o.value;d instanceof e?Promise.resolve(d.value).then(function(e){n('next',e)},function(e){n('throw',e)}):a(o.done?'return':'normal',o.value)}catch(e){a('throw',e)}}function a(e,t){'return'===e?i.resolve({value:t,done:!0}):'throw'===e?i.reject(t):i.resolve({value:t,done:!1}),i=i.next,i?n(i.key,i.arg):r=null}var i,r;this._invoke=function(e,t){return new Promise(function(a,o){var d={key:e,arg:t,resolve:a,reject:o,next:null};r?r=r.next=d:(i=r=d,n(e,t))})},'function'!=typeof t.return&&(this.return=void 0)}return'function'==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke('next',e)},t.prototype.throw=function(e){return this._invoke('throw',e)},t.prototype.return=function(e){return this._invoke('return',e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),Be=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')},Pe=function(){function e(e,t){for(var n=0,a;n<t.length;n++)a=t[n],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Fe=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Me=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var a in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Ge=function e(t,n,a){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,a)}if('value'in i)return i.value;var o=i.get;return void 0===o?void 0:o.call(a)},He=function(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},We=function(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e},Xe='undefined'==typeof global?self:global,Ve=function e(t,n,a,i){var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);null!==o&&e(o,n,a,i)}else if('value'in r&&r.writable)r.value=a;else{var d=r.set;void 0!==d&&d.call(i,a)}return a},ze=function(){function e(e,t){var n=[],a=!0,i=!1,r=void 0;try{for(var o=e[Symbol.iterator](),d;!(a=(d=o.next()).done)&&(n.push(d.value),!(t&&n.length===t));a=!0);}catch(e){i=!0,r=e}finally{try{!a&&o['return']&&o['return']()}finally{if(i)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),Ue=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Ye=function(){function e(t,n){Be(this,e),this.parent=n,this._list=[],Array.isArray(t)&&(this._list=t),this.parent=n}return Pe(e,[{key:'find',value:function(e){return this._list.find(function(t){return t.id===e})||null}},{key:'findByNodeId',value:function(e){return this._list.find(function(t){return t.nodeId===e})||null}},{key:'reset',value:function(){e.currentId=0,this.clear()}},{key:'clear',value:function(){this._list=[]}},{key:'sortAsc',value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C.apply(void 0,[this._list].concat(t)),this}},{key:'sortDesc',value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return D.apply(void 0,[this._list].concat(t)),this}},{key:'intersect',value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'linear';return e.intersect(this._list,t)}},{key:'length',get:function(){return this._list.length}},{key:'list',get:function(){return this._list}},{key:'visible',get:function(){return this._list.filter(function(e){return e.visible})}},{key:'elements',get:function(){return this._list.filter(function(e){return e.visible&&e.hasElement})}},{key:'first',get:function(){return this._list[0]}},{key:'last',get:function(){return this._list[this._list.length-1]}},{key:'nextId',get:function(){return++e.currentId}},{key:'linearX',get:function(){return e.linearX(this._list)}},{key:'linearY',get:function(){return e.linearY(this._list)}}],[{key:'intersect',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.forEach(function(n){if(e.some(function(e){return e!==n&&n.intersect(e[t])}))return!0}),!1}},{key:'linearX',value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,a=C(t.filter(function(e){return!e.isolated}),'linear.top');if(0<a.length&&!e.intersect(a)){if(1<a.length){var i=Ne.apply(null,a.map(function(e){return e.linear.top})),r=Se.apply(null,a.filter(function(e){return O(e.linear.top,i,n)}).map(function(e){return e.linear.bottom}));return a.every(function(e){return 0<e.linear.height&&e.linear.top>=i&&e.linear.bottom<=r})}return!0}return!1}},{key:'linearY',value:function(t){var n=C(t.filter(function(e){return!e.isolated}),'linear.left');if(0<n.length&&!e.intersect(n)){var a=!0;if(1<n.length){var i=Ne.apply(null,n.map(function(e){return e.linear.right})),r=Se.apply(null,n.map(function(e){return e.linear.right}));n.forEach(function(e,t){if(!(e.linear.left<i)){var o=n[t-1];(null==o||o.pageflow&&o.inline&&o.linear.right!==r)&&e.inline&&e.pageflow&&e.linear.right!==r||(a=!1)}})}return a}return!1}}]),e}();Ye.currentId=0;var je;(function(e){e[e.NONE=0]='NONE',e[e.SELECT=1]='SELECT',e[e.RANGE=2]='RANGE',e[e.CHECKBOX=3]='CHECKBOX',e[e.RADIO=4]='RADIO',e[e.BUTTON=5]='BUTTON',e[e.EDIT=6]='EDIT',e[e.INLINE=7]='INLINE',e[e.TEXT=8]='TEXT',e[e.IMAGE=9]='IMAGE',e[e.LINE=10]='LINE',e[e.SPACE=11]='SPACE',e[e.BLOCK=12]='BLOCK',e[e.FRAME=13]='FRAME',e[e.LINEAR=14]='LINEAR',e[e.CONSTRAINT=15]='CONSTRAINT',e[e.RELATIVE=16]='RELATIVE',e[e.GRID=17]='GRID',e[e.SCROLL_VERTICAL=18]='SCROLL_VERTICAL',e[e.SCROLL_HORIZONTAL=19]='SCROLL_HORIZONTAL',e[e.SCROLL_NESTED=20]='SCROLL_NESTED',e[e.RADIO_GROUP=21]='RADIO_GROUP',e[e.WEB_VIEW=22]='WEB_VIEW'})(je||(je={}));var Ze;(function(e){e[e.BOX_STYLE=2]='BOX_STYLE',e[e.BOX_SPACING=4]='BOX_SPACING',e[e.FONT_STYLE=8]='FONT_STYLE',e[e.VALUE_STRING=16]='VALUE_STRING',e[e.OPTION_ARRAY=32]='OPTION_ARRAY',e[e.IMAGE_SOURCE=64]='IMAGE_SOURCE',e[e.ASSET=120]='ASSET',e[e.ALL=126]='ALL'})(Ze||(Ze={}));var Ke;(function(e){e[e.LAYOUT=2]='LAYOUT',e[e.ALIGNMENT=4]='ALIGNMENT',e[e.OPTIMIZE=8]='OPTIMIZE',e[e.CUSTOMIZATION=16]='CUSTOMIZATION',e[e.ACCESSIBILITY=32]='ACCESSIBILITY',e[e.ALL=62]='ALL'})(Ke||(Ke={}));var qe;(function(e){e[e.MARGIN_TOP=2]='MARGIN_TOP',e[e.MARGIN_RIGHT=4]='MARGIN_RIGHT',e[e.MARGIN_BOTTOM=8]='MARGIN_BOTTOM',e[e.MARGIN_LEFT=16]='MARGIN_LEFT',e[e.PADDING_TOP=32]='PADDING_TOP',e[e.PADDING_RIGHT=64]='PADDING_RIGHT',e[e.PADDING_BOTTOM=128]='PADDING_BOTTOM',e[e.PADDING_LEFT=256]='PADDING_LEFT',e[e.MARGIN=30]='MARGIN',e[e.MARGIN_VERTICAL=10]='MARGIN_VERTICAL',e[e.MARGIN_HORIZONTAL=20]='MARGIN_HORIZONTAL',e[e.PADDING=480]='PADDING',e[e.PADDING_VERTICAL=160]='PADDING_VERTICAL',e[e.PADDING_HORIZONTAL=320]='PADDING_HORIZONTAL'})(qe||(qe={}));var Je={INPUT:je.NONE,PLAINTEXT:je.TEXT,HR:je.LINE,IMG:je.IMAGE,SELECT:je.SELECT,RANGE:je.RANGE,TEXT:je.EDIT,PASSWORD:je.EDIT,NUMBER:je.EDIT,EMAIL:je.EDIT,SEARCH:je.EDIT,URL:je.EDIT,CHECKBOX:je.CHECKBOX,RADIO:je.RADIO,BUTTON:je.BUTTON,SUBMIT:je.BUTTON,RESET:je.BUTTON,TEXTAREA:je.EDIT,IFRAME:je.WEB_VIEW},Qe=['ADDRESS','ARTICLE','ASIDE','BLOCKQUOTE','CANVAS','DD','DIV','DL','DT','FIELDSET','FIGCAPTION','FIGURE','FOOTER','FORM','H1','H2','H3','H4','H5','H6','HEADER','LI','MAIN','NAV','OL','OUTPUT','P','PRE','SECTION','TFOOT','THEAD','UL','VIDEO'],$e=['A','ABBR','ACRONYM','B','BDO','BIG','BR','BUTTON','CITE','CODE','DFN','EM','I','IFRAME','IMG','INPUT','KBD','LABEL','MAP','OBJECT','Q','S','SAMP','SCRIPT','SELECT','SMALL','SPAN','STRIKE','STRONG','SUB','SUP','TEXTAREA','TIME','TT','U','VAR','PLAINTEXT'],et={Pink:{hex:'#FFC0CB'},LightPink:{hex:'#FFB6C1'},HotPink:{hex:'#FF69B4'},DeepPink:{hex:'#FF1493'},PaleVioletRed:{hex:'#DB7093'},MediumVioletRed:{hex:'#C71585'},LightSalmon:{hex:'#FFA07A'},Salmon:{hex:'#FA8072'},DarkSalmon:{hex:'#E9967A'},LightCoral:{hex:'#F08080'},IndianRed:{hex:'#CD5C5C'},Crimson:{hex:'#DC143C'},Firebrick:{hex:'#B22222'},DarkRed:{hex:'#8B0000'},Red:{hex:'#FF0000'},OrangeRed:{hex:'#FF4500'},Tomato:{hex:'#FF6347'},Coral:{hex:'#FF7F50'},Orange:{hex:'#FFA500'},DarkOrange:{hex:'#FF8C00'},Yellow:{hex:'#FFFF00'},LightYellow:{hex:'#FFFFE0'},LemonChiffon:{hex:'#FFFACD'},LightGoldenrodYellow:{hex:'#FAFAD2'},PapayaWhip:{hex:'#FFEFD5'},Moccasin:{hex:'#FFE4B5'},PeachPuff:{hex:'#FFDAB9'},PaleGoldenrod:{hex:'#EEE8AA'},Khaki:{hex:'#F0E68C'},DarkKhaki:{hex:'#BDB76B'},Gold:{hex:'#FFD700'},Cornsilk:{hex:'#FFF8DC'},BlanchedAlmond:{hex:'#FFEBCD'},Bisque:{hex:'#FFE4C4'},NavajoWhite:{hex:'#FFDEAD'},Wheat:{hex:'#F5DEB3'},Burlywood:{hex:'#DEB887'},Tan:{hex:'#D2B48C'},RosyBrown:{hex:'#BC8F8F'},SandyBrown:{hex:'#F4A460'},Goldenrod:{hex:'#DAA520'},DarkGoldenrod:{hex:'#B8860B'},Peru:{hex:'#CD853F'},Chocolate:{hex:'#D2691E'},SaddleBrown:{hex:'#8B4513'},Sienna:{hex:'#A0522D'},Brown:{hex:'#A52A2A'},Maroon:{hex:'#800000'},DarkOliveGreen:{hex:'#556B2F'},Olive:{hex:'#808000'},OliveDrab:{hex:'#6B8E23'},YellowGreen:{hex:'#9ACD32'},LimeGreen:{hex:'#32CD32'},Lime:{hex:'#00FF00'},LawnGreen:{hex:'#7CFC00'},Chartreuse:{hex:'#7FFF00'},GreenYellow:{hex:'#ADFF2F'},SpringGreen:{hex:'#00FF7F'},MediumSpringGreen:{hex:'#00FA9A'},LightGreen:{hex:'#90EE90'},PaleGreen:{hex:'#98FB98'},DarkSeaGreen:{hex:'#8FBC8F'},MediumAquamarine:{hex:'#66CDAA'},MediumSeaGreen:{hex:'#3CB371'},SeaGreen:{hex:'#2E8B57'},ForestGreen:{hex:'#228B22'},Green:{hex:'#008000'},DarkGreen:{hex:'#006400'},Aqua:{hex:'#00FFFF'},Cyan:{hex:'#00FFFF'},LightCyan:{hex:'#E0FFFF'},PaleTurquoise:{hex:'#AFEEEE'},Aquamarine:{hex:'#7FFFD4'},Turquoise:{hex:'#40E0D0'},DarkTurquoise:{hex:'#00CED1'},MediumTurquoise:{hex:'#48D1CC'},LightSeaGreen:{hex:'#20B2AA'},CadetBlue:{hex:'#5F9EA0'},DarkCyan:{hex:'#008B8B'},Teal:{hex:'#008080'},LightSteelBlue:{hex:'#B0C4DE'},PowderBlue:{hex:'#B0E0E6'},LightBlue:{hex:'#ADD8E6'},SkyBlue:{hex:'#87CEEB'},LightSkyBlue:{hex:'#87CEFA'},DeepSkyBlue:{hex:'#00BFFF'},DodgerBlue:{hex:'#1E90FF'},Cornflower:{hex:'#6495ED'},SteelBlue:{hex:'#4682B4'},RoyalBlue:{hex:'#4169E1'},Blue:{hex:'#0000FF'},MediumBlue:{hex:'#0000CD'},DarkBlue:{hex:'#00008B'},Navy:{hex:'#000080'},MidnightBlue:{hex:'#191970'},Lavender:{hex:'#E6E6FA'},Thistle:{hex:'#D8BFD8'},Plum:{hex:'#DDA0DD'},Violet:{hex:'#EE82EE'},Orchid:{hex:'#DA70D6'},Fuchsia:{hex:'#FF00FF'},Magenta:{hex:'#FF00FF'},MediumOrchid:{hex:'#BA55D3'},MediumPurple:{hex:'#9370DB'},BlueViolet:{hex:'#8A2BE2'},DarkViolet:{hex:'#9400D3'},DarkOrchid:{hex:'#9932CC'},DarkMagenta:{hex:'#8B008B'},Purple:{hex:'#800080'},RebeccaPurple:{hex:'#663399'},Indigo:{hex:'#4B0082'},DarkSlateBlue:{hex:'#483D8B'},SlateBlue:{hex:'#6A5ACD'},MediumSlateBlue:{hex:'#7B68EE'},White:{hex:'#FFFFFF'},Snow:{hex:'#FFFAFA'},Honeydew:{hex:'#F0FFF0'},MintCream:{hex:'#F5FFFA'},Azure:{hex:'#F0FFFF'},AliceBlue:{hex:'#F0F8FF'},GhostWhite:{hex:'#F8F8FF'},WhiteSmoke:{hex:'#F5F5F5'},Seashell:{hex:'#FFF5EE'},Beige:{hex:'#F5F5DC'},OldLace:{hex:'#FDF5E6'},FloralWhite:{hex:'#FFFAF0'},Ivory:{hex:'#FFFFF0'},AntiqueWhite:{hex:'#FAEBD7'},Linen:{hex:'#FAF0E6'},LavenderBlush:{hex:'#FFF0F5'},MistyRose:{hex:'#FFE4E1'},Gainsboro:{hex:'#DCDCDC'},LightGray:{hex:'#D3D3D3'},Silver:{hex:'#C0C0C0'},DarkGray:{hex:'#A9A9A9'},Gray:{hex:'#808080'},DimGray:{hex:'#696969'},LightSlateGray:{hex:'#778899'},SlateGray:{hex:'#708090'},DarkSlateGray:{hex:'#2F4F4F'},Black:{hex:'#000000'}},tt=[];for(var nt in et){var i=et[nt];for(var at in i){var j=ie(i[at]);null!=j&&(i.rgb=j,i.hsl=J(i.rgb.r,i.rgb.g,i.rgb.b)),tt.push({name:nt,rgb:i.rgb,hex:i.hex,hsl:i.hsl})}}tt.sort(Q),function(e){e[e.P=28]='P',e[e.OREO_1=27]='OREO_1',e[e.OREO=26]='OREO',e[e.NOUGAT_1=25]='NOUGAT_1',e[e.NOUGAT=24]='NOUGAT',e[e.MARSHMALLOW=23]='MARSHMALLOW',e[e.LOLLIPOP_1=22]='LOLLIPOP_1',e[e.LOLLIPOP=21]='LOLLIPOP',e[e.KITKAT_1=20]='KITKAT_1',e[e.KITKAT=19]='KITKAT',e[e.JELLYBEAN_2=18]='JELLYBEAN_2',e[e.JELLYBEAN_1=17]='JELLYBEAN_1',e[e.JELLYBEAN=16]='JELLYBEAN',e[e.ICE_CREAM_SANDWICH_1=15]='ICE_CREAM_SANDWICH_1',e[e.ICE_CREAM_SANDWICH=14]='ICE_CREAM_SANDWICH',e[e.ALL=0]='ALL',e[e.LATEST=28]='LATEST'}(e.build||(e.build={})),function(e){e[e.LDPI=120]='LDPI',e[e.MDPI=160]='MDPI',e[e.HDPI=240]='HDPI',e[e.XHDPI=320]='XHDPI',e[e.XXHDPI=480]='XXHDPI',e[e.XXXHDPI=640]='XXXHDPI'}(e.density||(e.density={}));var it={FRAME:'FrameLayout',LINEAR:'LinearLayout',CONSTRAINT:'android.support.constraint.ConstraintLayout',RELATIVE:'RelativeLayout',GRID:'GridLayout',SCROLL_VERTICAL:'ScrollView',SCROLL_HORIZONTAL:'HorizontalScrollView',SCROLL_NESTED:'android.support.v4.widget.NestedScrollView',RADIO_GROUP:'RadioGroup',WEB_VIEW:'WebView',TEXT:'TextView',EDIT:'EditText',IMAGE:'ImageView',SELECT:'Spinner',RANGE:'SeekBar',CHECKBOX:'CheckBox',RADIO:'RadioButton',BUTTON:'Button',LINE:'View',SPACE:'Space',GUIDELINE:'android.support.constraint.Guideline'},rt={MARGIN:'layout_margin',MARGIN_VERTICAL:'layout_marginVertical',MARGIN_HORIZONTAL:'layout_marginHorizontal',MARGIN_TOP:'layout_marginTop',MARGIN_RIGHT:'layout_marginRight',MARGIN_BOTTOM:'layout_marginBottom',MARGIN_LEFT:'layout_marginLeft',PADDING:'padding',PADDING_VERTICAL:'paddingVertical',PADDING_HORIZONTAL:'paddingHorizontal',PADDING_TOP:'paddingTop',PADDING_RIGHT:'paddingRight',PADDING_BOTTOM:'paddingBottom',PADDING_LEFT:'paddingLeft'},ot={HORIZONTAL:'horizontal',VERTICAL:'vertical'},dt=[it.EDIT,it.SELECT,it.CHECKBOX,it.RADIO,it.BUTTON,it.IMAGE],lt={android:'http://schemas.android.com/apk/res/android',app:'http://schemas.android.com/apk/res-auto',tools:'http://schemas.android.com/tools'},st={"sans-serif":e.build.ICE_CREAM_SANDWICH,"sans-serif-thin":e.build.JELLYBEAN,"sans-serif-light":e.build.JELLYBEAN,"sans-serif-condensed":e.build.JELLYBEAN,"sans-serif-condensed-light":e.build.JELLYBEAN,"sans-serif-medium":e.build.LOLLIPOP,"sans-serif-black":e.build.LOLLIPOP,"sans-serif-smallcaps":e.build.LOLLIPOP,"serif-monospace":e.build.LOLLIPOP,serif:e.build.LOLLIPOP,casual:e.build.LOLLIPOP,cursive:e.build.LOLLIPOP,monospace:e.build.LOLLIPOP,"sans-serif-condensed-medium":e.build.OREO},ut={arial:'sans-serif',helvetica:'sans-serif',tahoma:'sans-serif',verdana:'sans-serif',times:'serif',"times new roman":'serif',palatino:'serif',georgia:'serif',baskerville:'serif',goudy:'serif',fantasy:'serif',"itc stone serif":'serif',"sans-serif-monospace":'monospace',monaco:'monospace',courier:'serif-monospace',"courier new":'serif-monospace'},pt={"ms shell dlg \\32":'sans-serif',"system-ui":'sans-serif',"-apple-system":'sans-serif'},ct={100:'thin',200:'extra_light',300:'light',400:'normal',500:'medium',600:'semi_bold',700:'bold',800:'extra_bold',900:'black'},ht=['STRONG','B','EM','CITE','DFN','I','BIG','SMALL','FONT','BLOCKQUOTE','TT','A','U','SUP','SUB','STRIKE','H1','H2','H3','H4','H5','H6','DEL','LABEL','PLAINTEXT'],gt=['abstract','assert','boolean','break','byte','case','catch','char','class','const','continue','default','double','do','else','enum','extends','false','final','finally','float','for','goto','if','implements','import','instanceof','int','interface','long','native','new','null','package','private','protected','public','return','short','static','strictfp','super','switch','synchronized','this','throw','throws','transient','true','try','void','volatile','while'],mt={builtInExtensions:['androme.external','androme.custom','androme.list','androme.table','androme.grid','androme.widget'],targetAPI:e.build.OREO,density:e.density.MDPI,useConstraintLayout:!0,useConstraintGuideline:!0,useConstraintChain:!0,useUnitDP:!0,useFontAlias:!0,supportRTL:!0,dimensResourceValue:!0,numberResourceValue:!1,alwaysReevaluateResources:!0,excludeTextColor:['#000000'],excludeBackgroundColor:['#FFFFFF'],collapseUnattributedElements:!1,horizontalPerspective:!0,linearHorizontalTopOffset:4,whitespaceHorizontalOffset:4,whitespaceVerticalOffset:14,constraintPercentAccuracy:4,chainPackedHorizontalOffset:4,chainPackedVerticalOffset:14,showAttributes:!0,autoCloseOnWrite:!0,insertSpaces:4,outputDirectory:'app/src/main',outputActivityMainFileName:'activity_main.xml',outputArchiveFileType:'zip',outputMaxProcessingTime:30},ft=function(){function e(t,n){Be(this,e),this.TypeT=t,this.TypeU=n,this.elements=new Set,this.insert={},this.closed=!1,this.views=[],this.includes=[],this.currentIndex=-1,this._extensions=[],this.cache=new this.TypeU,this.cacheInternal=new this.TypeU}return Pe(e,[{key:'registerController',value:function(e){e.cache=this.cache,this.controllerHandler=e}},{key:'registerResource',value:function(e){e.cache=this.cache,this.resourceHandler=e}},{key:'registerExtension',value:function(e){var t=this,n=this.findExtension(e.name);null==n?e.dependencies.every(function(e){return null!=t.findExtension(e.name)})&&(e.application=this,this._extensions.push(e)):(Array.isArray(e.tagNames)&&(n.tagNames=e.tagNames),Object.assign(n.options,e.options))}},{key:'finalize',value:function(){this.cacheInternal.visible.forEach(function(e){f(e.excludeProcedure,Ke.LAYOUT)||e.setLayout(),f(e.excludeProcedure,Ke.ALIGNMENT)||e.setAlignment()}),this.cacheInternal.visible.forEach(function(e){f(e.excludeProcedure,Ke.OPTIMIZE)||e.optimizeLayout()}),this.controllerHandler.setDimensions(this.viewData),this.insertAuxillaryViews(),this.resourceHandler.finalize(this.viewData),this.resourceHandler.filterStyles(this.viewData),mt.showAttributes&&this.setAttributes(),this.controllerHandler.finalize(this.layouts),this.closed=!0}},{key:'reset',value:function(){this.cacheInternal.list.forEach(function(e){var t=e.element;delete t.__style,delete t.__styleMap,delete t.__boxSpacing,delete t.__boxStyle,delete t.__fontStyle,delete t.__imageSource,delete t.__optionArray,delete t.__valueString}),this.cache.reset(),this.cacheInternal.reset(),this.resetController(),this.resetResource(),this.appName='',this.views=[],this.includes=[],this.insert={},this.currentIndex=-1,this.closed=!1}},{key:'resetController',value:function(){this.controllerHandler.reset()}},{key:'resetResource',value:function(){this.resourceHandler.reset()}},{key:'setConstraints',value:function(){this.controllerHandler.setConstraints()}},{key:'setResources',value:function(){this.resourceHandler.setBoxStyle(),this.resourceHandler.setFontStyle(),this.resourceHandler.setBoxSpacing(),this.resourceHandler.setValueString(this.controllerHandler.supportInline),this.resourceHandler.setOptionArray(),this.resourceHandler.setImageSource()}},{key:'setStyleMap',value:function(){for(var e=this,t=!1,n=0,a;n<document.styleSheets.length;n++)if(a=document.styleSheets[n],null!=a.cssRules)for(var o=0;o<a.cssRules.length;o++)try{(function(){var t=a.cssRules[o],n=new Set,i=!0,d=!1,l=void 0;try{for(var s=Array.from(t.style)[Symbol.iterator](),u,p;!(i=(u=s.next()).done);i=!0)p=u.value,n.add(r(p))}catch(e){d=!0,l=e}finally{try{!i&&s.return&&s.return()}finally{if(d)throw l}}var c=document.querySelectorAll(t.selectorText);''!==e.appName&&Array.from(c).forEach(function(e){var t=e;delete t.__style,delete t.__styleMap}),Array.from(c).forEach(function(e){var a=!0,i=!1,o=void 0;try{for(var d=Array.from(e.style)[Symbol.iterator](),l,s;!(a=(l=d.next()).done);a=!0)s=l.value,n.add(r(s))}catch(e){i=!0,o=e}finally{try{!a&&d.return&&d.return()}finally{if(i)throw o}}var u=z(e),p={},c=!0,h=!1,g=void 0;try{for(var m=n[Symbol.iterator](),f,y;!(c=(f=m.next()).done);c=!0){if(y=f.value,-1!==y.toLowerCase().indexOf('color')){var b=ee(t.style[y]);''!==b&&(t.style[y]=te(b))}S(e.style[y])?p[y]=e.style[y]:u[y]===t.style[y]?p[y]=u[y]:S(t.style[y])&&('width'===y||'height'===y?p[y]=t.style[y]:void 0)}}catch(e){h=!0,g=e}finally{try{!c&&m.return&&m.return()}finally{if(h)throw g}}var _=e;null==_.__styleMap?(_.__style=u,_.__styleMap=p):Object.assign(_.__styleMap,p)})})()}catch(e){t||(alert('External CSS files cannot be parsed when loading this program from your hard drive with Chrome 64+ (file://). Either use a local web server (http://), embed your CSS files into a <style> tag, or use a different browser. See the README for further instructions.\n\n'+(a.href+'\n\n'+e)),t=!0)}}},{key:'createNodeCache',value:function(e){var t=this,n=0;e===document.body&&Array.from(document.body.childNodes).forEach(function(e){'#text'===e.nodeName?''!==T(e,'textContent').trim()&&n++:K(e)&&n++});var a=e===document.body?document.querySelectorAll(1<n?'body, body *':'body *'):e.querySelectorAll('*');this.cache.parent=void 0,this.cache.clear();var i=this.extensions;i.forEach(function(t){t.setTarget({},null,e),t.beforeInit()});var r=this.insertNode(e);if(null!=r)r.parent=new this.TypeT(0,mt.targetAPI,e.parentElement||document.body),r.documentRoot=!0,this.cache.parent=r;else return!1;var o=function(n){if(!t.elements.has(n)&&(t.orderExt(i,n).some(function(e){return e.init(n)}),!t.elements.has(n))){var a=t.controllerHandler.supportInline;if(a.includes(n.tagName)&&(0===n.children.length&&!Z(n)||null!=n.parentElement&&a.includes(n.parentElement.tagName)&&'inline'===z(n).display&&'inline'===z(n.parentElement).display))return'continue';for(var r=!0,o=n.parentElement;null!=o&&o!==e;){if(o!==e&&t.elements.has(o)){r=!1;break}o=o.parentElement}r&&t.insertNode(n)}},d=!0,l=!1,u=void 0;try{for(var p=Array.from(a)[Symbol.iterator](),h;!(d=(h=p.next()).done);d=!0){var g=h.value,m=o(g)}}catch(e){l=!0,u=e}finally{try{!d&&p.return&&p.return()}finally{if(l)throw u}}if(0<this.cache.length){var y={};this.cache.list.forEach(function(e){var t=e.element;y[e.id]={};var n=y[e.id],a=e.css('textAlign');switch(a){case'center':if('BUTTON'!==e.tagName&&'button'===t.type)break;case'right':case'end':n.textAlign=a,t.style.textAlign='left';}n.verticalAlign=e.styleMap.verticalAlign||'',t.style.verticalAlign='top',0!==e.overflow&&(e.isSet('styleMap','width')&&(n.width=e.styleMap.width,t.style.width=''),e.isSet('styleMap','height')&&(n.height=e.styleMap.height,t.style.height=''),n.overflow=e.style.overflow,t.style.overflow='visible'),e.setBounds()}),this.cache.list.forEach(function(e){var t=e.element;if('INPUT'===t.tagName&&!f(e.excludeProcedure,Ke.ACCESSIBILITY))switch(t.type){case'radio':case'checkbox':[t.previousElementSibling,t.nextElementSibling].some(function(n){if(n&&''!==n.htmlFor&&n.htmlFor===t.id){var a=n.__node;if(null!=a)return e.companion=a,e.setBounds(),a.hide(),!0}return!1});}});var b=this.cache.visible;return b.forEach(function(e){b.forEach(function(t){if(e!==t){var n=t.element.parentElement;n===e.element&&(t.parent=e,e.children.push(t))}})}),b.forEach(function(e){var n=t.controllerHandler.supportInline;if((0===n.length||e.children.some(function(e){return 0<e.children.length||!e.pageflow||!n.includes(e.tagName)}))&&Array.from(e.element.childNodes).forEach(function(n){'#text'===n.nodeName&&''!==T(n,'textContent').trim()&&t.insertNode(n,e)}),e.children.some(function(t){return'right'!==t.float&&(0>t.marginTop&&e.marginTop>=Le(t.marginTop)||0>t.marginLeft&&e.marginLeft>=Le(t.marginLeft))})||e.children.some(function(t){return!t.pageflow&&(0>s(t.top)&&e.marginTop>=Le(s(t.top))||0>s(t.left)&&e.marginLeft>=Le(s(t.left)))})){var a=[],i=[];e.children.forEach(function(t){var n=t.marginTop,r=t.marginLeft,o=0,d=0;0>n&&e.marginTop>=n&&(o=1),0>r&&e.marginLeft>=r&&(d=1),t.pageflow||(0==o&&(n=s(t.top),0>n&&e.marginTop>=n&&(t.css('top',c(n+e.marginTop)),o=2)),0==d&&(r=s(t.left),0>r&&e.marginLeft>=r&&(t.css('left',c(r+e.marginLeft)),d=2))),a.push(o),i.push(d)});var r=Se.apply(null,a),o=Se.apply(null,i);e.children.forEach(function(t,n){r&&2!==a[n]&&(1===r&&1===a[n]||2===r)&&t.modifyBox(qe.MARGIN_TOP,t.marginTop+e.marginTop),o&&2!==i[n]&&(1===o&&1===i[n]||2===o)&&t.modifyBox(qe.MARGIN_LEFT,t.marginLeft+e.marginLeft)}),r&&(e.box.top-=e.marginTop,e.css('marginTop','0px')),o&&(e.box.left-=e.marginLeft,e.css('marginLeft','0px')),e.setDimensions(['box'])}if(!e.pageflow&&0<e.children.length){var d=!1;if(0===e.viewWidth){var l=Se.apply(null,e.cascade().map(function(e){return e.linear.right}));e.bounds.right=l+e.paddingRight+e.borderRightWidth,e.bounds.width=e.bounds.right-e.bounds.left,d=!0}if(0===e.viewHeight){var u=Se.apply(null,e.cascade().map(function(e){return e.linear.bottom}));e.bounds.bottom=u+e.paddingBottom+e.borderBottomWidth,e.bounds.height=e.bounds.bottom-e.bounds.top,d=!0}d&&e.setBounds(!0)}}),this.cache.list.forEach(function(e){var t=y[e.id];if(null!=t)for(var n in t)e.element.style[n]=t[n]}),i.forEach(function(e){e.setTarget(r),e.afterInit()}),this.cache.elements.forEach(function(e){var t=0;Array.from(e.element.childNodes).forEach(function(n){var a=n.__node;a&&a.visible&&a.parent.element===e.element&&(a.parentIndex=t++)}),C(e.children,'parentIndex')}),this.cache.sortAsc('depth','parent.id','parentIndex','id'),this.addLayout(e.dataset.viewName),!0}return!1}},{key:'createLayoutXml',value:function(){var e=this,t=this,n=this.extensions,a=[],r=[],o='<?xml version="1.0" encoding="utf-8"?>\n{:0}',d=!0,l;this.cache.visible.forEach(function(e){var t=we(e.linear.left),n=e.parent.id;null==a[e.depth]&&(a[e.depth]={}),null==r[e.depth]&&(r[e.depth]={}),null==a[e.depth][t]&&(a[e.depth][t]=[]),null==r[e.depth][n]&&(r[e.depth][n]=[]),a[e.depth][t].push(e),r[e.depth][n].push(e)});for(var s=function(l){function i(e,n,a){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'';if(''!==a){if(''===i&&!t.elements.has(e.element))if(e.isSet('dataset','target')){var r=t.findByDomId(e.dataset.target,!0);if(null==r||r!==n)return t.addInsertQueue(e.dataset.target,[a]),void(e.relocated=!0)}else if(n.isSet('dataset','target'))return t.addInsertQueue(n.nodeId,[a]),void(e.dataset.target=n.nodeId);''===i?(!u.has(n.id)&&u.set(n.id,[]),u.get(n.id).push(a)):(!p.has(i)&&p.set(i,[]),p.get(i).push(a))}}for(var s=Object.keys(r[l]),u=new Map,p=new Map,c=function(t){var o=[],d=[],u=!0,p=!1,c=void 0;try{for(var h=r[l][s[t]][Symbol.iterator](),g,m;!(u=(g=h.next()).done);u=!0)m=g.value,m.pageflow?o.push(m):d.push(m)}catch(e){p=!0,c=e}finally{try{!u&&h.return&&h.return()}finally{if(p)throw c}}o.some(function(e){return e.multiLine})||o.sort(function(e,t){return e.parent.flex.enabled||t.parent.flex.enabled?e.parentIndex<t.parentIndex?-1:1:e.withinX(t.linear)?e.linear.left<=t.linear.left?-1:1:e.linear.top<=t.linear.top?-1:1}),o.push.apply(o,Ue(C(d,'style.zIndex','parentIndex')));for(var y=[],b='',_=function(t){var d=o[t];if(!d.documentRoot&&e.elements.has(d.element))return'continue';var s=d.parent;if(mt.horizontalPerspective&&d.pageflow&&!s.flex.enabled&&(s.is(je.CONSTRAINT)||s.is(je.RELATIVE)&&!s.inlineWrap||s.is(je.LINEAR)&&!s.horizontal)){var u=[d];if(null==d.element.nextSibling||'BR'!==d.element.nextSibling.tagName)for(var p=d.float,c=t+1;c<o.length;c++){var h=o[c],g=u[u.length-1];if(!g.inline&&!h.inline&&!h.floating)break;var m=h['right'===p?'toLeftOf':'toRightOf'](g,mt.whitespaceHorizontalOffset);if(h.pageflow&&p===h.float||m)if(u.push(h),h.element.nextSibling&&'BR'===h.element.nextSibling.tagName)break;else if(!m&&(!h.inline&&!h.floating||u.every(function(e){return e.hasElement})&&!Ye.linearX(u,mt.linearHorizontalTopOffset))){u.pop();break}}if(s.inlineWrap||1<u.length)if(s.is(je.RELATIVE)&&u.length===s.children.length)s.inlineWrap=!0;else if(1<u.length){var _='',E=e.controllerHandler.createGroup(d,s,u);u.some(function(e){return e.multiLine})?(E.inlineWrap=!0,_=e.writeRelativeLayout(E,s)):(_=e.writeLinearLayout(E,s,!0),E.inlineWrap='right'===d.float),i(E,s,_,b),s=E}else d.multiLine=!1}if(e.controllerHandler.supportInclude){var I=T(d,'dataset.include').trim();if(''!==I&&-1===y.indexOf(I)&&(i(d,s,e.controllerHandler.renderInclude(d,s,I),0<y.length?y[y.length-1]:''),y.push(I)),b=0<y.length?y[y.length-1]:'',''!==b){var R=s.clone();R.renderDepth=e.controllerHandler.getIncludeRenderDepth(b),d.parent=R,s=R}}if(!d.rendered){f(d.excludeProcedure,Ke.CUSTOMIZATION)||d.applyCustomizations();var v=s.renderExtension;if(null!=v){v.setTarget(d,s);var A=v.processChild();if(''!==A.xml&&i(d,s,A.xml,b),A.parent&&(s=A.parent),A.proceed)return'continue'}var L=[],N=!1;if(e.orderExt(n,d.element).some(function(e){if(e.is(d)&&(e.setTarget(d,s),e.condition())){var t=e.processNode(a,r);if(''!==t.xml&&i(d,s,t.xml,b),t.parent&&(s=t.parent),(''!==t.xml||t.proceed)&&L.push(e),t.proceed)return N=!0,!0}return!1}),null==d.renderExtension&&0<L.length&&(d.renderExtension=L[0]),N)return'continue';if(!d.rendered){var S='';if(''===d.nodeName){var O=e.controllerHandler.supportInline;if(0===d.untargeted.length||!d.documentRoot&&0<O.length&&d.children.every(function(e){return e.inline&&0===e.children.length&&O.includes(e.tagName)})){if(Z(d.element)||!mt.collapseUnattributedElements&&!Qe.includes(d.tagName))S+=e.writeNode(d,s,je.TEXT);else{if(mt.collapseUnattributedElements&&0===d.viewWidth&&0===d.viewHeight)return'continue';d.documentRoot||(S+=e.writeFrameLayout(d,s))}}else if(d.flex.enabled||d.untargeted.some(function(e){return!e.pageflow}))S+=e.writeDefaultLayout(d,s);else if(1!==d.untargeted.length){var w=[Ye.linearX(d.children,mt.linearHorizontalTopOffset),Ye.linearY(d.children)],k=w[0],C=w[1];S+=e.isLinearXY(k,C,d,d.children)?e.writeLinearLayout(d,s,k):mt.horizontalPerspective&&d.children.every(function(e){return e.pageflow&&e.inline})?e.writeRelativeLayout(d,s):e.writeDefaultLayout(d,s)}else if(mt.collapseUnattributedElements&&0===d.viewWidth&&0===d.viewHeight&&0===d.marginTop&&0===d.marginRight&&0===d.marginBottom&&0===d.marginLeft&&0===d.paddingTop&&0===d.paddingRight&&0===d.paddingBottom&&0===d.paddingLeft&&0===ne(d.css('background')).length&&0===Object.keys(d.styleMap).length&&!e.controllerHandler.hasAppendProcessing(d.id)){var D=d.untargeted[0];D.documentRoot=d.documentRoot,D.parent=s,d.cascade().forEach(function(e){return e.renderDepth--}),d.hide(),o[t]=D,t--}else S+=e.writeFrameLayout(d,s)}else S+=e.writeNode(d,s,d.nodeName);i(d,s,S,b)}}e.controllerHandler.supportInclude&&0<y.length&&'true'===T(d,'dataset.includeEnd')&&y.pop(),x=t},x=0,E;x<o.length;x++)E=_(x),'continue'===E},h=0;h<s.length;h++)c(h);var g=!0,m=!1,y=void 0;try{for(var b=u.entries()[Symbol.iterator](),_;!(g=(_=b.next()).done);g=!0){var x=_.value,E=ze(x,2),I=E[0],R=E[1],v='{:'+I+'}';-1===o.indexOf(v)?e.addInsertQueue(I,R):(o=o.replace(v,R.join('')+v),d=!1)}}catch(e){m=!0,y=e}finally{try{!g&&b.return&&b.return()}finally{if(m)throw y}}var A=!0,L=!1,N=void 0;try{for(var S=p.entries()[Symbol.iterator](),O;!(A=(O=S.next()).done);A=!0){var w=O.value,k=ze(w,2),D=k[0],B=k[1],P=e.controllerHandler.renderIncludeContent(D,B);e.addInclude(D,P)}}catch(e){L=!0,N=e}finally{try{!A&&S.return&&S.return()}finally{if(L)throw N}}},u=0;u<r.length;u++)s(u);var p=this.cache.parent,c=p.renderExtension;if(null==c||!p.isSet('dataset','target')){var h=E(T(p,'dataset.folder').trim(),'/');this.updateLayout(h,d?'':o,c&&c.documentRoot)}else this.views.pop();d?null==c&&(p.visible=!1):n.forEach(function(e){e.setTarget(p),e.afterRender()}),(l=this.cacheInternal.list).push.apply(l,Ue(this.cache.list))}},{key:'writeFrameLayout',value:function(e,t){return 0===e.children.length?this.controllerHandler.renderNode(e,t,je.FRAME):this.controllerHandler.renderGroup(e,t,je.FRAME)}},{key:'writeLinearLayout',value:function(e,t,n){return this.controllerHandler.renderGroup(e,t,je.LINEAR,{horizontal:n})}},{key:'writeGridLayout',value:function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return this.controllerHandler.renderGroup(e,t,je.GRID,{columns:n,rows:a})}},{key:'writeRelativeLayout',value:function(e,t){return this.controllerHandler.renderGroup(e,t,je.RELATIVE)}},{key:'writeConstraintLayout',value:function(e,t){return this.controllerHandler.renderGroup(e,t,je.CONSTRAINT)}},{key:'writeNode',value:function(e,t,n){return this.controllerHandler.renderNode(e,t,n)}},{key:'writeDefaultLayout',value:function(e,t){return mt.useConstraintLayout||e.flex.enabled?this.writeConstraintLayout(e,t):this.writeRelativeLayout(e,t)}},{key:'addInsertQueue',value:function(e,t){var n;null==this.insert[e]&&(this.insert[e]=[]),(n=this.insert[e]).push.apply(n,Ue(t))}},{key:'insertAuxillaryViews',value:function(){var e=this;this.cacheInternal.list.forEach(function(e){var t=e.renderExtension;null!=t&&(t.setTarget(e),t.beforeInsert())});var t={};for(var n in this.insert){var a=n;if(!y(n)){var r=this.findByDomId(n);null!=r&&(a=r.id.toString())}var o=this.insert[n].join('\n');if(a!==n){var d=this.cacheInternal.find(parseInt(a));if(null!=d){var l=d.renderDepth+1;o=P(o,l);for(var s=/{@([0-9]+)}/g,u=null,p=0,c;null!=(u=s.exec(o));)c=this.cacheInternal.find(parseInt(u[1])),null!=c&&(0==p++?c.renderDepth=l:c.renderDepth=c.parent.renderDepth+1)}}t[a]=o}for(var h in t)for(var g in t)h!==g&&(t[h]=t[h].replace('{:'+g+'}',t[g]),t[g]=t[g].replace('{:'+h+'}',t[h]));this.layouts.forEach(function(n){for(var a in t)n.content=n.content.replace('{:'+a+'}',t[a]);n.content=e.controllerHandler.insertAuxillaryViews(n.content)}),this.cacheInternal.list.forEach(function(e){var t=e.renderExtension;null!=t&&(t.setTarget(e),t.afterInsert())})}},{key:'setAttributes',value:function(){this.controllerHandler.setAttributes(this.viewData),this.cacheInternal.list.forEach(function(e){var t=e.renderExtension;null!=t&&(t.setTarget(e),t.finalize())})}},{key:'addLayout',value:function(e){this.currentIndex=this.views.length,this.views.push({filename:e,pathname:'',content:''})}},{key:'updateLayout',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=arguments[1],n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];if(e=e||'res/layout',n&&0<this.views.length&&''===this.views[0].content){var a=this.views[0],i=this.views.pop();a.pathname=e,a.filename=i.filename,a.content=t,this.currentIndex=0}else{var r=this.current;r.pathname=e,r.content=t}}},{key:'isLinearXY',value:function(e,t,n,a){return(e||t)&&!n.flex.enabled&&a.every(function(e){return e.pageflow&&!e.multiLine})&&a.every(function(e){return a[0].float===e.float})}},{key:'addInclude',value:function(e,t){this.includes.push({pathname:'res/layout',filename:e,content:t})}},{key:'findExtension',value:function(e){return this._extensions.find(function(t){return t.name===e})}},{key:'addXmlNs',value:function(e,t){this.controllerHandler.addXmlNs(e,t)}},{key:'findByDomId',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];return(t?this.cache:this.cacheInternal).list.find(function(t){return t.element.id===e||t.nodeId===e})}},{key:'toString',value:function(){return 0<this.views.length?this.views[0].content:''}},{key:'insertNode',value:function(e,t){var n=null;return'#text'===e.nodeName?''!==T(e,'textContent','string').trim()&&(n=new this.TypeT(this.cache.nextId,mt.targetAPI,e),n.tagName='PLAINTEXT',null!=t&&(n.parent=t,n.inherit(t,'style'),t.children.push(n)),n.setBounds()):K(e)&&(n=new this.TypeT(this.cache.nextId,mt.targetAPI,e),e.__nodeIsolated&&(n.isolated=!0),n.setExcludeProcedure(),n.setExcludeResource()),null!=n&&this.cache.list.push(n),n}},{key:'orderExt',value:function(e,t){for(var n=[],a=t;null!=a;)n=[].concat(Ue(n),Ue(T(a,'dataset.ext').split(',').map(function(e){return e.trim()}))),a=a.parentElement;if(n=n.filter(function(e){return e}),0<n.length){var i=[],r=[];return e.forEach(function(e){var t=n.indexOf(e.name);-1===t?r.push(e):i[t]=e}),[].concat(Ue(i.filter(function(e){return e})),r)}return e}},{key:'appName',set:function(e){null!=this.resourceHandler&&(this.resourceHandler.file.appName=e)},get:function(){return null==this.resourceHandler?'':this.resourceHandler.file.appName}},{key:'current',set:function(e){this.views[this.currentIndex]=e},get:function(){return this.views[this.currentIndex]}},{key:'layouts',get:function(){return[].concat(Ue(this.views),Ue(this.includes))}},{key:'extensions',get:function(){return this._extensions.filter(function(e){return e.enabled})}},{key:'viewData',get:function(){return{cache:this.cacheInternal.list,views:this.views,includes:this.includes}}},{key:'size',get:function(){return this.views.length+this.includes.length}}]),e}(),yt=function(){function e(t,n,a){Be(this,e),this.name=t,this.options={},this.tagNames=[],this.enabled=!0,this.dependencies=[],this.documentRoot=!1,Array.isArray(n)&&(this.tagNames=n.map(function(e){return e.trim().toUpperCase()})),null!=a&&Object.assign(this.options,a)}return Pe(e,[{key:'setTarget',value:function(e,t,n){this.node=e,this.parent=t,this.element=null==n&&null!=this.node?this.node.element:n}},{key:'is',value:function(e){return e.hasElement&&(0===this.tagNames.length||this.tagNames.includes(e.element.tagName))}},{key:'require',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];this.dependencies.push({name:e,init:t})}},{key:'included',value:function(e){return null==e&&(e=this.element),_(T(e,'dataset.ext'),this.name)}},{key:'beforeInit',value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];!t&&this.included()&&this.dependencies.filter(function(e){return e.init}).forEach(function(t){var n=e.application.findExtension(t.name);null!=n&&(n.setTarget(e.node,e.parent,e.element),n.beforeInit(!0))})}},{key:'init',value:function(){return!1}},{key:'afterInit',value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];!t&&this.included()&&this.dependencies.filter(function(e){return e.init}).forEach(function(t){var n=e.application.findExtension(t.name);null!=n&&(n.setTarget(e.node,e.parent,e.element),n.afterInit(!0))})}},{key:'condition',value:function(){if(this.node&&this.node.hasElement){var e=T(this.node.element,'dataset.ext');return''===e?0<this.tagNames.length:this.included()}return!1}},{key:'processNode',value:function(){return{xml:''}}},{key:'processChild',value:function(){return{xml:''}}},{key:'afterRender',value:function(){}},{key:'beforeInsert',value:function(){}},{key:'afterInsert',value:function(){}},{key:'finalize',value:function(){}},{key:'getData',value:function(){var e=this.element,t={};if(null!=e){var n=r(this.name,'\\.');for(var a in e.dataset)a.length>n.length&&a.startsWith(n)&&(t[d(a.substring(n.length),!1)]=e.dataset[a])}return t}}]),e}(),bt={EXTERNAL:'androme.external',CUSTOM:'androme.custom',GRID:'androme.grid',LIST:'androme.list',TABLE:'androme.table'},_t=function(e){function t(e,n,a){return Be(this,t),We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return He(t,e),Pe(t,[{key:'beforeInit',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if((e||this.included())&&null!=this.element){var t=this.element;if(null==t.__andromeExternalDisplay){for(var n=[],a=this.element;null!=a;)n.push(z(a).display),a.style.display='block',a=a.parentElement;t.__andromeExternalDisplay=n}}}},{key:'init',value:function(e){return this.included(e)&&this.application.elements.add(e),!1}},{key:'afterInit',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if((e||this.included())&&null!=this.element){var t=this.element;if(null!=t.__andromeExternalDisplay){for(var n=t.__andromeExternalDisplay,a=this.element,r=0;null!=a;)a.style.display=n[r],a=a.parentElement,r++;delete t.__andromeExternalDisplay}}}},{key:'is',value:function(){return!1}},{key:'condition',value:function(){return!1}}]),t}(yt),Tt=function(){function e(){Be(this,e),this.before={},this.after={}}return Pe(e,[{key:'reset',value:function(){this.before={},this.after={}}},{key:'insertAuxillaryViews',value:function(e){for(var t in this.before)e=e.replace('{<'+t+'}',this.before[t].join(''));for(var n in this.after)e=e.replace('{>'+n+'}',this.after[n].join(''));return e}},{key:'prependBefore',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1;null==this.before[e]&&(this.before[e]=[]),-1!==n&&n<this.before[e].length?this.before[e].splice(n,0,t):this.before[e].push(t)}},{key:'appendAfter',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1;null==this.after[e]&&(this.after[e]=[]),-1!==n&&n<this.after[e].length?this.after[e].splice(n,0,t):this.after[e].push(t)}},{key:'hasAppendProcessing',value:function(e){return null!=this.before[e]||null!=this.after[e]}},{key:'getEnclosingTag',value:function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:'',r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:'',o=I(Se(0,e)),d=i+('{<'+n+'}');return d+=''===a?o+('<'+t+(0===e?'{#0}':'')+'{@'+n+'} />\n'):o+('<'+t+(0===e?'{#0}':'')+'{@'+n+'}>\n')+a+o+('</'+t+'>\n'),d+='{>'+n+'}'+r,d}}]),e}(),xt=function(){function e(t){Be(this,e),this.file=t}return Pe(e,[{key:'addFile',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'';this.file.addFile(e,t,n,a)}},{key:'reset',value:function(){e.STORED.STRINGS=new Map,e.STORED.ARRAYS=new Map,e.STORED.FONTS=new Map,e.STORED.STYLES=new Map,e.STORED.DRAWABLES=new Map,e.STORED.COLORS=new Map,e.STORED.DIMENS=new Map,e.STORED.IMAGES=new Map,this.file.reset()}},{key:'setBoxSpacing',value:function(){this.cache.elements.forEach(function(e){if(!f(e.excludeResource,Ze.BOX_SPACING)){var t=e.element,n=t;if(null==n.__boxSpacing||mt.alwaysReevaluateResources){var a=Y(t),r={};for(var o in a)r[o]=e.inline&&('marginTop'===o||'marginBottom'===o)?'0px':c(a[o]);n.__boxSpacing=r}}})}},{key:'setBoxStyle',value:function(){var e=this;this.cache.visible.forEach(function(t){if(!f(t.excludeResource,Ze.BOX_STYLE)){var n=t.element,a=n;if(null==a.__boxStyle||mt.alwaysReevaluateResources){var r={borderTop:e.parseBorderStyle,borderRight:e.parseBorderStyle,borderBottom:e.parseBorderStyle,borderLeft:e.parseBorderStyle,borderRadius:e.parseBorderRadius,backgroundColor:e.parseBackgroundColor,backgroundImage:f(t.excludeResource,Ze.IMAGE_SOURCE)?'':e.parseBackgroundImage,backgroundSize:e.parseBoxDimensions,backgroundRepeat:e.parseBackgroundRepeat,backgroundPosition:e.parseBackgroundPosition};for(var o in r)'function'==typeof r[o]&&(r[o]=r[o](t.css(o),t,o));r=r,0<r.backgroundColor.length&&(mt.excludeBackgroundColor.includes(r.backgroundColor[0])&&r.backgroundColor[1]!==t.styleMap.backgroundColor||null==t.styleMap.backgroundColor&&t.documentParent.visible&&U(n,'backgroundColor'))&&(r.backgroundColor=[]);var i=JSON.stringify(r.borderTop);i===JSON.stringify(r.borderRight)&&i===JSON.stringify(r.borderBottom)&&i===JSON.stringify(r.borderLeft)&&(r.border=r.borderTop),a.__boxStyle=r}}})}},{key:'setFontStyle',value:function(){var e=this;this.cache.visible.forEach(function(t){if(!f(t.excludeResource,Ze.FONT_STYLE)){var n=t.element,a=n;if(null==a.__fontStyle||mt.alwaysReevaluateResources){if(0<t.renderChildren.length||'IMG'===t.tagName||'HR'===t.tagName)return;var i=ne(t.css('color'),t.css('opacity'));0<i.length&&mt.excludeTextColor.includes(i[0])&&('#text'===n.nodeName||i[1]!==t.styleMap.color)&&(i=[]);var r=ne(t.css('backgroundColor'),t.css('opacity'));0<r.length&&(e.hasDrawableBackground(a.__boxStyle)||mt.excludeBackgroundColor.includes(r[0])&&('#text'===n.nodeName||r[1]!==t.styleMap.backgroundColor)||null==t.styleMap.backgroundColor&&U(n,'backgroundColor'))&&(r=[]);var o=t.css('fontWeight');y(o)||(o='lighter'===o?'200':'bold'===o?'700':'bolder'===o?'900':'400');var d={fontFamily:t.css('fontFamily'),fontStyle:t.css('fontStyle'),fontSize:t.css('fontSize'),fontWeight:o,color:i,backgroundColor:r};a.__fontStyle=d}}})}},{key:'setOptionArray',value:function(){this.cache.visible.filter(function(e){return'SELECT'===e.tagName}).forEach(function(e){if(!f(e.excludeResource,Ze.OPTION_ARRAY)){var t=e.element,n=t;if(null==n.__optionArray||mt.alwaysReevaluateResources){for(var a=[],r=[],o=0;o<t.children.length;o++){var d=t.children[o],l=d.text.trim();if(''!==l)if(!mt.numberResourceValue&&null!=r&&0===a.length&&y(l))r.push(l);else{if(r&&0<r.length){o=-1,r=null;continue}''!==l&&a.push(l)}}n.__optionArray={stringArray:0<a.length?a:null,numberArray:r&&0<r.length?r:null}}}})}},{key:'setValueString',value:function(e){this.cache.visible.forEach(function(t){if(!f(t.excludeResource,Ze.VALUE_STRING)){var n=t.element,a=n;if(null==a.__valueString||mt.alwaysReevaluateResources){var i='',r='',o=!1;if('INPUT'===n.tagName)switch(n.type){case'text':case'number':case'email':case'search':case'submit':case'reset':case'button':r=n.value.trim();break;default:null!=t.companion&&(r=t.companion.element.innerText.trim());}else if('TEXTAREA'===n.tagName)r=n.value.trim();else if('#text'===n.nodeName){r=n.textContent;var d=n.previousSibling;d&&'BR'===d.tagName&&(r=r.replace(/^\s+/g,'')),o=!0}else if(t.hasElement&&(0===t.children.length&&Z(n)||0===n.children.length&&null==Je[t.tagName]||0<n.children.length&&Array.from(n.children).every(function(t){return null==Je[t.tagName]&&0===t.children.length&&e.includes(t.tagName)}))){switch(i=n.innerText.trim(),r=M(0<n.children.length||'CODE'===n.tagName?n.innerHTML:n.innerText),t.css('whiteSpace')){case'nowrap':r=r.replace(/\n/g,' ');break;case'pre':case'pre-wrap':r=r.replace(/\s/g,'&#160;');break;case'pre-line':r=r.replace(/\s+/g,' ');default:r=r.replace(/^\s+/g,''),o=!0;}r=r.replace(/<br\s*\/?>/g,'\\n'),r=r.replace(/\s+style=""/,'')}if(o){var l=r;r=r.trim();var s=t.previousSibling,u=t.nextSibling;s&&s.inline&&/^\s+/.test(l)&&(r='&#160;'+r),u&&u.inline&&/\s+$/.test(l)&&(r+='&#160;')}''!==r&&(a.__valueString={name:i,value:r})}}})}},{key:'borderVisible',value:function(e){return null!=e&&'none'!==e.style&&'0px'!==e.width}},{key:'hasDrawableBackground',value:function(e){return e&&(this.borderVisible(e.borderTop)||this.borderVisible(e.borderRight)||this.borderVisible(e.borderBottom)||this.borderVisible(e.borderLeft)||''!==e.backgroundImage||0<e.borderRadius.length)}},{key:'getBorderStyle',value:function(e){var t={solid:'android:color="@color/'+e.color+'"'};return Object.assign(t,{inset:t.solid,outset:t.solid,dotted:t.solid+' android:dashWidth="3px" android:dashGap="1px"',dashed:t.solid+' android:dashWidth="1px" android:dashGap="1px"'}),t[e.style]||'android:color="@android:color/black"'}},{key:'parseBorderStyle',value:function(e,t,n){var a=t.css(n+'Style')||'none',i=t.css(n+'Width')||'1px',r='none'===a?[]:ne(t.css(n+'Color'),t.css('opacity'));return'inset'===a&&'0px'===i&&(i='1px'),{style:a,width:i,color:0<r.length?r:['#000000','','1']}}},{key:'parseBackgroundImage',value:function(e){return e}},{key:'parseBorderRadius',value:function(e,t){var n=t.css('borderTopLeftRadius'),a=t.css('borderTopRightRadius'),i=t.css('borderBottomLeftRadius'),r=t.css('borderBottomRightRadius');return n===a&&a===i&&i===r?''===n||'0px'===n?[]:[n]:[n,a,i,r]}},{key:'parseBackgroundColor',value:function(e,t){return ne(e,t.css('opacity'))}},{key:'parseBackgroundRepeat',value:function(e){return e}},{key:'parseBackgroundPosition',value:function(e){return e}},{key:'parseBoxDimensions',value:function(e){if('auto'!==e){var t=e.match(/^([0-9]+(?:px|pt|em)|auto)(?: ([0-9]+(?:px|pt|em)|auto))?(?: ([0-9]+(?:px|pt|em)))?(?: ([0-9]+(?:px|pt|em)))?$/);if(null!=t)return'0px'===t[1]&&null==t[2]||'auto'===t[1]&&'auto'===t[2]?[]:'auto'===t[1]||'auto'===t[2]?['auto'===t[1]?'':p(t[1]),'auto'===t[2]?'':p(t[2])]:null==t[2]||t[1]===t[2]&&t[1]===t[3]&&t[1]===t[4]?[p(t[1])]:null==t[3]||t[1]===t[3]&&t[2]===t[4]?[p(t[1]),p(t[2])]:[p(t[1]),p(t[2]),p(t[3]),p(t[4])]}return[]}}],[{key:'insertStoredAsset',value:function(t,n,a){var r=e.STORED[t];if(null!=r){var o='',d=!0,l=!1,s=void 0;try{for(var u=r.entries()[Symbol.iterator](),p;!(d=(p=u.next()).done);d=!0){var c=p.value,h=ze(c,2),g=h[0],m=h[1];if(JSON.stringify(a)===JSON.stringify(m)){o=g;break}}}catch(e){l=!0,s=e}finally{try{!d&&u.return&&u.return()}finally{if(l)throw s}}if(''===o&&(y(n)&&(n='__'+n),S(a))){var f=0;do o=n,0<f&&(o+='_'+f),r.has(o)||r.set(o,a),f++;while(r.has(o)&&r.get(o)!==a)}return o}return''}}]),e}();xt.STORED={STRINGS:new Map,ARRAYS:new Map,FONTS:new Map,COLORS:new Map,STYLES:new Map,DIMENS:new Map,DRAWABLES:new Map,IMAGES:new Map};var Et=function(){function e(t,n){if(Be(this,e),this.id=t,this.styleMap={},this.nodeType=0,this.depth=-1,this.renderDepth=0,this.parentIndex=Ae,this.excludeProcedure=0,this.excludeResource=0,this.documentRoot=!1,this.visible=!0,this.rendered=!1,this.isolated=!1,this.relocated=!1,this.inlineWrap=!1,this.multiLine=!1,this._namespaces=new Set,this._data={},null!=n){var a=n;if(n instanceof HTMLElement){var i=a.__styleMap||{},o=!0,d=!1,l=void 0;try{for(var s=Array.from(n.style)[Symbol.iterator](),u,p;!(o=(u=s.next()).done);o=!0)p=u.value,i[r(p)]=n.style[p]}catch(e){d=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(d)throw l}}this.style=a.__style||getComputedStyle(n),this.styleMap=i}this._element=n,a.__node=this}}return Pe(e,[{key:'add',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',a=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],i='_'+(e||'_');if(S(n)){if(null==this[i]&&(this._namespaces.add(e),this[i]={}),!a&&null!=this[i][t])return;this[i][t]=n}}},{key:'get',value:function(e){var t='_'+(e||'_');return null==this[t]?{}:this[t]}},{key:'delete',value:function(e){var t='_'+(e||'_');if(null!=this[t]){for(var n=arguments.length,a=Array(1<n?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var r=!0,o=!1,d=void 0;try{for(var l=a[Symbol.iterator](),s,u;!(r=(s=l.next()).done);r=!0)if(u=s.value,S(u))if(-1!==u.indexOf('*')){var p=!0,c=!1,h=void 0;try{for(var g=L(this[t],u)[Symbol.iterator](),m;!(p=(m=g.next()).done);p=!0){var f=m.value,y=ze(f,1),b=y[0];delete this[t][b]}}catch(e){c=!0,h=e}finally{try{!p&&g.return&&g.return()}finally{if(c)throw h}}}else delete this[t][u]}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}}}},{key:'apply',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={};for(var n in e){var a=e[n];if('object'===('undefined'==typeof a?'undefined':ke(a)))for(var i in a)this.add(n,i,a[i]);else S(a)&&(t[n]=a)}return t}},{key:'render',value:function(e){this.renderParent=e,this.renderDepth=e===this||this.documentRoot||e.isSet('dataset','target')?0:e.renderDepth+1,this.rendered=!0}},{key:'hide',value:function(){this.rendered=!0,this.visible=!1}},{key:'data',value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return S(t)&&(n||null==this._data[e])&&(this._data[e]=t),this._data[e]}},{key:'ascend',value:function(){for(var e=[],t=this.parent;null!=t&&0!==t.id;)e.push(t),t=t.parent;return e}},{key:'cascade',value:function(){function e(t){var n=[].concat(Ue(t.children));return t.children.forEach(function(t){return n.push.apply(n,Ue(e(t)))}),n}return e(this)}},{key:'inherit',value:function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var i=!0,o=!1,d=void 0;try{for(var l=n[Symbol.iterator](),s,u;!(i=(s=l.next()).done);i=!0)switch(u=s.value,u){case'base':this.style=e.style,this.bounds=e.bounds,this.linear=e.linear,this.box=e.box;break;case'data':for(var p in this._data){var c=this._data[p];if('object'===('undefined'==typeof c?'undefined':ke(c))&&!0===c.inherit){var h=e.data(p);if(null!=h)switch(ke(e[p])){case'number':h[p]+=c[p];break;case'boolean':!1!==c[p]&&(h[p]=!0);break;default:h[p]=c[p];}else e.data(p,c);delete this._data[p]}}break;case'style':var g={};for(var m in e.style)if(m.startsWith('font')||m.startsWith('color')){var f=r(m);g[f]=e.style[f]}Object.assign(this.styleMap,g);break;case'styleMap':for(var y in e.styleMap)null==this.styleMap[y]&&(this.styleMap[y]=e.styleMap[y]);}}catch(e){o=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw d}}}},{key:'toLeftOf',value:function(e,t){return this.withinX(e.linear)&&e.linear.left+t<=this.linear.right}},{key:'toRightOf',value:function(e,t){return this.withinX(e.linear)&&e.linear.right+t>=this.linear.left}},{key:'intersect',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear',n=e.top>this[t].top&&e.top<this[t].bottom,a=e.right>this[t].left&&e.right<this[t].right,i=e.bottom>this[t].top&&e.bottom<this[t].bottom,r=e.left>this[t].left&&e.left<this[t].right;return n&&(r||a)||i&&(r||a)}},{key:'intersectX',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.top>=this[t].top&&e.top<this[t].bottom||e.bottom>this[t].top&&e.bottom<=this[t].bottom||this[t].top>=e.top&&this[t].bottom<=e.bottom||e.top>=this[t].top&&e.bottom<=this[t].bottom}},{key:'intersectY',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.left>=this[t].left&&e.left<this[t].right||e.right>this[t].left&&e.right<=this[t].right||this[t].left>=e.left&&this[t].right<=e.right||e.left>=this[t].left&&e.right<=this[t].right}},{key:'withinX',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.top>=this[t].top&&e.bottom<=this[t].bottom||this[t].top>=e.top&&this[t].bottom<=e.bottom}},{key:'withinY',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.left>=this[t].left&&e.left<=this[t].right||this[t].left>=e.left&&this[t].right<=e.right}},{key:'css',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'';return 2===arguments.length&&(this.styleMap[e]=S(t)?t:''),this.styleMap[e]||this.style&&this.style[e]||''}},{key:'setExcludeProcedure',value:function(e){var t=this;null==e&&this.hasElement&&(e=this.dataset.excludeProcedure||'',null!=this.parentElement&&(e+='|'+(this.parentElement.dataset.excludeProcedureChild||''))),null!=e&&e.split('|').map(function(e){return e.toUpperCase().trim()}).forEach(function(e){''!==e&&null!=Ke[e]&&(t.excludeProcedure|=Ke[e])})}},{key:'setExcludeResource',value:function(e){var t=this;null==e&&(e=this.dataset.excludeResource,null!=this.parentElement&&(e+='|'+(this.parentElement.dataset.excludeResourceChild||''))),this.hasElement&&null!=e&&e.split('|').map(function(e){return e.toUpperCase().trim()}).forEach(function(e){''!==e&&null!=Ze[e]&&(t.excludeResource|=Ze[e])})}},{key:'setBounds',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if(!e){var t;if(this.hasElement)t=V(this.element.getBoundingClientRect());else{var n=X(this.element),a=ze(n,2),i=a[0],r=a[1];t=i,this.multiLine=r}if(null!=t&&(this.bounds=t,null!=this.companion)){var o=V(this.companion.element.getBoundingClientRect());this.bounds.left=Ne(t.left,o.left),this.bounds.right=Se(t.right,o.right),this.bounds.width=this.bounds.right-this.bounds.left}}if(null!=this.bounds){var d={top:this.bounds.top-this.marginTop,right:this.bounds.right+this.marginRight,bottom:this.bounds.bottom+this.marginBottom,left:this.bounds.left-this.marginLeft,width:0,height:0};null==this.linear?this.linear=d:Object.assign(this.linear,d);var l={top:this.bounds.top+(this.paddingTop+this.borderTopWidth),right:this.bounds.right-(this.paddingRight+this.borderRightWidth),bottom:this.bounds.bottom-(this.paddingBottom+this.borderBottomWidth),left:this.bounds.left+(this.paddingLeft+this.borderLeftWidth),width:0,height:0};null==this.box?this.box=l:Object.assign(this.box,l),this.setDimensions()}}},{key:'isSet',value:function(e,t){return!!(this[e]&&null!=this[e][t])&&S(this[e][t])}},{key:'setBoundsMin',value:function(){var e=this.children.filter(function(e){return!e.pageflow}),t=!1,n=!1;if(0<e.length){var a=[Se.apply(null,this.children.map(function(e){return e.linear.right})),Se.apply(null,this.children.map(function(e){return e.linear.bottom}))],i=a[0],r=a[1];if(t=e.some(function(e){return e.linear.right===i}),n=e.some(function(e){return e.linear.bottom===r}),t||n){var o=!1;i>this.box.right&&(this.bounds.right=i+(this.paddingRight+this.borderRightWidth),this.bounds.width=this.bounds.right-this.bounds.left,o=!0),r>this.box.bottom&&(this.bounds.bottom=r+(this.paddingBottom+this.borderBottomWidth),this.bounds.height=this.bounds.bottom-this.bounds.top,o=!0),o&&this.setBounds(!0)}}return{horizontal:t,vertical:n}}},{key:'setDimensions',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:['linear','box'];t.forEach(function(t){var n=e[t];n.width=n.right-n.left,n.height=n.bottom-n.top})}},{key:'appendChild',value:function(e){this.renderChildren.push(e)}},{key:'parent',set:function(e){null==e||e===this._parent||(this._parent=e,this.depth=e.depth+1)},get:function(){return this._parent}},{key:'tagName',set:function(e){this._tagName=e},get:function(){return this._tagName||(this.hasElement?'INPUT'===this.element.tagName?this.element.type.toUpperCase():this.element.tagName:'')}},{key:'nodeName',set:function(e){this._nodeName=e},get:function(){return this._nodeName}},{key:'element',get:function(){return this._element||{}}},{key:'hasElement',get:function(){return this._element instanceof HTMLElement}},{key:'parentElement',get:function(){return this._element&&this._element.parentElement}},{key:'untargeted',get:function(){return this.children.filter(function(e){return!e.isSet('dataset','target')})}},{key:'namespaces',get:function(){return Array.from(this._namespaces)}},{key:'dataset',get:function(){return this.hasElement?this.element.dataset:{}}},{key:'extension',get:function(){return null==this.dataset.ext?'':this.dataset.ext.split(',')[0].trim()}},{key:'flex',get:function(){var e=this.documentParent,t=this.style;return null!=t&&e!==this?{enabled:-1!==t.display.indexOf('flex'),direction:t.flexDirection,basis:t.flexBasis,grow:s(t.flexGrow),shrink:s(t.flexShrink),wrap:t.flexWrap,alignSelf:e.isSet('styleMap','alignItems')&&(null==this.styleMap.alignSelf||'auto'===t.alignSelf)?e.styleMap.alignItems:t.alignSelf,justifyContent:t.justifyContent,order:s(t.order)}:{}}},{key:'floating',get:function(){var e=null==this.style?'':this.style.float;return'left'===e||'right'===e}},{key:'float',get:function(){return this.css('float')||'none'}},{key:'overflow',get:function(){var e=0;return this.hasElement&&(('scroll'===this.css('overflow')||'scroll'===this.css('overflowX')||'auto'===this.css('overflowX')&&this.element.clientWidth!==this.element.scrollWidth)&&(e|=2),('scroll'===this.css('overflow')||'scroll'===this.css('overflowY')||'auto'===this.css('overflowY')&&this.element.clientHeight!==this.element.scrollHeight)&&(e|=4)),e}},{key:'overflowX',get:function(){return f(this.overflow,2)}},{key:'overflowY',get:function(){return f(this.overflow,4)}},{key:'viewWidth',get:function(){return'inline'!==this.display||'IMG'===this.tagName?s(this.styleMap.width)||s(this.styleMap.minWidth):0}},{key:'viewHeight',get:function(){return'inline'!==this.display||'IMG'===this.tagName?s(this.styleMap.height)||s(this.styleMap.lineHeight)||s(this.styleMap.minHeight):0}},{key:'display',get:function(){return this.css('display')||''}},{key:'top',get:function(){var e=this.css('top');return S(e)&&'auto'!==e?s(e):null}},{key:'right',get:function(){var e=this.css('right');return S(e)&&'auto'!==e?s(e):null}},{key:'bottom',get:function(){var e=this.css('bottom');return S(e)&&'auto'!==e?s(e):null}},{key:'left',get:function(){var e=this.css('left');return S(e)&&'auto'!==e?s(e):null}},{key:'marginTop',get:function(){return'inline'===this.display?0:s(this.css('marginTop'))}},{key:'marginRight',get:function(){var e=this;return null!=this.companion&&this.companion.bounds.right>this.bounds.right&&(e=this.companion),s(e.css('marginRight'))}},{key:'marginBottom',get:function(){return'inline'===this.display?0:s(this.css('marginBottom'))}},{key:'marginLeft',get:function(){var e=this;return null!=this.companion&&this.companion.bounds.left<this.bounds.left&&(e=this.companion),s(e.css('marginLeft'))}},{key:'borderTopWidth',get:function(){return s(this.css('borderTopWidth'))}},{key:'borderRightWidth',get:function(){return s(this.css('borderRightWidth'))}},{key:'borderBottomWidth',get:function(){return s(this.css('borderBottomWidth'))}},{key:'borderLeftWidth',get:function(){return s(this.css('borderLeftWidth'))}},{key:'paddingTop',get:function(){return s(this.css('paddingTop'))}},{key:'paddingRight',get:function(){var e=this;return null!=this.companion&&this.companion.bounds.right>this.bounds.right&&(e=this.companion),s(e.css('paddingRight'))}},{key:'paddingBottom',get:function(){return s(this.css('paddingBottom'))}},{key:'paddingLeft',get:function(){var e=this;return null!=this.companion&&this.companion.bounds.left<this.bounds.left&&(e=this.companion),s(e.css('paddingLeft'))}},{key:'position',get:function(){return this.css('position')}},{key:'pageflow',get:function(){var e=this.position;return'static'===e||'initial'===e||'PLAINTEXT'===this.tagName||'relative'===e&&!this.top&&!this.right&&!this.bottom&&!this.left||null==this.top&&null==this.right&&null==this.bottom&&null==this.left}},{key:'inline',get:function(){return'PLAINTEXT'===this.tagName||!this.floating&&(-1!==this.display.indexOf('inline')||'initial'===this.display&&$e.includes(this.element.tagName))}},{key:'dir',get:function(){switch(this.css('direction')){case'unset':case'inherit':var e=this.documentParent;do{var t=e.dir;if(''!==t)return t;e=e.documentParent}while(0!==e.id);return'';case'rtl':return'rtl';default:return'ltr';}}},{key:'previousSibling',get:function(){var e=this,t=this.parent.children.findIndex(function(t){return t===e});return 0<t?this.parent.children[t-1]:null}},{key:'nextSibling',get:function(){var e=this,t=this.parent.children.findIndex(function(t){return t===e});return-1===t?null:this.parent.children[t+1]}},{key:'center',get:function(){return{x:this.bounds.left+we(this.bounds.width/2),y:this.bounds.top+we(this.bounds.height/2)}}}]),e}(),It=void 0,Rt=(Rn={},Fe(Rn,e.build.P,{android:[],app:[],customizations:{}}),Fe(Rn,e.build.OREO_1,{android:[],app:[],customizations:{}}),Fe(Rn,e.build.OREO,{android:['fontWeight','layout_marginHorizontal','layout_marginVertical','paddingHorizontal','paddingVertical'],app:[],customizations:{}}),Fe(Rn,e.build.NOUGAT_1,{android:[],app:[],customizations:{}}),Fe(Rn,e.build.NOUGAT,{android:[],app:[],customizations:{}}),Fe(Rn,e.build.MARSHMALLOW,{android:[],app:[],customizations:{}}),Fe(Rn,e.build.LOLLIPOP_1,{android:[],app:[],customizations:{}}),Fe(Rn,e.build.LOLLIPOP,{android:['layout_columnWeight'],app:[],customizations:{}}),Fe(Rn,e.build.KITKAT_1,{android:[],app:[],customizations:{}}),Fe(Rn,e.build.KITKAT,{android:[],app:[],customizations:{}}),Fe(Rn,e.build.JELLYBEAN_2,{android:[],app:[],customizations:{}}),Fe(Rn,e.build.JELLYBEAN_1,{android:['labelFor'],app:[],customizations:{}}),Fe(Rn,e.build.JELLYBEAN,{android:[],app:[],customizations:{}}),Fe(Rn,e.build.ICE_CREAM_SANDWICH_1,{android:[],app:[],customizations:{}}),Fe(Rn,e.build.ICE_CREAM_SANDWICH,{android:[],app:[],customizations:{}}),Fe(Rn,e.build.ALL,{android:[],app:[],customizations:{}}),Rn),vt=function(t){function n(e,t,a){Be(this,n);var i=We(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,a));return i.id=e,i.api=t,i.constraint={},i.children=[],i.renderChildren=[],i}return He(n,t),Pe(n,[{key:'add',value:function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];this.supported(e,t)&&Ge(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'add',this).call(this,e,t,a,i)}},{key:'android',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return S(t)?void this.add('android',e,t,n):this._android&&null!=this._android[e]?this._android[e]:null}},{key:'app',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return S(t)?void this.add('app',e,t,n):this._app&&null!=this._app[e]?this._app[e]:null}},{key:'apply',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Ge(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'apply',this).call(this,e);for(var a in t)this.attr(a+'="'+t[a]+'"')}},{key:'attr',value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=e.match(/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/);null!=n&&this.add(n[1]||'_',n[2],n[3],t)}},{key:'anchor',value:function(e,t,n,a){switch(null==a&&(a='parent'===t||'true'===t),this.renderParent.nodeName){case it.CONSTRAINT:if(1===arguments.length)return this.app(e);this.app(e,t,a);break;case it.RELATIVE:if(1===arguments.length)return this.android(e);this.android(e,t,a);}S(n)&&(this.constraint[n]=!0)}},{key:'modifyBox',value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],a=m(qe,rt,e);if(''!==a){var i=he(a),r=c(t);'0px'===r?this.delete('android',i):this.android(i,r),n&&this.css(i.replace('layout_',''),r)}}},{key:'boxValue',value:function(e){var t=m(qe,rt,e);if(''!==t){var n=he(t);return[n,this.android(n)||'0px']}return['','0px']}},{key:'supported',value:function(t,n){if(0<this.api)for(var a=this.api+1,r;a<=e.build.LATEST;a++)if(r=Rt[a],r&&r[t]&&r[t].includes(n))return!1;return!0}},{key:'combine',value:function(){for(var e=this,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];var i=[];return this.namespaces.forEach(function(t){var a=e['_'+t];if(0===n.length||n.includes(t))for(var r in a)'_'===t?i.push(r+'="'+a[r]+'"'):i.push(t+':'+r+'="'+a[r]+'"')}),i.sort(function(e,t){return e.startsWith('android:id=')?-1:t.startsWith('android:id=')?1:e>t?1:-1})}},{key:'applyCustomizations',value:function(){var e=this;[Rt[this.api],Rt[0]].forEach(function(t){if(t&&null!=t.customizations){var n=t.customizations[e.nodeName];if(null!=n)for(var a in n)for(var i in n[a])e.add(a,i,n[a][i],!1)}})}},{key:'clone',value:function(){var e=new n(this.id,this.api,this.element);return e.nodeId=this.nodeId,e.nodeType=this.nodeType,e.nodeName=this.nodeName,e.depth=this.depth,e.rendered=this.rendered,e.renderDepth=this.renderDepth,e.renderParent=this.renderParent,e.renderExtension=this.renderExtension,e.visible=this.visible,e.documentRoot=this.documentRoot,e.documentParent=this.documentParent,e.children=this.children,e.inherit(this,'base','style','styleMap'),e}},{key:'is',value:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=!0,r=!1,o=void 0;try{for(var d=t[Symbol.iterator](),l,s;!(i=(l=d.next()).done);i=!0)if(s=l.value,this.nodeName===n.getViewName(s))return!0}catch(e){r=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(r)throw o}}return!1}},{key:'setNodeId',value:function(e){for(var t in it)if(it[t]===e&&null!=je[t]){this.nodeType=je[t];break}if(Ve(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'nodeName',e||this.nodeName,this),null==this.nodeId){var a=this.element,i=(a.id||a.name||'').trim();S(i)&&gt.includes(i)&&(i+='_1'),this.nodeId=o(de('android',i||v(this.nodeName,'.').toLowerCase()+'_1'))}this.android('id',this.stringId)}},{key:'setLayout',value:function(e,t){var n=this;null==e&&(e=this.hasElement?this.element.clientWidth+this.borderLeftWidth+this.borderRightWidth+this.marginLeft+this.marginRight:0),null==t&&(t=this.hasElement?this.element.clientHeight+this.borderTopWidth+this.borderBottomWidth+this.marginTop+this.marginBottom:0);var a=this.styleMap,i=this.constraint,r=this.documentParent,o=r.element.offsetWidth-(r.paddingLeft+r.paddingRight+r.borderLeftWidth+r.borderRightWidth),d=r.element.offsetHeight-(r.paddingTop+r.paddingBottom+r.borderTopWidth+r.borderBottomWidth),l=this.renderParent;if((this.documentRoot&&!this.flex.enabled&&this.is(je.FRAME,je.CONSTRAINT,je.RELATIVE,je.SCROLL_VERTICAL,je.SCROLL_HORIZONTAL,je.SCROLL_NESTED)||this.element===document.body)&&(0===this.viewWidth&&this.android('layout_width','match_parent',!1),0===this.viewHeight&&!i.layoutHeight&&this.android('layout_height','match_parent',!1)),0!==this.overflow&&this.nodeType>=je.BLOCK)this.android('layout_width',this.horizontal?'wrap_content':'match_parent'),this.android('layout_height',this.horizontal?'match_parent':'wrap_content');else{if('0px'!==this.android('layout_width')){if(this.isSet('styleMap','width'))if(b(a.width)){if('TABLE'===l.tagName)this.android('layout_columnWeight',(s(a.width)/100).toFixed(2)),this.android('layout_width','0px');else if('100%'!==a.width)this.android('layout_width','wrap_content',!1);else if(this.android('layout_width','match_parent'),!S(a.height))switch(this.nodeName){case it.IMAGE:this.android('layout_height','match_parent');}}else if(!isNaN(parseInt(a.width))){var h=this.paddingLeft+this.paddingRight;if(0<this.renderChildren.length)switch(this.nodeName){case it.LINEAR:h+=this.renderChildren.reduce(function(e,t){return n.horizontal?e+t.viewWidth:Se(e,t.viewWidth)},0);break;case it.CONSTRAINT:h+=this.renderChildren.reduce(function(e,t){return e+('parent'===t.app('layout_constraintTop_toTopOf')?t.viewWidth:0)},0);}this.android('layout_width',h>this.viewWidth?'wrap_content':p(a.width))}else'auto'===a.width&&this.android('layout_width',!this.inline&&this.pageflow&&Qe.includes(this.element.tagName)?'match_parent':'wrap_content',!1);!this.isSet('styleMap','minWidth')||b(a.minWidth)||i.minWidth||(this.android('layout_width','wrap_content',!1),this.android('minWidth',p(a.minWidth),!1)),!this.isSet('styleMap','maxWidth')||b(a.maxWidth)||i.maxWidth||this.android('maxWidth',p(a.maxWidth),!1)}if(i.layoutWidth)this.android('layout_width',this.renderChildren.some(function(e){return'right'===e.float})||this.bounds.width>=o?'match_parent':c(this.bounds.width),!1);else if(null==this.android('layout_width')){var g=0,m=0,f=r.documentRoot?r.viewWidth:this.ascend().reduce(function(e,t){return Se(e,t.viewWidth)},0),y=l.is(je.LINEAR);y&&!l.horizontal&&(g=we(this.cascade().filter(function(e){return e.visible}).reduce(function(e,t){return Se(e,t.bounds.right)},0)),m=we(r.cascade().filter(function(e){return e.visible&&!r.children.includes(e)}).reduce(function(e,t){return Se(e,t.bounds.right)},0)));var _=this.nodeType<=je.INLINE||'table'===this.display||this.inline||r.flex.enabled||l.is(je.CONSTRAINT,je.GRID)||y&&l.horizontal;0<u(this.android('layout_columnWeight'))?this.android('layout_width','0px',!1):!_&&(0===r.overflow&&(0<f||this.parentElement===document.body)&&e>=o||!this.floating&&!this.inline&&Qe.includes(this.tagName)&&(0===this.renderChildren.length||0!==g&&g<m))?this.android('layout_width','match_parent'):this.android('layout_width','wrap_content')}if('0px'!==this.android('layout_height')){var T=b(a.height)||b(a.lineHeight);if(this.isSet('styleMap','height')||this.isSet('styleMap','lineHeight')||T){var x=s(a.height)||s(a.lineHeight);if(!T)0<x?'inline-block'===this.display&&'visible'===this.css('overflow')?(this.android('minHeight',c(x)),this.android('layout_height','wrap_content')):this.android('layout_height',p(x)):'auto'===a.height&&this.android('layout_height','wrap_content',!1);else if('TABLE'===l.tagName)this.android('layout_rowWeight',(x/100).toFixed(2)),this.android('layout_height','0px');else if('100%'!==a.height)this.android('layout_height','wrap_content',!1);else if(this.android('layout_height','match_parent'),!S(a.width))switch(this.nodeName){case it.IMAGE:this.android('layout_width','match_parent');}}!this.isSet('styleMap','minHeight')||b(a.minHeight)||i.minHeight||(this.android('layout_height','wrap_content',!1),this.android('minHeight',p(a.minHeight),!1)),!this.isSet('styleMap','maxHeight')||b(a.maxHeight)||i.maxHeight||this.android('maxHeight',p(a.maxHeight),!1)}i.layoutHeight?this.android('layout_height',this.bounds.height>=d&&!l.documentRoot?'match_parent':c(this.bounds.height),!1):null==this.android('layout_height')&&(t>=d&&0===r.overflow&&r.viewHeight&&!dt.includes(this.nodeName)&&!l.is(je.RELATIVE)&&'wrap_content'!==l.android('layout_height')?this.android('layout_height','match_parent'):this.android('layout_height','wrap_content'))}}},{key:'setAlignment',value:function(){function e(e){return'left'===e||'start'===e?he('left'):'right'===e||'end'===e?t:'center'===e?'center_horizontal':''}var t=he('right'),n=this.renderParent,a=this.is(je.TEXT),i=this.styleMap.textAlign,r='',o=this.styleMap.verticalAlign;if(!this.floating||a){var d=this.documentParent;do{if(r=d.styleMap.textAlign,0===d.id||S(r))break;d=d.documentParent}while(!0)}''===i&&'TH'===this.tagName&&(i='center');var l=e(r),u=e(i),p='';'top'===o?p='top':'middle'===o?p='center_vertical':'bottom'===o||'text-bottom'===o?p='bottom':this.hasElement&&null!=this.styleMap.lineHeight&&(this.style.height===this.styleMap.lineHeight||s(this.styleMap.lineHeight)===this.box.bottom-this.box.top)&&(p='center_vertical');var c='parent'===n.app(he('layout_constraintRight_toRightOf'));if('TABLE'===n.tagName)this.android('layout_gravity','fill');else{var h='',g='';if(!c){var m=n.android('gravity')||'';h=('right'!==this.float||m===t)&&(this.floating||'rtl'!==this.dir)?'':t,''!==h||a||-1!==m.indexOf(l)||(h=u,u='')}''!=p&&0===this.viewHeight&&n.is(je.LINEAR,je.GRID,je.FRAME)&&(g=p,p='');var f=[h,g].filter(function(e){return e}).join('|');''!==f&&this.android('layout_gravity',f)}if(0<this.renderChildren.length&&!c&&!this.is(je.CONSTRAINT,je.RELATIVE)&&(this.renderChildren.every(function(e){return'right'===e.float})||'right'===this.css('textAlign')&&this.renderChildren.every(function(e){return e.inline})))this.android('gravity',t);else{this.nodeType<=je.IMAGE&&''===u&&''!==l&&(u=l);var y=[u,p].filter(function(e){return e});0<y.length&&this.android('gravity',2===y.filter(function(e){return-1!==e.indexOf('center')}).length?'center':y.join('|'))}if(null==this.android('layout_gravity')){var b=this.css('marginLeft'),_=this.css('marginRight'),T=this.css('margin').split(' ');('auto'===b&&'auto'===_||this.is(je.LINE)&&'0px'!==b&&b===_&&b===T[1])&&this.android('layout_gravity','center_horizontal')}}},{key:'mergeBoxSpacing',value:function(){var t=this;['layout_margin','padding'].forEach(function(n,a){var i=he(n+'Left'),r=he(n+'Right'),o='inline'===t.display||'PLAINTEXT'===t.tagName,d=0===a&&o?0:s(t.android(n+'Top')),l=s(t.android(r)),u=0===a&&o?0:s(t.android(n+'Bottom')),p=s(t.android(i));1===a&&(0===t.viewWidth&&(0<t.borderLeftWidth&&(p+=t.borderLeftWidth),0<t.borderRightWidth&&(l+=t.borderRightWidth)),0===t.viewHeight&&(0<t.borderTopWidth&&(d+=t.borderBottomWidth),0<t.borderBottomWidth&&(u+=t.borderBottomWidth))),t.api>=e.build.OREO&&(0!==d&&d===u&&u===p&&p===l?(t.delete('android',n+'*'),t.android(n,c(d))):(0!==a||!t.renderParent.is(je.GRID))&&(0!==d&&d===u&&(t.delete('android',n+'Top',n+'Bottom'),t.android(n+'Vertical',c(d))),0!==p&&p===l&&(t.delete('android',i,r),t.android(n+'Horizontal',c(p)))))})}},{key:'optimizeLayout',value:function(){var e=this;switch(this.nodeName){case it.LINEAR:[[this.horizontal,this.inline,'layout_width'],[!this.horizontal,!0,'layout_height']].forEach(function(t){t[0]&&t[1]&&'wrap_content'!==e.android(t[2])&&e.renderChildren.every(function(e){return'wrap_content'===e.android(t[2])})&&e.android(t[2],'wrap_content')});}this.adjustBoxSpacing();var t=this.element.__boxStyle,n=0,a=0;if(null!=t){var i={top:s(t.borderTop.width),right:s(t.borderRight.width),bottom:s(t.borderBottom.width),left:s(t.borderLeft.width)};0<i.top&&(this.nodeType>je.INLINE||0<this.paddingTop)&&(this.modifyBox(qe.PADDING_TOP,this.paddingTop+i.top),a+=i.top),0<i.right&&(this.nodeType>je.INLINE||0<this.paddingRight)&&(this.modifyBox(qe.PADDING_RIGHT,this.paddingRight+i.right),n+=i.right),0<i.bottom&&(this.nodeType>je.INLINE||0<this.paddingBottom)&&(this.modifyBox(qe.PADDING_BOTTOM,this.paddingBottom+i.bottom),a+=i.bottom),0<i.left&&(this.nodeType>je.INLINE||0<this.paddingLeft)&&(this.modifyBox(qe.PADDING_LEFT,this.paddingLeft+i.left),n+=i.left);var r=s(this.android('layout_width')),o=s(this.android('layout_height'));0<r&&0<n&&this.android('layout_width',c(r+n)),0<o&&0<a&&this.android('layout_height',c(o+a))}}},{key:'setAccessibility',value:function(){var e=this,t=this,a=this.element;switch(this.nodeName){case it.EDIT:null==t.companion&&function(){for(var a=e.renderParent,i=e,r=null,o;a instanceof n&&0<a.renderChildren.length;){if(o=a.renderChildren.findIndex(function(e){return e===i}),0<o){r=a.renderChildren[o-1];break}i=a,a=a.renderParent}r&&r.is(je.TEXT)&&r.element.htmlFor===t.element.id&&r.android('labelFor',e.stringId)}();case it.SELECT:case it.CHECKBOX:case it.RADIO:case it.BUTTON:a.disabled&&this.android('focusable','false');}}},{key:'alignBaseline',value:function(e){var t=-1;e.some(function(e,n){if(e.is(je.LINEAR)&&null!=e.android('baselineAlignedChildIndex'))t=n;else if(e.nodeType<=je.TEXT)switch(e.css('verticalAlign')){case'baseline':case'sub':case'super':-1===t&&e.nodeType<=je.BUTTON&&(t=n);break;default:return t=-1,!0;}return!1}),-1!==t&&(this.android('baselineAlignedChildIndex',t.toString()),this.renderParent.is(je.LINEAR)&&this.renderParent.horizontal&&this.renderParent.alignBaseline(this.renderParent.renderChildren))}},{key:'appendChild',value:function(e){switch(Ge(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'appendChild',this).call(this,e),this.nodeName){case it.LINEAR:this.horizontal&&this.alignBaseline(this.renderChildren);}}},{key:'adjustBoxSpacing',value:function(){var e=this;if(this.is(je.LINEAR,je.RADIO_GROUP))switch(this.android('orientation')){case ot.HORIZONTAL:var t=this.box.left;C(this.renderChildren.slice(),'linear.left').forEach(function(n,a){var i=!0;if(0===a){var r=e.android('gravity');null!=r&&r!==he('left')&&(i=!1)}if(i&&!n.floating){var o=Oe(n.linear.left-t);1<=o&&n.modifyBox(qe.MARGIN_LEFT,n.marginLeft+o,!0)}t=n.linear.right});break;case ot.VERTICAL:var n=this.box.top;C(this.renderChildren.slice(),'linear.top').forEach(function(e){var t=Oe(e.linear.top-n);1<=t&&e.modifyBox(qe.MARGIN_TOP,e.marginTop+t,!0),n=e.linear.bottom});}}},{key:'stringId',get:function(){return S(this.nodeId)?'@+id/'+this.nodeId:''}},{key:'nodeName',set:function(e){this._nodeName=e},get:function(){if(null!=this._nodeName)return Ge(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'nodeName',this);var e=Je[this.tagName];return null==e?'':n.getViewName(e)}},{key:'documentParent',set:function(e){this._documentParent=e},get:function(){var e=this.position;if(null!=this._documentParent)return this._documentParent;if(0===this.id)return this;if('fixed'!==e)for(var t=this.element.parentElement,a;null!=t;){if(a='absolute'===e&&'static'===z(t).position?null:t.__node,null!=a)return a;t=t.parentElement}return n.documentBody()}},{key:'renderParent',set:function(e){e!==this&&-1===e.renderChildren.indexOf(this)&&e.appendChild(this),this._renderParent=e},get:function(){if(null!=this._renderParent)return this._renderParent;var e=new n(0,this.api);return e.hide(),e}},{key:'anchored',get:function(){return this.constraint.horizontal&&this.constraint.vertical}},{key:'horizontal',get:function(){return this._android&&this._android.orientation===ot.HORIZONTAL}},{key:'horizontalBias',get:function(){var e=this.documentParent;if(e!==this){var t=Se(0,this.linear.left-e.box.left),n=Se(0,e.box.right-this.linear.right);return ce(t,n)}return .5}},{key:'verticalBias',get:function(){var e=this.documentParent;if(e!==this){var t=Se(0,this.linear.top-e.box.top),n=Se(0,e.box.bottom-this.linear.bottom);return ce(t,n)}return .5}}],[{key:'documentBody',value:function(){if(null==n._documentBody){var e=new n(0,0,document.body);e.hide(),e.setBounds(),n._documentBody=e}return n._documentBody}},{key:'getViewName',value:function(e){return it[je[e]]}}]),n}(Et),At=function(e){function t(e,n,a,i){Be(this,t);var r=We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.api));return r.documentParent=n.documentParent,null!=a&&(r.parent=a),null!=i&&(r.children=i),r.depth=n.depth,r.tagName=n.tagName+'group',r.css('direction',r.documentParent.dir),r}return He(t,e),Pe(t,[{key:'setLayout',value:function(){Ge(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setLayout',this).apply(this,this.childrenBox)}},{key:'setBounds',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=this.outerRegion;e||(this.bounds={top:t.top[0].bounds.top,right:t.right[0].bounds.right,bottom:t.bottom[0].bounds.bottom,left:t.left[0].bounds.left,width:0,height:0},this.bounds.width=this.bounds.right-this.bounds.left,this.bounds.height=this.bounds.bottom-this.bounds.top),this.linear={top:t.top[0].linear.top,right:t.right[0].linear.right,bottom:t.bottom[0].linear.bottom,left:t.left[0].linear.left,width:0,height:0},this.box={top:t.top[0].box.top,right:t.right[0].box.right,bottom:t.bottom[0].box.bottom,left:t.left[0].box.left,width:0,height:0},this.setDimensions()}},{key:'pageflow',get:function(){return this.children.some(function(e){return e.pageflow})}},{key:'childrenBox',get:function(){var e=Ae,t=0,n=Ae,a=0,i=!0,r=!1,o=void 0;try{for(var d=this.children[Symbol.iterator](),l,s;!(i=(l=d.next()).done);i=!0)s=l.value,e=Ne(s.bounds.left,e),t=Se(s.bounds.right,t),n=Ne(s.bounds.top,n),a=Se(s.bounds.bottom,a)}catch(e){r=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(r)throw o}}return[t-e,a-n]}},{key:'outerRegion',get:function(){for(var e=this.children,t=[e[0]],n=[e[0]],a=[e[0]],r=[e[0]],o=1,d;o<e.length;o++)d=e[o],t[0].linear.top===d.linear.top?t.push(d):d.linear.top<t[0].linear.top&&(t=[d]),n[0].linear.right===d.linear.right?n.push(d):d.linear.right>n[0].linear.right&&(n=[d]),a[0].linear.bottom===d.linear.bottom?a.push(d):d.linear.bottom>a[0].linear.bottom&&(a=[d]),r[0].linear.left===d.linear.left?r.push(d):d.linear.left<r[0].linear.left&&(r=[d]);return{top:t,right:n,bottom:a,left:r,children:e}}}]),t}(vt),Lt=function(e){function t(e,n){return Be(this,t),We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return He(t,e),Pe(t,[{key:'slice',value:function(){return new t(this.list.slice.apply(this.list,arguments))}},{key:'filter',value:function(e){return new t(this.list.filter.call(this.list,e))}},{key:'anchors',get:function(){return this.list.filter(function(e){return e.anchored})}},{key:'horizontalBias',get:function(){if(null!=this.parent&&0<this.length){var e=Se(0,this.first.linear.left-this.parent.box.left),t=Se(0,this.parent.box.right-this.last.linear.right);return ce(e,t)}return .5}},{key:'verticalBias',get:function(){if(null!=this.parent&&0<this.length){var e=Se(0,this.first.linear.top-this.parent.box.top),t=Se(0,this.parent.box.bottom-this.last.linear.bottom);return ce(e,t)}return .5}}]),t}(Ye),Nt=['!0','<?xml version="1.0" encoding="utf-8"?>','<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">','!1','\t<stroke android:width="{&width}" {borderStyle} />','!1','!2','!3','\t<solid android:color="@color/{&color}" />','!3','!4','\t<corners android:radius="{&radius}" />','!4','!5','\t<corners android:topLeftRadius="{&topLeftRadius}" android:topRightRadius="{&topRightRadius}" android:bottomRightRadius="{&bottomRightRadius}" android:bottomLeftRadius="{&bottomLeftRadius}" />','!5','!2','</shape>','!0'].join('\n'),St=['!0','<?xml version="1.0" encoding="utf-8"?>','<layer-list xmlns:android="http://schemas.android.com/apk/res/android">','!1','\t<item android:top="{@top}" android:right="{@right}" android:bottom="{@bottom}" android:left="{@left}">','\t\t<shape android:shape="rectangle">','!2','\t\t\t<stroke android:width="{&width}" {borderStyle} />','!2','!3','\t\t\t<solid android:color="@color/{&color}" />','!3','!4','\t\t\t<corners android:radius="{&radius}" />','!4','!5','\t\t\t<corners android:topLeftRadius="{@topLeftRadius}" android:topRightRadius="{@topRightRadius}" android:bottomRightRadius="{@bottomRightRadius}" android:bottomLeftRadius="{@bottomLeftRadius}" />','!5','\t\t</shape>','\t</item>','!1','!6','\t<item android:drawable="@drawable/{image}" width="{@width}" height="{@height}" />','!6','!7','\t<item>','\t\t<bitmap android:src="@drawable/{image}" android:gravity="{@gravity}" android:tileMode="{@tileMode}" android:tileModeX="{@tileModeX}" android:tileModeY="{@tileModeY}" />','\t</item>','!7','</layer-list>','!0'].join('\n'),Ot={boxSpacing:{margin:'android:layout_margin="{0}"',marginTop:'android:layout_marginTop="{0}"',marginRight:'android:layout_marginRight="{0}"',marginBottom:'android:layout_marginBottom="{0}"',marginLeft:'android:layout_marginLeft="{0}"',padding:'android:padding="{0}"',paddingTop:'android:paddingTop="{0}"',paddingRight:'android:paddingRight="{0}"',paddingBottom:'android:paddingBottom="{0}"',paddingLeft:'android:paddingLeft="{0}"'},boxStyle:{background:'android:background="@drawable/{0}"',backgroundColor:'android:background="@color/{0}"'},fontStyle:{fontFamily:'android:fontFamily="{0}"',fontStyle:'android:textStyle="{0}"',fontWeight:'android:fontWeight="{0}"',fontSize:'android:textSize="{0}"',color:'android:textColor="{0}"',backgroundColor:'android:background="{0}"'},valueString:{text:'android:text="{0}"'},optionArray:{entries:'android:entries="@array/{0}"'},imageSource:{src:'android:src="@drawable/{0}"'}},wt=function(e){function t(e){Be(this,t);var n=We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tagStyle={},n.tagCount={},n.file.stored=xt.STORED,n}return He(t,e),Pe(t,[{key:'reset',value:function(){Ge(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'reset',this).call(this),this.file.reset(),this.tagStyle={},this.tagCount={}}},{key:'finalize',value:function(e){this.processFontStyle(e)}},{key:'filterStyles',value:function(e){var t={};if(e.cache.forEach(function(e){var n=e.renderChildren.filter(function(e){return e.visible&&!e.isolated&&!e.relocated});if(1<n.length){var a={},i='',r=!0;if(n.forEach(function(e,t){var n=!1;e.combine('_','android').forEach(function(e){e.startsWith('style=')&&(0===t?i=e:e!==i&&(r=!1),n=!0),null==a[e]&&(a[e]=0),a[e]++}),''===i||n||(r=!1)}),r){for(var o in a)a[o]!==n.length&&delete a[o];if(1<Object.keys(a).length){''!==i&&(i=E(i.substring(i.indexOf('/')+1),'"'));var d=[],l=function(e){var t=e.match(/(\w+):(\w+)="(.*?)"/);null!=t&&(n.forEach(function(e){return e.delete(t[1],t[2])}),d.push(t[0]))};for(var s in a)l(s);d.sort();var u='';for(var p in t)if(t[p].join(';')===d.join(';')){u=p;break}''!==u&&''!==i&&u.startsWith(i+'.')||(u=(''===i?'':i+'.')+e.nodeId,t[u]=d),n.forEach(function(e){return e.add('_','style','@style/'+u)})}}}}),0<Object.keys(t).length)for(var n in t)xt.STORED.STYLES.set(n,{attributes:t[n].join(';')})}},{key:'setBoxSpacing',value:function(){Ge(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setBoxSpacing',this).call(this),this.cache.elements.forEach(function(e){if(!f(e.excludeResource,Ze.BOX_SPACING)){var t=e.element.__boxSpacing;if(null!=t){var a=Ot.boxSpacing;for(var i in t)'0px'!==t[i]&&e.attr(n(he(a[i]),t[i]),null==e.renderExtension)}}})}},{key:'setBoxStyle',value:function(){var e=this;Ge(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setBoxStyle',this).call(this),this.cache.elements.forEach(function(a){if(!f(a.excludeResource,Ze.BOX_STYLE)){var i=a.element,r=i,o=r.__boxStyle;if(null!=o){o.backgroundColor&&0<o.backgroundColor.length&&(o.backgroundColor=t.addColor(o.backgroundColor[0],o.backgroundColor[2])),o.backgroundImage=t.addImageURL(o.backgroundImage),[o.borderTop,o.borderRight,o.borderBottom,o.borderLeft].forEach(function(e){e.color&&0<e.color.length&&(e.color=t.addColor(e.color[0],e.color[2]))});var d=Ot.boxStyle,l=a.companion;if(l&&!U(l.element,'backgroundColor')){var s=l.element.__boxStyle;s&&Array.isArray(s.backgroundColor)&&(o.backgroundColor=t.addColor(s.backgroundColor[0],s.backgroundColor[2]))}if(e.borderVisible(o.borderTop)||e.borderVisible(o.borderRight)||e.borderVisible(o.borderBottom)||e.borderVisible(o.borderLeft)||''!==o.backgroundImage||0<o.borderRadius.length){var u=null,p=void 0,h='',g='',m='',y='',b='';switch(o.backgroundPosition){case'left center':case'0% 50%':g='left|center_vertical';break;case'left bottom':case'0% 100%':g='left|bottom';break;case'right top':case'100% 0%':g='right|top';break;case'right center':case'100% 50%':g='right|center_vertical';break;case'right bottom':case'100% 100%':g='right|bottom';break;case'center top':case'50% 0%':g='center_horizontal|top';break;case'center bottom':case'50% 100%':g='center_horizontal|bottom';break;case'center center':case'50% 50%':g='center';}switch(o.backgroundRepeat){case'repeat-x':y='repeat';break;case'repeat-y':b='repeat';break;case'no-repeat':m='disabled';break;default:m='repeat';}var _=[],T=[];''!==o.backgroundImage&&(0<o.backgroundSize.length?_[0]={image:o.backgroundImage,width:o.backgroundSize[0],height:o.backgroundSize[1]}:T[0]={image:o.backgroundImage,gravity:g,tileMode:m,tileModeX:y,tileModeY:b});var x=e.getShapeAttribute(o,'backgroundColor'),E=e.getShapeAttribute(o,'radius'),I=e.getShapeAttribute(o,'radiusInit');if(null==o.border){u=H(St),p={0:[{1:[],6:!!(0<_.length)&&_,7:!!(0<T.length)&&T}]};var R=G(p,'0'),v=[o.borderTop,o.borderRight,o.borderBottom,o.borderLeft],A=!0,L='',N='',S='';v.some(function(t,n){if(e.borderVisible(t)){if(''!==L&&L!==t.width||''!==N&&N!==e.getBorderStyle(t)||''!==S&&S!==o.borderRadius[n])return A=!1,!0;var a=[t.width,e.getBorderStyle(t),o.borderRadius[n]];L=a[0],N=a[1],S=a[2]}return!1});var O={};if(1<o.borderRadius.length&&Object.assign(O,{topLeftRadius:o.borderRadius[0],topRightRadius:o.borderRadius[1],bottomRightRadius:o.borderRadius[2],bottomLeftRadius:o.borderRadius[3]}),R[1].push({2:!1,3:x,4:!1,5:!1}),A){var w='-'+c(2*parseInt(L)),k={top:e.borderVisible(o.borderTop)?'':w,right:e.borderVisible(o.borderRight)?'':w,bottom:e.borderVisible(o.borderBottom)?'':w,left:e.borderVisible(o.borderLeft)?'':w,2:[{width:L,borderStyle:N}],3:!1,4:E,5:I};1<o.borderRadius.length&&k[5].push(O),R[1].push(k)}else v.forEach(function(t,n){if(e.borderVisible(t)){var a='-'+t.width,i={top:a,right:a,bottom:a,left:a,2:[{width:t.width,borderStyle:e.getBorderStyle(t)}],3:!1,4:E,5:I};i[['top','right','bottom','left'][n]]='',1<o.borderRadius.length&&i[5].push(O),R[1].push(i)}});0===R[1].length&&(R[1]=!1)}else if(''===o.backgroundImage){if(u=H(Nt),p={0:[{1:e.getShapeAttribute(o,'stroke'),2:!!(0<o.backgroundColor.length||0<o.borderRadius.length)&&[{3:x,4:E,5:I}]}]},1<o.borderRadius.length){var C=G(p,'0','2'),D=e.getShapeAttribute(o,'radiusAll');C[5].push(D)}}else if(''!==o.backgroundImage&&('none'===o.border.style||'0px'===o.border.width))u=H(St),p={0:[{1:[{2:!1,3:x,4:!1,5:!1}],6:!!(0<_.length)&&_,7:!!(0<T.length)&&T}]};else if(u=H(St),p={0:[{1:[{2:e.getShapeAttribute(o,'stroke'),3:x,4:E,5:I}],6:!!(0<_.length)&&_,7:!!(0<T.length)&&T}]},1<o.borderRadius.length){var B=G(p,'0','1'),P=e.getShapeAttribute(o,'radiusAll');B[5].push(P)}if(null!=u){var F=W(u,p),M=!0,X=!1,V=void 0;try{for(var z=xt.STORED.DRAWABLES.entries()[Symbol.iterator](),Y;!(M=(Y=z.next()).done);M=!0){var j=Y.value,Z=ze(j,2),K=Z[0],q=Z[1];if(q===F){h=K;break}}}catch(e){X=!0,V=e}finally{try{!M&&z.return&&z.return()}finally{if(X)throw V}}''===h&&(h=a.tagName.toLowerCase()+'_'+a.nodeId,xt.STORED.DRAWABLES.set(h,F))}a.attr(n(d.background,h),null==a.renderExtension)}else null==r.__fontStyle&&0<o.backgroundColor.length&&a.attr(n(d.backgroundColor,o.backgroundColor),null==a.renderExtension)}}})}},{key:'setFontStyle',value:function(){var e=this;Ge(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setFontStyle',this).call(this);var a={};this.cache.visible.forEach(function(e){f(e.excludeResource,Ze.FONT_STYLE)||null==e.element.__fontStyle||(null==a[e.tagName]&&(a[e.tagName]=[]),a[e.tagName].push(e))});var i=function(r){var d=a[r],l=[];d.forEach(function(e){var a=!1,r=null;null!=e.companion&&(r=e,e=e.companion);var d=e.element,s=(r||e).id,u=Object.assign({},d.__fontStyle);if(u.backgroundColor&&0<u.backgroundColor.length&&(u.backgroundColor='@color/'+t.addColor(u.backgroundColor[0],u.backgroundColor[2])),null!=u.fontFamily){var p=u.fontFamily.toLowerCase().split(',')[0].replace(/"/g,'').trim(),c='',h='';if(u.color&&0<u.color.length&&(u.color='@color/'+t.addColor(u.color[0],u.color[2])),mt.useFontAlias&&null!=pt[p]&&(p=pt[p]),st[p]&&mt.targetAPI>=st[p]||mt.useFontAlias&&ut[p]&&mt.targetAPI>=st[ut[p]]?(a=!0,u.fontFamily=p,'normal'===u.fontStyle&&delete u.fontStyle,'400'===u.fontWeight&&delete u.fontWeight):(p=o(p),u.fontFamily='@font/'+(p+('normal'===u.fontStyle?'':'_'+u.fontStyle)+('400'===u.fontWeight?'':'_'+(ct[u.fontWeight]||u.fontWeight))),c=u.fontStyle,h=u.fontWeight,delete u.fontStyle,delete u.fontWeight),!a){var g=xt.STORED.FONTS.get(p)||{};Object.assign(g,Fe({},c+'-'+h,!0)),xt.STORED.FONTS.set(p,g)}}for(var m=Ot.fontStyle,f=Object.keys(m),y=0;y<f.length;y++){null==l[y]&&(l[y]={});var b=u[f[y]];if(S(b)&&e.supported('android',f[y])){var _=n(m[f[y]],b);null==l[y][_]&&(l[y][_]=[]),l[y][_].push(s)}}});var s=e.tagStyle[r];if(null!=s){for(var u=0;u<s.length;u++)for(var p in s[u])if(null!=l[u][p]){var c;(c=l[u][p]).push.apply(c,Ue(s[u][p]))}else l[u][p]=s[u][p];e.tagCount[r]+=d.filter(function(e){return e.visible}).length}else e.tagCount[r]=d.filter(function(e){return e.visible}).length;e.tagStyle[r]=l};for(var r in a)i(r)}},{key:'setImageSource',value:function(){this.cache.visible.filter(function(e){return'IMG'===e.tagName||'INPUT'===e.tagName&&'image'===e.element.type}).forEach(function(e){var a=e.element,i=a;if(!f(e.excludeResource,Ze.IMAGE_SOURCE)&&(null==i.__imageSource||mt.alwaysReevaluateResources)){var r='IMG'===e.tagName?t.addImageSrcSet(a):t.addImage({mdpi:a.src});if(''!==r){var o=Ot.imageSource;e.attr(n(o.src,r),null==e.renderExtension),i.__imageSource=r}}})}},{key:'setOptionArray',value:function(){Ge(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setOptionArray',this).call(this),this.cache.visible.filter(function(e){return'SELECT'===e.tagName}).forEach(function(e){if(!f(e.excludeResource,Ze.OPTION_ARRAY)){var a=e.element.__optionArray;if(null!=a){var i=Ot.optionArray,r=[];null!=a.stringArray&&(r=a.stringArray.map(function(e){return e=t.addString(e),''===e?'':'@string/'+e}).filter(function(e){return e})),null!=a.numberArray&&(r=a.numberArray);var o='',d=r.join('-'),l=!0,s=!1,u=void 0;try{for(var p=xt.STORED.ARRAYS.entries()[Symbol.iterator](),c;!(l=(c=p.next()).done);l=!0){var h=c.value,g=ze(h,2),m=g[0],y=g[1];if(d===y.join('-')){o=m;break}}}catch(e){s=!0,u=e}finally{try{!l&&p.return&&p.return()}finally{if(s)throw u}}''===o&&(o=e.nodeId+'_array',xt.STORED.ARRAYS.set(o,r)),e.attr(n(i.entries,o),null==e.renderExtension)}}})}},{key:'setValueString',value:function(e){Ge(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setValueString',this).call(this,e),this.cache.visible.forEach(function(e){if(!f(e.excludeResource,Ze.VALUE_STRING)){var a=e.element.__valueString;if(null!=a){var i=t.addString(a.value,a.name);if(''!==i){var r=Ot.valueString,o=xt.STORED.STRINGS.get(i);if(e.is(je.TEXT)&&null!=e.style){var d=e.style.textDecoration.match(/(underline|line-through)/);if(null!=d){switch(d[0]){case'underline':o='<u>'+o+'</u>';break;case'line-through':o='<strike>'+o+'</strike>';}xt.STORED.STRINGS.set(i,o)}}e.attr(n(r.text,isNaN(parseInt(i))||parseInt(i).toString()!==i?'@string/'+i:i),null==e.renderExtension)}}}})}},{key:'addTheme',value:function(e,n,a){var i=H(e);if(null!=a.item){var r=G(n,'0');for(var o in a.item){var d=a.item[o],l=re(d);''!==l&&(d='@color/'+t.addColor(l)),r[1].push({name:o,value:d})}}var s=W(i,n);this.addFile(a.output.path,a.output.file,s)}},{key:'processFontStyle',value:function(e){var t=this,n={},a={};for(var r in this.tagStyle){n[r]={},a[r]={};var o=this.tagStyle[r].filter(function(e){return 0<Object.keys(e).length}).sort(function(e,t){var n=0,a=0,i=0,r=0;for(var o in e)n=Se(e[o].length,n),i+=e[o].length;for(var d in t)null!=t[d]&&(a=Se(t[d].length,a),r+=t[d].length);return n===a?i>=r?-1:1:n>a?-1:1}),l=this.tagCount[r];do if(1===o.length){for(var s in o[0]){var u=o[0][s];2<u.length?n[r][s]=u:a[r][s]=u}o.length=0}else{for(var p={},c={},h=function(e){var a={},i={},d=new Set;for(var s in o[e])if(null!=o[e]){var u=o[e][s],h=!1;if(null==u||0===u.length)continue;else u.length===l?(p[s]=u,o[e]=null,h=!0):1===u.length&&(c[s]=u,o[e][s]=null,h=!0);if(!h){for(var g={},m=!1,f=0;f<o.length;f++)if(e!==f)for(var y in o[f]){var b=o[f][y],_=!0,T=!1,x=void 0;try{for(var E=u[Symbol.iterator](),I,R;!(_=(I=E.next()).done);_=!0)R=I.value,b.includes(R)&&(null==g[y]&&(g[y]=[]),g[y].push(R))}catch(e){T=!0,x=e}finally{try{!_&&E.return&&E.return()}finally{if(T)throw x}}}for(var v in g)1<g[v].length&&(a[[s,v].sort().join(';')]=g[v],m=!0);m||(a[s]=u)}}for(var A in a)for(var L in a)if(A!==L&&a[A].join('')===a[L].join('')){var N=a[A].join(',');i[N]=null==i[N]?new Set([].concat(Ue(A.split(';')),Ue(L.split(';')))):new Set([].concat(Ue(i[N]),Ue(L.split(';')))),d.add(A).add(L)}for(var S in d.forEach(function(e){return delete a[e]}),a)t.deleteStyleAttribute(o,S,a[S]),n[r][S]=a[S];for(var O in i){var w=Array.from(i[O]).sort().join(';'),k=O.split(',').map(function(e){return parseInt(e)});t.deleteStyleAttribute(o,w,k),n[r][w]=k}},g=0;g<o.length;g++)h(g);var m=Object.keys(p);for(var f in 0<m.length&&(1<m.length||1<p[m[0]].length?n[r][m.join(';')]=p[m[0]]:Object.assign(c,p)),c)a[r][f]=c[f];for(var g=0;g<o.length;g++)o[g]&&0===Object.keys(o[g]).length&&delete o[g];o=o.filter(function(e){return e&&0<e.length})}while(0<o.length)}var y={},b=function(e){var t=n[e],a=[];for(var i in t)a.push({attributes:i,ids:t[i]});a.sort(function(e,t){var n=[e.ids.length,t.ids.length],a=n[0],i=n[1];if(a===i){var r=[e.attributes.split(';').length,t.attributes.split(';').length];a=r[0],i=r[1]}return a>=i?-1:1}),a.forEach(function(t,n){return t.name=d(e)+(0<n?'_'+n:'')}),y[e]=a};for(var _ in n)b(_);var T=new Set,x={};for(var _ in y){var E=!0,I=!1,R=void 0;try{for(var v=y[_][Symbol.iterator](),A;!(E=(A=v.next()).done);E=!0){var L=A.value,N=!0,S=!1,O=void 0;try{for(var w=L.ids[Symbol.iterator](),k,C;!(N=(k=w.next()).done);N=!0)C=k.value,null==x[C]&&(x[C]={styles:[],attributes:[]}),x[C].styles.push(L.name)}catch(e){S=!0,O=e}finally{try{!N&&w.return&&w.return()}finally{if(S)throw O}}}}catch(e){I=!0,R=e}finally{try{!E&&v.return&&v.return()}finally{if(I)throw R}}var D=a[_];if(null!=D)for(var B in D){var P=!0,F=!1,M=void 0;try{for(var G=D[B][Symbol.iterator](),H,W;!(P=(H=G.next()).done);P=!0)W=H.value,null==x[W]&&(x[W]={styles:[],attributes:[]}),x[W].attributes.push(B)}catch(e){F=!0,M=e}finally{try{!P&&G.return&&G.return()}finally{if(F)throw M}}}}var X=function(t){var n=e.cache.find(function(e){return e.id===parseInt(t)});if(null!=n){var a=x[t].styles,i=x[t].attributes;0<a.length&&(T.add(a.join('.')),n.add('_','style','@style/'+a.pop())),0<i.length&&i.sort().forEach(function(e){return n.attr(pe(e,!0),!1)})}};for(var V in x)X(V);var z=function(e){var t='';e.split('.').forEach(function(e){var n=e.match(/^(\w*?)(?:_([0-9]+))?$/);if(null!=n){var a=y[n[1].toUpperCase()][null==n[2]?0:parseInt(n[2])];xt.STORED.STYLES.set(e,{parent:t,attributes:a.attributes}),t=e}})},U=!0,Y=!1,j=void 0;try{for(var Z=T[Symbol.iterator](),K,q;!(U=(K=Z.next()).done);U=!0)q=K.value,z(q)}catch(e){Y=!0,j=e}finally{try{!U&&Z.return&&Z.return()}finally{if(Y)throw j}}}},{key:'deleteStyleAttribute',value:function(e,t,n){t.split(';').forEach(function(t){for(var a=0;a<e.length;a++)if(null!=e[a]){var r=-1,o='';for(var d in e[a])if(d===t){r=a,o=d,a=e.length;break}if(-1!==r){e[r][o]=e[r][o].filter(function(e){return!n.includes(e)}),0===e[r][o].length&&delete e[r][o];break}}})}},{key:'getShapeAttribute',value:function(e,t){switch(t){case'stroke':return!!(e.border&&'0px'!==e.border.width)&&[{width:e.border.width,borderStyle:this.getBorderStyle(e.border)}];case'backgroundColor':return!!(0<e.backgroundColor.length)&&[{color:e.backgroundColor}];case'radius':return 1===e.borderRadius.length&&'0px'!==e.borderRadius[0]&&[{radius:e.borderRadius[0]}];case'radiusInit':return!!(1<e.borderRadius.length)&&[];case'radiusAll':var n={};return e.borderRadius.forEach(function(e,t){return n[['topLeft','topRight','bottomRight','bottomLeft'][t]+'Radius']=e}),n;}return!1}}],[{key:'addString',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'';if(null!=e&&''!==e){''===t&&(t=e);var n=y(e);if(mt.numberResourceValue||!n){var a=!0,i=!1,r=void 0;try{for(var o=xt.STORED.STRINGS.entries()[Symbol.iterator](),d;!(a=(d=o.next()).done);a=!0){var l=d.value,s=ze(l,2),u=s[0],p=s[1];if(p===e)return u}}catch(e){i=!0,r=e}finally{try{!a&&o.return&&o.return()}finally{if(i)throw r}}t=t.trim().replace(/[^a-zA-Z0-9]/g,'_').toLowerCase().replace(/_+/g,'_').split('_').slice(0,4).join('_').replace(/_+$/g,''),n||/^[0-9]/.test(e)||gt.includes(t)?t='__'+t:''===t&&(t='__symbol'+Oe(1e5*Math.random())),xt.STORED.STRINGS.has(t)&&(t=de('strings',t+'_1')),xt.STORED.STRINGS.set(t,e)}return t}return''}},{key:'addImageSrcSet',value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',a=e.srcset.trim(),i={};if(S(a)){var r=e.src.substring(0,e.src.lastIndexOf('/')+1);a.split(',').forEach(function(e){var t=/^(.*?)\s*([0-9]+\.?[0-9]*x)?$/.exec(e.trim());if(null!=t){null==t[2]&&(t[2]='1x');var n=r+v(t[1]);switch(t[2]){case'0.75x':i.ldpi=n;break;case'1x':i.mdpi=n;break;case'1.5x':i.hdpi=n;break;case'2x':i.xhdpi=n;break;case'3x':i.xxhdpi=n;break;case'4x':i.xxxhdpi=n;}}})}return null==i.mdpi&&(i.mdpi=e.src),t.addImage(i,n)}},{key:'addImage',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n='';if(e&&S(e.mdpi)){n=v(e.mdpi);var a=v(n,'.').toLowerCase();n=n.replace(/.\w+$/,'').replace(/-/g,'_'),n='bmp'===a||'cur'===a||'gif'===a||'ico'===a||'jpg'===a||'png'===a?xt.insertStoredAsset('IMAGES',t+n,e):''}return n}},{key:'addImageURL',value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',a=e.match(/^url\("?(.*?)"?\)$/);return null==a?'':t.addImage({mdpi:x(a[1])},n)}},{key:'addColor',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'1';e=e.toUpperCase().trim();var n=1>parseFloat(t)?'#'+(t.substring(2)+e.substring(1)):e;if(''!==e){var i='';if(!xt.STORED.COLORS.has(n)){var r=$(e);''!==r&&(r.name=a(r.name),i=e===r.hex&&e===n?r.name:de('color',r.name+'_1'),xt.STORED.COLORS.set(n,i))}else i=xt.STORED.COLORS.get(n);return i}return''}}]),t}(xt),kt={relativeParent:{top:'layout_alignParentTop',bottom:'layout_alignParentBottom'},relative:{top:'layout_alignTop',bottom:'layout_alignBottom',baseline:'layout_alignBaseline',bottomTop:'layout_above',topBottom:'layout_below'},constraint:{top:'layout_constraintTop_toTopOf',bottom:'layout_constraintBottom_toBottomOf',baseline:'layout_constraintBaseline_toBaselineOf',bottomTop:'layout_constraintBottom_toTopOf',topBottom:'layout_constraintTop_toBottomOf'}},Ct={direction:['horizontalChain','verticalChain'],leftTop:['left','top'],rightBottom:['right','bottom'],rightLeftBottomTop:['rightLeft','bottomTop'],leftRightTopBottom:['leftRight','topBottom'],widthHeight:['Width','Height'],horizontalVertical:['Horizontal','Vertical']},Dt=function(e){function t(){Be(this,t);var e=We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.merge={},oe(),e}return He(t,e),Pe(t,[{key:'finalize',value:function(e){var t=this;e.forEach(function(e){e.content=B(e.content).replace(/\n\n/g,'\n'),mt.dimensResourceValue&&(e.content=t.parseDimensions(e.content)),e.content=pe(e.content),e.content=F(e.content,mt.insertSpaces)})}},{key:'reset',value:function(){Ge(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'reset',this).call(this),oe(),this.merge={}}},{key:'setConstraints',value:function(){var e=this;Object.assign(kt.relativeParent,{left:he('layout_alignParentLeft'),right:he('layout_alignParentRight')}),Object.assign(kt.relative,{left:he('layout_alignLeft'),right:he('layout_alignRight'),leftRight:he('layout_toRightOf'),rightLeft:he('layout_toLeftOf')}),Object.assign(kt.constraint,{left:he('layout_constraintLeft_toLeftOf'),right:he('layout_constraintRight_toRightOf'),leftRight:he('layout_constraintLeft_toRightOf'),rightLeft:he('layout_constraintRight_toLeftOf')}),this.cache.visible.forEach(function(t){var a=new Lt(t.renderChildren.filter(function(e){return!e.isolated}),t),r=new Lt(a.list.filter(function(e){return e.pageflow}),t),o=t.is(je.CONSTRAINT),l=t.is(je.RELATIVE),s=t.flex;if(0<a.length&&(o||l||s.enabled)){var u=function(e,t){return o?'parent'===e.app(m[t]):'true'===e.android(f[t])},h=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var i=!0,r=!1,d=void 0;try{for(var l=n[Symbol.iterator](),s,u;!(i=(s=l.next()).done);i=!0)u=s.value,e.delete(o?'app':'android',m[u])}catch(e){r=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw d}}},g=function(e,t){if(!e.constraint[t]){for(var n=e,i;null!=n;)if(i=n.anchor(m[t===ot.HORIZONTAL?'leftRight':'topBottom']),!S(i))n=null;else if(n=a.findByNodeId(le(i)),null!=n&&n.constraint[t])return!0;return!1}return!0},m=kt[l?'relative':'constraint'],f=kt.relativeParent;if(l&&t.inlineWrap){for(var y=function(){if(1<b.length){var e=b.sort(function(e,t){return e.linear.height>=t.linear.height?-1:1})[0];b.forEach(function(t){t!==e&&t.android(m.baseline,e.stringId)})}},b=[],_=[],T=0,x=0;T<a.length;T++){var E=a.list[T],I=E.multiLine?'bounds':'linear';if(0===T)E.android(f.top,'true'),E.android(f.left,'true'),E.nodeType<=je.TEXT&&b.push(E),x+=E[I].width,_[_.length]=[E];else{var v=a.list[T-1],N=E instanceof At;N||we(x+E[I].width)>t.box.width?(E.android(m.topBottom,v.stringId),E.android(f.left,'true'),N&&(E.constraint.marginVertical=v.stringId),x=E[I].width,y(),b.length=0,b.push(E),_[_.length]=[E]):(E.android(m.leftRight,v.stringId),E.nodeType<=je.TEXT&&b.push(E),x+=E[I].width,_[_.length-1].push(E))}}y();for(var k=0;k<_.length;k++)if(1===_[k].length){var D=_[k][0];D.is(je.TEXT)&&w(D.linear.right,t.box.right)&&D.android('singleLine','true')}}else{var B=r.linearX,P=t.setBoundsMin(),F=!mt.horizontalPerspective&&!s.enabled&&!r.list.some(function(e){return e.floating});a.list.unshift(t),a.list.forEach(function(n){a.list.forEach(function(a){if(!(n===a||n.intersect(a.linear))){var i=n.linear,r=a.linear,d=a.stringId,p=g(a,ot.HORIZONTAL)?ot.HORIZONTAL:'',c=g(a,ot.VERTICAL)?ot.VERTICAL:'',h=n.intersectY(a.linear);if(o){var y=n.pageflow||0===t.viewHeight||0===t.viewWidth,b=!1;if(n===t||a===t?(n===t&&(n=a),i=n.linear,r=t.box,d='parent'):b=n.pageflow&&a.pageflow,null!=n.css('width')&&'auto'===n.styleMap.marginRight&&'auto'===n.styleMap.marginLeft)e.setAlignParent(n,ot.HORIZONTAL);else if('parent'===d)(y||0===n.left)&&(i.left<=r.left||w(i.left,r.left))&&(n.anchor(m.left,'parent',ot.HORIZONTAL),n.constraint.parentLeft=!0),(y||0===n.right)&&(i.right>=r.right||O(i.right,r.right,mt.whitespaceHorizontalOffset))&&(n.anchor(m.right,'parent',0<t.viewWidth||'right'===n.float||n.inlineWrap||P.horizontal?ot.HORIZONTAL:''),n.constraint.parentRight=!0);else{var _=b?mt.whitespaceHorizontalOffset:0;0===n.viewWidth&&i.left===r.left&&i.right===r.right?(!u(n,'right')&&n.anchor(m.left,d),!u(n,'left')&&n.anchor(m.right,d)):F&&n.pageflow===a.pageflow&&(i.left===r.left?n.anchor(m.left,d):i.right===r.right&&n.anchor(m.right,d)),O(i.left,r.right,_)&&('right'===n.float?n.constraint.marginHorizontal=a.stringId:n.anchor(m.leftRight,d,p,n.withinX(r))),O(i.right,r.left,_)&&'left'!==n.float&&n.anchor(m.rightLeft,d,p,n.withinX(r))}if('parent'===d)(y||0===n.top)&&(i.top<=r.top||w(i.top,r.top))&&(n.anchor(m.top,'parent',ot.VERTICAL),n.constraint.topParent=!0),(y||0===n.bottom)&&(i.bottom>=r.bottom||w(i.bottom,r.bottom)||(n.floating||'column'===s.direction&&'nowrap'!==s.wrap)&&O(i.bottom,r.bottom,n.pageflow?mt.whitespaceHorizontalOffset:0))&&(n.anchor(m.bottom,'parent',0<t.viewHeight||P.vertical?ot.VERTICAL:''),n.constraint.bottomParent=!0);else{var T=u(n,'top'),x=u(n,'bottom'),E=b?mt.whitespaceVerticalOffset:0;O(i.top,r.bottom,E)?(h||!x)&&n.anchor(m.topBottom,d,c,h):O(i.bottom,r.top,E)&&(h||!T)&&n.anchor(m.bottomTop,d,c,h),n.pageflow===a.pageflow&&(i.top===r.top&&!T&&!x&&n.anchor(m.top,d,c),i.bottom===r.bottom&&!T&&!x&&n.anchor(m.bottom,d,c))}}else if(l){if(n===t)return;a===t?((n.linear.left<=t.box.left||w(n.linear.left,t.box.left))&&(n.anchor(f.left,'true',ot.HORIZONTAL),n.constraint.parentLeft=!0),(n.linear.right>=t.box.right||w(n.linear.right,t.box.right))&&(n.anchor(f.right,'true',0<t.viewWidth?ot.HORIZONTAL:''),n.constraint.parentRight=!0),(n.linear.top<=t.box.top||w(n.linear.top,t.box.top))&&(n.anchor(f.top,'true',ot.VERTICAL),n.constraint.topParent=!0),(n.linear.bottom>=t.box.bottom||w(n.linear.bottom,t.box.bottom)||(n.floating||'column'===s.direction&&'nowrap'!==s.wrap)&&O(n.linear.bottom,t.box.bottom,mt.whitespaceHorizontalOffset))&&(n.anchor(f.bottom,'true',0<t.viewHeight?ot.VERTICAL:''),n.constraint.bottomParent=!0)):(null!=n.css('width')&&'auto'===n.styleMap.marginRight&&'auto'===n.styleMap.marginLeft?(n.android('layout_centerHorizontal','true'),n.constraint.horizontal=!0):(i.top===r.top||i.bottom===r.bottom)&&O(i.left,r.right,mt.whitespaceHorizontalOffset)&&('right'===n.float?a.anchor(m.rightLeft,n.stringId,p):(n.anchor(m.leftRight,d,p),a.constraint.horizontal&&n.delete('android',f.right))),O(i.top,r.bottom,mt.whitespaceVerticalOffset)?(n.anchor(m.topBottom,d,c,h),a.constraint.vertical&&n.delete('android',f.bottom)):O(i.bottom,r.top,mt.whitespaceVerticalOffset)&&!u(n,'top')&&n.anchor(m.bottomTop,d,c,h),!a.constraint.horizontal||i.bottom!==r.bottom||B||n.floating||n.constraint.vertical||(n.anchor(m.bottom,d,c),a.constraint.vertical&&n.delete('android',f.bottom)))}}}),n.pageflow||(0===n.top&&(u(n,'top'),n.constraint.vertical=!0),0===n.right&&(u(n,'right'),n.constraint.horizontal=!0),0===n.bottom&&(u(n,'bottom'),n.constraint.vertical=!0),0===n.left&&(u(n,'left'),n.constraint.horizontal=!0),0===n.left&&0===n.right&&!n.floating&&n.android('layout_width','match_parent'),0===n.top&&0===n.bottom&&n.android('layout_height','match_parent'))}),a.list.shift(),a.list.forEach(function(e){var t=e.anchor(m.leftRight);null!=t&&(!e.constraint.horizontal&&(e.constraint.horizontal=s.enabled||g(e,ot.HORIZONTAL)),e.constraint.marginHorizontal=t);var n=e.anchor(m.topBottom);if(null!=n&&(!e.constraint.vertical&&(e.constraint.vertical=s.enabled||g(e,ot.VERTICAL)),e.constraint.marginVertical=n,h(e,'top')),o){if(u(e,'left')&&u(e,'right')){var a=e.css('textAlign');'left'===a||'start'===a?h(e,'right'):'right'===a||'end'===a?h(e,'left'):void 0,e.floating&&h(e,'right'===e.float?'left':'right'),e.android('layout_width','match_parent')}null!=e.app(m.bottomTop)&&h(e,'bottom')}else e.android(m.topBottom)&&h(e,'bottomTop')});for(var M=0,G;M<r.length;M++)if(G=r.list[M],!G.anchored){var H=o?L(G.get('app'),'*constraint*'):L(G.get('android'),m),W=function(e,t){'parent'!==t&&null!=r.anchors.find(function(e){return e.stringId===t})&&(-1!==R(e,he('Left'),he('Right'))&&(G.constraint.horizontal=!0),-1!==R(e,'Top','Bottom','Baseline','above','below')&&(G.constraint.vertical=!0))},X=!0,V=!1,z=void 0;try{for(var U=H[Symbol.iterator](),Y;!(X=(Y=U.next()).done);X=!0){var j=Y.value,Z=ze(j,2),K=Z[0],q=Z[1];W(K,q)}}catch(e){V=!0,z=e}finally{try{!X&&U.return&&U.return()}finally{if(V)throw z}}G.anchored&&(M=-1)}if(s.enabled||mt.useConstraintChain&&o&&1<r.length&&!r.intersect()){var J=null;if(!s.enabled){var Q=r.list.filter(function(e){return!e.constraint.horizontal}),$=r.list.filter(function(e){return!e.constraint.vertical});r.list.some(function(t){var n=[],a=[];return 0<Q.length&&(n=e.partitionChain(t,r.list,ot.HORIZONTAL),t.constraint.horizontalChain=new Lt(C(n,'linear.left'))),0<$.length&&(a=e.partitionChain(t,r.list,ot.VERTICAL),t.constraint.verticalChain=new Lt(C(a,'linear.top'))),n.length===r.length||a.length===r.length})}else if('nowrap'===s.wrap){var ee=r.list.slice(),te=r.list.slice();switch(s.direction){case'row-reverse':ee.reverse();case'row':te=[];break;case'column-reverse':te.reverse();case'column':ee=[];}J=[{constraint:{horizontalChain:new Lt(ee),verticalChain:new Lt(te)}}]}else{var ne=function(){for(var e in ie)ie[e].reverse()},ae=r.list.slice();switch(s.direction){case'row-reverse':case'column-reverse':ae.reverse();}var ie={},re=[];switch(ae.forEach(function(e){var t=e.linear.top;null==ie[t]&&(ie[t]=[],re.push(t)),ie[t].push(e)}),s.wrap){case'wrap':'column-reverse'===s.direction&&ne();break;case'wrap-reverse':-1===s.direction.indexOf('row')?'column'===s.direction&&ne():re.reverse();}J=[];var oe=!0,de=!1,se=void 0;try{for(var pe=re[Symbol.iterator](),ce,ge;!(oe=(ce=pe.next()).done);oe=!0)ge=ce.value,J.push({constraint:{horizontalChain:new Lt(ie[ge]),verticalChain:new Lt}})}catch(e){de=!0,se=e}finally{try{!oe&&pe.return&&pe.return()}finally{if(de)throw se}}}var me=Ct.direction.slice();F&&me.reverse(),me.forEach(function(n,a){var i=s.enabled?J:r.slice().list.sort(function(e,t){return(null==e.constraint[n]?0:e.constraint[n].length)>=(null==t.constraint[n]?0:t.constraint[n].length)?-1:1});if(null!=i){F&&(a=0===a?1:0);var o=0===a?1:0;i.filter(function(e){return e.constraint[n]}).forEach(function(d,l){var c=d.constraint[n];if(c.length>(s.enabled?0:1)){c.parent=t,s.enabled&&c.list.some(function(e){return 0<e.flex.order})&&c[-1===s.direction.indexOf('reverse')?'sortAsc':'sortDesc']('flex.order');for(var g=[Ct.horizontalVertical[a],Ct.horizontalVertical[o]],f=g[0],y=g[1],b=[Ct.leftTop[a],Ct.leftTop[o]],_=b[0],T=b[1],x=[Ct.rightBottom[a],Ct.rightBottom[o]],E=x[0],I=x[1],R=[Ct.widthHeight[a],Ct.widthHeight[o]],v=R[0],L=R[1],N=f.toLowerCase(),O=y.toLowerCase(),k=v.toLowerCase(),C=c.first,D=c.last,B=-1,P=!1,M=0===a?[ot.HORIZONTAL,'left','leftRight','top',ot.VERTICAL,'viewWidth','right','marginHorizontal']:[ot.VERTICAL,'top','topBottom','left',ot.HORIZONTAL,'viewHeight','bottom','marginVertical'],G=0;G<c.length;G++)if(0===G){if(!u(C,M[1])){P=!0;break}}else if(null==c.list[G].app(m[M[2]])){P=!0;break}if(!P){if(c.list.every(function(e){return A(C,e,'linear.'+M[3])}))for(var H=1,W;H<c.length;H++)W=c.list[H],W.constraint[M[4]]||(W.app(m[M[3]],C.stringId),W.constraint[M[4]]=!0);s.enabled||0!==t[M[5]]||(h(D,M[6]),D.constraint[M[7]]=D.app(m[M[2]]))}C.app(m[_],'parent'),D.app(m[E],'parent'),F&&(null!=C.app(m.leftRight)&&!u(C,'left')&&h(C,'left'),null!=C.app(m.rightLeft)&&h(C,'right'));for(var X=function(r){var o=c.list[r],d=c.list[r+1],g=c.list[r-1];if(s.enabled){o.linear[T]===t.box[T]&&o.linear[I]===t.box[I]&&e.setAlignParent(o,O);var y=i[l+1];if(y&&y.constraint[n]&&null!=y.constraint[n].list[r]){var b=y.constraint[n].list[r];o.withinY(b.linear)&&(o.anchor(m.bottomTop,b.stringId),!u(o,'bottom')&&h(o,'bottom'))}}else F&&(u(o,'right')&&null!=o.app(m.leftRight)&&h(o,'right'),o!==C&&(null!=o.app(m.left)||null!=o.app(m.right))&&(h(o,'leftRight','rightLeft'),delete o.constraint.marginHorizontal));if(null!=d&&(o.app(m[Ct.rightLeftBottomTop[a]],d.stringId),B=Se(d.linear[_]-o.linear[E],B)),null!=g&&(o.app(m[Ct.leftRightTopBottom[a]],g.stringId),o.constraint['margin'+f]=g.stringId),o.constraint[N]=!0,o.constraint['chain'+f]=!0,!o.isSet('styleMap',k)){var x=o.styleMap['min'+v],R=o.styleMap['min'+L],A=o.styleMap['max'+v],w=o.styleMap['max'+L];S(x)&&(o.app('layout_constraint'+v+'_min',p(x)),o.constraint['min'+v]=!0),S(A)&&(o.app('layout_constraint'+v+'_max',p(A)),o.constraint['max'+v]=!0),S(R)&&(o.app('layout_constraint'+L+'_min',p(R)),o.constraint['min'+L]=!0),S(w)&&(o.app('layout_constraint'+L+'_max',p(w)),o.constraint['max'+L]=!0)}if(s.enabled){switch(o.app('layout_constraint'+f+'_weight',o.flex.grow.toString()),null==o['view'+v]&&0===o.flex.grow&&1>=o.flex.shrink?o.android('layout_'+k,'wrap_content'):0<o.flex.grow&&o.android('layout_'+k,'0px'),0===o.flex.shrink&&o.app('layout_constrained'+v,'true'),o.flex.alignSelf){case'flex-start':o.app(m[T],'parent'),o.constraint[O]=!0;break;case'flex-end':o.app(m[I],'parent'),o.constraint[O]=!0;break;case'baseline':var D=c.list.some(function(e){return!!(e!==o&&e.nodeType<=je.TEXT)&&(o.app(m.baseline,e.stringId),!0)});D&&(h(o,'top','bottom'),c.list.forEach(function(e){e.app(m.top)===o.stringId&&h(e,'top'),e.app(m.bottom)===o.stringId&&h(e,'bottom')}),o.constraint.vertical=!0);break;case'center':case'stretch':'center'!==o.flex.alignSelf&&o.android('layout_'+L.toLowerCase(),'0px'),e.setAlignParent(o,O);}if('auto'!==o.flex.basis)if(/(100|[1-9][0-9]?)%/.test(o.flex.basis))o.app('layout_constraint'+v+'_percent',o.flex.basis);else{var P=p(o.flex.basis);'0px'!==P&&(o.app('layout_constraintWidth_min',P),delete o.styleMap.minWidth)}}},V=0;V<c.length;V++)X(V);var z='layout_constraint'+f+'_chainStyle';if(s.enabled&&'normal'!==s.justifyContent&&0===Se.apply(null,c.list.map(function(e){return e.flex.grow}))){switch(s.justifyContent){case'space-between':C.app(z,'spread_inside');break;case'space-evenly':C.app(z,'spread'),c.list.forEach(function(e){return e.app('layout_constraint'+f+'_weight',(e.flex.grow||1).toString())});break;case'space-around':C.app('layout_constraint'+f+'_chainStyle','spread_inside'),C.constraint[N]=!1,D.constraint[N]=!1,e.addGuideline(t,C,N,!1,!0),e.addGuideline(t,D,N,!0,!0);break;default:var U=s.justifyContent;if(-1!==s.direction.indexOf('reverse'))switch(s.justifyContent){case'flex-start':U='flex-end';break;case'flex-end':U='flex-start';}var Y='0.5';'flex-start'===U?Y='0':'flex-end'===U?Y='1':void 0,C.app(z,'packed'),C.app('layout_constraint'+f+'_bias',Y);}c.list.forEach(function(e){return delete e.constraint.marginHorizontal})}else{if(N===ot.HORIZONTAL&&w(t.box.left,C.linear.left)&&w(D.linear.right,t.box.right)||N===ot.VERTICAL&&w(t.box.top,C.linear.top)&&w(D.linear.bottom,t.box.bottom))2<c.length||s.enabled?C.app(z,'spread_inside'):B>mt['chainPacked'+f+'Offset']&&(u(C,_)&&h(C,Ct.rightLeftBottomTop[a]),u(D,E)&&h(D,Ct.leftRightTopBottom[a]));else if(B<=mt['chainPacked'+f+'Offset']||'nowrap'!==t.flex.wrap||N===ot.HORIZONTAL&&(w(t.box.left,C.linear.left)||w(D.linear.right,t.box.right))){C.app(z,'packed');var Z='';N===ot.HORIZONTAL&&(w(t.box.left,C.linear.left)?Z='0':w(D.linear.right,t.box.right)&&(Z='1')),''===Z&&(Z=c[N+'Bias']),C.app('layout_constraint'+f+'_bias',Z)}else C.app(z,'spread');s.enabled||((0===a?[[T,I],[I,T]]:[[_,E],[E,_]]).forEach(function(e){c.list.every(function(t){return A(C,t,'linear.'+e[0])&&c.list.some(function(t){return!A(C,t,'linear.'+e[1])})})&&c.list.forEach(function(t){return h(t,e[1])})}),c.list.forEach(function(e){r.list.forEach(function(t){var n=t.constraint.horizontalChain,a=t.constraint.verticalChain;n&&0<n.length&&null!=n.find(e.id)&&n.clear(),a&&0<a.length&&null!=a.find(e.id)&&a.clear()})}))}}else if(0<c.length){var K=c.first;u(K,'left')&&h(K,'rightLeft'),u(K,'right')&&(h(K,'leftRight'),delete K.constraint.marginHorizontal)}})}})}if(a.list.forEach(function(e){e.constraint.horizontal||(e.constraint.horizontal=g(e,ot.HORIZONTAL)),e.constraint.vertical||(e.constraint.vertical=g(e,ot.VERTICAL))}),s.enabled)'nowrap'!==s.wrap&&['topBottom','bottomTop'].forEach(function(e,t){r.list.forEach(function(n){if(u(n,0===t?'bottom':'top')){for(var i=[n],o=!1,d=n,l;null!=d;)if(l=d.app(m[e]),null==l)d=null;else if(d=a.findByNodeId(le(l)),d&&n.withinY(d.linear)&&(i.push(d),o=u(d,0===t?'top':'bottom'),o))break;o||i.forEach(function(e){r.list.some(function(t){return e!==t&&t.linear.top===e.linear.top&&t.linear.bottom===e.linear.bottom&&(h(e,'topBottom','bottomTop'),e.app(m.top,t.stringId),e.app(m.bottom,t.stringId),!0)})})}})});else{var fe=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=o?'app':'android';for(var a in m){var i=e[n](m[a]);'parent'!==i&&(''===t||i===t)&&e.delete(n,m[a])}e.constraint.horizontal=u(e,'left')||u(e,'right'),e.constraint.vertical=u(e,'top')||u(e,'bottom')};if(o){r.list.forEach(function(e){[['top','bottom','topBottom'],['bottom','top','bottomTop']].forEach(function(t){u(e,t[1])&&null==e.app(m[t[2]])&&(['leftRight','rightLeft'].forEach(function(n){var a=e.app(m[n]);if(null!=a){var i=r.list.find(function(e){return e.stringId===a});i&&null!=i.app(m[t[2]])&&(w(e.linear[t[0]],i.linear[t[0]])&&e.app(m[t[0]],i.stringId,!0),w(e.linear[t[1]],i.linear[t[1]])&&e.app(m[t[1]],i.stringId,!0))}}),e.constraint.vertical=!0)})});var ye=a.list.filter(function(e){return!e.anchored&&(u(e,'top')||u(e,'right')||u(e,'bottom')||u(e,'left'))});0===r.anchors.length&&0===ye.length&&ye.push(C(a.list.slice(),'linear.left','linear.top')[0]),ye.forEach(function(n){mt.useConstraintGuideline?e.addGuideline(t,n):e.setAlignParent(n,'',!0)});var be=a.anchors[0];a.list.filter(function(e){return!e.anchored}).forEach(function(n){var i=Math.pow,r=Math.round;if(fe(n),a.anchors.forEach(function(e){return fe(e,n.stringId)}),O(n.horizontalBias,.5,.01)&&O(n.verticalBias,.5,.01))e.setAlignParent(n);else if(mt.useConstraintGuideline)e.addGuideline(t,n);else if(null!=be){var o=n.center,d=be.center,l=Le(o.x-d.x),s=Le(o.y-d.y),u=r(Math.atan(Ne(l,s)/Se(l,s))*(180/Math.PI)),p=r(Math.sqrt(i(l,2)+i(s,2)));o.y>d.y?o.x>d.x?l>s?u+=90:u=180-u:l>s?u=270-u:u+=180:o.y<d.y?d.x>o.x?l>s?u+=270:u=360-u:l>s&&(u=90-u):u=o.x>d.x?90:270,n.app('layout_constraintCircle',be.stringId),n.app('layout_constraintCircleRadius',ue(''+n.tagName,'constraintcircleradius',c(p))),n.app('layout_constraintCircleAngle',u.toString()),n.constraint.horizontal=!0,n.constraint.vertical=!0}})}else a.list.forEach(function(e){if(!e.anchored){if(O(e.horizontalBias,.5,.01)&&O(e.verticalBias,.5,.01))return fe(e),void e.android('layout_centerInParent','true');if(!e.constraint.horizontal&&(e.constraint.horizontal=a.list.some(function(t){return!!(t!==e&&t.constraint.horizontal&&e.linear.left===t.linear.left)&&(e.android(m.left,t.stringId),!0)}),!e.constraint.horizontal)){var n=c(Se(0,e.bounds.left-t.box.left));'0px'!==n&&(e.css(he('marginLeft'),n),e.android(he('layout_marginLeft'),n)),e.android(f.left,'true'),e.constraint.horizontal=!0}if(!e.constraint.vertical&&(e.constraint.vertical=a.list.some(function(t){return!!(t!==e&&t.constraint.vertical&&e.linear.top===t.linear.top)&&(e.android(m.top,t.stringId),!0)}),!e.constraint.vertical)){var i=c(Se(0,e.bounds.top-t.box.top));'0px'!==i&&(e.css('marginTop',i),e.android('layout_marginTop',i)),e.android(f.top,'true'),e.constraint.vertical=!0}}});a.list.forEach(function(e){[['left','right','leftRight','Width','Horizontal'],['top','bottom','topBottom','Height','Vertical']].forEach(function(n){var a=u(e,n[0]),i=u(e,n[1]);!a&&i?null==e.anchor(m[n[2]])?0===t['view'+n[3]]&&(t.constraint['layout'+n[3]]=!0):0<t['view'+n[3]]&&!e.constraint['chain'+n[4]]&&h(e,n[1]):a&&i&&e.constraint['parent'+d(n[0])]&&e.constraint['parent'+d(n[1])]&&e.android('layout_'+d(n[3],!1),'match_parent')})})}}r.list.forEach(function(t){if(null!=t.constraint.marginHorizontal){var n=e.findById(t.constraint.marginHorizontal);if(null!=n){var a=t.linear.left-n.linear.right;1<=a&&t.modifyBox(qe.MARGIN_LEFT,t.marginLeft+a,!0)}}if(null!=t.constraint.marginVertical){var i=e.findById(t.constraint.marginVertical);if(null!=i){var r=t.linear.top-i.linear.bottom;1<=r&&t.modifyBox(qe.MARGIN_TOP,t.marginTop+r,!0)}}})}})}},{key:'renderGroup',value:function(e,t,n,a){var i=this,r=e.isSet('dataset','target')&&!e.isSet('dataset','include'),o='',d='',l=t;if('number'==typeof n&&(n=vt.getViewName(n)),a=n===it.LINEAR?{android:{orientation:a&&a.horizontal?ot.HORIZONTAL:ot.VERTICAL}}:n===it.GRID?{android:{columnCount:a&&a.columns?a.columns.toString():'2',rowCount:a&&0<a.rows?a.rows.toString():''}}:{},(e.setNodeId(n),0!==e.overflow)){var s=[];e.overflowX&&s.push(it.SCROLL_HORIZONTAL),e.overflowY&&s.push(e.ascend().some(function(e){return 0!==e.overflow})?it.SCROLL_NESTED:it.SCROLL_VERTICAL);var u=e,p=t.renderDepth+s.length;s.map(function(t){var n=new At(i.cache.nextId,u,null,[u]),a=n;n.setNodeId(t),n.setBounds(),u.inherit(n,'data'),n.android('fadeScrollbars','false'),i.cache.list.push(a),t===it.SCROLL_HORIZONTAL?(n.css('width',e.styleMap.width),n.css('minWidth',e.styleMap.minWidth),n.css('maxWidth',e.styleMap.maxWidth),n.css('overflowX',e.css('overflowX'))):(n.css('height',e.styleMap.height),n.css('minHeight',e.styleMap.minHeight),n.css('maxHeight',e.styleMap.maxHeight),n.css('overflowY',e.css('overflowY')));var r=I(p--);return o=r+('<'+t+'{@'+n.id+'}>\n')+o,d+=r+('</'+t+'>\n'),u===e&&(e.parent=a,l=a),u=a,n}).reverse().forEach(function(e,n){0===n?(e.parent=t,e.render(t)):1===n?(e.parent=u,e.render(u)):void 0,u=e})}return e.apply(a),e.render(r?e:l),this.getEnclosingTag(r||t.isSet('dataset','target')||0===e.renderDepth&&!e.documentRoot?-1:e.renderDepth,n,e.id,'{:'+e.id+'}',o,d)}},{key:'renderNode',value:function(e,t,n){var a=this,i=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],r=e.isSet('dataset','target')&&!e.isSet('dataset','include');'number'==typeof n&&(n=vt.getViewName(n)),e.setNodeId(n);var o=e.element;switch(o.tagName){case'IMG':switch((b(e.css('width'))||b(e.css('height')))&&e.android('scaleType','fitXY'),e.css('objectFit')){case'contain':e.android('scaleType','centerInside');break;case'cover':e.android('scaleType','centerCrop');break;case'fill':e.android('scaleType','fitXY');break;case'scale-down':e.android('scaleType','fitCenter');}0<e.viewWidth&&(0<e.paddingLeft||0<e.paddingRight)&&e.css('width',c(e.viewWidth+e.paddingLeft+e.paddingRight)),0<e.viewHeight&&(0<e.paddingTop||0<e.paddingBottom)&&e.css('height',c(e.viewHeight+e.paddingTop+e.paddingBottom)),(e.isSet('styleMap','width')&&!e.isSet('styleMap','height')||!e.isSet('styleMap','width')&&e.isSet('styleMap','height'))&&e.android('adjustViewBounds','true');break;case'TEXTAREA':e.android('minLines','2'),2<o.rows&&e.android('maxLines',o.rows.toString()),0<o.maxLength&&e.android('maxLength',o.maxLength.toString()),e.android('hint',o.placeholder),e.android('scrollbars',ot.VERTICAL),e.android('inputType','textMultiLine'),e.overflowX&&e.android('scrollHorizontally','true');break;case'INPUT':switch(o.type){case'radio':if(!i){var d=t.children.filter(function(e){return'radio'===e.element.type&&e.element.name===o.name}),l='';if(1<d.length){var u=this.createGroup(e,t,d);u.setNodeId(it.RADIO_GROUP),u.render(t);var p='';return d.forEach(function(e){e.element.checked&&(p=e.stringId),l+=a.renderNode(e,u,je.RADIO,!0)}),u.android('orientation',Ye.linearX(u.children)?ot.HORIZONTAL:ot.VERTICAL),''!==p&&u.android('checkedButton',p),u.setBounds(),this.getEnclosingTag(u.renderDepth,it.RADIO_GROUP,u.id,l)}}break;case'password':e.android('inputType','textPassword');break;case'text':e.android('inputType','text');break;case'range':S(o.min)&&e.android('min',o.min),S(o.max)&&e.android('max',o.max),S(o.value)&&e.android('progess',o.value);}}switch(e.nodeName){case it.TEXT:if(0!==e.overflow){var h=[];e.overflowX&&h.push(ot.HORIZONTAL),e.overflowY&&h.push(ot.VERTICAL),e.android('scrollbars',h.join('|'))}e.multiLine&&e.android('singleLine','true');break;case it.LINE:0===e.viewHeight&&e.android('layout_height',c((s(e.css('borderWidth'))||1)+1));}return e.render(r?e:t),f(e.excludeProcedure,Ke.ACCESSIBILITY)||e.setAccessibility(),e.cascade().forEach(function(e){return e.hide()}),this.getEnclosingTag(r||t.isSet('dataset','target')||0===e.renderDepth&&!e.documentRoot?-1:e.renderDepth,e.nodeName,e.id)}},{key:'renderNodeStatic',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:'',r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,o=!!(6<arguments.length&&void 0!==arguments[6])&&arguments[6];null==r&&(r=new vt(0,mt.targetAPI));var d=Se(0,t),l='number'==typeof e?vt.getViewName(e):e;switch(e=r.hasElement?r.tagName:l,l){case'include':case'merge':case'menu':break;default:r.setNodeId(l);}S(a)&&(!isNaN(parseInt(a))&&(a=ue(e,'width',a)),r.android('layout_width',a)),S(i)&&(!isNaN(parseInt(i))&&(i=ue(e,'height',i)),r.android('layout_height',i)),r.renderDepth=d,null!=n&&r.apply(me(n));var s=this.getEnclosingTag(0!==t||r.documentRoot?t:-1,l,r.id,o?'{:'+r.id+'}':'');if(mt.showAttributes&&0===r.id){var u=I(d+1),p=r.combine().map(function(e){return'\n'+(u+e)}).join('');s=s.replace('{@'+r.id+'}',p)}return n.stringId=r.stringId,s}},{key:'renderInclude',value:function(e,t,n){return this.merge[n]='true'===e.dataset.includeMerge,e.documentRoot=!this.merge[n],this.renderNodeStatic('include',t.renderDepth+1,{layout:'@layout/'+n})}},{key:'renderIncludeContent',value:function(e,t){var n=t.join('');if(this.merge[e]){var a=new vt(0,0);a.documentRoot=!0,n=this.renderNodeStatic('merge',0,{},'','',a,!0).replace('{:0}',n)}return n}},{key:'getIncludeRenderDepth',value:function(e){return this.merge[e]?0:-1}},{key:'createGroup',value:function(e,t,n){var a=new At(this.cache.nextId,e,t,n);return n.forEach(function(e){e.parent=a,e.inherit(a,'data')}),a.setBounds(),t.children=t.children.filter(function(e){return!n.includes(e)}),t.children.push(a),this.cache.list.push(a),a}},{key:'setAttributes',value:function(e){var t=this,n=e.cache.filter(function(e){return e.visible}).map(function(e){return{pattern:'{@'+e.id+'}',attributes:t.parseAttributes(e)}});[].concat(Ue(e.views),Ue(e.includes)).forEach(function(e){n.forEach(function(t){return e.content=e.content.replace(t.pattern,t.attributes)}),e.content=e.content.replace('{#0}',t.getRootNamespace(e.content))})}},{key:'insertAttributes',value:function(e,t){return e.replace('{@'+t.id+'}',this.parseAttributes(t))}},{key:'setDimensions',value:function(e){function t(e,t,n,i,r){var o=a[e],d=n;if(5===arguments.length)if(r&&/(px|dp|sp)$/.test(r))d=n+'-'+i+'-'+r;else return;null==o[d]&&(o[d]=[]),o[d].push(t)}var n=this,a={};if(e.cache.filter(function(e){return e.visible}).forEach(function(e){if(e.mergeBoxSpacing(),mt.dimensResourceValue){var n=e.tagName.toLowerCase();null==a[n]&&(a[n]={});var i=!0,r=!1,o=void 0;try{for(var d=Object.keys(qe)[Symbol.iterator](),l;!(i=(l=d.next()).done);i=!0){var s=l.value,u=e.boxValue(parseInt(s));if(''!==u[0]&&'0px'!==u[1]){var p=qe[s].toLowerCase()+'-'+u[0]+'-'+u[1];t(n,e,p)}}}catch(e){r=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(r)throw o}}['android:layout_width:width','android:layout_height:height','android:minWidth:minwidth','android:minHeight:minheight','app:layout_constraintWidth_min:constraintwidth_min','app:layout_constraintHeight_min:constraintheight_min'].forEach(function(a){var i=a.split(':'),r=ze(i,3),o=r[0],d=r[1],l=r[2];t(n,e,l,d,e[o](d))})}}),mt.dimensResourceValue){var i=xt.STORED.DIMENS;for(var r in a){var o=a[r],d=function(e){var t=e.split('-'),a=ze(t,3),d=a[0],l=a[1],s=a[2],u=n.getDimenResourceKey(i,r+'_'+he(d),s);o[e].forEach(function(e){return e[-1===l.indexOf('constraint')?'android':'app'](l,'@dimen/'+u)}),i.set(u,s)};for(var l in o)d(l)}}}},{key:'parseDimensions',value:function(e){for(var t=xt.STORED.DIMENS,n=/\s+\w+:\w+="({%(\w+)-(\w+)-(\w+)})"/g,a=void 0,i;null!=(a=n.exec(e));)i=this.getDimenResourceKey(t,a[2]+'_'+he(a[3]),a[4]),t.set(i,a[4]),e=e.replace(new RegExp(a[1],'g'),'@dimen/'+i);return e}},{key:'addXmlNs',value:function(e,t){lt[e]=t}},{key:'parseAttributes',value:function(e){if('rtl'===e.dir)switch(e.nodeName){case it.CHECKBOX:case it.RADIO:e.android('layoutDirection','rtl');break;default:0===e.renderChildren.length&&e.android('textDirection','rtl');}for(var t in e.dataset)/^attr[A-Z]+/.test(t)&&function(){var n=d(t.substring(4),!1);e.dataset[t].split(';').forEach(function(t){var a=t.split('::'),i=ze(a,2),r=i[0],o=i[1];S(r)&&S(o)&&e.add(n,r,o)})}();var n=I(e.renderDepth+1),a=e.combine().map(function(e){return'\n'+(n+e)}).join('');return a}},{key:'getRootNamespace',value:function(e){var t='';for(var n in lt)new RegExp('\\s+'+n+':').test(e)&&(t+='\n\txmlns:'+n+'="'+lt[n]+'"');return t}},{key:'getDimenResourceKey',value:function(e,t,n){return e.has(t)&&e.get(t)!==n&&(t=de('dimens',t+'_1')),t}},{key:'setAlignParent',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],a=kt.constraint;[ot.HORIZONTAL,ot.VERTICAL].forEach(function(i,r){e.constraint[i]||''!==t&&i!==t||(e.app(a[0===r?'left':'top'],'parent'),e.app(a[0===r?'right':'bottom'],'parent'),e.constraint[i]=!0,n&&e.app('layout_constraint'+(i.charAt(0).toUpperCase()+i.substring(1))+'_bias',e[i+'Bias']))})}},{key:'partitionChain',value:function(e,t,n){var a=kt.constraint,i=[],r=[],o=[];n===ot.HORIZONTAL?(i.push(a.left,a.right),r.push('linear.top','linear.bottom'),o.push(a.leftRight,a.rightLeft)):n===ot.VERTICAL?(i.push(a.top,a.bottom),r.push('linear.left','linear.right'),o.push(a.topBottom,a.bottomTop)):void 0;var d=r.map(function(n){var a=C(t.filter(function(t){return A(e,t,n)}),r[0]);if(1<a.length){if(!a.some(function(e){return e.floating})&&'parent'===a[0].app(i[0])&&'parent'===a[a.length-1].app(i[1]))return a;var d=function(){var t=new Set([e]),n=void 0;do n=!1,Array.from(t).some(function(e){return a.some(function(a){return t.has(a)||a.app(o[0])!==e.stringId&&a.app(o[1])!==e.stringId||(t.add(a),n=!0),n})});while(n);return{v:Array.from(t)}}();if('object'===('undefined'==typeof d?'undefined':ke(d)))return d.v}return[]}).reduce(function(e,t){return e.length>=t.length?e:t});return d}},{key:'addGuideline',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',a=this,i=arguments[3],r=arguments[4],o=kt.constraint;t.pageflow&&(null==i&&(i='right'===t.float||null==t.left&&null!=t.right||t.is(je.TEXT)&&'right'===t.css('textAlign')||'parent'===t.app(kt.constraint.right)&&t.children.some(function(e){return'right'===e.float})),null==r&&!0===i&&(r=!0));var d='layout_constraintGuide_'+(r?'percent':'begin');[ot.HORIZONTAL,ot.VERTICAL].forEach(function(l,s){if(!t.constraint[l]&&(''===n||l===n)){var u=0===s?i?'right':'left':i?'bottom':'top',p=0===s?i?'left':'right':i?'top':'bottom',h=r?Le(t.linear[u]-e.box[u])/e.box[0===s?'width':'height']:0,g={android:{orientation:0===s?ot.VERTICAL:ot.HORIZONTAL},app:Fe({},d,r?parseFloat(Le(h-(i?1:0)).toFixed(mt.constraintPercentAccuracy)):ue(t.tagName,'constraintguide_begin',c(i?t.linear[u]-e.box[p]:t.linear[u]-e.box[u])))},m=a.renderNodeStatic(it.GUIDELINE,t.renderDepth,g,'wrap_content','wrap_content');a.appendAfter(t.id,m),t.app(o[u],g.stringId),t.delete('app',o[p]),t.constraint[l]=!0}})}},{key:'findById',value:function(e){return this.cache.list.find(function(t){return t.android('id')===e})}},{key:'supportInline',get:function(){return ht}},{key:'supportInclude',get:function(){return!0}}]),t}(Tt),Bt=function(){function e(t,n,a){Be(this,e),this.directory=t,this.processingTime=n,this.appName='',this.queue=[],this.compression='zip',S(a)&&(this.compression=a)}return Pe(e,[{key:'addFile',value:function(e,t,n,a){if(''!==n||''!==a){var i=this.queue.findIndex(function(n){return n.pathname===e&&n.filename===t});-1===i?this.queue.push({pathname:e,filename:t,content:n,uri:a}):(this.queue[i].content=n||'',this.queue[i].uri=a||'')}}},{key:'reset',value:function(){this.queue=[]}},{key:'saveToDisk',value:function(e){var t=this;return location.protocol.startsWith('http')?void(e&&0<e.length&&(e.push.apply(e,Ue(this.queue)),fetch('/api/savetodisk?directory='+encodeURIComponent(E(this.directory,'/'))+'&appname='+encodeURIComponent(this.appName.trim())+'&filetype='+this.compression.toLocaleLowerCase()+'&processingtime='+this.processingTime.toString().trim(),{method:'POST',body:JSON.stringify(e),headers:new Headers({Accept:'application/json, text/plain, */*',"Content-Type":'application/json'})}).then(function(e){return e.json()}).then(function(e){e&&(null==e.zipname?null!=e.system&&alert(e.application+'\n\n'+e.system):fetch('/api/downloadtobrowser?filename='+encodeURIComponent(e.zipname)).then(function(e){return e.blob()}).then(function(n){return t.downloadToDisk(n,v(e.zipname))}))}).catch(function(e){return alert('ERROR: '+e)}))):void alert('SERVER (required): See README for instructions')}},{key:'downloadToDisk',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',a=new Blob([e],{type:n||'application/octet-stream'});if('undefined'!=typeof window.navigator.msSaveBlob)return void window.navigator.msSaveBlob(a,t);var i=window.URL.createObjectURL(a),r=document.createElement('a');r.style.display='none',r.href=i,r.setAttribute('download',t),'undefined'==typeof r.download&&r.setAttribute('target','_blank'),document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(function(){return window.URL.revokeObjectURL(i)},100)}}]),e}(),Pt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<string name="{name}">{value}</string>','!1','</resources>','<!-- filename: res/values/strings.xml -->','!0'].join('\n'),Ft=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<string-array name="{name}">','!2','\t\t<item>{value}</item>','!2','\t</string-array>','!1','</resources>','<!-- filename: res/values/string_arrays.xml -->','!0'].join('\n'),Mt=['!0','<?xml version="1.0" encoding="utf-8"?>','<font-family xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="{#app=http://schemas.android.com/apk/res-auto}">','!1','\t<font android:fontStyle="{style}" android:fontWeight="{weight}" android:font="{font}" app:fontStyle="{#app=style}" app:fontWeight="{#app=weight}" app:font="{#app=font}" />','!1','</font-family>','<!-- filename: res/font/{name}.xml -->','!0'].join('\n'),Gt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<color name="{value}">{name}</color>','!1','</resources>','<!-- filename: res/values/colors.xml -->','!0'].join('\n'),Ht=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<style name="{name1}" parent="{@parent}">','!2','\t\t<item name="{name2}">{value}</item>','!2','\t</style>','!1','</resources>','<!-- filename: res/values/styles.xml -->','!0'].join('\n'),Wt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<dimen name="{name}">{value}</dimen>','!1','</resources>','<!-- filename: res/values/dimens.xml -->','!0'].join('\n'),Xt=['!0','{value}','<!-- filename: {name} -->','!0'].join('\n'),Vt=function(t){function n(){return Be(this,n),We(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,mt.outputDirectory,mt.outputMaxProcessingTime,mt.outputArchiveFileType))}return He(n,t),Pe(n,[{key:'saveAllToDisk',value:function(e){for(var t=[],n=[].concat(Ue(e.views),Ue(e.includes)),a=0,r;a<n.length;a++)r=n[a],t.push(this.getLayoutFile(r.pathname,0===a?mt.outputActivityMainFileName:r.filename+'.xml',r.content));var o=this.resourceDrawableToXml();t.push.apply(t,Ue(this.parseFileDetails(this.resourceStringToXml()))),t.push.apply(t,Ue(this.parseFileDetails(this.resourceStringArrayToXml()))),t.push.apply(t,Ue(this.parseFileDetails(this.resourceFontToXml()))),t.push.apply(t,Ue(this.parseFileDetails(this.resourceColorToXml()))),t.push.apply(t,Ue(this.parseFileDetails(this.resourceStyleToXml()))),t.push.apply(t,Ue(this.parseFileDetails(this.resourceDimenToXml()))),t.push.apply(t,Ue(this.parseImageDetails(o)).concat(Ue(this.parseFileDetails(o)))),this.saveToDisk(t)}},{key:'layoutAllToXml',value:function(e){for(var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n={},a=[],r=[].concat(Ue(e.views),Ue(e.includes)),o=0,d;o<r.length;o++)d=r[o],n[d.filename]=d.content,t&&a.push(this.getLayoutFile(d.pathname,0===o?mt.outputActivityMainFileName:d.filename+'.xml',d.content));return t&&this.saveToDisk(a),n}},{key:'resourceAllToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml()};for(var n in t)''===t[n]&&delete t[n];if(e){var a=[];for(var i in t)'drawable'==i&&a.push.apply(a,Ue(this.parseImageDetails(t[i]))),a.push.apply(a,Ue(this.parseFileDetails(t[i])));this.saveToDisk(a)}return t}},{key:'resourceStringToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.STRINGS=new Map([].concat(Ue(this.stored.STRINGS.entries())).sort(k));var t='';if(0<this.stored.STRINGS.size){var n=H(Pt),a={0:[{1:[]}]},i=G(a,'0');''===this.appName||this.stored.STRINGS.has('app_name')||i[1].push({name:'app_name',value:this.appName});var r=!0,o=!1,d=void 0;try{for(var l=this.stored.STRINGS.entries()[Symbol.iterator](),s;!(r=(s=l.next()).done);r=!0){var u=s.value,p=ze(u,2),c=p[0],h=p[1];i[1].push({name:c,value:h})}}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}t=W(n,a),t=F(t,mt.insertSpaces,!0),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceStringArrayToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.ARRAYS=new Map([].concat(Ue(this.stored.ARRAYS.entries())).sort());var t='';if(0<this.stored.ARRAYS.size){var n=H(Ft),a={0:[{1:[]}]},i=G(a,'0'),r=!0,o=!1,d=void 0;try{for(var l=this.stored.ARRAYS.entries()[Symbol.iterator](),s;!(r=(s=l.next()).done);r=!0){var u=s.value,p=ze(u,2),c=p[0],h=p[1],g={name:c,2:[]},m=g[2],f=!0,y=!1,b=void 0;try{for(var _=h[Symbol.iterator](),T,x;!(f=(T=_.next()).done);f=!0)x=T.value,m.push({value:x})}catch(e){y=!0,b=e}finally{try{!f&&_.return&&_.return()}finally{if(y)throw b}}i[1].push(g)}}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}t=W(n,a),t=F(t,mt.insertSpaces,!0),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceFontToXml',value:function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.FONTS=new Map([].concat(Ue(this.stored.FONTS.entries())).sort());var n='';if(0<this.stored.FONTS.size){var a=H(Mt),i=!0,r=!1,o=void 0;try{for(var d=this.stored.FONTS.entries()[Symbol.iterator](),l;!(i=(l=d.next()).done);i=!0){var s=l.value,u=ze(s,2),p=u[0],c=u[1],h={"#include":{},"#exclude":{},0:[{name:p,1:[]}]};h[mt.targetAPI<e.build.OREO?'#include':'#exclude'].app=!0;var g=G(h,'0');for(var m in c){var f=m.split('-'),y=ze(f,2),b=y[0],_=y[1];g[1].push({style:b,weight:_,font:'@font/'+(p+('normal'===b&&'400'===_?'_'+b:('normal'===b?'':'_'+b)+('400'===_?'':'_'+(ct[_]||_))))})}n+='\n\n'+W(a,h)}}catch(e){r=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(r)throw o}}n=F(n,mt.insertSpaces),t&&this.saveToDisk(this.parseFileDetails(n))}return n.trim()}},{key:'resourceColorToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.COLORS.size){this.stored.COLORS=new Map([].concat(Ue(this.stored.COLORS.entries())).sort());var n=H(Gt),a={0:[{1:[]}]},i=G(a,'0'),r=!0,o=!1,d=void 0;try{for(var l=this.stored.COLORS.entries()[Symbol.iterator](),s;!(r=(s=l.next()).done);r=!0){var u=s.value,p=ze(u,2),c=p[0],h=p[1];i[1].push({name:c,value:h})}}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}t=W(n,a),t=F(t,mt.insertSpaces),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceStyleToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.STYLES.size){this.stored.STYLES=new Map([].concat(Ue(this.stored.STYLES.entries())).sort(k));var n=H(Ht),a={0:[{1:[]}]},i=G(a,'0'),r=function(e,t){var n={name1:e,parent:t.parent||'',2:[]};t.attributes.split(';').sort().forEach(function(e){var t=e.split('='),a=ze(t,2),i=a[0],r=a[1];n[2].push({name2:i,value:r.replace(/"/g,'')})}),i[1].push(n)},o=!0,d=!1,l=void 0;try{for(var s=this.stored.STYLES.entries()[Symbol.iterator](),u;!(o=(u=s.next()).done);o=!0){var p=u.value,c=ze(p,2),h=c[0],g=c[1];r(h,g)}}catch(e){d=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(d)throw l}}t=W(n,a),t=pe(t,!0),t=F(t,mt.insertSpaces),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceDimenToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.DIMENS=new Map([].concat(Ue(this.stored.DIMENS.entries())).sort());var t='';if(0<this.stored.DIMENS.size){var n=H(Wt),a={0:[{1:[]}]},i=G(a,'0'),r=!0,o=!1,d=void 0;try{for(var l=this.stored.DIMENS.entries()[Symbol.iterator](),s;!(r=(s=l.next()).done);r=!0){var u=s.value,p=ze(u,2),c=p[0],h=p[1];i[1].push({name:c,value:h})}}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}t=W(n,a),t=pe(t),t=F(t,mt.insertSpaces),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceDrawableToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.DRAWABLES.size||0<this.stored.IMAGES.size){var n=H(Xt),a={0:[]},i=a[0],r=!0,o=!1,d=void 0;try{for(var l=this.stored.DRAWABLES.entries()[Symbol.iterator](),s;!(r=(s=l.next()).done);r=!0){var u=s.value,p=ze(u,2),c=p[0],h=p[1];i.push({name:'res/drawable/'+c+'.xml',value:h})}}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}var g=!0,m=!1,f=void 0;try{for(var y=this.stored.IMAGES.entries()[Symbol.iterator](),b;!(g=(b=y.next()).done);g=!0){var _=b.value,T=ze(_,2),x=T[0],E=T[1];if(1<Object.keys(E).length)for(var I in E)i.push({name:'res/drawable-'+I+'/'+x+'.'+v(E[I],'.'),value:'<!-- image: '+E[I]+' -->'});else null!=E.mdpi&&i.push({name:'res/drawable/'+x+'.'+v(E.mdpi,'.'),value:'<!-- image: '+E.mdpi+' -->'})}}catch(e){m=!0,f=e}finally{try{!g&&y.return&&y.return()}finally{if(m)throw f}}t=W(n,a),t=pe(t),t=F(t,mt.insertSpaces),e&&this.saveToDisk([].concat(Ue(this.parseImageDetails(t)),Ue(this.parseFileDetails(t))))}return t}},{key:'parseImageDetails',value:function(e){for(var t=[],n=/<!-- image: (.+) -->\n<!-- filename: (.+)\/(.*?\.\w+) -->/,a=null;null!=(a=n.exec(e));)t.push({uri:a[1],pathname:a[2],filename:a[3],content:''}),e=e.replace(a[0],'');return t}},{key:'parseFileDetails',value:function(e){for(var t=[],n=/<\?xml[\w\W]*?(<!-- filename: (.+)\/(.*?\.xml) -->)/,a=null;null!=(a=n.exec(e));)t.push({content:a[0].replace(a[1],'').trim(),pathname:a[2],filename:a[3]}),e=e.replace(a[0],'');return t}},{key:'getLayoutFile',value:function(e,t,n){return{pathname:e,filename:t,content:n}}}]),n}(Bt),zt=function(e){function t(e,n,a){Be(this,t);var i=We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return i.require(bt.EXTERNAL,!0),i}return He(t,e),Pe(t,[{key:'processNode',value:function(){var e=this,t=this.node,n=this.parent,a=this.application.controllerHandler,i=this.getData(),r='';return i.tag&&(r=0<t.children.length?a.renderGroup(t,n,i.tag):a.renderNode(t,n,i.tag),t.nodeType=Qe.includes(t.tagName)?je.BLOCK:je.INLINE),i.tagChild&&t.children.forEach(function(t){var n=t.element;n.dataset.ext=e.name,n.dataset.andromeCustomTag=i.tagChild}),{xml:r}}}]),t}(yt),Ut=function(e){function t(e,n,a){return Be(this,t),We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return He(t,e),Pe(t,[{key:'afterInsert',value:function(){var e=this.node,t=Object.assign({},this.options[e.element.id]);e.apply(me(t))}}]),t}(zt),Yt=function(e){function t(e,n,a){return Be(this,t),We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return He(t,e),Pe(t,[{key:'condition',value:function(){return Ge(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'condition',this).call(this)&&this.node.children.some(function(e){return'list-item'===e.display&&'none'!==e.css('listStyleType')})&&(Ye.linearX(this.node.children)||Ye.linearY(this.node.children))}},{key:'processNode',value:function(){var e=this.node,t=this.parent,n='';n=Ye.linearY(e.children)?this.application.writeGridLayout(e,t,2):this.application.writeLinearLayout(e,t,Ye.linearY(e.children));for(var a=0,r=0;a<e.children.length;a++){var o=e.children[a],d='0';if('list-item'===o.display){var l=o.css('listStyleType');d='disc'===l?'\u25CF':'square'===l?'\u25A0':'lower-alpha'===l||'lower-latin'===l?h(r).toLowerCase()+'.':'upper-alpha'===l||'upper-latin'===l?h(r)+'.':'lower-roman'===l?g(r+1).toLowerCase()+'.':'upper-roman'===l?g(r+1)+'.':'OL'===e.tagName?('decimal-leading-zero'===l&&9>r?'0':'')+(r+1).toString()+'.':'\u25CB',r++}o.data(bt.LIST+':listStyle',d)}return{xml:n}}}]),t}(yt),jt=function(e){function t(e,n,a){return Be(this,t),We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return He(t,e),Pe(t,[{key:'processChild',value:function(){var e=this.node,t=this.application.controllerHandler,n=e.data(bt.LIST+':listStyle');if(null!=n){var a;t.prependBefore(e.id,t.renderNodeStatic('0'===n?je.SPACE:je.TEXT,e.depth+e.renderDepth,{android:(a={gravity:he('right'),layout_columnWeight:'0'},Fe(a,he('layout_marginRight'),ue(e.tagName,he('margin_right'),'8px')),Fe(a,'text','0'===n?'':n),a)},'wrap_content','wrap_content')),e.android('layout_columnWeight','1'),0===e.viewWidth&&e.android('layout_width','wrap_content')}return{xml:''}}},{key:'afterInsert',value:function(){var e=this.node;e.is(je.GRID)&&e.android('layout_width','match_parent')}}]),t}(Yt),Zt=function(e){function t(e,n,a){return Be(this,t),We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return He(t,e),Pe(t,[{key:'condition',value:function(){var e=this.node;return this.included()||null==e.dataset.ext&&!e.flex.enabled&&1<e.children.length&&Qe.includes(e.children[0].tagName)&&e.children.some(function(e){return 1<e.children.length})&&e.children.every(function(t){return!t.flex.enabled&&e.children[0].tagName===t.tagName&&Ye.linearX(t.children)})}},{key:'processNode',value:function(e){var t=this.node,a=this.parent,i=this.options.balanceColumns,r='',o=[],d={columnEnd:[],columnCount:0,padding:{top:0,right:[],bottom:0,left:[]}};if(i){for(var s=[],u=0,p;u<t.children.length;u++){p=t.children[u].children,s[u]=[];for(var c=0;c<p.length;c++)s[u].push(p[c].bounds.width);o.push(p)}var h=o[s.findIndex(function(e){return e===s.reduce(function(e,t){return e.length===t.length?e.reduce(function(e,t){return e+t},0)<t.reduce(function(e,t){return e+t},0)?e:t:e.length<t.length?e:t})})];if(1<h.length)for(var g=-1,f=[],y=!1,b=function(e){var t=h[e].bounds,n=[];if(e<h.length-1)for(var a=function(a){if(o[a]===h)n.push(e);else{var i=o[a].findIndex(function(n,i){return i>=e&&we(n.bounds.width)===we(t.width)&&i<o[a].length-1});if(-1!==i)n.push(i);else return n.length=0,'break'}},i=0,r;i<o.length&&(r=a(i),'break'!==r);i++);else for(var d=0;d<o.length;d++)if(o[d].length>h.length){var l=o[d].splice(f[d]+(y?2:1),o[d].length-h.length);o[d][f[d]+(y?1:0)].data(bt.GRID+':gridSiblings',[].concat(Ue(l)))}if(n.length===o.length){var s=n.reduce(function(e,t){return Ne(e,t)});if(g=n.reduce(function(e,t){return Se(e,t)}),g>s)for(var u=0;u<o.length;u++)if(n[u]>s){var p=o[u].splice(s,n[u]-s);o[u][f[u]+(y?1:0)].data(bt.GRID+':gridSiblings',[].concat(Ue(p)))}f=n,y=!0}else f=Array(o.length).fill(e),y=!1},_=0;_<h.length;_++)b(_);else o.length=0}else{var T=e[t.depth+2],x=T?Object.keys(T):[],E=[];if(1<x.length){for(var I=[],R=0,v;R<x.length;R++){v=C(T[parseInt(x[R])].filter(function(e){return e.parent.parent&&e.parent.parent.id===t.id}),'linear.top'),I[R]=0===R?0:I[R-1];for(var A=function(e){function a(){return o[0].findIndex(function(e){return w(e.linear.top,i.linear.top)||i.linear.top>=e.linear.top&&i.linear.bottom<=e.linear.bottom})}var i=v[e],r=[i.linear.left,i.linear.right],d=r[0],l=r[1],s=R;if(0<s&&'right'===i.float){var u=i.element.style;u.float='left';var p=i.element.getBoundingClientRect();if(d!==p.left-t.marginLeft){d=p.left-t.marginLeft,l=p.right+t.marginRight;for(var c=1;c<I.length&&(s=c,!(d>I[c-1]));c++);}u.float='right'}if(!(0===s||d>=I[s-1])){var h=o.length-1;if(null!=o[h]){var g=o[h].reduce(function(e,t){return Ne(e,t.linear.left)},Number.MAX_VALUE),m=o[h].reduce(function(e,t){return Se(e,t.linear.right)},0);if(d>g&&l>m){var f=o.filter(function(e){return e}),y=a();-1!==y&&null==f[f.length-1][y]&&(o[h]=null)}}}else if(null==o[s]&&(o[s]=[]),0===s||o[0].length===v.length)o[s][e]=i;else{var b=a();-1!==b&&(o[s][b]=i)}I[R]=Se(i.linear.right,I[R])},L=0;L<v.length;L++)A(L)}for(var N=0,S=-1;N<I.length;N++)if(-1===S&&null==o[N])S=N-1;else if(null==o[N]){-1!=S&&N===I.length-1&&(I[S]=I[N]);continue}else-1!=S&&(I[S]=I[N-1],S=-1);for(var O=0;O<o.length;O++)null!=o[O]&&E.push(I[O]);o=o.filter(function(e){return e});for(var k=o.reduce(function(e,t){return Se(e,t.length)},0),D=0;D<k;D++)for(var B=0;B<o.length;B++)null==o[B][D]&&(o[B][D]={spacer:1})}0<E.length&&(d.columnEnd=E,d.columnEnd[d.columnEnd.length-1]=t.box.right)}if(1<o.length){d.columnCount=i?o[0].length:o.length,r=this.application.writeGridLayout(t,a,d.columnCount);for(var P=0,F=0,M;P<o.length;P++){M=0;for(var G=0,H=0,W;G<o[P].length;G++)if(W=o[P][G],!W.spacer){W.parent.hide(),W.parent=t;var X={inherit:!0,rowSpan:0,columnSpan:0,index:-1,cellFirst:!1,cellLast:!1,rowEnd:!1,rowStart:!1};if(i)X.rowStart=0===G,X.rowEnd=G===o[P].length-1,X.cellFirst=0===P&&0===G,X.cellLast=P===o.length-1&&X.rowEnd,X.index=G;else{for(var V=1,z=1+M,U=P+1;U<o.length&&1===o[U][G].spacer;U++)z++,o[U][G].spacer=2;if(1===z)for(var Y=G+1;Y<o[P].length&&1===o[P][Y].spacer;Y++)V++,o[P][Y].spacer=2;X.rowSpan=V,X.columnSpan=z,X.rowStart=0==H++,X.rowEnd=z+P===o.length,X.cellFirst=0==F++,X.cellLast=X.rowEnd&&G===o[P].length-1,X.index=P,M=0}W.data(bt.GRID+':gridCellData',X)}else 1===W.spacer&&M++}t.data(bt.GRID+':gridData',d),t.render(a)}return{xml:r}}},{key:'processChild',value:function(){var e=this.node,t=this.parent,n='',a=t.data(bt.GRID+':gridData'),i=e.data(bt.GRID+':gridCellData');if(null!=a&&null!=i){var r;if(this.options.balanceColumns)r=e.data(bt.GRID+':gridSiblings');else{var o=a.columnEnd[Ne(i.index+(i.columnSpan-1),a.columnEnd.length-1)];r=e.documentParent.children.filter(function(t){return!t.rendered&&t.linear.left>=e.linear.right&&t.linear.right<=o})}if(r&&0<r.length){r.unshift(e),C(r,'linear.left');var d=this.application.controllerHandler.createGroup(e,t,r),l=[Ye.linearX(r),Ye.linearY(r)],s=l[0],u=l[1];return n=s||u?this.application.writeLinearLayout(d,t,s):this.application.writeDefaultLayout(d,t),{xml:n,parent:d}}}return{xml:n}}}]),t}(yt),Kt=function(e){function t(e,n,a){return Be(this,t),We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return He(t,e),Pe(t,[{key:'processChild',value:function(){var e=this.node,n=e.data(bt.GRID+':gridCellData');return null!=n&&(1<n.rowSpan&&e.android('layout_rowSpan',n.rowSpan.toString()),1<n.columnSpan&&e.android('layout_columnSpan',n.columnSpan.toString())),Ge(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'processChild',this).call(this)}},{key:'afterRender',value:function(){var e=this,t=[];this.application.cache.list.forEach(function(n){if(n.renderExtension===e)t.push(n);else{var a=n.renderParent;if(a.is(je.GRID)){var i=a.data(bt.GRID+':gridData'),r=n.data(bt.GRID+':gridCellData');if(null!=i&&null!=r){var o=Y(n.documentParent.element,!0);if(r.cellFirst){var d=s(o.paddingTop)+s(o.marginTop);0<d&&(i.padding.top=d)}if(r.rowStart){var l=s(o.marginLeft)+s(o.paddingLeft);0<l&&i.padding.left.push(l)}if(r.rowEnd){var u=s(o.marginBottom)+s(o.paddingBottom)+(r.cellLast?0:s(o.marginTop)+s(o.paddingTop));if(0<u)if(r.cellLast)i.padding.bottom=u;else{var c=e.application.controllerHandler;c.appendAfter(n.id,c.renderNodeStatic(je.SPACE,n.renderDepth,{android:{layout_columnSpan:i.columnCount}},'match_parent',p(u)))}var h=s(o.marginRight)+s(o.paddingRight);0<h&&i.padding.right.push(h)}}}}}),t.forEach(function(e){var t=e.data(bt.GRID+':gridData');null!=t&&(0<t.padding.top&&e.modifyBox(qe.PADDING_TOP,e.paddingTop+t.padding.top),0<t.padding.right.length&&e.modifyBox(qe.PADDING_RIGHT,e.paddingRight+l(t.padding.right)),0<t.padding.bottom&&e.modifyBox(qe.PADDING_BOTTOM,e.paddingBottom+t.padding.bottom),0<t.padding.left.length&&e.modifyBox(qe.PADDING_LEFT,e.paddingLeft+l(t.padding.left)))})}}]),t}(Zt),qt=function(e){function t(e,n,a){return Be(this,t),We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return He(t,e),Pe(t,[{key:'processNode',value:function(){var e=this.node,t=[],n=e.children.find(function(e){return'THEAD'===e.tagName}),a=e.children.find(function(e){return'TBODY'===e.tagName}),r=e.children.find(function(e){return'TFOOT'===e.tagName});null!=n&&(n.cascade().filter(function(e){return'TH'===e.tagName||'TD'===e.tagName}).forEach(function(e){return e.inherit(n,'styleMap')}),t.push.apply(t,Ue(n.children)),n.hide()),null!=a&&(t.push.apply(t,Ue(a.children)),a.hide()),null!=r&&(r.cascade().filter(function(e){return'TH'===e.tagName||'TD'===e.tagName}).forEach(function(e){return e.inherit(r,'styleMap')}),t.push.apply(t,Ue(r.children)),r.hide());for(var o=t.length,d=0,l='collapse'===e.css('borderCollapse')?['0px','0px']:e.css('borderSpacing').split(' '),s=ze(l,2),u=s[0],p=s[1],c=0,h;c<t.length;c++){h=t[c],h.hide(),d=Se(h.children.map(function(e){return e.element}).reduce(function(e,t){return e+t.colSpan},0),d);for(var g=0;g<h.children.length;g++){var m=h.children[g],f=m.element.style,y=m.element;1<y.rowSpan&&m.data(bt.TABLE+':rowSpan',y.rowSpan),1<y.colSpan&&m.data(bt.TABLE+':columnSpan',y.colSpan),null!=m.styleMap.textAlign||'left'===f.textAlign||'start'===f.textAlign||(m.styleMap.textAlign=f.textAlign),null==m.styleMap.verticalAlign&&''===f.verticalAlign&&(m.styleMap.verticalAlign='middle'),delete m.styleMap.margin,m.styleMap.marginTop=p,m.styleMap.marginRight=u,m.styleMap.marginBottom=p,m.styleMap.marginLeft=u,m.parent=e}}var b=e.children.find(function(e){return'CAPTION'===e.tagName});null!=b&&(null==b.styleMap.textAlign&&(b.styleMap.textAlign='center'),b.data(bt.TABLE+':columnSpan',d));var _=this.application.writeGridLayout(e,this.parent,d,o);return{xml:_}}}]),t}(yt),Jt=function(e){function t(e,n,a){return Be(this,t),We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return He(t,e),Pe(t,[{key:'processChild',value:function(){var e=this.node,t=e.data(bt.TABLE+':rowSpan'),n=e.data(bt.TABLE+':columnSpan');return null!=t&&1<t&&e.android('layout_rowSpan',t.toString()),null!=n&&1<n&&e.android('layout_columnSpan',n.toString()),{xml:''}}}]),t}(qt),Qt=function(e){function t(e,n,a){return Be(this,t),We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return He(t,e),Pe(t,[{key:'is',value:function(e){return Ge(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)&&('INPUT'!==e.element.tagName||['button','file','image','reset','search','submit'].includes(e.element.type))}},{key:'init',value:function(e){if(this.included(e)){var t=z(e).position;e.__nodeIsolated='static'!==t&&'initial'!==t}return!1}},{key:'condition',value:function(){return this.included()}}]),t}(yt),$t={FAB:'androme.widget.floatingactionbutton',MENU:'androme.widget.menu',COORDINATOR:'androme.widget.coordinator',TOOLBAR:'androme.widget.toolbar',DRAWER:'androme.widget.drawer',BOTTOM_NAVIGATION:'androme.widget.bottomnavigation'},en={DRAWER:'android.support.v4.widget.DrawerLayout',NAVIGATION_VIEW:'android.support.design.widget.NavigationView',COORDINATOR:'android.support.design.widget.CoordinatorLayout',APPBAR:'android.support.design.widget.AppBarLayout',COLLAPSING_TOOLBAR:'android.support.design.widget.CollapsingToolbarLayout',TOOLBAR:'android.support.v7.widget.Toolbar',FLOATING_ACTION_BUTTON:'android.support.design.widget.FloatingActionButton',BOTTOM_NAVIGATION:'android.support.design.widget.BottomNavigationView'},tn={MENU:'menu',ITEM:'item',GROUP:'group'},nn={MENU:'ic_menu_',DIALOG:'ic_dialog_'},an=function(e){function t(e,n,a){return Be(this,t),We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return He(t,e),Pe(t,[{key:'processNode',value:function(){var e=this.node,t=this.parent,n=e.element,a=Object.assign({},this.options[n.id]),i=ne(e.css('backgroundColor'),e.css('opacity'));ye(a,'android','backgroundTint',0<i.length?'@color/'+wt.addColor(i[0],i[2]):'?attr/colorAccent'),f(e.excludeProcedure,Ke.ACCESSIBILITY)&&ye(a,'android','focusable','false');var r='';switch(n.tagName){case'IMG':r=wt.addImageSrcSet(n,nn.DIALOG);break;case'INPUT':r='image'===n.type?wt.addImage({mdpi:n.src},nn.DIALOG):wt.addImageURL(e.css('backgroundImage'),nn.DIALOG);break;case'BUTTON':r=wt.addImageURL(e.css('backgroundImage'),nn.DIALOG);}''!==r&&ye(a,'app','srcCompat','@drawable/'+r);var o=e.isSet('dataset','target');e.depth=o?e.depth:e.parent.renderDepth+1;var d=this.application.controllerHandler.renderNodeStatic(en.FLOATING_ACTION_BUTTON,o?-1:e.depth,a,'wrap_content','wrap_content',e);if(e.nodeType=je.BUTTON,e.excludeResource|=Ze.BOX_STYLE|Ze.ASSET,!e.isolated)e.render(t);else if(be(e),o){var l=t.stringId;if(t.nodeName===en.TOOLBAR){var s=t.data($t.TOOLBAR+':outerParent');null!=s&&(l=s)}e.app('layout_anchor',l),e.app('layout_anchorGravity',e.android('layout_gravity')),e.delete('android','layout_gravity'),e.excludeProcedure|=Ke.ALIGNMENT,e.render(e)}else e.render(t);return{xml:d}}},{key:'afterInsert',value:function(){var e=this.node;e.android('layout_width','wrap_content'),e.android('layout_height','wrap_content')}}]),t}(Qt),rn=function(e){function t(e,n,a){Be(this,t);var i=We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return i.require(bt.EXTERNAL,!0),i}return He(t,e),Pe(t,[{key:'init',value:function(e){if(this.included(e)){var t=!1;if(0<e.children.length){var n=e.children[0].tagName;t=Qe.includes(n)&&Array.from(e.children).every(function(e){return e.tagName===n});for(var a=e.parentElement;null!=a;){if('NAV'===a.tagName&&this.application.elements.has(a)){t=!1;break}a=a.parentElement}}t&&(Array.from(e.querySelectorAll('NAV')).forEach(function(t){var n=z(e);'none'===n.display&&(t.__andromeExternalDisplay='none',t.style.display='block')}),this.application.elements.add(e))}return!1}},{key:'afterRender',value:function(){this.included(this.node.element)&&Array.from(this.node.element.querySelectorAll('NAV')).forEach(function(e){var t=e.__andromeExternalDisplay;null!=t&&(e.style.display=t)})}}]),t}(yt),on={id:/^@\+id\/\w+$/,title:/^.+$/,titleCondensed:/^.+$/,icon:/^@drawable\/.+$/,onClick:/^.+$/,showAsAction:/^(ifRoom|never|withText|always|collapseActionView)$/,actionLayout:/^@layout\/.+$/,actionViewClass:/^.+$/,actionProviderClass:/^.+$/,alphabeticShortcut:/^[a-zA-Z]+$/,alphabeticModifiers:/(META|CTRL|ALT|SHIFT|SYM|FUNCTION)+/g,numericShortcut:/^[0-9]+$/,numericModifiers:/(META|CTRL|ALT|SHIFT|SYM|FUNCTION)+/g,checkable:/^(true|false)$/,visible:/^(true|false)$/,enabled:/^(true|false)$/,menuCategory:/^(container|system|secondary|alternative)$/,orderInCategory:/^[0-9]+$/},dn={id:/^@\+id\/\w+$/,checkableBehavior:/^(none|all|single)$/,visible:/^(true|false)$/,enabled:/^(true|false)$/,menuCategory:/^(container|system|secondary|alternative)$/,orderInCategory:/^[0-9]+$/},ln=['showAsAction','actionViewClass','actionProviderClass'],sn=function(e){function t(e,n,a){return Be(this,t),We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return He(t,e),Pe(t,[{key:'condition',value:function(){return this.included()}},{key:'processNode',value:function(){var e=this,t=this.node;t.documentRoot=!0;var n=this.application.controllerHandler.renderNodeStatic(tn.MENU,0,{},'','',t,!0);return t.rendered=!0,t.cascade().forEach(function(t){return t.renderExtension=e}),t.nodeType=je.BLOCK,t.excludeResource|=Ze.ALL,{xml:n}}},{key:'processChild',value:function(){var e=this,t=this.node,n=t.element;if('#text'===n.nodeName)return t.hide(),{xml:'',proceed:!0};var a=this.parent;t.renderDepth=a.renderDepth+1,t.rendered=!0,t.excludeResource|=Ze.ALL;var i={android:{},app:{}},r=Array.from(t.element.children),o=tn.ITEM,d='',l=!1,s=!1;if(r.some(function(e){return Qe.includes(e.tagName)&&0<e.children.length})){if(r.some(function(e){return'NAV'===e.tagName}))''===n.title?Array.from(t.element.childNodes).some(function(e){return'#text'===e.nodeName?!!(e.textContent&&''!==e.textContent.trim())&&(d=e.textContent.trim(),!0):'NAV'!==e.tagName&&(d=e.innerText.trim(),!0)}):d=n.title.trim(),t.children.forEach(function(e){return'NAV'!==e.tagName&&e.hide()});else if('NAV'===t.tagName)o=tn.MENU,s=!0;else{o=tn.GROUP;var u='';t.children.every(function(t){return e.hasInputType(t,'radio')})?u='single':t.children.every(function(t){return e.hasInputType(t,'checkbox')})&&(u='all'),i.android.checkableBehavior=u}l=!0}else null==a.android('checkableBehavior')&&this.hasInputType(t,'checkbox')&&(i.android.checkable='true'),d=(''===n.title?n.innerText:n.title).trim();switch(o){case tn.ITEM:if(this.parseDataSet(on,n,i),null==t.android('icon')){var p=wt.addImageURL(n.style.backgroundImage,nn.MENU);if(''!==p)i.android.icon='@drawable/'+p;else{var c=t.children.find(function(e){return'IMG'===e.element.tagName});null!=c&&(p=wt.addImageSrcSet(c.element,nn.MENU),''!==p&&(i.android.icon='@drawable/'+p))}}break;case tn.GROUP:this.parseDataSet(dn,n,i);}if(null==t.android('title')&&''!==d){var h=wt.addString(d);''!==h&&(d='@string/'+h),i.android.title=d}null==i.android.id?t.setNodeId(o):t.nodeName=o;var g=this.application.controllerHandler.renderNodeStatic(o,t.depth,i,'','',t,l);return{xml:g,proceed:s}}},{key:'afterRender',value:function(){if(Ge(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'afterRender',this).call(this),this.included(this.node.element)){var e=this.application.current;e.pathname='res/menu'}}},{key:'parseDataSet',value:function(e,t,n){for(var a in t.dataset){var i=t.dataset[a];if(null!=i&&null!=e[a]){var r=i.match(e[a]);if(null!=r){var o=(null==this.options.appCompat||this.options.appCompat)&&ln.includes(a)?'app':'android';n[o][a]=Array.from(new Set(r)).join('|')}}}}},{key:'hasInputType',value:function(e,t){return 0<e.children.length&&e.children.some(function(e){return e.element.type===t})}}]),t}(rn),un=function(e){function t(e,n,a){return Be(this,t),We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return He(t,e),Pe(t,[{key:'processNode',value:function(){var e=this.application.controllerHandler,t=this.node,n=e.renderGroup(t,this.parent,en.COORDINATOR);if(t.apply(this.options[t.element.id]),t.nodeType=je.BLOCK,t.excludeResource|=Ze.ASSET,0<t.children.filter(function(e){return!e.isolated}).length){var a=this.getToolbar(t);if(null!=a){var i=this.application.findExtension($t.TOOLBAR);if(null!=i){var r=null==i.options[a.element.id]?null:i.options[a.element.id].collapsingToolbar;null!=r&&t.android('fitsSystemWindows','true')}}}return{xml:n}}},{key:'afterInsert',value:function(){var e=this.node;e.documentRoot&&(e.android('layout_width','match_parent'),e.android('layout_height','match_parent'))}},{key:'getToolbar',value:function(e){var t=Array.from(e.element.children).find(function(e){return _(T(e,'dataset.ext'),$t.TOOLBAR)});return null==t?null:t.__node}}]),t}(yt),pn=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','\t<style name="{@appTheme}" parent="{@parentTheme}">','!1','\t\t<item name="{name}">{value}</item>','!1','\t</style>','\t<style name="{@appTheme}.NoActionBar">','\t\t<item name="windowActionBar">false</item>','\t\t<item name="windowNoTitle">true</item>','\t</style>','\t<style name="AppTheme.AppBarOverlay" parent="{@appBarOverlay}" />','\t<style name="AppTheme.PopupOverlay" parent="{@popupOverlay}" />','</resources>','!0'].join('\n'),cn=function(e){function t(e,n,a){Be(this,t);var i=We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return i.require($t.MENU),i}return He(t,e),Pe(t,[{key:'init',value:function(e){if(this.included(e)){if(Array.from(e.children).forEach(function(e){'NAV'!==e.tagName||_(e.dataset.ext||'',bt.EXTERNAL)||(e.dataset.ext=(S(e.dataset.ext)?e.dataset.ext+', ':'')+bt.EXTERNAL)}),S(e.dataset.target)){var t=document.getElementById(e.dataset.target);null==t||e.parentElement===t||_(T(t,'dataset.ext'),$t.COORDINATOR)||this.application.elements.add(e)}_(T(e,'parentElement.dataset.ext'),$t.COORDINATOR)&&(e.__nodeIsolated=!0)}return!1}},{key:'processNode',value:function(){var e=this.application,t=e.controllerHandler,n=this.node,a=n.isSet('dataset','target'),i=Object.assign({},this.options[n.element.id]),r=Object.assign({},i.toolbar),o=Object.assign({},i.appBar),d=Object.assign({},i.collapsingToolbar),l=[],s=[],u=null!=fe(n,$t.MENU),c=n.css('backgroundImage'),h=a?0:n.depth+n.renderDepth,g=n.children.filter(function(e){return!e.isolated}).length;Array.from(n.element.children).forEach(function(e){if('IMG'===e.tagName){if(null!=e.dataset.navigationIcon){var t=wt.addImageSrcSet(e,nn.MENU);''!==t&&(ye(toolbar,'app','navigationIcon','@drawable/'+t),'none'!==z(e).display&&g--)}if(null!=e.dataset.collapseIcon){var n=wt.addImageSrcSet(e,nn.MENU);''!==n&&(ye(toolbar,'app','collapseIcon','@drawable/'+n),'none'!==z(e).display&&g--)}}if(!S(e.dataset.target)){var a=e.__node;if(null!=a)switch(e.dataset.targetModule){case'appBar':l.push(a),g--;break;case'collapsingToolbar':s.push(a),g--;}}});var m=null!=i.collapsingToolbar||0<s.length,f=null!=i.appBar||0<l.length||m,y='',b='';m?ye(r,'app','layout_collapseMode','pin'):(ye(f?o:r,'android','fitsSystemWindows','true'),ye(r,'app','popupTheme','@style/ThemeOverlay.AppCompat.Light'),'none'===c?ye(r,'app','layout_scrollFlags','scroll|enterAlways'):(ye(0<l.length?o:r,'android','background','@drawable/'+wt.addImageURL(c)),n.excludeResource|=Ze.IMAGE_SOURCE)),0<l.length?ye(o,'android','layout_height','?attr/actionBarSize'):(ye(r,'android','layout_height','?attr/actionBarSize'),n.excludeProcedure|=Ke.LAYOUT),u&&f&&(null!=r.app.popupTheme&&(b=r.app.popupTheme.replace('@style/','')),r.app.popupTheme='@style/AppTheme.PopupOverlay'),n.depth=h+(f?1:0)+(m?1:0);var _=t.renderNodeStatic(en.TOOLBAR,n.depth,r,'match_parent','wrap_content',n,0<g);if(m&&'none'!==c){var T=Object.assign({},i.backgroundImage),x='center';switch(n.css('backgroundSize')){case'cover':case'100% auto':case'auto 100%':x='centerCrop';break;case'contain':case'100% 100%':x='fitXY';break;case'auto':x='matrix';}ye(T,'android','id',n.stringId+'_image'),ye(T,'android','src','@drawable/'+wt.addImageURL(c)),ye(T,'android','scaleType',x),ye(T,'android','fitsSystemWindows','true'),ye(T,'app','layout_collapseMode','parallax'),_=t.renderNodeStatic(it.IMAGE,n.depth,T,'match_parent','match_parent')+_,n.excludeResource|=Ze.IMAGE_SOURCE}var E='',I=null,R=null;return f&&(ye(o,'android','id',n.stringId+'_appbar'),ye(o,'android','layout_height',0<n.viewHeight?ue('appbar','height',p(n.viewHeight)):'wrap_content'),m&&ye(o,'android','fitsSystemWindows','true'),u?(null!=o.android.theme&&(y=o.android.theme),o.android.theme='@style/AppTheme.AppBarOverlay',this.createResourceTheme(y,b)):ye(o,'android','theme','@style/ThemeOverlay.AppCompat.Dark.ActionBar'),I=ge(e.cache.nextId,n,l),I.depth=h,I.nodeId=le(o.android.id),I.children.forEach(function(e){e.depth=h+1,e.element.dataset.target=I.nodeId}),e.cache.list.push(I),E=t.renderNodeStatic(en.APPBAR,a?-1:h,o,'match_parent','wrap_content',I,!0),m&&(h++,ye(d,'android','id',n.stringId+'_collapsingtoolbar'),ye(d,'android','fitsSystemWindows','true'),'none'===c&&ye(d,'app','contentScrim','?attr/colorPrimary'),ye(d,'app','layout_scrollFlags','scroll|exitUntilCollapsed'),ye(d,'app','toolbarId',n.stringId),R=ge(e.cache.nextId,n,s),I.depth=h,R.children.forEach(function(e){e.depth=h+1,e.element.dataset.target=R.nodeId}),e.cache.list.push(R),E=E.replace('{:'+I.id+'}',t.renderNodeStatic(en.COLLAPSING_TOOLBAR,h,d,'match_parent','match_parent',R,!0)+('{:'+I.id+'}')))),null!=I&&(_=null==R?E.replace('{:'+I.id+'}',_+('{:'+I.id+'}')):E.replace('{:'+R.id+'}',_+('{:'+R.id+'}'))),null==I?null!=R&&(n.parent=R):(null==R?n.parent=I:R.parent=I,n.data($t.TOOLBAR+':outerParent',I.stringId)),a?n.render(n):(n.render(this.parent),n.renderDepth=n.depth),n.nodeType=je.BLOCK,n.excludeResource|=Ze.FONT_STYLE,{xml:_}}},{key:'processChild',value:function(){var e=this.node;return'IMG'===e.element.tagName&&(null!=e.dataset.navigationIcon||null!=e.dataset.collapseIcon)?(e.hide(),{xml:'',proceed:!0}):{xml:''}}},{key:'beforeInsert',value:function(){var e=this.node,t=T(fe(e,$t.MENU),'dataset.viewName');if(''!==t){var n=Object.assign({},this.options[e.element.id]),a=Object.assign({},n.toolbar);ye(a,'app','menu','@menu/'+t),e.app('menu',a.app.menu)}}},{key:'createResourceTheme',value:function(e,t){var n=Object.assign({},this.options.resource);ye(n,'','appTheme','AppTheme'),ye(n,'','parentTheme','Theme.AppCompat.Light.DarkActionBar');var a={0:[{appTheme:n.appTheme,parentTheme:n.parentTheme,appBarOverlay:e||'ThemeOverlay.AppCompat.Dark.ActionBar',popupOverlay:t||'ThemeOverlay.AppCompat.Light',1:[]}]};ye(n,'output','path','res/values'),ye(n,'output','file',$t.TOOLBAR+'.xml'),this.application.resourceHandler.addTheme(pn,a,n)}}]),t}(yt),hn=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','\t<style name="{@appTheme}" parent="{@parentTheme}">','!1','\t\t<item name="{name}">{value}</item>','!1','\t</style>','</resources>','!0'].join('\n'),gn=function(e){function t(e,n,a){Be(this,t);var i=We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return i.require($t.MENU),i}return He(t,e),Pe(t,[{key:'processNode',value:function(){var e=this,t=this.node,n=this.parent,a=Object.assign({},this.options[t.element.id]);ye(a,'android','background','?android:attr/windowBackground');for(var r=this.application.controllerHandler.renderNodeStatic(en.BOTTOM_NAVIGATION,t.depth,a,n.is(je.CONSTRAINT)?'0px':'match_parent','wrap_content',t),o=5;o<t.children.length;o++)t.children[o].hide(),t.children[o].cascade().forEach(function(e){return e.hide()});return t.cascade().forEach(function(t){return t.renderExtension=e}),t.render(n),t.nodeType=je.BLOCK,t.excludeResource|=Ze.ASSET,this.createResourceTheme(),{xml:r}}},{key:'beforeInsert',value:function(){var e=this.node,t=T(fe(e,$t.MENU),'dataset.viewName');if(''!==t){var n=Object.assign({},this.options[e.element.id]);ye(n,'app','menu','@menu/'+t),e.app('menu',n.app.menu)}}},{key:'afterInsert',value:function(){var e=this.node;0===e.renderParent.viewHeight&&e.renderParent.android('layout_height','match_parent')}},{key:'createResourceTheme',value:function(){var e=Object.assign({},this.options.resource);ye(e,'','appTheme','AppTheme'),ye(e,'','parentTheme','Theme.AppCompat.Light.DarkActionBar');var t={0:[{appTheme:e.appTheme,parentTheme:e.parentTheme,1:[]}]};ye(e,'output','path','res/values'),ye(e,'output','file',$t.BOTTOM_NAVIGATION+'.xml'),this.application.resourceHandler.addTheme(hn,t,e)}}]),t}(yt),mn=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','\t<style name="{@appTheme}" parent="{@parentTheme}">','\t\t<item name="android:windowDrawsSystemBarBackgrounds">true</item>','\t\t<item name="android:statusBarColor">@android:color/transparent</item>','\t\t<item name="android:windowTranslucentStatus">true</item>','!1','\t\t<item name="{name}">{value}</item>','!1','\t</style>','</resources>','!0'].join('\n'),fn=function(e){function t(e,n,a){Be(this,t);var i=We(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return i.documentRoot=!0,i.require(bt.EXTERNAL,!0),i.require($t.MENU),i.require($t.COORDINATOR),i}return He(t,e),Pe(t,[{key:'init',value:function(e){return!!(this.included(e)&&0<e.children.length)&&(Array.from(e.children).forEach(function(e){'NAV'!==e.tagName||_(e.dataset.ext||'',bt.EXTERNAL)||(e.dataset.ext=(S(e.dataset.ext)?e.dataset.ext+', ':'')+bt.EXTERNAL)}),this.application.elements.add(e),!0)}},{key:'processNode',value:function(){var e=this.application,t=e.controllerHandler,n=this.node;n.depth=0,n.documentRoot=!0;var a=Object.assign({},this.options.drawer);if(null!=fe(n,$t.MENU))ye(a,'android','fitsSystemWindows','true'),this.createResourceTheme();else{var i=Object.assign({},this.options.navigation);ye(i,'android','layout_gravity',he('left'));var r=n.children[n.children.length-1];r.android('layout_gravity',i.android.layout_gravity),r.android('layout_height','match_parent'),r.isolated=!0}var o=t.renderNodeStatic(en.DRAWER,n.depth,a,'match_parent','match_parent',n,!0);return n.rendered=!0,n.nodeType=je.BLOCK,n.excludeResource|=Ze.FONT_STYLE,{xml:o}}},{key:'beforeInsert',value:function(){var e=this.application,t=this.node;if(null!=e.insert[t.nodeId]){var n=e.cacheInternal.list.find(function(e){return e.isolated&&e.parent===t.parent&&e.nodeName===en.COORDINATOR});null!=n&&(e.insert[n.nodeId]=e.insert[t.nodeId],delete e.insert[t.nodeId])}var a=T(fe(t,$t.MENU),'dataset.viewName'),i=T(fe(t,bt.EXTERNAL),'dataset.viewName'),r=Object.assign({},this.options.navigation);if(''!==a&&ye(r,'app','menu','@menu/'+a),''!==i&&ye(r,'app','headerLayout','@layout/'+i),''!==a||''!==i){ye(r,'android','id',t.stringId+'_view'),ye(r,'android','fitsSystemWindows','true'),ye(r,'android','layout_gravity',he('left'));var o=e.controllerHandler.renderNodeStatic(en.NAVIGATION_VIEW,t.depth+1,r,'wrap_content','match_parent');e.addInsertQueue(t.id.toString(),[o])}}},{key:'afterInsert',value:function(){var e=fe(this.node,bt.EXTERNAL);if(null!=e){var t=e.__node;0===t.viewHeight&&t.android('layout_height','wrap_content')}}},{key:'createResourceTheme',value:function(){var e=Object.assign({},this.options.resource);ye(e,'','appTheme','AppTheme'),ye(e,'','parentTheme','Theme.AppCompat.Light.NoActionBar');var t={0:[{appTheme:e.appTheme,parentTheme:e.parentTheme,1:[]}]};ye(e,'output','path','res/values-v21'),ye(e,'output','file',$t.DRAWER+'.xml'),this.application.resourceHandler.addTheme(mn,t,e)}}]),t}(yt),yn=!1,bn=new Set,_n=(vn={},Fe(vn,bt.EXTERNAL,new _t(bt.EXTERNAL)),Fe(vn,bt.CUSTOM,new Ut(bt.CUSTOM)),Fe(vn,bt.LIST,new jt(bt.LIST,['UL','OL','DIV'])),Fe(vn,bt.TABLE,new Jt(bt.TABLE,['TABLE'])),Fe(vn,bt.GRID,new Kt(bt.GRID,['FORM','UL','OL','DL','DIV','TABLE','NAV','SECTION','ASIDE','MAIN','HEADER','FOOTER','P','ARTICLE','FIELDSET','SPAN'])),Fe(vn,$t.FAB,new an($t.FAB,['BUTTON','INPUT','IMG'])),Fe(vn,$t.MENU,new sn($t.MENU,['NAV'])),Fe(vn,$t.COORDINATOR,new un($t.COORDINATOR)),Fe(vn,$t.TOOLBAR,new cn($t.TOOLBAR)),Fe(vn,$t.BOTTOM_NAVIGATION,new gn($t.BOTTOM_NAVIGATION)),Fe(vn,$t.DRAWER,new fn($t.DRAWER)),vn),Tn=new Dt,xn=new Vt,En=new wt(xn),In=new ft(vt,Lt),Rn,vn;In.registerController(Tn),In.registerResource(En),function(){var e=new Set,t=!0,n=!1,a=void 0;try{for(var i=mt.builtInExtensions[Symbol.iterator](),r,o;!(t=(r=i.next()).done);t=!0)for(var d in o=r.value,o=o.toLowerCase().trim(),_n)(o===d||d.startsWith(o+'.'))&&e.add(_n[d])}catch(e){n=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw a}}e.forEach(function(e){return In.registerExtension(e)})}(),e.parseDocument=function(){function e(){yn=!1,In.elements.forEach(function(e){''===In.appName?(''===e.id&&(e.id='untitled'),In.appName=e.id):''===e.id&&(e.id='content_'+In.size);var t=T(e,'dataset.filename').trim().replace(/\.xml$/,'')||e.id;e.dataset.views=(T(e,'dataset.views','number')+1).toString(),e.dataset.viewName=o('1'===e.dataset.views?t:t+'_'+e.dataset.views),In.createNodeCache(e)&&(In.createLayoutXml(),In.setResources(),In.setConstraints(),bn.add(e))}),'function'==typeof i&&i.call(In)}if(!In.closed){yn=!1,In.resetController(),In.setStyleMap(),In.elements.clear();for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];''===In.appName&&0===n.length&&n.push(document.body),n.forEach(function(e){'string'==typeof e&&(e=document.getElementById(e)),e instanceof HTMLElement&&In.elements.add(e)});var i=void 0,r=Array.from(In.elements).map(function(e){return Array.from(e.querySelectorAll('IMG'))}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return!e.complete});if(0===r.length)e();else{yn=!0;var d=r.map(function(e){return new Promise(function(t,n){e.onload=t,e.onerror=n})});Promise.all(d).then(function(){return e()}).catch(function(t){var n=null==t.srcElement?'':t.srcElement.src;(!S(n)||confirm('FAIL: '+n))&&e()})}return{then:function(e){yn?i=e:e()}}}},e.registerExtension=_e,e.configureExtension=Te,e.getExtension=xe,e.ext=function(e,t){if('object'===('undefined'==typeof e?'undefined':ke(e)))_e(e);else if(null!=t)Te(e,t);else if(''!==e)return xe(e)},e.ready=Ee,e.close=Ie,e.reset=function(){bn.forEach(function(e){delete e.dataset.views,delete e.dataset.viewName}),bn.clear(),In.reset()},e.saveAllToDisk=Re,e.writeLayoutAllXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return In.closed||ve()?In.resourceHandler.file.layoutAllToXml(In.viewData,e):''},e.writeResourceAllXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return In.closed||ve()?In.resourceHandler.file.resourceAllToXml(e):''},e.writeResourceStringXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return In.closed||ve()?In.resourceHandler.file.resourceStringToXml(e):''},e.writeResourceArrayXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return In.closed||ve()?In.resourceHandler.file.resourceStringArrayToXml(e):''},e.writeResourceFontXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return In.closed||ve()?In.resourceHandler.file.resourceFontToXml(e):''},e.writeResourceColorXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return In.closed||ve()?In.resourceHandler.file.resourceColorToXml(e):''},e.writeResourceStyleXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return In.closed||ve()?In.resourceHandler.file.resourceStyleToXml(e):''},e.writeResourceDimenXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return In.closed||ve()?In.resourceHandler.file.resourceDimenToXml(e):''},e.writeResourceDrawableXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return In.closed||ve()?In.resourceHandler.file.resourceDrawableToXml(e):''},e.customize=function(e,t,n){if(null!=Rt[e]){var a=Rt[e].customizations;null==a[t]&&(a[t]={}),Object.assign(a[t],n)}},e.addXmlNs=function(e,t){In.addXmlNs(e,t)},e.toString=function(){return In.toString()},e.settings=mt,e.Extension=yt,Object.defineProperty(e,'__esModule',{value:!0})});
