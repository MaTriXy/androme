/* androme 1.7.20 https://github.com/anpham6/androme */(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?t(exports):'function'==typeof define&&define.amd?define(['exports'],t):t(e.androme={})})(this,function(e){'use strict';function t(e){for(var t=arguments.length,n=Array(2<t?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;return e.sort(function(e,t){var i=!0,a=!1,o=void 0;try{for(var d=n[Symbol.iterator](),l;!(i=(l=d.next()).done);i=!0){var s=l.value,u=R(e,t,s);if(u&&u[0]!==u[1])return 0===r?u[0]>=u[1]?1:-1:u[0]<=u[1]?1:-1}}catch(e){a=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(a)throw o}}return 0})}function n(){Le={android:['parent']}}function a(e,t){var n=t,a=1,r=t.match(/^(\w+)_([0-9]+)$/);null!=r&&(n=r[1],a=parseInt(r[2])),null==Le[e]&&(Le[e]=[]);do if(!Le[e].includes(t)){Le[e].push(t);break}else t=n+'_'+a++;while(!0);return t}function r(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(var r=0;r<n.length;r++)e=e.replace('{'+r+'}',n[r]);return e}function o(e){e=e.charAt(0).toLowerCase()+e.substring(1);var t=e.match(/([a-z]{1}[A-Z]{1})/g);if(null!=t){var n=!0,i=!1,a=void 0;try{for(var r=t[Symbol.iterator](),o,d;!(n=(o=r.next()).done);n=!0)d=o.value,e=e.replace(d,d[0]+'_'+d[1].toLowerCase())}catch(e){i=!0,a=e}finally{try{!n&&r.return&&r.return()}finally{if(i)throw a}}}return e}function d(e){e=e.replace(/$-+/,'');var t=e.match(/(-{1}[a-z]{1})/g);if(null!=t){var n=!0,i=!1,a=void 0;try{for(var r=t[Symbol.iterator](),o,d;!(n=(o=r.next()).done);n=!0)d=o.value,e=e.replace(d,d[1].toUpperCase())}catch(e){i=!0,a=e}finally{try{!n&&r.return&&r.return()}finally{if(i)throw a}}}return e}function l(e){return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()}function s(e){return me(e.reduce(function(e,t){return e+t})/e.length)}function u(e){return parseInt(e)||0}function p(e){if(S(e)){y(e)&&(e+='px');var t=e.match(/(pt|em)/);if(e=parseFloat(e),null!=t)switch(t[0]){case'pt':e*=4/3;break;case'em':e*=16;}if(!isNaN(e))return e+'px'}return'0px'}function h(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:160,n=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];return S(e)&&(e=parseFloat(p(e)),!isNaN(e))?(e=parseFloat((e/(t/160)).toFixed(2)),e+(n?'sp':'dp')):'0dp'}function c(e){for(var t='',n;e>=26;){n=me(e/26),1<n&&n<=26?(t+='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(n-1),e-=n*26):n>26&&(t+=c(n*26),e-=n*26);var i=e%26;t+='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(i),e-=i+26}return t='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(e)+t,t}function g(e){for(var t='',n=e.toString().split(''),a=['','C','CC','CCC','CD','D','DC','DCC','DCCC','CM','','X','XX','XXX','XL','L','LX','LXX','LXXX','XC','','I','II','III','IV','V','VI','VII','VIII','IX'],r=3;r--;)t=(a[parseInt(n.pop())+10*r]||'')+t;return'M'.repeat(parseInt(n.join('')))+t}function m(e,t,n){var i=!0,a=!1,r=void 0;try{for(var o=Object.keys(e)[Symbol.iterator](),d;!(i=(d=o.next()).done);i=!0){var l=d.value,s=e[l];if(n===s)return t[l]}}catch(e){a=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(a)throw r}}return''}function f(e){return e=parseFloat(e),(isNaN(e)?0:ge(e))+'px'}function y(e){return /^[0-9]+\.?[0-9]*$/.test(e.toString().trim())}function _(e){return /^[0-9]+%$/.test(e)}function b(e){if(!/^\w+:\/\//.test(e)){var t=location.pathname.split('/');if(t.pop(),'/'===e.charAt(0))e=location.origin+e;else if(e.startsWith('../')){var n=[],i=0,a;e.split('/').forEach(function(e){'..'===e?i++:n.push(e)}),t=t.slice(0,ce(t.length-i,0)),(a=t).push.apply(a,n),e=location.origin+t.join('/')}else e=location.origin+t.join('/')+'/'+e}return e}function x(e,t){return e.replace(new RegExp('^'+t+'+','g'),'').replace(new RegExp(t+'+$','g'),'')}function v(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'\t';return t.repeat(e)}function E(e){if(S(e)){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=!0,r=!1,o=void 0;try{for(var d=n[Symbol.iterator](),l;!(a=(l=d.next()).done);a=!0){var s=l.value,u=e.indexOf(s);if(-1!==u)return u}}catch(e){r=!0,o=e}finally{try{!a&&d.return&&d.return()}finally{if(r)throw o}}}return-1}function A(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'/';return e.substring(e.lastIndexOf(t)+1)}function T(e,t){for(var n=arguments.length,i=Array(2<n?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];var r=!0,o=!1,d=void 0;try{for(var l=i[Symbol.iterator](),s;!(r=(s=l.next()).done);r=!0){var u=s.value,p=R(e,t,u);if(!p||p[0]!==p[1])return!1}}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}return!0}function I(e,t){var n=[];if('object'===('undefined'==typeof t?'undefined':fe(t)))for(var a in t){var r=t[a];S(e[r])&&n.push([r,e[r]])}else{var i=function(e){return e===t};if(/^\*.+\*$/.test(t)?i=function(e){return-1!==e.indexOf(t.replace(/\*/g,''))}:/^\*/.test(t)?i=function(e){return e.endsWith(t.replace(/\*/,''))}:/\*$/.test(t)&&(i=function(e){return e.startsWith(t.replace(/\*/,''))}),null!=i)for(var o in e)i(o)&&n.push([o,e[o]])}return n}function R(e,t,n){var i=n.split('.'),a=e,r=t,o=!0,d=!1,l=void 0;try{for(var s=i[Symbol.iterator](),p,h;!(o=(p=s.next()).done);o=!0)if(h=p.value,null!=a[h]&&null!=r[h])a=a[h],r=r[h];else return(null!=a[h]||null!=r[h])&&(null==a[h]?[0,1]:[1,0])}catch(e){d=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(d)throw l}}return isNaN(parseInt(a))&&isNaN(parseInt(r))?[a,r]:[u(a),u(r)]}function w(e,t){return parseFloat(ce(0===e?0:0===t?1:e/(e+t),0).toFixed(2))}function S(e){return'undefined'!=typeof e&&null!==e&&''!==e.toString()}function k(e,t,n,i){null==e[t]&&(e[t]={}),null==e[t][n]&&(e[t][n]=i)}function L(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1;return t>=e-i&&t<=e+i}function O(e,t){return e===t||ge(e)===me(t)}function N(e,t){return e.toString().toLowerCase()>=t.toString().toLowerCase()?1:-1}function C(e){for(var n=arguments.length,i=Array(1<n?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t.apply(void 0,[e,0].concat(i))}function D(e){for(var n=arguments.length,i=Array(1<n?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t.apply(void 0,[e,1].concat(i))}function B(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return e=e.replace(/{[<:@&>]{1}[0-9]+}/g,''),t&&(e=e.replace(/{!.*?}/g,'')),e}function F(e){return e.split('\n').map(function(e){return'>>>>'+e}).join('\n')}function P(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:160,n=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];return e.replace(/("|>)([0-9]+(?:\.[0-9]+)?px)("|<)/g,function(){return(1>=arguments.length?void 0:arguments[1])+h(2>=arguments.length?void 0:arguments[2],t,n)+(3>=arguments.length?void 0:arguments[3])})}function G(e,t,n){return Me.dimensResourceValue?'{%'+e.toLowerCase()+'-'+t+'-'+n+'}':n}function M(e){for(var t=e,n=arguments.length,i=Array(1<n?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];var r=!0,o=!1,d=void 0;try{for(var l=i[Symbol.iterator](),s;!(r=(s=l.next()).done);r=!0){var u=s.value,p=u.split('-'),h=Se(p,2),c=h[0],g=h[1],m=g===void 0?'0':g;t=t[c][m]}}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}return t}function H(e){var t={},n=null,i=!1,a=0,r=e.length;do{if(i){var o=i[0].replace(new RegExp(i[1],'g'),'');for(var d in t)t[d]=t[d].replace(new RegExp(i[0],'g'),'{%'+i[2]+'}');t[i[2]]=o,r-=i[0].length}if(null==i||0===r){if(e=t[a++],!S(e))break;r=e.length,i=null}if(i||(n=/(!([0-9]+)\n?)[\w\W]*\1/g),null!=n)i=n.exec(e);else break}while(!0);return t}function V(e,t,n,a,r){var o=null==n?'':e[n];for(var d in null!=t['#include']&&(a=t['#include'],delete t['#include']),null!=t['#exclude']&&(r=t['#exclude'],delete t['#exclude']),t){var i='';if(!1===t[d]){o=o.replace('{%'+d+'}','');continue}else if(Array.isArray(t[d]))for(var l in t[d])i+=V(e,t[d][l],d,a,r);else i=t[d];S(i)?o=null==n?i.trim():o.replace(new RegExp('{[%@&]*'+d+'}'),i):new RegExp('{%'+d+'}').test(o)||!1===i?o=o.replace('{%'+d+'}',''):new RegExp('{&'+d+'}').test(o)&&(o='');for(var s=/\s+[\w:]+="{#(\w+)=(.*?)}"/g,u=void 0;null!=(u=s.exec(o));)if(a&&a[u[1]]){var p='{#'+u[1]+'='+u[2]+'}';o=null==t[u[2]]?o.replace(p,u[2]):o.replace(p,t[u[2]])}else r&&r[u[1]]&&(o=o.replace(u[0],''))}return o.replace(/\s+[\w:]+="{@\w+}"/g,'')}function z(e){var t=Z(e);return null==t?null:X(t.r,t.g,t.b)}function X(e,t,n){e/=255,t/=255,n/=255;var i=he(e,t,n),a=ce(e,t,n),o=(a+i)/2,u=o,p=o;if(a===i)o=0,u=0;else{var l=a-i;u=.5<p?l/(2-a-i):l/(a+i);a===e?o=(t-n)/l+(t<n?6:0):a===t?o=(n-e)/l+2:a===n?o=(e-t)/l+4:void 0;o/=6}return{h:360*o,s:100*u,l:100*p}}function W(e,t){var n=[e.hsl.h,t.hsl.h],i=n[0],a=n[1];if(i===a){var r=[e.hsl.s,t.hsl.s];if(i=r[0],a=r[1],i===a){var o=[e.hsl.l,t.hsl.l];i=o[0],a=o[1]}}return i>=a?1:-1}function U(e){var t=Ve.slice(),n=t.findIndex(function(t){return t.hex===e});if(-1!==n)return t[n];var i=z(e);return null==i?'':(t.push({name:'',hsl:i,rgb:{r:-1,g:-1,b:-1},hex:''}),t.sort(W),n=t.findIndex(function(e){return''===e.name}),t[he(n+1,t.length-1)])}function Y(e){for(var t in He)if(t.toLowerCase()===e.toLowerCase())return He[t];return''}function q(e){var t=e.rgb;return'rgb('+t.r+', '+t.g+', '+t.b+')'}function K(e){if(null!=e){var t=Y(e);if(''!==t)return[t.hex,q(t),'1'];var n=e.match(/rgb(?:a)?\(([0-9]{1,3}), ([0-9]{1,3}), ([0-9]{1,3})(?:, ([0-9]{1,3}))?\)/);if(n&&4<=n.length&&'0'!==n[4])return['#'+J(n[1])+J(n[2])+J(n[3]),n[0],n[4]||'1']}return[]}function J(e){var t=parseInt(e);return isNaN(t)?'00':(t=ce(0,he(t,255)),'0123456789ABCDEF'.charAt((t-t%16)/16)+'0123456789ABCDEF'.charAt(t%16))}function Z(e){return e=e.replace('#','').trim(),3===e.length&&(e=e.charAt(0).repeat(2)+e.charAt(1).repeat(2)+e.charAt(2).repeat(2)),6===e.length?{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4),16)}:{r:-1,g:-1,b:-1}}function Q(e){var t=document.createRange();t.selectNodeContents(e);var n=t.getClientRects(),i=$(n[n.length-1]);return 1<n.length&&(i.x=he.apply(null,Array.from(n).map(function(e){return e.x})),i.left=i.x,i.width=Array.from(n).reduce(function(e,t){return e+t.width},0)),i}function $(e){return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function ee(e){var t=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1],n=e;if(t){if(null!=n.__style)return n.__style;if(null!=n.__node&&null!=n.__node.style)return n.__node.style}else if('#text'!==e.nodeName){var i=getComputedStyle(e);return n.__style=i,i}return{}}function te(e,t){if(e&&null!=e.parentElement){var n=ee(e);return n&&n[t]===ee(e.parentElement)[t]}return!1}function ne(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n={},i=ee(e),a=e.__node;return['padding','margin'].forEach(function(e){['Top','Left','Right','Bottom'].forEach(function(r){var o=e+r,d=u(null==a?i[o]:a[o]);(t||0!==d)&&(n[o]=d)})}),n}function ie(e){return Array.from(e.childNodes).some(function(e){return'#text'===e.nodeName&&null!=e.textContent&&''!==e.textContent.trim()})}function ae(e){switch(e.tagName){case'BR':case'OPTION':case'AREA':return!1;}if('function'==typeof e.getBoundingClientRect){var t=e.getBoundingClientRect();if(0!==t.width&&0!==t.height)return!0;for(var n=e.parentElement,i=!0,a;null!=n;){if(a=ee(n),'none'===a.display){i=!1;break}n=n.parentElement}if(i&&0<e.children.length)return Array.from(e.children).some(function(e){var t=getComputedStyle(e);return'static'!==t.position||'left'===t.float||'right'===t.float})}return!1}function re(t){return Me.supportRTL&&Me.targetAPI>=e.build.JELLYBEAN_1&&(t=t.replace(/left/g,'start').replace(/right/g,'end'),t=t.replace(/Left/g,'Start').replace(/Right/g,'End')),t}function oe(){return!zt&&!qt.closed}function de(){!zt&&0<qt.size&&qt.finalize()}function le(){!zt&&0<qt.size&&(!qt.closed&&qt.finalize(),qt.resourceHandler.file.saveAllToDisk(qt.viewData))}function se(){!Me.autoCloseOnWrite||zt||qt.closed||qt.finalize()}var ue=Math.abs,pe=Number.MAX_VALUE,he=Math.min,ce=Math.max,ge=Math.ceil,me=Math.floor,fe='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},ye=function(){var e='function'==typeof Symbol&&Symbol.for&&Symbol.for('react.element')||60103;return function(t,n,a,r){var o=t&&t.defaultProps,d=arguments.length-3;if(n||0==d||(n={}),n&&o)for(var l in o)void 0===n[l]&&(n[l]=o[l]);else n||(n=o||{});if(1==d)n.children=r;else if(1<d){for(var s=Array(d),u=0;u<d;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===a?null:''+a,ref:null,props:n,_owner:null}}}(),_e=function(){function e(e){this.value=e}function t(t){function n(a,r){try{var o=t[a](r),d=o.value;d instanceof e?Promise.resolve(d.value).then(function(e){n('next',e)},function(e){n('throw',e)}):i(o.done?'return':'normal',o.value)}catch(e){i('throw',e)}}function i(e,t){'return'===e?a.resolve({value:t,done:!0}):'throw'===e?a.reject(t):a.resolve({value:t,done:!1}),a=a.next,a?n(a.key,a.arg):r=null}var a,r;this._invoke=function(e,t){return new Promise(function(i,o){var d={key:e,arg:t,resolve:i,reject:o,next:null};r?r=r.next=d:(a=r=d,n(e,t))})},'function'!=typeof t.return&&(this.return=void 0)}return'function'==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke('next',e)},t.prototype.throw=function(e){return this._invoke('throw',e)},t.prototype.return=function(e){return this._invoke('return',e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),be=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')},xe=function(){function e(e,t){for(var n=0,a;n<t.length;n++)a=t[n],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),ve=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Ee=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var a in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Ae=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if('value'in a)return a.value;var o=a.get;return void 0===o?void 0:o.call(i)},Te=function(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Ie=function(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e},Re='undefined'==typeof global?self:global,we=function e(t,n,i,a){var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);null!==o&&e(o,n,i,a)}else if('value'in r&&r.writable)r.value=i;else{var d=r.set;void 0!==d&&d.call(a,i)}return i},Se=function(){function e(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var o=e[Symbol.iterator](),d;!(i=(d=o.next()).done)&&(n.push(d.value),!(t&&n.length===t));i=!0);}catch(e){a=!0,r=e}finally{try{!i&&o['return']&&o['return']()}finally{if(a)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),ke=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Le=void 0;n();var Oe=function(){function e(t,n){be(this,e),this.parent=n,this._list=[],Array.isArray(t)&&(this._list=t),this.parent=n}return xe(e,[{key:'find',value:function(e){return this._list.find(function(t){return t.id===e})||null}},{key:'reset',value:function(){e.currentId=0,this.clear()}},{key:'clear',value:function(){this._list=[]}},{key:'sortAsc',value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C.apply(void 0,[this._list].concat(t))}},{key:'sortDesc',value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return D.apply(void 0,[this._list].concat(t))}},{key:'intersect',value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'linear';return e.intersect(this._list,t)}},{key:'length',get:function(){return this._list.length}},{key:'list',get:function(){return this._list}},{key:'visible',get:function(){return this._list.filter(function(e){return e.visible})}},{key:'elements',get:function(){return this._list.filter(function(e){return e.hasElement})}},{key:'first',get:function(){return this._list[0]}},{key:'last',get:function(){return this._list[this._list.length-1]}},{key:'nextId',get:function(){return++e.currentId}},{key:'linearX',get:function(){return e.linearX(this._list)}},{key:'linearY',get:function(){return e.linearY(this._list)}}],[{key:'intersect',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.forEach(function(n){if(e.some(function(e){return e!==n&&n.intersect(e[t])}))return!0}),!1}},{key:'linearX',value:function(t){var n=t.filter(function(e){return!e.isolated});if(0<n.length&&!e.intersect(n)){if(1<n.length){var i=he.apply(null,n.map(function(e){return e.linear.bottom}));return!n.some(function(e){return e.linear.top>=i})}return!0}return!1}},{key:'linearY',value:function(t){var n=t.filter(function(e){return!e.isolated});if(0<n.length&&!e.intersect(n)){if(1<n.length){var i=he.apply(null,n.map(function(e){return e.linear.right}));return!n.some(function(e){return e.linear.left>=i})}return!0}return!1}}]),e}();Oe.currentId=0,function(e){e[e.P=28]='P',e[e.OREO_1=27]='OREO_1',e[e.OREO=26]='OREO',e[e.NOUGAT_1=25]='NOUGAT_1',e[e.NOUGAT=24]='NOUGAT',e[e.MARSHMALLOW=23]='MARSHMALLOW',e[e.LOLLIPOP_1=22]='LOLLIPOP_1',e[e.LOLLIPOP=21]='LOLLIPOP',e[e.KITKAT_1=20]='KITKAT_1',e[e.KITKAT=19]='KITKAT',e[e.JELLYBEAN_2=18]='JELLYBEAN_2',e[e.JELLYBEAN_1=17]='JELLYBEAN_1',e[e.JELLYBEAN=16]='JELLYBEAN',e[e.ICE_CREAM_SANDWICH_1=15]='ICE_CREAM_SANDWICH_1',e[e.ICE_CREAM_SANDWICH=14]='ICE_CREAM_SANDWICH',e[e.ALL=0]='ALL',e[e.LATEST=28]='LATEST'}(e.build||(e.build={})),function(e){e[e.LDPI=120]='LDPI',e[e.MDPI=160]='MDPI',e[e.HDPI=240]='HDPI',e[e.XHDPI=320]='XHDPI',e[e.XXHDPI=480]='XXHDPI',e[e.XXXHDPI=640]='XXXHDPI'}(e.density||(e.density={}));var Ne={FRAME:'FrameLayout',LINEAR:'LinearLayout',CONSTRAINT:'android.support.constraint.ConstraintLayout',GUIDELINE:'android.support.constraint.Guideline',RELATIVE:'RelativeLayout',GRID:'GridLayout',SCROLL_VERTICAL:'ScrollView',SCROLL_HORIZONTAL:'HorizontalScrollView',SCROLL_NESTED:'NestedScrollView',RADIO_GROUP:'RadioGroup',TEXT:'TextView',EDIT:'EditText',IMAGE:'ImageView',SELECT:'Spinner',RANGE:'SeekBar',CHECKBOX:'CheckBox',RADIO:'RadioButton',BUTTON:'Button',VIEW:'View',SPACE:'Space'},Ce={MARGIN:'layout_margin',MARGIN_VERTICAL:'layout_marginVertical',MARGIN_HORIZONTAL:'layout_marginHorizontal',MARGIN_TOP:'layout_marginTop',MARGIN_RIGHT:'layout_marginRight',MARGIN_BOTTOM:'layout_marginBottom',MARGIN_LEFT:'layout_marginLeft',PADDING:'padding',PADDING_VERTICAL:'paddingVertical',PADDING_HORIZONTAL:'paddingHorizontal',PADDING_TOP:'paddingTop',PADDING_RIGHT:'paddingRight',PADDING_BOTTOM:'paddingBottom',PADDING_LEFT:'paddingLeft'},De=[Ne.EDIT,Ne.SELECT,Ne.CHECKBOX,Ne.RADIO,Ne.BUTTON,Ne.IMAGE],Be={android:'xmlns:android="http://schemas.android.com/apk/res/android"',app:'xmlns:app="http://schemas.android.com/apk/res-auto"'},Fe={"sans-serif":e.build.ICE_CREAM_SANDWICH,"sans-serif-thin":e.build.JELLYBEAN,"sans-serif-light":e.build.JELLYBEAN,"sans-serif-condensed":e.build.JELLYBEAN,"sans-serif-condensed-light":e.build.JELLYBEAN,"sans-serif-medium":e.build.LOLLIPOP,"sans-serif-black":e.build.LOLLIPOP,"sans-serif-smallcaps":e.build.LOLLIPOP,"serif-monospace":e.build.LOLLIPOP,serif:e.build.LOLLIPOP,casual:e.build.LOLLIPOP,cursive:e.build.LOLLIPOP,monospace:e.build.LOLLIPOP,"sans-serif-condensed-medium":e.build.OREO},Pe={arial:'sans-serif',helvetica:'sans-serif',tahoma:'sans-serif',verdana:'sans-serif',times:'serif',"times new roman":'serif',palatino:'serif',georgia:'serif',baskerville:'serif',goudy:'serif',fantasy:'serif',"itc stone serif":'serif',"sans-serif-monospace":'monospace',monaco:'monospace',courier:'serif-monospace',"courier new":'serif-monospace'},Ge={100:'thin',200:'extra_light',300:'light',400:'normal',500:'medium',600:'semi_bold',700:'bold',800:'extra_bold',900:'black'},Me={builtInExtensions:['androme.external','androme.list','androme.table','androme.grid','androme.widget'],targetAPI:e.build.OREO,density:e.density.MDPI,useConstraintLayout:!0,useConstraintGuideline:!0,useUnitDP:!0,useFontAlias:!0,supportRTL:!0,dimensResourceValue:!0,numberResourceValue:!1,alwaysReevaluateResources:!1,excludeTextColor:['#000000'],excludeBackgroundColor:['#FFFFFF'],horizontalPerspective:!0,whitespaceHorizontalOffset:4,whitespaceVerticalOffset:14,chainPackedHorizontalOffset:4,chainPackedVerticalOffset:14,showAttributes:!0,autoCloseOnWrite:!0,outputDirectory:'app/src/main',outputActivityMainFileName:'activity_main.xml',outputArchiveFileType:'zip',outputMaxProcessingTime:30},He={Pink:{hex:'#FFC0CB'},LightPink:{hex:'#FFB6C1'},HotPink:{hex:'#FF69B4'},DeepPink:{hex:'#FF1493'},PaleVioletRed:{hex:'#DB7093'},MediumVioletRed:{hex:'#C71585'},LightSalmon:{hex:'#FFA07A'},Salmon:{hex:'#FA8072'},DarkSalmon:{hex:'#E9967A'},LightCoral:{hex:'#F08080'},IndianRed:{hex:'#CD5C5C'},Crimson:{hex:'#DC143C'},Firebrick:{hex:'#B22222'},DarkRed:{hex:'#8B0000'},Red:{hex:'#FF0000'},OrangeRed:{hex:'#FF4500'},Tomato:{hex:'#FF6347'},Coral:{hex:'#FF7F50'},Orange:{hex:'#FFA500'},DarkOrange:{hex:'#FF8C00'},Yellow:{hex:'#FFFF00'},LightYellow:{hex:'#FFFFE0'},LemonChiffon:{hex:'#FFFACD'},LightGoldenrodYellow:{hex:'#FAFAD2'},PapayaWhip:{hex:'#FFEFD5'},Moccasin:{hex:'#FFE4B5'},PeachPuff:{hex:'#FFDAB9'},PaleGoldenrod:{hex:'#EEE8AA'},Khaki:{hex:'#F0E68C'},DarkKhaki:{hex:'#BDB76B'},Gold:{hex:'#FFD700'},Cornsilk:{hex:'#FFF8DC'},BlanchedAlmond:{hex:'#FFEBCD'},Bisque:{hex:'#FFE4C4'},NavajoWhite:{hex:'#FFDEAD'},Wheat:{hex:'#F5DEB3'},Burlywood:{hex:'#DEB887'},Tan:{hex:'#D2B48C'},RosyBrown:{hex:'#BC8F8F'},SandyBrown:{hex:'#F4A460'},Goldenrod:{hex:'#DAA520'},DarkGoldenrod:{hex:'#B8860B'},Peru:{hex:'#CD853F'},Chocolate:{hex:'#D2691E'},SaddleBrown:{hex:'#8B4513'},Sienna:{hex:'#A0522D'},Brown:{hex:'#A52A2A'},Maroon:{hex:'#800000'},DarkOliveGreen:{hex:'#556B2F'},Olive:{hex:'#808000'},OliveDrab:{hex:'#6B8E23'},YellowGreen:{hex:'#9ACD32'},LimeGreen:{hex:'#32CD32'},Lime:{hex:'#00FF00'},LawnGreen:{hex:'#7CFC00'},Chartreuse:{hex:'#7FFF00'},GreenYellow:{hex:'#ADFF2F'},SpringGreen:{hex:'#00FF7F'},MediumSpringGreen:{hex:'#00FA9A'},LightGreen:{hex:'#90EE90'},PaleGreen:{hex:'#98FB98'},DarkSeaGreen:{hex:'#8FBC8F'},MediumAquamarine:{hex:'#66CDAA'},MediumSeaGreen:{hex:'#3CB371'},SeaGreen:{hex:'#2E8B57'},ForestGreen:{hex:'#228B22'},Green:{hex:'#008000'},DarkGreen:{hex:'#006400'},Aqua:{hex:'#00FFFF'},Cyan:{hex:'#00FFFF'},LightCyan:{hex:'#E0FFFF'},PaleTurquoise:{hex:'#AFEEEE'},Aquamarine:{hex:'#7FFFD4'},Turquoise:{hex:'#40E0D0'},DarkTurquoise:{hex:'#00CED1'},MediumTurquoise:{hex:'#48D1CC'},LightSeaGreen:{hex:'#20B2AA'},CadetBlue:{hex:'#5F9EA0'},DarkCyan:{hex:'#008B8B'},Teal:{hex:'#008080'},LightSteelBlue:{hex:'#B0C4DE'},PowderBlue:{hex:'#B0E0E6'},LightBlue:{hex:'#ADD8E6'},SkyBlue:{hex:'#87CEEB'},LightSkyBlue:{hex:'#87CEFA'},DeepSkyBlue:{hex:'#00BFFF'},DodgerBlue:{hex:'#1E90FF'},Cornflower:{hex:'#6495ED'},SteelBlue:{hex:'#4682B4'},RoyalBlue:{hex:'#4169E1'},Blue:{hex:'#0000FF'},MediumBlue:{hex:'#0000CD'},DarkBlue:{hex:'#00008B'},Navy:{hex:'#000080'},MidnightBlue:{hex:'#191970'},Lavender:{hex:'#E6E6FA'},Thistle:{hex:'#D8BFD8'},Plum:{hex:'#DDA0DD'},Violet:{hex:'#EE82EE'},Orchid:{hex:'#DA70D6'},Fuchsia:{hex:'#FF00FF'},Magenta:{hex:'#FF00FF'},MediumOrchid:{hex:'#BA55D3'},MediumPurple:{hex:'#9370DB'},BlueViolet:{hex:'#8A2BE2'},DarkViolet:{hex:'#9400D3'},DarkOrchid:{hex:'#9932CC'},DarkMagenta:{hex:'#8B008B'},Purple:{hex:'#800080'},RebeccaPurple:{hex:'#663399'},Indigo:{hex:'#4B0082'},DarkSlateBlue:{hex:'#483D8B'},SlateBlue:{hex:'#6A5ACD'},MediumSlateBlue:{hex:'#7B68EE'},White:{hex:'#FFFFFF'},Snow:{hex:'#FFFAFA'},Honeydew:{hex:'#F0FFF0'},MintCream:{hex:'#F5FFFA'},Azure:{hex:'#F0FFFF'},AliceBlue:{hex:'#F0F8FF'},GhostWhite:{hex:'#F8F8FF'},WhiteSmoke:{hex:'#F5F5F5'},Seashell:{hex:'#FFF5EE'},Beige:{hex:'#F5F5DC'},OldLace:{hex:'#FDF5E6'},FloralWhite:{hex:'#FFFAF0'},Ivory:{hex:'#FFFFF0'},AntiqueWhite:{hex:'#FAEBD7'},Linen:{hex:'#FAF0E6'},LavenderBlush:{hex:'#FFF0F5'},MistyRose:{hex:'#FFE4E1'},Gainsboro:{hex:'#DCDCDC'},LightGray:{hex:'#D3D3D3'},Silver:{hex:'#C0C0C0'},DarkGray:{hex:'#A9A9A9'},Gray:{hex:'#808080'},DimGray:{hex:'#696969'},LightSlateGray:{hex:'#778899'},SlateGray:{hex:'#708090'},DarkSlateGray:{hex:'#2F4F4F'},Black:{hex:'#000000'}},Ve=[];for(var ze in He){var i=He[ze];for(var Xe in i)i.rgb=Z(i[Xe]),i.hsl=X(i.rgb.r,i.rgb.g,i.rgb.b),Ve.push({name:ze,rgb:i.rgb,hex:i.hex,hsl:i.hsl})}Ve.sort(W);var j;(function(e){e[e.FRAME=1]='FRAME',e[e.LINEAR=2]='LINEAR',e[e.CONSTRAINT=3]='CONSTRAINT',e[e.GUIDELINE=4]='GUIDELINE',e[e.RELATIVE=5]='RELATIVE',e[e.GRID=6]='GRID',e[e.SCROLL_VERTICAL=7]='SCROLL_VERTICAL',e[e.SCROLL_HORIZONTAL=8]='SCROLL_HORIZONTAL',e[e.SCROLL_NESTED=9]='SCROLL_NESTED',e[e.RADIO_GROUP=10]='RADIO_GROUP',e[e.TEXT=11]='TEXT',e[e.EDIT=12]='EDIT',e[e.IMAGE=13]='IMAGE',e[e.SELECT=14]='SELECT',e[e.RANGE=15]='RANGE',e[e.CHECKBOX=16]='CHECKBOX',e[e.RADIO=17]='RADIO',e[e.BUTTON=18]='BUTTON',e[e.VIEW=19]='VIEW',e[e.SPACE=20]='SPACE'})(j||(j={}));var We;(function(e){e[e.BOX_STYLE=2]='BOX_STYLE',e[e.BOX_SPACING=4]='BOX_SPACING',e[e.FONT_STYLE=8]='FONT_STYLE',e[e.VALUE_STRING=16]='VALUE_STRING',e[e.OPTION_ARRAY=32]='OPTION_ARRAY',e[e.IMAGE_SOURCE=64]='IMAGE_SOURCE',e[e.ALL=126]='ALL'})(We||(We={}));var Ue;(function(e){e[e.MARGIN_TOP=2]='MARGIN_TOP',e[e.MARGIN_RIGHT=4]='MARGIN_RIGHT',e[e.MARGIN_BOTTOM=8]='MARGIN_BOTTOM',e[e.MARGIN_LEFT=16]='MARGIN_LEFT',e[e.PADDING_TOP=32]='PADDING_TOP',e[e.PADDING_RIGHT=64]='PADDING_RIGHT',e[e.PADDING_BOTTOM=128]='PADDING_BOTTOM',e[e.PADDING_LEFT=256]='PADDING_LEFT',e[e.MARGIN=30]='MARGIN',e[e.MARGIN_VERTICAL=10]='MARGIN_VERTICAL',e[e.MARGIN_HORIZONTAL=20]='MARGIN_HORIZONTAL',e[e.PADDING=480]='PADDING',e[e.PADDING_VERTICAL=160]='PADDING_VERTICAL',e[e.PADDING_HORIZONTAL=320]='PADDING_HORIZONTAL'})(Ue||(Ue={}));var je={PLAINTEXT:j.TEXT,HR:j.VIEW,IMG:j.IMAGE,SELECT:j.SELECT,RANGE:j.RANGE,TEXT:j.EDIT,PASSWORD:j.EDIT,NUMBER:j.EDIT,EMAIL:j.EDIT,SEARCH:j.EDIT,URL:j.EDIT,CHECKBOX:j.CHECKBOX,RADIO:j.RADIO,BUTTON:j.BUTTON,SUBMIT:j.BUTTON,RESET:j.BUTTON,TEXTAREA:j.EDIT},Ye=['ADDRESS','ARTICLE','ASIDE','BLOCKQUOTE','CANVAS','DD','DIV','DL','DT','FIELDSET','FIGCAPTION','FIGURE','FOOTER','FORM','H1','H2','H3','H4','H5','H6','HEADER','LI','MAIN','NAV','OL','OUTPUT','P','PRE','SECTION','TABLE','TFOOT','UL','VIDEO'],qe=['STRONG','B','EM','CITE','DFN','I','BIG','SMALL','FONT','BLOCKQUOTE','TT','A','U','SUP','SUB','STRIKE','H1','H2','H3','H4','H5','H6','DEL','LABEL','PLAINTEXT'],Ke=function(){function e(t,n){be(this,e),this.TypeT=t,this.TypeU=n,this.elements=new Set,this.insert={},this.views=[],this.includes=[],this.currentIndex=-1,this._extensions=[],this._closed=!1,this.cache=new this.TypeU,this.cacheInternal=new this.TypeU}return xe(e,[{key:'registerController',value:function(e){e.cache=this.cache,this.controllerHandler=e}},{key:'registerResource',value:function(e){e.cache=this.cache,this.resourceHandler=e}},{key:'registerExtension',value:function(e){var t=this,n=this.findExtension(e.name);null==n?e.dependencies.every(function(e){return null!=t.findExtension(e.name)})&&(e.application=this,this._extensions.push(e)):(n.tagNames=e.tagNames,Object.assign(n.options,e.options))}},{key:'finalize',value:function(){var e=this;this.controllerHandler.setDimensions(this.viewData),this.setAuxillaryViews(),this.resourceHandler.finalize(this.viewData),Me.showAttributes&&this.setAttributes(),this.layouts.forEach(function(t){t.content=B(t.content),Me.dimensResourceValue&&(t.content=e.controllerHandler.parseDimensions(t.content)),Me.useUnitDP&&(t.content=P(t.content,Me.density))}),this._closed=!0}},{key:'reset',value:function(){n(),this.cacheInternal.list.forEach(function(e){var t=e.element;delete t.__boxSpacing,delete t.__boxStyle,delete t.__fontStyle,delete t.__imageSource,delete t.__optionArray,delete t.__valueString}),this.cache.reset(),this.cacheInternal.reset(),this.resetController(),this.resetResource(),this.appName='',this.views=[],this.includes=[],this.insert={},this.currentIndex=-1,this._closed=!1}},{key:'resetController',value:function(){this.controllerHandler.reset()}},{key:'resetResource',value:function(){this.resourceHandler.reset()}},{key:'setConstraints',value:function(){this.controllerHandler.setConstraints()}},{key:'setMarginPadding',value:function(){this.controllerHandler.setMarginPadding()}},{key:'setResources',value:function(){this.resourceHandler.setFontStyle(),this.resourceHandler.setBoxSpacing(),this.resourceHandler.setBoxStyle(),this.resourceHandler.setValueString(),this.resourceHandler.setOptionArray(),this.resourceHandler.setImageSource()}},{key:'setStyleMap',value:function(){for(var e=this,t=!1,n=0,a;n<document.styleSheets.length;n++){a=document.styleSheets[n];try{for(var r=function(t){var n=a.cssRules[t],i=new Set,r=!0,o=!1,l=void 0;try{for(var s=Array.from(n.style)[Symbol.iterator](),u,p;!(r=(u=s.next()).done);r=!0)p=u.value,i.add(d(p))}catch(e){o=!0,l=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw l}}var h=document.querySelectorAll(n.selectorText);''!==e.appName&&Array.from(h).forEach(function(e){var t=e;delete t.__style,delete t.__styleMap}),Array.from(h).forEach(function(e){var t=!0,a=!1,r=void 0;try{for(var o=Array.from(e.style)[Symbol.iterator](),l,s;!(t=(l=o.next()).done);t=!0)s=l.value,i.add(d(s))}catch(e){a=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw r}}var u=getComputedStyle(e),p={},h=!0,c=!1,g=void 0;try{for(var m=i[Symbol.iterator](),f,y;!(h=(f=m.next()).done);h=!0){if(y=f.value,-1!==y.toLowerCase().indexOf('color')){var _=Y(n.style[y]);''!==_&&(n.style[y]=q(_))}S(e.style[y])?p[y]=e.style[y]:u[y]===n.style[y]&&(p[y]=u[y])}}catch(e){c=!0,g=e}finally{try{!h&&m.return&&m.return()}finally{if(c)throw g}}var b=e;null==b.__styleMap?(b.__style=u,b.__styleMap=p):Object.assign(b.__styleMap,p)})},o=0;o<a.cssRules.length;o++)r(o)}catch(e){t||(alert('External CSS files cannot be parsed when loading this program from your hard drive with Chrome 64+ (file://). Either use a local web server (http://), embed your CSS files into a <style> tag, or use a different browser. See the README for further instructions.\n\n'+(a.href+'\n\n'+e)),t=!0)}}}},{key:'createNodeCache',value:function(e){var t=this,n=0;e===document.body&&Array.from(document.body.childNodes).forEach(function(e){'#text'===e.nodeName?e.textContent&&''!==e.textContent.trim()&&n++:ae(e)&&n++});var i=e===document.body?document.querySelectorAll(1<n?'body, body *':'body *'):e.querySelectorAll('*');this.cache.parent=void 0,this.cache.clear();var a=this.extensions;if(a.forEach(function(t){t.parent=null,t.node={},t.element=e,t.beforeInit()}),null!=e){var r=this.insertNode(e);null!=r&&(r.parent=new this.TypeT(0,0),this.cache.parent=r)}a.forEach(function(e){return e.node=t.cache.parent});var o=function(n){if(!t.elements.has(n)){var i=!1;if(a.some(function(e){return!!e.init(n)&&(i=!0,!0)}),!i){if(qe.includes(n.tagName)&&n.parentElement&&(null!=je[n.parentElement.tagName]||qe.includes(n.parentElement.tagName)))return'continue';for(var r=!0,o=n.parentElement;null!=o&&o!==e;){if(o!==e&&t.elements.has(o)){r=!1;break}o=o.parentElement}r&&t.insertNode(n)}}},d=!0,l=!1,s=void 0;try{for(var u=Array.from(i)[Symbol.iterator](),p;!(d=(p=u.next()).done);d=!0){var h=p.value,c=o(h)}}catch(e){l=!0,s=e}finally{try{!d&&u.return&&u.return()}finally{if(l)throw s}}if(0<this.cache.list.length){var g={};this.cache.list.forEach(function(e){var t=e.element;g[e.id]={};var n=g[e.id];switch(e.styleMap.textAlign){case'center':case'right':case'end':n.textAlign=e.style.textAlign,t.style.textAlign='';}n.verticalAlign=e.styleMap.verticalAlign||'',t.style.verticalAlign='top',0!==e.overflow&&(S(e.styleMap.width)&&(n.width=e.styleMap.width,t.style.width=''),S(e.styleMap.height)&&(n.height=e.styleMap.height,t.style.height=''),n.overflow=e.style.overflow,t.style.overflow='visible'),e.setBounds()});var m={};return this.cache.list.forEach(function(e){t.cache.list.forEach(function(t){e!==t&&(t.element&&t.element.parentElement===e.element&&(t.parent=e,e.children.push(t)),t.fixed&&t.box.left>=e.linear.left&&t.box.right<=e.linear.right&&t.box.top>=e.linear.top&&t.box.bottom<=e.linear.bottom&&(null==m[t.id]&&(m[t.id]=[]),m[t.id].push(e)))})}),this.cache.list.forEach(function(e){var n=m[e.id];if(null!=n){n.push(e.parent);var i=pe,a=null;n.forEach(function(t){var n=t.box.left-e.linear.left+(t.box.right-e.linear.right)+(t.box.top-e.linear.top)+(t.box.bottom-e.linear.bottom);n<i?(a=t,i=n):n==i&&t.element===e.parent.element&&(a=t)}),null!=a&&(e.parent=a)}e.element&&0<e.element.children.length&&!e.children.every(function(e){return qe.includes(e.tagName)})&&Array.from(e.element.childNodes).forEach(function(n){'#text'===n.nodeName&&n.textContent&&''!==n.textContent.trim()&&t.insertNode(n,e)})}),this.cache.list.forEach(function(e){if(e.hasElement){var t=g[e.id];if(null!=t)for(var n in t)e.element.style[n]=t[n]}}),a.forEach(function(n){n.parent=null,n.node=t.cache.parent,n.element=e,n.afterInit()}),this.cache.sortAsc('depth','parent.id','parentIndex','id'),this.cache.list.forEach(function(e){if(e.hasElement){var t=0;Array.from(e.element.childNodes).forEach(function(n){null!=n.__node&&n.__node.parent.element===e.element&&(n.__node.parentIndex=t++)}),C(e.children,'parentIndex')}}),this.addLayout(e.dataset.currentId),!0}return!1}},{key:'createLayoutXml',value:function(){var e=this,t='<?xml version="1.0" encoding="utf-8"?>\n{:0}',n=!0,a=[],r=[],o=this.extensions,d;this.cache.list.forEach(function(t){var n=me(t.bounds.x),i=t.parent.id;null==a[t.depth]&&(a[t.depth]={}),null==r[t.depth]&&(r[t.depth]={}),null==a[t.depth][n]&&(a[t.depth][n]=new e.TypeU),null==r[t.depth][i]&&(r[t.depth][i]=new e.TypeU),a[t.depth][n].list.push(t),r[t.depth][i].list.push(t)});for(var l=0;l<r.length;l++){for(var s=Object.keys(r[l]),u=new Map,p=function(t){var n=[],i=[],d=!0,p=!1,h=void 0;try{for(var c=r[l][s[t]].list[Symbol.iterator](),g,m;!(d=(g=c.next()).done);d=!0)switch(m=g.value,m.css('position')){case'absolute':case'relative':case'fixed':i.push(m);break;default:n.push(m);}}catch(e){p=!0,h=e}finally{try{!d&&c.return&&c.return()}finally{if(p)throw h}}n.sort(function(e,t){return e.linear.left===t.linear.left||e.parent.flex.enabled||t.parent.flex.enabled||!e.withinX(t.linear)?e.parentIndex>t.parentIndex?1:-1:e.linear.left>t.linear.left?1:-1}),n.push.apply(n,ke(C(i,'style.zIndex','parentIndex')));for(var f=function(t){var i=n[t],d=i.parent;if(!i.renderParent){var l='',s='',p=!1,h=!1,c=d.renderExtension;if(null!=c){c.node=i,c.parent=d,c.element=i.element;var g=c.processChild(),m=Se(g,3);if(s=m[0],p=m[1],h=m[2],''!==s&&(l+=s,p&&t--),h)return'continue'}if(o.some(function(e){if(null==i.renderExtension&&e.is(i)&&(e.parent=d,e.node=i,e.element=i.element,e.condition())){var o=e.processNode(a,r),u=Se(o,3);return s=u[0],p=u[1],h=u[2],''!==s&&(l+=s,p&&i===n[t]&&t--),i.renderExtension=e,!0}return!1}),h)return'continue';if(''===l){var f=i.viewName;if(''===f)if(0<i.children.length&&i.cascade().some(function(e){return null!=je[e.tagName]||!qe.includes(e.tagName)})){var _=[Oe.linearX(i.children),Oe.linearY(i.children)],b=_[0],x=_[1];if(!i.renderParent)if(1===i.children.length&&b&&x){if(0===i.viewWidth&&0===i.viewHeight&&0===i.marginTop&&0===i.marginRight&&0===i.marginBottom&&0===i.marginLeft&&0===i.paddingTop&&0===i.paddingRight&&0===i.paddingBottom&&0===i.paddingLeft&&0===K(i.css('background')).length&&!e.controllerHandler.hasAppendProcessing(i.id))return i.children[0].parent=d,i.cascade().forEach(function(e){return e.renderDepth--}),i.hide(),'continue';l+=e.writeFrameLayout(i,d)}else l+=(b||x)&&(!i.flex.enabled||b&&i.children.every(function(e){return e.flex.enabled}))&&!i.children.some(function(e){return e.floating&&'none'!==e.css('clear')})&&(i.children.every(function(e){return'right'!==e.css('float')})||i.children.every(function(e){return'right'===e.css('float')}))?e.writeLinearLayout(i,d,x):e.writeDefaultLayout(i,d)}else{if(0===i.children.length&&i.element&&!ie(i.element))return'continue';f=e.controllerHandler.getViewName(j.TEXT)}i.renderParent||(l+=e.writeView(i,d,f))}''!==l&&(!u.has(d.id)&&u.set(d.id,[]),u.get(d.id).push(l))}y=t},y=0,_;y<n.length;y++)_=f(y),'continue'===_},h=0;h<s.length;h++)p(h);var c=!0,g=!1,m=void 0;try{for(var f=u.entries()[Symbol.iterator](),y;!(c=(y=f.next()).done);c=!0){var _=y.value,b=Se(_,2),v=b[0],E=b[1],A='{:'+v+'}';-1===t.indexOf(A)?this.insert[v]=E.join(''):(t=t.replace(A,E.join('')),n=!1)}}catch(e){g=!0,m=e}finally{try{!c&&f.return&&f.return()}finally{if(g)throw m}}}var T='',I=this.cache.parent,R=I.renderExtension;null==R||null==I.options(R.name+':insert')?(null!=I.element.dataset&&(T=x((I.element.dataset.pathname||'').trim(),'/')),this.setLayout(T,n?'':t,null!=I.renderExtension&&I.renderExtension.activityMain)):this.views.pop(),n?I.visible=!1:o.forEach(function(e){e.parent=null,e.node=I,e.element=null,e.afterRender()}),(d=this.cacheInternal.list).push.apply(d,ke(this.cache.list))}},{key:'writeFrameLayout',value:function(e,t){return this.controllerHandler.renderGroup(e,t,j.FRAME)}},{key:'writeLinearLayout',value:function(e,t,n){return this.controllerHandler.renderGroup(e,t,j.LINEAR,{android:{orientation:n?'vertical':'horizontal'}})}},{key:'writeGridLayout',value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return this.controllerHandler.renderGroup(e,t,j.GRID,{android:{columnCount:n.toString(),rowCount:0<i?i.toString():''}})}},{key:'writeRelativeLayout',value:function(e,t){return this.controllerHandler.renderGroup(e,t,j.RELATIVE)}},{key:'writeConstraintLayout',value:function(e,t){return this.controllerHandler.renderGroup(e,t,j.CONSTRAINT)}},{key:'writeView',value:function(e,t,n){return this.controllerHandler.renderView(e,t,n)}},{key:'writeDefaultLayout',value:function(e,t){return Me.useConstraintLayout||e.flex.enabled?this.writeConstraintLayout(e,t):this.writeRelativeLayout(e,t)}},{key:'setAttributes',value:function(){this.controllerHandler.setAttributes(this.viewData)}},{key:'setAuxillaryViews',value:function(){var e=this,t=Object.keys(this.insert);t.push.apply(t,ke(t.slice().reverse())),[].concat(ke(this.views),ke(this.includes)).forEach(function(n){t.forEach(function(t){return n.content=n.content.replace('{:'+t+'}',e.insert[parseInt(t)])}),n.content=e.controllerHandler.insertAuxillaryViews(n.content)}),this.cacheInternal.list.forEach(function(t){if(!t.visible&&null!=t.renderExtension){var n=t.renderExtension.name+':insert',i=t.options(n);if(i){i=e.controllerHandler.insertAuxillaryViews(i);var a=e.insert[t.id];null!=a&&(i=i.replace('{:'+t.id+'}',a)),i=e.controllerHandler.insertAttributes(i,t),i=F(i.trim()),t.children.forEach(function(t){return i=e.controllerHandler.insertAttributes(i,t)}),t.options(n,i)}}e.extensions.forEach(function(e){e.parent=null,e.node=t,e.element=t.element,e.condition()&&e.finalize()})})}},{key:'addLayout',value:function(e){this.currentIndex=this.views.length,this.views.push({filename:e,pathname:'',content:''})}},{key:'setLayout',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=arguments[1],n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];if(e=e||'res/layout',n&&0<this.views.length&&''===this.views[0].content){var i=this.views[0],a=this.views.pop();i.pathname=e,i.filename=a.filename,i.content=t,this.currentIndex=0}else{var r=this.current;r.pathname=e,r.content=t}}},{key:'addInclude',value:function(e,t){this.includes.push({pathname:'res/layout',filename:e,content:t})}},{key:'findExtension',value:function(e){return this._extensions.find(function(t){return t.name===e})}},{key:'findByDomId',value:function(e){return this.cacheInternal.list.find(function(t){return t.element.id===e})}},{key:'toString',value:function(){return 0<this.views.length?this.views[0].content:''}},{key:'insertNode',value:function(e,t){var n=null;return'#text'===e.nodeName?e.textContent&&''!==e.textContent.trim()&&(n=new this.TypeT(this.cache.nextId,Me.targetAPI,e,{parent:t,tagName:'PLAINTEXT'}),n.setBounds(!1,e),null!=t&&(n.inheritStyle(t),t.children.push(n))):ae(e)&&(n=new this.TypeT(this.cache.nextId,Me.targetAPI,e),e.__nodeIsolated&&(n.isolated=!0)),null!=n&&this.cache.list.push(n),n}},{key:'appName',set:function(e){null!=this.resourceHandler&&(this.resourceHandler.file.appName=e)},get:function(){return null==this.resourceHandler?'':this.resourceHandler.file.appName}},{key:'current',set:function(e){this.views[this.currentIndex]=e},get:function(){return this.views[this.currentIndex]}},{key:'layouts',get:function(){return[].concat(ke(this.views),ke(this.includes))}},{key:'closed',get:function(){return this._closed}},{key:'extensions',get:function(){return this._extensions.filter(function(e){return e.enabled})}},{key:'viewData',get:function(){return{cache:this.cacheInternal.list,views:this.views,includes:this.includes}}},{key:'size',get:function(){return this.views.length+this.includes.length}}]),e}(),Je=function(){function e(){be(this,e),this.before={},this.after={}}return xe(e,[{key:'reset',value:function(){this.before={},this.after={}}},{key:'insertAuxillaryViews',value:function(e){for(var t in this.before)e=e.replace('{<'+t+'}',this.before[t].join(''));for(var n in this.after)e=e.replace('{>'+n+'}',this.after[n].join(''));return e}},{key:'prependBefore',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1;null==this.before[e]&&(this.before[e]=[]),-1!==n&&n<this.before[e].length?this.before[e].splice(n,0,t):this.before[e].push(t)}},{key:'appendAfter',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1;null==this.after[e]&&(this.after[e]=[]),-1!==n&&n<this.after[e].length?this.after[e].splice(n,0,t):this.after[e].push(t)}},{key:'hasAppendProcessing',value:function(e){return null!=this.before[e]||null!=this.after[e]}},{key:'getEnclosingTag',value:function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:'',r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:'',o=v(ce(0,e)),d=a+('{<'+n+'}');return d+=S(i)?o+('<'+t+(0===e?'{#0}':'')+'{@'+n+'}{&'+n+'}>\n')+i+o+('</'+t+'>\n'):o+('<'+t+(0===e?'{#0}':'')+'{@'+n+'}{&'+n+'} />\n'),d+='{>'+n+'}'+r,d}}]),e}(),Ze=function(){function e(t){be(this,e),this.file=t}return xe(e,[{key:'addFile',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'';this.file.addFile(e,t,n,i)}},{key:'reset',value:function(){e.STORED.STRINGS=new Map,e.STORED.COLORS=new Map,e.STORED.IMAGES=new Map,this.file.reset()}},{key:'setBoxSpacing',value:function(){this.cache.elements.forEach(function(e){if((e.ignoreResource&We.BOX_SPACING)!==We.BOX_SPACING){var t=e.element,n=t;if(!S(n.__boxSpacing)||Me.alwaysReevaluateResources){var a=ne(t);for(var r in a)a[r]+='px';n.__boxSpacing=a}}})}},{key:'setBoxStyle',value:function(){var t=this;this.cache.elements.forEach(function(n){if((n.ignoreResource&We.BOX_STYLE)!==We.BOX_STYLE){var a=n.element,r=a;if(!S(r.__boxStyle)||Me.alwaysReevaluateResources){var o={borderTop:t.parseBorderStyle,borderRight:t.parseBorderStyle,borderBottom:t.parseBorderStyle,borderLeft:t.parseBorderStyle,borderRadius:t.parseBorderRadius,backgroundColor:K,backgroundImage:t.parseBackgroundImage,backgroundSize:t.parseBoxDimensions};for(var d in o)o[d]=o[d](n.css(d),n,d);0<o.backgroundColor.length&&(Me.excludeBackgroundColor.includes(o.backgroundColor[0])&&o.backgroundColor[1]!==n.styleMap.backgroundColor||null==n.styleMap.backgroundColor&&te(a,'backgroundColor')?o.backgroundColor=[]:o.backgroundColor[0]=e.addColor(o.backgroundColor[0]));var i=JSON.stringify(o.borderTop);i===JSON.stringify(o.borderRight)&&i===JSON.stringify(o.borderBottom)&&i===JSON.stringify(o.borderLeft)&&(o.border=o.borderTop),r.__boxStyle=o}}})}},{key:'setFontStyle',value:function(){this.cache.list.forEach(function(t){if((t.visible||t.companion)&&(t.ignoreResource&We.FONT_STYLE)!==We.FONT_STYLE){var n=t.element,i=n;if(!S(i.__fontStyle)||Me.alwaysReevaluateResources){if(0<t.renderChildren.length||'IMG'===t.tagName||'HR'===t.tagName)return;var a=K(t.css('color'));0<a.length&&(Me.excludeTextColor.includes(a[0])&&a[1]!==t.styleMap.color?a=[]:a[0]=e.addColor(a[0]));var r=K(t.css('backgroundColor'));0<r.length&&(Me.excludeBackgroundColor.includes(r[0])&&r[1]!==t.styleMap.backgroundColor||null==t.styleMap.backgroundColor&&te(n,'backgroundColor')?r=[]:r[0]=e.addColor(r[0]));var o={fontFamily:t.css('fontFamily'),fontStyle:t.css('fontStyle'),fontSize:t.css('fontSize'),fontWeight:t.css('fontWeight'),color:0<a.length?'@color/'+a[0]:'',backgroundColor:0<r.length?'@color/'+r[0]:''};i.__fontStyle=o}}})}},{key:'setImageSource',value:function(){this.cache.list.filter(function(e){return'IMG'===e.tagName||'INPUT'===e.tagName&&'image'===e.element.type}).forEach(function(t){var n=t.element,i=n;if((t.ignoreResource&We.IMAGE_SOURCE)!==We.IMAGE_SOURCE&&(!S(i.__imageSource)||Me.alwaysReevaluateResources)){var a='IMG'===t.tagName?e.addImageSrcSet(n):e.addImage({mdpi:n.src});i.__imageSource=a}})}},{key:'setOptionArray',value:function(){this.cache.list.filter(function(e){return'SELECT'===e.tagName}).forEach(function(t){if((t.ignoreResource&We.OPTION_ARRAY)!==We.OPTION_ARRAY){var n=t.element,a=n;if(!S(a.__optionArray)||Me.alwaysReevaluateResources){for(var r=[],o=[],d=0;d<n.children.length;d++){var l=n.children[d],s=l.text.trim();if(''!==s)if(null!=o&&0===r.length&&y(s))o.push(s);else{if(null!=o&&0<o.length){d=-1,o=null;continue}var u=e.addString(s);''!==u&&r.push(u)}}a.__optionArray={stringArray:0<r.length?r:null,numberArray:null!=o&&0<o.length?o:null}}}})}},{key:'setValueString',value:function(){this.cache.list.forEach(function(t){if((t.visible||t.companion)&&(t.ignoreResource&We.VALUE_STRING)!==We.VALUE_STRING){var n=t.element,i=n;if(!S(i.__valueString)||Me.alwaysReevaluateResources){var a='',r='';'INPUT'===n.tagName||'TEXTAREA'===n.tagName?'range'!==n.type&&(r=n.value.trim()):'#text'===n.nodeName?r=n.textContent?n.textContent.trim():'':('BUTTON'===n.tagName||t.hasElement&&(0===n.children.length&&null==je[n.tagName]||0<n.children.length&&Array.from(n.children).every(function(e){return null==je[e.tagName]&&qe.includes(e.tagName)})))&&(a=n.innerText.trim(),r=n.innerHTML.trim()),S(r)&&(e.addString(r,a),i.__valueString=r)}}})}},{key:'borderVisible',value:function(e){return null!=e&&'none'!==e.style&&'0px'!==e.width}},{key:'getBorderStyle',value:function(e){var t={solid:'android:color="@color/'+e.color+'"'};return Object.assign(t,{inset:t.solid,outset:t.solid,dotted:t.solid+' android:dashWidth="3px" android:dashGap="1px"',dashed:t.solid+' android:dashWidth="1px" android:dashGap="1px"'}),t[e.style]||'android:color="@android:color/black"'}},{key:'parseBorderStyle',value:function(t,n,i){var a=n.css(i+'Style')||'none',r=n.css(i+'Width')||'1px',o='none'===a?[]:K(n.css(i+'Color'));return 0<o.length&&(o[0]=e.addColor(o[0])),'inset'===a&&'0px'===r&&(r='1px'),{style:a,width:r,color:0<o.length?o[0]:'#000000'}}},{key:'parseBackgroundImage',value:function(t){return e.addImageURL(t)}},{key:'parseBorderRadius',value:function(e,t){var n=t.css('borderTopLeftRadius'),i=t.css('borderTopRightRadius'),a=t.css('borderBottomLeftRadius'),r=t.css('borderBottomRightRadius');return n===i&&i===a&&a===r?''===n||'0px'===n?[]:[n]:[n,i,a,r]}},{key:'parseBoxDimensions',value:function(e){if('auto'!==e){var t=e.match(/^([0-9]+(?:px|pt|em)|auto)(?: ([0-9]+(?:px|pt|em)|auto))?(?: ([0-9]+(?:px|pt|em)))?(?: ([0-9]+(?:px|pt|em)))?$/);if(null!=t)return'0px'===t[1]&&null==t[2]||'auto'===t[1]&&'auto'===t[2]?[]:'auto'===t[1]||'auto'===t[2]?['auto'===t[1]?'':p(t[1]),'auto'===t[2]?'':p(t[2])]:null==t[2]||t[1]===t[2]&&t[1]===t[3]&&t[1]===t[4]?[p(t[1])]:null==t[3]||t[1]===t[3]&&t[2]===t[4]?[p(t[1]),p(t[2])]:[p(t[1]),p(t[2]),p(t[3]),p(t[4])]}return[]}}],[{key:'addString',value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'';if(S(t)){''===n&&(n=t);var i=y(t);if(Me.numberResourceValue||!i){var a=!0,r=!1,o=void 0;try{for(var d=e.STORED.STRINGS.keys()[Symbol.iterator](),l,s;!(a=(l=d.next()).done);a=!0)if(s=l.value,s===t)return s}catch(e){r=!0,o=e}finally{try{!a&&d.return&&d.return()}finally{if(r)throw o}}n=n.trim().replace(/[^a-zA-Z0-9]/g,'_').toLowerCase().replace(/_+/g,'_').split('_').slice(0,4).join('_').replace(/_+$/g,''),i||/^[0-9]/.test(t)?n='__'+n:''===n&&(n='__symbol'+ge(1e5*Math.random())),e.STORED.STRINGS.set(t,n)}return t}return''}},{key:'addImageSrcSet',value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',i=t.srcset.trim(),a={};if(S(i)){var r=t.src.substring(0,t.src.lastIndexOf('/')+1);i.split(',').forEach(function(e){var t=/^(.*?)\s*([0-9]+\.?[0-9]*x)?$/.exec(e.trim());if(null!=t){null==t[2]&&(t[2]='1x');var n=r+A(t[1]);switch(t[2]){case'0.75x':a.ldpi=n;break;case'1x':a.mdpi=n;break;case'1.5x':a.hdpi=n;break;case'2x':a.xhdpi=n;break;case'3x':a.xxhdpi=n;break;case'4x':a.xxxhdpi=n;}}})}return null==a.mdpi&&(a.mdpi=t.src),e.addImage(a,n)}},{key:'addImage',value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',i='';if(null!=t.mdpi&&S(t.mdpi)){i=A(t.mdpi);var a=A(i,'.').toLowerCase();i=i.replace(/.\w+$/,'').replace(/-/g,'_'),i='bmp'===a||'cur'===a||'gif'===a||'ico'===a||'jpg'===a||'png'===a?e.insertStoredAsset('IMAGES',n+i,t):''}return i}},{key:'addImageURL',value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',i=t.match(/^url\("(.*?)"\)$/);return null==i?'':e.addImage({mdpi:b(i[1])},n)}},{key:'addColor',value:function(t){if(t=t.toUpperCase().trim(),''!==t){var n='';if(!e.STORED.COLORS.has(t)){var i=U(t);''!==i&&(i.name=o(i.name),n=t===i.hex?i.name:a('color',i.name+'_1'),e.STORED.COLORS.set(t,n))}else n=e.STORED.COLORS.get(t);return n}return''}},{key:'insertStoredAsset',value:function(t,n,a){var r=e.STORED[t];if(null!=r){var o='',d=!0,l=!1,s=void 0;try{for(var u=r.entries()[Symbol.iterator](),p;!(d=(p=u.next()).done);d=!0){var h=p.value,c=Se(h,2),g=c[0],m=c[1];if(JSON.stringify(a)===JSON.stringify(m)){o=g;break}}}catch(e){l=!0,s=e}finally{try{!d&&u.return&&u.return()}finally{if(l)throw s}}if(''===o&&(y(n)&&(n='__'+n),S(a))){var f=0;do o=n,0<f&&(o+='_'+f),r.has(o)||r.set(o,a),f++;while(r.has(o)&&r.get(o)!==a)}return o}return''}}]),e}();Ze.STORED={STRINGS:new Map,COLORS:new Map,DIMENS:new Map,IMAGES:new Map};var Qe=function(){function e(t,n,i){if(be(this,e),this.id=t,this.styleMap={},this.depth=-1,this.renderDepth=0,this.parentIndex=pe,this.ignoreResource=0,this.visible=!0,this.companion=!1,this.isolated=!1,this.gridRowSpan=0,this.gridColumnSpan=0,this.gridPadding={top:0,right:[],bottom:0,left:[]},this._namespaces=new Set,this._options={},Object.assign(this,i),null!=n){var a=n;if(n instanceof HTMLElement){var r=a.__styleMap||{},o=!0,l=!1,s=void 0;try{for(var u=Array.from(n.style)[Symbol.iterator](),p,h;!(o=(p=u.next()).done);o=!0)h=p.value,r[d(h)]=n.style[h]}catch(e){l=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(l)throw s}}this.style=a.__style||getComputedStyle(n),this.styleMap=r}this._element=n,a.__node=this}}return xe(e,[{key:'add',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],a='_'+(e||'_');if(S(n)){if(null==this[a]&&(this._namespaces.add(e),this[a]={}),!i&&null!=this[a][t])return null;this[a][t]=n}return this[a]&&this[a][t]}},{key:'get',value:function(e,t){var n='_'+(e||'_');return this[n]&&null!=this[n][t]?this[n][t]:''}},{key:'delete',value:function(e){var t='_'+(e||'_');if(null!=this[t]){for(var n=arguments.length,i=Array(1<n?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if('object'===fe(i[0]))for(var r in i[0])delete this[t][i[0][r]];else{var o=!0,d=!1,l=void 0;try{for(var s=i[Symbol.iterator](),u,p;!(o=(u=s.next()).done);o=!0)if(p=u.value,-1!==p.indexOf('*')){var h=!0,c=!1,g=void 0;try{for(var m=I(this[t],p)[Symbol.iterator](),f;!(h=(f=m.next()).done);h=!0){var y=f.value,_=Se(y,1),b=_[0];delete this[t][b]}}catch(e){c=!0,g=e}finally{try{!h&&m.return&&m.return()}finally{if(c)throw g}}}else delete this[t][p]}catch(e){d=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(d)throw l}}}}}},{key:'apply',value:function(e){var t={};if(null!=e)for(var n in e){var i=e[n];if('object'===('undefined'==typeof i?'undefined':fe(i)))for(var a in i)this.add(n,a,i[a]);else S(i)&&(t[n]=i)}return t}},{key:'render',value:function(e){this.renderParent=e,this.renderDepth=0===e.id?0:e.renderDepth+1}},{key:'hide',value:function(){this.renderParent=!0,this.visible=!1}},{key:'options',value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(S(t)){if(!n&&null!=this._options[e])return{};this._options[e]=t}return this._options[e]}},{key:'ascend',value:function(){for(var e=[],t=this.parent;null!=t&&0!==t.id;)e.push(t),t=t.parent;return e}},{key:'cascade',value:function(){function e(t){var n=[].concat(ke(t.children));return t.children.forEach(function(t){return n.push.apply(n,ke(e(t)))}),n}return e(this)}},{key:'inheritStyle',value:function(e){var t={};for(var n in e.style)if(n.startsWith('font')||n.startsWith('color')){var i=d(n);t[i]=e.style[i]}Object.assign(this.styleMap,t)}},{key:'inheritStyleMap',value:function(e){for(var t in e.styleMap)null==this.styleMap[t]&&(this.styleMap[t]=e.styleMap[t])}},{key:'intersect',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'bounds',n=e.top>=this[t].top&&e.top<this[t].bottom,i=e.right>this[t].left&&e.right<=this[t].right,a=e.bottom>this[t].top&&e.bottom<=this[t].bottom,r=e.left>=this[t].left&&e.left<this[t].right;return n&&(r||i)||a&&(r||i)}},{key:'withinX',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.top>=this[t].top&&e.top<this[t].bottom||e.bottom>this[t].top&&e.bottom<=this[t].bottom||this[t].top>=e.top&&this[t].bottom<=e.bottom||e.top>=this[t].top&&e.bottom<=this[t].bottom}},{key:'withinY',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.left>=this[t].left&&e.left<this[t].right||e.right>this[t].left&&e.right<=this[t].right||this[t].left>=e.left&&this[t].right<=e.right||e.left>=this[t].left&&e.right<=this[t].right}},{key:'css',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'';return 2===arguments.length&&(this.styleMap[e]=S(t)?t:''),this.styleMap[e]||this.style&&this.style[e]||''}},{key:'setBounds',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=arguments[1];if(!e){var n=null==t?this.hasElement?$(this.element.getBoundingClientRect()):null:Q(t);null!=n&&(this.bounds=n)}null!=this.bounds&&(this.linear={top:this.bounds.top-this.marginTop,right:this.bounds.right+this.marginRight,bottom:this.bounds.bottom+this.marginBottom,left:this.bounds.left-this.marginLeft,width:0,height:0},this.box={top:this.bounds.top+(this.paddingTop+this.borderTopWidth),right:this.bounds.right-(this.paddingRight+this.borderRightWidth),bottom:this.bounds.bottom-(this.paddingBottom+this.borderBottomWidth),left:this.bounds.left+(this.paddingLeft+this.borderLeftWidth),width:0,height:0},this.setDimensions())}},{key:'expandDimensions',value:function(){var e=[ce.apply(null,this.children.map(function(e){return e.linear.right})),ce.apply(null,this.children.map(function(e){return e.linear.bottom}))],t=e[0],n=e[1];switch(this.style.position){case'static':case'relative':t-=this.linear.left,n-=this.linear.top;}t+=this.paddingRight+this.borderRightWidth,n+=this.paddingBottom+this.borderBottomWidth;var i=!1;this.viewWidth<t&&(this.bounds.width<t?(this.bounds.width=t,this.bounds.right=this.bounds.left+this.bounds.width,i=!0):t=this.bounds.width,this.bounds.minWidth=f(t)),this.viewHeight<n&&(this.bounds.height<n?(this.bounds.height=n,this.bounds.bottom=this.bounds.top+this.bounds.height,i=!0):n=this.bounds.height,this.bounds.minHeight=f(n)),i&&this.setBounds(!0)}},{key:'setDimensions',value:function(){var e=this.linear;e.width=e.right-e.left,e.height=e.bottom-e.top;var t=this.box;t.width=t.right-t.left,t.height=t.bottom-t.top}},{key:'parent',set:function(e){e===this._parent||(this._parent&&null==this._parentOriginal&&(this._parentOriginal=this._parent),this._parent=e,-1===this.depth&&(this.depth=e.depth+1))},get:function(){return this._parent}},{key:'parentOriginal',set:function(e){this._parentOriginal=e},get:function(){return this._parentOriginal||this._parent}},{key:'tagName',set:function(e){this._tagName=e},get:function(){return this._tagName||(this.hasElement?'INPUT'===this.element.tagName?this.element.type.toUpperCase():this.element.tagName:'')}},{key:'viewName',set:function(e){this._viewName=e},get:function(){return this._viewName}},{key:'renderParent',set:function(t){t instanceof e&&t.renderChildren.push(this),this._renderParent=t},get:function(){return this._renderParent}},{key:'element',get:function(){return this._element||{}}},{key:'hasElement',get:function(){return null!=this._element&&null!=this._element.id}},{key:'parentElement',get:function(){return this._element&&this._element.parentElement}},{key:'namespaces',get:function(){return Array.from(this._namespaces)}},{key:'flex',get:function(){if(null==this._flex){var e=this.style;if(null!=e){var t=this.parentOriginal;this._flex={enabled:-1!==e.display.indexOf('flex'),direction:e.flexDirection,basis:e.flexBasis,grow:u(e.flexGrow),shrink:u(e.flexShrink),wrap:e.flexWrap,alignSelf:null!=t.styleMap.alignItems&&(null==this.styleMap.alignSelf||'auto'===e.alignSelf)?t.styleMap.alignItems:e.alignSelf,justifyContent:e.justifyContent,order:u(e.order)}}}return this._flex||{}}},{key:'floating',get:function(){var e=null==this.style?'':this.style.float;return'left'===e||'right'===e}},{key:'fixed',get:function(){return'fixed'===this.style.display}},{key:'overflow',get:function(){if(null==this._overflow){var e=0;this.hasElement&&(('scroll'===this.css('overflow')||'auto'===this.css('overflowX')&&this.element.clientWidth!==this.element.scrollWidth)&&(e|=2),('scroll'===this.css('overflow')||'auto'===this.css('overflowY')&&this.element.clientHeight!==this.element.scrollHeight)&&(e|=4)),this._overflow=e}return this._overflow}},{key:'overflowX',get:function(){return 2==(2&this._overflow)}},{key:'overflowY',get:function(){return 4==(4&this._overflow)}},{key:'viewWidth',get:function(){return u(this.styleMap.width||this.styleMap.minWidth)}},{key:'viewHeight',get:function(){return u(this.styleMap.height||this.styleMap.lineHeight||this.styleMap.minHeight)}},{key:'marginTop',get:function(){return u(this.css('marginTop'))}},{key:'marginRight',get:function(){return u(this.css('marginRight'))}},{key:'marginBottom',get:function(){return u(this.css('marginBottom'))}},{key:'marginLeft',get:function(){return u(this.css('marginLeft'))}},{key:'borderTopWidth',get:function(){return u(this.css('borderTopWidth'))}},{key:'borderRightWidth',get:function(){return u(this.css('borderRightWidth'))}},{key:'borderBottomWidth',get:function(){return u(this.css('borderBottomWidth'))}},{key:'borderLeftWidth',get:function(){return u(this.css('borderLeftWidth'))}},{key:'paddingTop',get:function(){return u(this.css('paddingTop'))}},{key:'paddingRight',get:function(){return u(this.css('paddingRight'))}},{key:'paddingBottom',get:function(){return u(this.css('paddingBottom'))}},{key:'paddingLeft',get:function(){return u(this.css('paddingLeft'))}},{key:'center',get:function(){return{x:this.bounds.left+me(this.bounds.width/2),y:this.bounds.top+me(this.bounds.height/2)}}}]),e}(),$e=(st={},ve(st,e.build.OREO,{android:['fontWeight','layout_marginHorizontal','layout_marginVertical','paddingHorizontal','paddingVertical'],customizations:{}}),ve(st,e.build.JELLYBEAN_1,{android:['labelFor'],customizations:{}}),ve(st,e.build.LOLLIPOP,{android:['layout_columnWeight']}),ve(st,e.build.ALL,{customizations:{Button:{android:{textAllCaps:'false',minWidth:'0px',minHeight:'0px'}}}}),st),et=function(t){function n(e,t,i,a){be(this,n);var r=Ie(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,i,a));return r.id=e,r.api=t,r.constraint={},r.children=[],r.renderChildren=[],r}return Te(n,t),xe(n,[{key:'add',value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',a=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return(!S(t)||this.supported(e,t))&&Ae(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'add',this).call(this,e,t,i,a)}},{key:'android',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];switch(arguments.length){case 0:return this._android;case 1:return this._android&&this._android[e];default:this.add('android',e,t,n);}}},{key:'app',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];switch(arguments.length){case 0:return this._app;case 1:return this._app&&this._app[e];default:this.add('app',e,t,n);}}},{key:'apply',value:function(e){var t=Ae(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'apply',this).call(this,e);for(var i in t)this.attr(i+'="'+t[i]+'"')}},{key:'attr',value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=e.match(/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/);null!=n&&this.add(n[1]||'_',n[2],n[3],t)}},{key:'anchor',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',i=arguments[3];switch(null==i&&(i='parent'===t.stringId),this.renderParent.viewName){case Ne.CONSTRAINT:if(1===arguments.length)return this.app(e);this.app(e,t.stringId,i);break;case Ne.RELATIVE:if(1===arguments.length)return this.android(e);this.android(e,t.stringId,i);}''!==n&&(this.constraint[n]=!0)}},{key:'modifyBox',value:function(e,t){var n=m(Ue,Ce,e);if(''!==n){var i=re(n),a=f(t+u(this.android(i)));this.css(i,a),this.android(i,a),this.setBounds(!0)}}},{key:'boxValue',value:function(e){var t=m(Ue,Ce,e);if(''!==t){var n=re(t);return[n,this.android(n)||'0px']}return['','0px']}},{key:'supported',value:function(t,n){for(var a=this.api+1,r;a<e.build.LATEST;a++)if(r=$e[a],r&&r[t]&&r[t].includes(n))return!1;return!0}},{key:'combine',value:function(){var e=this,t=[];return this.namespaces.forEach(function(n){var i=e['_'+n];for(var a in i)'_'===n?t.push(a+'="'+i[a]+'"'):t.push(n+':'+a+'="'+i[a]+'"')}),t.sort(function(e,t){return e.startsWith('android:id=')?-1:e>t?1:-1})}},{key:'applyCustomizations',value:function(){var e=this;[$e[this.api],$e[0]].forEach(function(t){if(t&&null!=t.customizations){var n=t.customizations[e.viewName];if(null!=n)for(var i in n)for(var a in n[i])e.add(i,a,n[i][a],!1)}})}},{key:'is',value:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=!0,r=!1,o=void 0;try{for(var d=t[Symbol.iterator](),l,s;!(a=(l=d.next()).done);a=!0)if(s=l.value,this.viewName===n.getViewName(s))return!0}catch(e){r=!0,o=e}finally{try{!a&&d.return&&d.return()}finally{if(r)throw o}}return!1}},{key:'setViewId',value:function(e){if(we(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'viewName',e||this.viewName,this),null==this.viewId){var t=this.element;this.viewId=a('android',(t.id||t.name||A(this.viewName,'.').toLowerCase()+'_1').replace(/[^\w]/g,'_')),this.android('id',this.stringId)}}},{key:'setViewLayout',value:function(t){var n=this,i=this.styleMap,a=void 0,r=void 0,o=void 0,d=void 0,l=this.renderParent;if(null!=l&&!0!==l){var h=this.constraint;if(null!=t){a=t.parent;var c=[t.width,t.height];r=c[0],o=c[1],d=t.wrapContent}else a=this.parent,r=this.hasElement?this.element.clientWidth+this.marginLeft+this.marginRight+this.borderLeftWidth+this.borderRightWidth:0,o=this.hasElement?this.element.clientHeight+this.marginTop+this.marginBottom+this.borderTopWidth+this.borderBottomWidth:0,d=a.is(j.CONSTRAINT,j.GRID);var g=a.hasElement?a.element.offsetWidth-(a.paddingLeft+a.paddingRight+u(a.style.borderLeftWidth)+u(a.style.borderRightWidth)):pe,m=a.hasElement?a.element.offsetHeight-(a.paddingTop+a.paddingBottom+u(a.style.borderTopWidth)+u(a.style.borderBottomWidth)):pe;if(0!==this.overflow&&!this.is(j.TEXT))this.android('layout_width',this.horizontal?'wrap_content':'match_parent'),this.android('layout_height',this.horizontal?'match_parent':'wrap_content');else if('0px'!==this.android('layout_width')&&(S(i.width)&&(_(i.width)?'TABLE'===l.tagName?(this.android('layout_columnWeight',(u(i.width)/100).toFixed(2)),this.android('layout_width','0px')):this.android('layout_width','wrap_content'):this.android('layout_width',p(i.width))),S(i.minWidth)&&!_(i.minWidth)&&!h.minWidth&&(this.android('layout_width','wrap_content',!1),this.android('minWidth',p(i.minWidth),!1)),S(i.maxWidth)&&!_(i.maxWidth)&&!h.maxWidth&&this.android('maxWidth',p(i.maxWidth),!1)),(!this.flex.enabled||h.expand)&&null!=h.layoutWidth?h.layoutWidth?this.android('layout_width',this.renderChildren.some(function(e){return'right'===e.css('float')})||u(this.bounds.minWidth)>=g?'match_parent':this.bounds.minWidth):this.android('layout_width','wrap_content',!1):null==this.android('layout_width')&&(!d&&!(a.is(j.LINEAR)&&a.horizontal)&&(0===a.overflow&&0<r&&r>=g||this.hasElement&&Ye.includes(this.tagName)&&-1===this.style.display.indexOf('inline')&&!this.floating)?this.android('layout_width','match_parent'):this.android('layout_width','wrap_content')),'0px'!==this.android('layout_height')&&((S(i.height)||S(i.lineHeight))&&(_(i.height)||_(i.lineHeight)?'TABLE'===l.tagName?(this.android('layout_rowWeight',(u(i.height||i.lineHeight)/100).toFixed(2)),this.android('layout_height','0px')):this.android('layout_height','wrap_content'):this.android('layout_height',p(i.height||i.lineHeight))),S(i.minHeight)&&!_(i.minHeight)&&!h.minHeight&&(this.android('layout_height','wrap_content',!1),this.android('minHeight',p(i.minHeight),!1)),S(i.maxHeight)&&!_(i.maxHeight)&&!h.maxHeight&&this.android('maxHeight',p(i.maxHeight),!1)),(!this.flex.enabled||h.expand)&&null!=h.layoutHeight)this.android('layout_height',h.layoutHeight?this.bounds.minHeight:'wrap_content',h.layoutHeight);else if(null==this.android('layout_height')){var y='wrap_content';o>=m&&!d&&(!a.hasElement||0!==a.overflow||De.includes(this.viewName)||l.is(j.RELATIVE)||'wrap_content'===l.android('layout_height')?this.parentOriginal.flex.enabled&&(y='0px'):y='match_parent'),this.android('layout_height',y)}this.is(j.LINEAR)&&0<this.renderChildren.length&&this.renderChildren.every(function(e){return'right'===e.css('float')})&&this.android('gravity',re('right')),1<this.gridRowSpan&&this.android('layout_rowSpan',this.gridRowSpan.toString()),1<this.gridColumnSpan&&this.android('layout_columnSpan',this.gridColumnSpan.toString()),this.gridPadding&&(0<this.gridPadding.top&&this.modifyBox(Ue.PADDING_TOP,this.gridPadding.top),0<this.gridPadding.right.length&&this.modifyBox(Ue.PADDING_RIGHT,s(this.gridPadding.right)),0<this.gridPadding.bottom&&this.modifyBox(Ue.PADDING_BOTTOM,this.gridPadding.bottom),0<this.gridPadding.left.length&&this.modifyBox(Ue.PADDING_LEFT,s(this.gridPadding.left))),this.api>=e.build.OREO&&['layout_margin','padding'].forEach(function(e){var t=re(e+'Left'),i=re(e+'Right'),a=u(n.android(e+'Top')),r=u(n.android(i)),o=u(n.android(e+'Bottom')),d=u(n.android(t));0!==a&&a===o&&o===d&&d===r?(n.delete('android',e+'*'),n.android(e,f(a))):(0!==a&&a===o&&(n.delete('android',e+'Top',e+'Bottom'),n.android(e+'Vertical',f(a))),0!==d&&d===r&&(n.delete('android',t,i),n.android(e+'Horizontal',f(d))))})}}},{key:'setGravity',value:function(){for(var e=this.styleMap.verticalAlign,t='',n=this;null!=n;){t=n.styleMap.textAlign||t;var i=n===this?'':n.styleMap.float;if('left'===i||'right'===i||S(t))break;n=n.parentOriginal}if(''===t&&'TH'===this.tagName&&(t='center'),S(e)||S(t)){var a='',r='';switch('start'===t?a='start':'right'===t?a=re('right'):'end'===t?a='end':'center'===t?a='center_horizontal':void 0,'top'===e?r='top':'middle'===e?r='center_vertical':'bottom'===e||'text-bottom'===e?r='bottom':(this.style.height===this.style.lineHeight||u(this.style.lineHeight)===this.box.bottom-this.box.top)&&(r='center_vertical'),this.renderParent.viewName){case Ne.GRID:var o=''!==a&&a!==re('left')&&'start'!==a,d=''!=r&&'top'!=r;o&&d||'TABLE'===this.renderParent.tagName?this.android('layout_gravity','fill'):o?this.android('layout_gravity','fill_horizontal'):d&&this.android('layout_gravity','fill_vertical');}var l=[a,r].filter(function(e){return''!==e});0<l.length&&this.android('gravity',2===l.length?'center':l[0])}}},{key:'setAccessibility',value:function(){var e=this,t=this.element,n=t.nextElementSibling,i=!1;if(n&&n.htmlFor===t.id&&'INPUT'===t.tagName){var a=n.__node;a.setViewId(Ne.TEXT),this.css('marginRight',a.style.marginRight),this.css('paddingRight',a.style.paddingRight),this.label=a,a.hide(),a.labelFor=this,i=!0}switch(this.viewName){case Ne.EDIT:i||function(){for(var t=e.renderParent,n=e,i=null,a;t&&null!=t.renderChildren;){if(a=t.renderChildren.findIndex(function(e){return e===n}),0<a){i=t.renderChildren[a-1];break}n=t,t=t.renderParent}i&&i.is(j.TEXT)&&i.android('labelFor',e.stringId)}();case Ne.SELECT:case Ne.CHECKBOX:case Ne.RADIO:case Ne.BUTTON:this.android('focusable','true');}}},{key:'label',set:function(e){this._label=e,e.companion=!0,e.labelFor=this},get:function(){return this._label}},{key:'stringId',get:function(){return S(this.viewId)?'@+id/'+this.viewId:''}},{key:'viewName',set:function(e){this._viewName=e},get:function(){if(null!=this._viewName)return Ae(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'viewName',this);var e=je[this.tagName];return null==e?'':n.getViewName(e)}},{key:'anchored',get:function(){return this.constraint.horizontal&&this.constraint.vertical}},{key:'horizontal',get:function(){return this._android&&'horizontal'===this._android.orientation}},{key:'horizontalBias',get:function(){var e=this.renderParent;if(e&&e.visible){var t=this.linear.left-e.box.left,n=e.box.right-this.linear.right;return w(t,n)}return .5}},{key:'verticalBias',get:function(){var e=this.renderParent;if(e&&e.visible){var t=this.linear.top-e.box.top,n=e.box.bottom-this.linear.bottom;return w(t,n)}return .5}}],[{key:'getViewName',value:function(e){return Ne[j[e]]}}]),n}(Qe),tt=function(e){function t(e,n,i,a){be(this,t);var r={parent:i,depth:n.depth,parentOriginal:n.parentOriginal},o=Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.api,null,r));return null!=a&&(o.children=a),o}return Te(t,e),xe(t,[{key:'setViewLayout',value:function(){var e=Se(this.childrenBox,2),n=e[0],i=e[1],a={parent:this.parentOriginal,width:n,height:i,wrapContent:this.parent.is(j.CONSTRAINT,j.GRID)};Ae(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setViewLayout',this).call(this,a)}},{key:'setBounds',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=this.outerRegion;e||(this.bounds={x:t.left[0].bounds.x,y:t.top[0].bounds.y,top:t.top[0].bounds.top,right:t.right[0].bounds.right,bottom:t.bottom[0].bounds.bottom,left:t.left[0].bounds.left,width:0,height:0},this.bounds.width=this.bounds.right-this.bounds.left,this.bounds.height=this.bounds.bottom-this.bounds.top),this.linear={top:t.top[0].linear.top,right:t.right[0].linear.right,bottom:t.bottom[0].linear.bottom,left:t.left[0].linear.left,width:0,height:0},this.box={top:t.top[0].box.top,right:t.right[0].box.right,bottom:t.bottom[0].box.bottom,left:t.left[0].box.left,width:0,height:0},this.setDimensions()}},{key:'inheritGrid',value:function(e){for(var t in e)t.startsWith('grid')&&('number'==typeof e[t]?(this[t]+=e[t],e[t]=0):!1!==e[t]&&(this[t]=e[t],e[t]=!1))}},{key:'childrenBox',get:function(){var e=pe,t=0,n=pe,i=0,a=!0,r=!1,o=void 0;try{for(var d=this.children[Symbol.iterator](),l,s;!(a=(l=d.next()).done);a=!0)s=l.value,e=he(s.bounds.left,e),t=ce(s.bounds.right,t),n=he(s.bounds.top,n),i=ce(s.bounds.bottom,i)}catch(e){r=!0,o=e}finally{try{!a&&d.return&&d.return()}finally{if(r)throw o}}return[t-e,i-n]}},{key:'outerRegion',get:function(){for(var e=this.children,t=[e[0]],n=[e[0]],a=[e[0]],r=[e[0]],o=1;o<e.length;o++){var d=e[o],l=d.label||d;t[0].bounds.top===d.bounds.top?t.push(d):d.bounds.top<t[0].bounds.top&&(t=[d]),n[0].bounds.right===l.bounds.right?n.push(l):l.bounds.right>n[0].bounds.right&&(n=[l]),a[0].bounds.bottom===d.bounds.bottom?a.push(d):d.bounds.bottom>a[0].bounds.bottom&&(a=[d]),r[0].bounds.left===d.bounds.left?r.push(d):d.bounds.left<r[0].bounds.left&&(r=[d])}return{top:t,right:n,bottom:a,left:r,children:e}}}]),t}(et),nt=function(e){function t(e,n){return be(this,t),Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return Te(t,e),xe(t,[{key:'slice',value:function(){return new t(this.list.slice.apply(this.list,arguments))}},{key:'filter',value:function(e){return new t(this.list.filter.call(this.list,e))}},{key:'anchors',get:function(){return this.list.filter(function(e){return e.anchored})}},{key:'horizontalBias',get:function(){if(null!=this.parent&&0<this.list.length){var e=this.first.linear.left-this.parent.box.left,t=this.parent.box.right-this.last.linear.right;return w(e,t)}return .5}},{key:'verticalBias',get:function(){if(null!=this.parent&&0<this.list.length){var e=this.first.linear.top-this.parent.box.top,t=this.parent.box.bottom-this.last.linear.bottom;return w(e,t)}return .5}}]),t}(Oe),it={relative:{top:'layout_alignTop',bottom:'layout_alignBottom',baseline:'layout_alignBaseline',bottomTop:'layout_above',topBottom:'layout_below'},constraint:{top:'layout_constraintTop_toTopOf',bottom:'layout_constraintBottom_toBottomOf',baseline:'layout_constraintBaseline_toBaselineOf',bottomTop:'layout_constraintBottom_toTopOf',topBottom:'layout_constraintTop_toBottomOf'}},at={direction:['horizontalChain','verticalChain'],leftTop:['left','top'],rightBottom:['right','bottom'],rightLeftBottomTop:['rightLeft','bottomTop'],leftRightTopBottom:['leftRight','topBottom'],widthHeight:['Width','Height'],horizontalVertical:['Horizontal','Vertical']},rt=function(e){function t(){return be(this,t),Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return Te(t,e),xe(t,[{key:'setConstraints',value:function(){var e=this;Object.assign(it.relative,{left:re('layout_alignLeft'),right:re('layout_alignRight'),leftRight:re('layout_toRightOf'),rightLeft:re('layout_toLeftOf')}),Object.assign(it.constraint,{left:re('layout_constraintLeft_toLeftOf'),right:re('layout_constraintRight_toRightOf'),leftRight:re('layout_constraintLeft_toRightOf'),rightLeft:re('layout_constraintRight_toLeftOf')}),this.cache.visible.forEach(function(t){var i=new nt(t.renderChildren,t),a=t.is(j.CONSTRAINT),r=t.is(j.RELATIVE),o=t.flex;if(0<i.list.length&&(a||r||o.enabled)){var n=function(){var d=function(e,t){return'parent'===e.app(s[t])},l=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=!0,r=!1,o=void 0;try{for(var d=n[Symbol.iterator](),l,u;!(a=(l=d.next()).done);a=!0)u=l.value,e.delete('app',s[u])}catch(e){r=!0,o=e}finally{try{!a&&d.return&&d.return()}finally{if(r)throw o}}};if(t.expandDimensions(),t.is(j.LINEAR))return t.renderChildren.some(function(e){return-1!==e.flex.direction.indexOf('row')})&&(t.constraint.layoutWidth=!0,t.constraint.expand=!0),t.renderChildren.some(function(e){return-1!==e.flex.direction.indexOf('column')})&&(t.constraint.layoutHeight=!0,t.constraint.expand=!0),{v:void 0};var s=it[r?'relative':'constraint'],u=i.linearX;if((r||1===i.list.length)&&i.list.forEach(function(n){L(n.horizontalBias,.5,.01)&&L(n.verticalBias,.5,.01)&&(a?e.setAlignParent(n):(n.android('layout_centerInParent','true'),n.constraint.horizontal=!0,n.constraint.vertical=!0),t.constraint.layoutWidth=!0,t.constraint.layoutHeight=!0)}),i.list.unshift(t),i.list.forEach(function(n){i.list.forEach(function(i){var o=i.constraint.horizontal?'horizontal':'',p=i.constraint.vertical?'vertical':'';if(n!==i)if(a){var h=n.linear,c=i.linear,g=!1;if((n===t||i===t)&&(n===t&&(n=i),i={stringId:'parent'},h=n.linear,c=t.box,g=!0),null!=n.css('width')&&'0px'===n.styleMap.marginTop&&'auto'===n.styleMap.marginRight&&'0px'===n.styleMap.marginBottom&&'auto'===n.styleMap.marginLeft?e.setAlignParent(n,'horizontal'):g?(me(h.left)===c.left&&n.anchor(s.left,i,'horizontal'),L(h.right,c.right,Me.whitespaceHorizontalOffset)&&n.anchor(s.right,i,'horizontal')):(0===n.viewWidth&&h.left===c.left&&h.right===c.right?(n.anchor(s.left,i),n.anchor(s.right,i)):!Me.horizontalPerspective&&(h.left===c.left?n.anchor(s.left,i):h.right===c.right&&n.anchor(s.right,i)),L(h.left,c.right,Me.whitespaceHorizontalOffset)&&('right'===n.css('float')?n.constraint.marginHorizontal=i.stringId:n.anchor(s.leftRight,i,o,n.withinX(c))),L(h.right,c.left,Me.whitespaceHorizontalOffset)&&'left'!==n.css('float')&&n.anchor(s.rightLeft,i,o,n.withinX(c))),g)me(h.top)===c.top&&n.anchor(s.top,i,'vertical'),L(h.bottom,c.bottom,Me.whitespaceHorizontalOffset)&&n.anchor(s.bottom,i,'vertical');else{var m=d(n,'bottom');L(h.top,c.bottom,Me.whitespaceVerticalOffset)?n.withinY(c)&&((!m||i.constraint.vertical)&&n.anchor(s.topBottom,i,p,h.left===c.left||c.right===c.right),i.constraint.vertical&&(!d(n,'top')&&l(n,'top'),l(n,'bottom'))):L(h.bottom,c.top,Me.whitespaceVerticalOffset)&&!m&&n.withinY(c)&&(n.anchor(s.bottomTop,i,p,h.left===c.left||c.right===c.right),!d(n,'top')&&l(n,'top'),l(n,'bottom')),h.top===c.top&&h.bottom===c.bottom&&null==n.app(s.topBottom)&&null==n.app(s.bottomTop)&&(n.floating?m&&(null!=i.app(s.topBottom)&&n.anchor(s.top,i,p),n.anchor(s.bottom,i,p,null!=i.app(s.topBottom))):!n.constraint.vertical&&(m?(n.anchor(s.top,i,p),l(n,'bottom')):(n.anchor(s.bottom,i,p),l(n,'top'))))}}else if(r){if(n===t)return;if(i===t)i={stringId:'true'},me(n.linear.left)===t.box.left?n.anchor(re('layout_alignParentLeft'),i,'horizontal'):n.linear.right===t.box.right&&n.anchor(re('layout_alignParentRight'),i,'horizontal'),me(n.linear.top)===t.box.top?n.anchor('layout_alignParentTop',i,'vertical'):L(n.linear.bottom,t.box.bottom,Me.whitespaceHorizontalOffset)&&n.anchor('layout_alignParentBottom',i,'vertical');else{var f=n.linear,y=i.linear;null!=n.css('width')&&'0px'===n.styleMap.marginTop&&'auto'===n.styleMap.marginRight&&'0px'===n.styleMap.marginBottom&&'auto'===n.styleMap.marginLeft?(n.android('layout_centerHorizontal','true'),n.constraint.horizontal=!0):(f.top===y.top||f.bottom===y.bottom)&&L(f.left,y.right,Me.whitespaceHorizontalOffset)&&('right'===n.css('float')?i.anchor(s.rightLeft,n,o):(n.anchor(s.leftRight,i,o),i.constraint.horizontal&&n.delete('android',re('layout_alignParentRight')))),L(f.top,y.bottom,Me.whitespaceVerticalOffset)?(n.anchor(s.topBottom,i,p),i.constraint.vertical&&n.delete('android','layout_alignParentBottom')):L(f.bottom,y.top,Me.whitespaceVerticalOffset)&&'true'!==n.android('layout_alignParentBottom')&&n.anchor(s.bottomTop,i,p),!i.constraint.horizontal||f.bottom!==y.bottom||u||n.floating&&n.constraint.vertical||(n.anchor(s.bottom,i,p),i.constraint.vertical&&n.delete('android','layout_alignParentBottom'))}}})}),i.list.shift(),i.list.forEach(function(e){var t=e.anchor(s.leftRight);null!=t&&(o.enabled&&(e.constraint.horizontal=!0),e.constraint.marginHorizontal=t);var n=e.anchor(s.topBottom);if(null!=n&&(o.enabled&&(e.constraint.vertical=!0),e.constraint.marginVertical=n),a&&d(e,'left')&&d(e,'right')){var i=e.css('textAlign');'left'===i||'start'===i?l(e,'right'):'right'===i||'end'===i?l(e,'left'):void 0,e.floating&&l(e,'right'===e.css('float')?'left':'right')}}),o.enabled||a&&!i.intersect()&&!i.list.some(function(e){return e.floating})){var h=null;if(o.enabled){var c=i.list.slice();if('nowrap'===o.wrap){var g=i.slice(),m=i.slice();switch(o.direction){case'row-reverse':g.list.reverse();case'row':m=null;break;case'column-reverse':m.list.reverse();case'column':g=null;}h=[{constraint:{horizontalChain:g,verticalChain:m}}]}else{switch(o.direction){case'row-reverse':case'column-reverse':c.reverse();}var _={},b=[];if(c.forEach(function(e){var t=e.linear.top;null==_[t]&&(_[t]=[],b.push(t)),_[t].push(e)}),'wrap-reverse'===o.wrap)if(-1!==o.direction.indexOf('column'))for(var x in _)_[x].reverse();else b.reverse();h=[];var y=!0,v=!1,A=void 0;try{for(var R=b[Symbol.iterator](),w,k;!(y=(w=R.next()).done);y=!0)k=w.value,h.push({constraint:{horizontalChain:new nt(_[k],t),verticalChain:null}})}catch(e){v=!0,A=e}finally{try{!y&&R.return&&R.return()}finally{if(v)throw A}}}}else i.list.forEach(function(e){var t=i.filter(function(t){return T(e,t,'linear.top')});0===t.list.length&&(t=i.filter(function(t){return T(e,t,'linear.bottom')})),0<t.list.length&&t.sortAsc('linear.x');var n=i.filter(function(t){return T(e,t,'linear.left')});0===n.list.length&&(n=i.filter(function(t){return T(e,t,'linear.right')})),0<n.list.length&&n.sortAsc('linear.y'),e.constraint.horizontalChain=t,e.constraint.verticalChain=n});var N=at.direction.slice();Me.horizontalPerspective||N.reverse(),N.forEach(function(n,a){Me.horizontalPerspective||(a=0===a?1:0);var r=0===a?1:0,u=h||i.slice().list.sort(function(e,t){return e.constraint[n].length>=t.constraint[n].length?-1:1});u.forEach(function(h,c){var g=h.constraint[n];if(null!=g)if(1<g.length&&(o.enabled||0<g.list.map(function(e){return parseInt((e.constraint[n].list||[{id:0}]).map(function(e){return e.id}).join(''))}).reduce(function(e,t){return e===t?e:0}))){g.parent=t,o.enabled&&g.list.some(function(e){return 0<e.flex.order})&&g[-1===o.direction.indexOf('reverse')?'sortAsc':'sortDesc']('flex.order');for(var m=[at.horizontalVertical[a],at.horizontalVertical[r]],f=m[0],y=m[1],_=[at.leftTop[a],at.leftTop[r]],b=_[0],x=_[1],v=[at.rightBottom[a],at.rightBottom[r]],E=v[0],A=v[1],T=[at.widthHeight[a],at.widthHeight[r]],I=T[0],R=T[1],w=f.toLowerCase(),k=y.toLowerCase(),L=I.toLowerCase(),N=g.first,C=g.last,D=-1,B=function(r){var i=g.list[r],h=g.list[r+1],m=g.list[r-1];if(o.enabled){i.linear[x]===t.box[x]&&i.linear[A]===t.box[A]&&e.setAlignParent(i,k);var y=u[c+1];if(null!=y&&null!=y.constraint[n]&&null!=y.constraint[n].list[r]){var _=y.constraint[n].list[r];i.withinY(_.linear)&&!d(i,'top')&&(i.app(s.bottomTop,_.stringId),l(i,'top','bottom'))}}if(null!=h&&(i.app(s[at.rightLeftBottomTop[a]],h.stringId),D=ce(h.linear[b]-i.linear[E],D)),null!=m&&(i.app(s[at.leftRightTopBottom[a]],m.stringId),i.constraint['margin'+f]=m.stringId),null==i.styleMap[L]){var v=i.styleMap['min'+I],T=i.styleMap['min'+R],w=i.styleMap['max'+I],O=i.styleMap['max'+R];S(v)&&(i.app('layout_constraint'+I+'_min',p(v)),i.constraint['min'+I]=!0),S(w)&&(i.app('layout_constraint'+I+'_max',p(w)),i.constraint['max'+I]=!0),S(T)&&(i.app('layout_constraint'+R+'_min',p(T)),i.constraint['min'+R]=!0),S(O)&&(i.app('layout_constraint'+R+'_max',p(O)),i.constraint['max'+R]=!0)}if(o.enabled){var N=it.constraint;switch(i.app('layout_constraint'+f+'_weight',i.flex.grow.toString()),null==i['view'+I]&&0===i.flex.grow&&1>=i.flex.shrink?i.android('layout_'+L,'wrap_content'):0<i.flex.grow&&i.android('layout_'+L,t.renderParent.is(j.LINEAR)&&t.renderParent.constraint.expand&&-1!==t.flex.direction.indexOf('row')?'wrap_content':'0px'),0===i.flex.shrink&&i.app('layout_constrained'+I,'true'),i.flex.alignSelf){case'flex-start':i.app(N[x],'parent'),i.constraint[k]=!0;break;case'flex-end':i.app(N[A],'parent'),i.constraint[k]=!0;break;case'baseline':i.app(N.baseline,'parent'),l(i,'top','bottom'),g.list.forEach(function(e){e.app(N.top)===i.stringId&&l(e,'top'),e.app(N.bottom)===i.stringId&&l(e,'bottom')}),i.constraint.vertical=!0;break;case'center':case'stretch':'center'!==i.flex.alignSelf&&i.android('layout_'+R.toLowerCase(),'0px'),e.setAlignParent(i,k);}if('auto'!==i.flex.basis)if(/(100|[1-9][0-9]?)%/.test(i.flex.basis))i.app('layout_constraint'+I+'_percent',i.flex.basis);else{var C=p(i.flex.basis);'0px'!==C&&(i.app('layout_constraintWidth_min',C),delete i.styleMap.minWidth)}}},F=0;F<g.list.length;F++)B(F);N.app(s[b],'parent'),N.constraint[w]=!0,C.app(s[E],'parent'),C.constraint[w]=!0;var P='layout_constraint'+f+'_chainStyle';if(o.enabled&&'normal'!==o.justifyContent&&0===ce.apply(null,g.list.map(function(e){return e.flex.grow})))switch(o.justifyContent){case'space-between':N.app(P,'spread_inside');break;case'space-evenly':N.app(P,'spread'),g.list.forEach(function(e){return e.app('layout_constraint'+f+'_weight',(e.flex.grow||1).toString())});break;case'space-around':var G=0===a?'left':'top',M=(N.bounds[G]-t.box[G])/t.box[L];N.app('layout_constraint'+f+'_chainStyle','spread_inside'),e.addGuideline(t,N,w,!1,parseFloat(M.toFixed(2))),e.addGuideline(t,C,w,!0,parseFloat((1-M).toFixed(2)));break;default:var H=o.justifyContent;if(-1!==o.direction.indexOf('reverse'))switch(o.justifyContent){case'flex-start':H='flex-end';break;case'flex-end':H='flex-start';}var V='0.5';'flex-start'===H?V='0':'flex-end'===H?V='1':void 0,N.app(P,'packed'),N.app('layout_constraint'+f+'_bias',V);}else{if(o.enabled&&O(t.box.left,N.linear.left)&&O(C.linear.right,t.box.right))N.app(P,'spread_inside');else if(D<=Me['chainPacked'+f+'Offset']||'nowrap'!==t.flex.wrap||N.linear.left===t.box.left||C.linear.right===t.box.right){N.app(P,'packed');var z='';z=O(t.box.left,N.linear.left)?'0':O(C.linear.right,t.box.right)?'1':N[w+'Bias'],N.app('layout_constraint'+f+'_bias',z),e.adjustMargins(g.list)}else N.app(P,'spread');o.enabled||g.list.forEach(function(e){e.constraint.horizontalChain=[],e.constraint.verticalChain=[]})}}else if(0<g.length){var X=g.first;d(X,'left')&&l(X,'rightLeft'),d(X,'right')&&l(X,'leftRight')}})})}o.enabled||function(){var n=i.anchors;if(a&&0===n.length){var r=i.sortAsc('bounds.x','bounds.y')[0];Me.useConstraintGuideline?e.addGuideline(t,r):e.setAlignParent(r,'',!0),n.push(r)}do{var o=!1;if(i.list.forEach(function(e){if(!e.anchored){var t=a?I(e.app(),'*constraint*'):I(e.android(),s),i=function(t,i){'parent'!==i&&null!=n.find(function(e){return e.stringId===i})&&(!e.constraint.horizontal&&-1!==E(t,re('Left'),re('Right'))&&(e.constraint.horizontal=!0),!e.constraint.vertical&&-1!==E(t,'Top','Bottom','Baseline','above','below')&&(e.constraint.vertical=!0))},r=!0,d=!1,l=void 0;try{for(var u=t[Symbol.iterator](),p;!(r=(p=u.next()).done);r=!0){var h=p.value,c=Se(h,2),g=c[0],m=c[1];i(g,m)}}catch(e){d=!0,l=e}finally{try{!r&&u.return&&u.return()}finally{if(d)throw l}}e.anchored&&(n.push(e),o=!0)}}),!o)break}while(!0);a?(i.list.forEach(function(n){var a=Math.pow,r=Math.round;if(!n.anchored)if(e.deleteConstraints(t),Me.useConstraintGuideline)e.addGuideline(t,n);else{var o=i.anchors[0],d=n.center,l=o.center,s=ue(d.x-l.x),u=ue(d.y-l.y),p=r(Math.atan(he(s,u)/ce(s,u))*(180/Math.PI)),h=r(Math.sqrt(a(s,2)+a(u,2)));d.y>l.y?d.x>l.x?s>u?p+=90:p=180-p:s>u?p=270-p:p+=180:d.y<l.y?l.x>d.x?s>u?p+=270:p=360-p:s>u&&(p=90-p):p=d.x>l.x?90:270,n.app('layout_constraintCircle',o.stringId),n.app('layout_constraintCircleRadius',G(''+n.tagName,'constraintcircleradius',f(h))),n.app('layout_constraintCircleAngle',p.toString()),n.constraint.horizontal=!0,n.constraint.vertical=!0}}),i.list.forEach(function(e){d(e,'right')&&!d(e,'left')&&null==e.app(s.leftRight)&&(t.constraint.layoutWidth=!0),d(e,'bottom')&&!d(e,'top')&&null==e.app(s.topBottom)&&(t.constraint.layoutHeight=!0)})):i.list.forEach(function(i){var a=i.android(re('layout_alignParentRight')),r=i.android('layout_alignParentBottom');if(!n.includes(i)){var o=re('layout_alignParentLeft');if(i.delete('android',s),'true'!==i.android(o)){var d=f(ce(0,i.bounds.left-t.box.left));i.css(re('marginLeft'),d),i.android(o,'true'),i.android(re('layout_marginLeft'),d)}if('true'!==r){var l=f(ce(0,i.bounds.top-t.box.top));i.css('marginTop',l),i.android('layout_alignParentTop','true'),i.android('layout_marginTop',l)}i.constraint.horizontal=!0,i.constraint.vertical=!0}else e.adjustMargins([i]);'true'===a&&null==i.android(s.leftRight)&&(t.constraint.layoutWidth=!0),'true'===r&&null==i.android(s.topBottom)&&(t.constraint.layoutHeight=!0)})}()}();if('object'===('undefined'==typeof n?'undefined':fe(n)))return n.v}})}},{key:'setMarginPadding',value:function(){this.cache.list.forEach(function(e){if(e.is(j.LINEAR,j.RADIO_GROUP))switch(e.android('orientation')){case'horizontal':var t=e.box.left;C(e.renderChildren,'linear.left').forEach(function(e){if(!e.floating){var n=ge(e.linear.left-t);1<=n&&e.modifyBox(Ue.MARGIN_LEFT,n)}t=(e.label||e).linear.right});break;case'vertical':var n=e.box.top;C(e.renderChildren,'linear.top').forEach(function(e){var t=ge(e.linear.top-n);1<=t&&e.modifyBox(Ue.MARGIN_TOP,t),n=e.linear.bottom});}})}},{key:'renderGroup',value:function(e,t,n){var i=this,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},r='',o='',d=t;if(e.setViewId(et.getViewName(n)),0!==e.overflow){var l=[];e.overflowX&&l.push(Ne.SCROLL_HORIZONTAL),e.overflowY&&l.push(e.ascend().some(function(e){return 0!==e.overflow})?Ne.SCROLL_NESTED:Ne.SCROLL_VERTICAL);var s=e,u=t.renderDepth+l.length;l.map(function(t){var n=new tt(i.cache.nextId,s,null,[s]),a=n;n.setViewId(t),n.setBounds(),n.inheritGrid(s),n.android('fadeScrollbars','false'),i.cache.list.push(a),t===Ne.SCROLL_HORIZONTAL?(n.css('width',e.styleMap.width),n.css('minWidth',e.styleMap.minWidth),n.css('overflowX',e.styleMap.overflowX)):(n.css('height',e.styleMap.height),n.css('minHeight',e.styleMap.minHeight),n.css('overflowY',e.styleMap.overflowY));var l=v(u--);return r=l+('<'+t+'{@'+n.id+'}>\n')+r,o+=l+('</'+t+'>\n'),s===e&&(e.parent=a,d=a),s=a,n}).reverse().forEach(function(e,n){0===n?(e.parent=t,e.render(t)):1===n?(e.parent=s,e.render(s)):void 0,s=e})}return e.apply(a),e.applyCustomizations(),e.render(d),e.setGravity(),this.setGridSpace(e),this.getEnclosingTag(e.renderDepth,et.getViewName(n),e.id,'{:'+e.id+'}',r,o)}},{key:'renderView',value:function(e,t,n){var i=this,a=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],r=e.element;switch('number'==typeof n&&(n=et.getViewName(n)),e.setViewId(n),r.tagName){case'IMG':switch(r.style.objectFit){case'contain':e.android('scaleType','centerInside');break;case'cover':e.android('scaleType','centerCrop');break;case'fill':e.android('scaleType','fitXY');break;case'scale-down':e.android('scaleType','fitCenter');}break;case'TEXTAREA':e.android('minLines','2'),2<r.rows&&e.android('maxLines',r.rows.toString()),0<r.maxLength&&e.android('maxLength',r.maxLength.toString()),e.android('hint',r.placeholder),e.android('scrollbars','vertical'),e.android('inputType','textMultiLine'),e.overflowX&&e.android('scrollHorizontally','true');break;case'INPUT':switch(r.type){case'radio':if(!a){var o=e.parentOriginal.children.filter(function(e){return'radio'===e.element.type&&e.element.name===r.name}),d='';if(1<o.length){var l=new tt(this.cache.nextId,e,t,o),s=l,u='';return this.cache.list.push(s),l.setViewId(Ne.RADIO_GROUP),l.render(t),o.forEach(function(e){l.inheritGrid(e),e.element.checked&&(u=e.stringId),e.parent=l,e.render(l),d+=i.renderView(e,s,j.RADIO,!0)}),l.android('orientation',Oe.linearX(l.children)?'horizontal':'vertical'),''!==u&&l.android('checkedButton',u),l.setBounds(),this.setGridSpace(s),this.getEnclosingTag(l.renderDepth,Ne.RADIO_GROUP,l.id,d)}}break;case'password':e.android('inputType','textPassword');break;case'text':e.android('inputType','text');break;case'range':S(r.min)&&e.android('min',r.min),S(r.max)&&e.android('max',r.max),S(r.value)&&e.android('progess',r.value);}}switch(e.viewName){case Ne.TEXT:if(0!==e.overflow){var p=[];e.overflowX&&p.push('horizontal'),e.overflowY&&p.push('vertical'),e.android('scrollbars',p.join('|'))}}return e.applyCustomizations(),e.render(t),e.setGravity(),e.setAccessibility(),e.cascade().forEach(function(e){return e.hide()}),this.setGridSpace(e),this.getEnclosingTag(e.renderDepth,e.viewName,e.id)}},{key:'createGroup',value:function(e,t,n){var i=new tt(this.cache.nextId,e,t,n);return n.forEach(function(e){e.parent=i,i.inheritGrid(e)}),i.setBounds(),this.cache.list.push(i),i}},{key:'getViewStatic',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:'',r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,o=!!(6<arguments.length&&void 0!==arguments[6])&&arguments[6],d=!1;null==r&&(r=new et(0,Me.targetAPI),d=!0);var l='number'==typeof e?et.getViewName(e):e;e=null!=r&&r.hasElement?r.tagName:l,r.setViewId(l),S(i)&&(!isNaN(parseInt(i))&&(i=G(e,'width',i)),r.android('layout_width',i)),S(a)&&(!isNaN(parseInt(a))&&(a=G(e,'height',a)),r.android('layout_height',a)),r.renderDepth=t,r.apply(n);var s=this.getEnclosingTag(0===t&&d?-1:t,l,r.id,o?'{:'+r.id+'}':'');if(Me.showAttributes&&0===r.id){var u=v(t+1),p=r.combine().map(function(e){return'\n'+(u+e)}).join('');s=s.replace('{@'+r.id+'}',p)}return n.stringId=r.stringId,s}},{key:'setAttributes',value:function(e){var t=this,n=e.cache.filter(function(e){return e.visible}).map(function(e){return{pattern:'{@'+e.id+'}',attributes:t.parseAttributes(e)}});[].concat(ke(e.views),ke(e.includes)).forEach(function(e){n.forEach(function(t){return e.content=e.content.replace(t.pattern,t.attributes)}),e.content=e.content.replace('{#0}',t.getRootNamespace(e.content))})}},{key:'insertAttributes',value:function(e,t){return e.replace('{@'+t.id+'}',this.parseAttributes(t))}},{key:'setDimensions',value:function(e){var t=this,n={};if(e.cache.forEach(function(e){if(e.setViewLayout(),Me.dimensResourceValue&&e.visible){var i=e.tagName.toLowerCase();null==n[i]&&(n[i]={});var a=n[i],r=!0,o=!1,d=void 0;try{for(var l=Object.keys(Ue)[Symbol.iterator](),s;!(r=(s=l.next()).done);r=!0){var u=s.value,p=e.boxValue(parseInt(u));if(''!==p[0]&&'0px'!==p[1]){var h=Ue[u].toLowerCase()+'-'+p[0]+'-'+p[1];t.addDimenGroup(a,e,h)}}}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}['android:layout_width:width','android:layout_height:height','android:minWidth:minwidth','android:minHeight:minheight','app:layout_constraintWidth_min:constraintwidth_min','app:layout_constraintHeight_min:constraintheight_min'].forEach(function(n){var i=n.split(':'),r=Se(i,3),o=r[0],d=r[1],l=r[2];t.addDimenGroup(a,e,l,d,e[o](d))})}}),Me.dimensResourceValue){var i=Ze.STORED.DIMENS;for(var a in n){var r=n[a],o=function(e){var n=e.split('-'),o=Se(n,3),d=o[0],l=o[1],s=o[2],u=t.getDimenResourceKey(i,a+'_'+re(d),s);r[e].forEach(function(e){return e[-1===l.indexOf('constraint')?'android':'app'](l,'@dimen/'+u)}),i.set(u,s)};for(var d in r)o(d)}}}},{key:'parseDimensions',value:function(e){for(var t=Ze.STORED.DIMENS,n=/\s+\w+:\w+="({%(\w+)-(\w+)-(\w+)})"/g,i=void 0,a;null!=(i=n.exec(e));)a=this.getDimenResourceKey(t,i[2]+'_'+re(i[3]),i[4]),t.set(a,i[4]),e=e.replace(new RegExp(i[1],'g'),'@dimen/'+a);return e}},{key:'getViewName',value:function(e){return et.getViewName(e)}},{key:'parseAttributes',value:function(e){var t='',n=e.combine(),i=v(e.renderDepth+1);return t=n.map(function(e){return'\n'+(i+e)}).join(''),t}},{key:'getRootNamespace',value:function(e){var t='';for(var n in Be)new RegExp('\\s+'+n+':').test(e)&&(t+='\n\t'+Be[n]);return t}},{key:'addDimenGroup',value:function(e,t,n,i,a){var r=n;if(5===arguments.length)if(a&&/(px|dp|sp)$/.test(a))r=n+'-'+i+'-'+a;else return;null==e[r]&&(e[r]=[]),e[r].push(t)}},{key:'getDimenResourceKey',value:function(e,t,n){return e.has(t)&&e.get(t)!==n&&(t=a('dimens',t+'_1')),t}},{key:'setGridSpace',value:function(e){if(e.parent.is(j.GRID)){var t=ne(e.parentOriginal.element,!0),n={android:{layout_columnSpan:e.renderParent.gridColumnCount}};if(e.gridFirst){var i=t.paddingTop+t.marginTop;0<i&&(e.parent.gridPadding.top=i)}if(e.gridRowStart){var a=t.marginLeft+t.paddingLeft;0<a&&e.parent.gridPadding.left.push(a)}if(e.gridRowEnd){var r=t.marginBottom+t.paddingBottom+(e.gridLast?0:t.marginTop+t.paddingTop);0<r&&(e.gridLast?e.parent.gridPadding.bottom=r:this.appendAfter(e.id,this.getViewStatic(j.SPACE,e.renderDepth,n,'match_parent',p(r))));var o=t.marginRight+t.paddingRight;0<o&&e.parent.gridPadding.right.push(o)}}}},{key:'setAlignParent',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=it.constraint;['horizontal','vertical'].forEach(function(a,r){(''===t||a===t)&&(e.app(i[0===r?'left':'top'],'parent'),e.app(i[0===r?'right':'bottom'],'parent'),e.constraint[a]=!0,n&&e.app('layout_constraint'+(a.charAt(0).toUpperCase()+a.substring(1))+'_bias',e[a+'Bias']))})}},{key:'addGuideline',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',i=this,a=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:-1,o=it.constraint,d='layout_constraintGuide_'+(-1===r?'begin':'percent');['horizontal','vertical'].forEach(function(l,s){if(''===n&&!t.constraint[l]||n===l){var u=0===s?'left':'top',p={android:{orientation:0===s?'vertical':'horizontal'},app:ve({},d,-1===r?G(t.tagName,'constraintguide_begin',f(ce(t.bounds[u]-e.box[u],0))):r)},h=0===s?a?'right':'left':a?'bottom':'top',c=0===s?a?'left':'right':a?'top':'bottom',g=i.getViewStatic(j.GUIDELINE,t.renderDepth,p,'wrap_content','wrap_content');i.appendAfter(t.id,g),t.app(o[h],p.stringId),t.delete('app',o[c]),t.constraint[l]=!0}})}},{key:'deleteConstraints',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=it.constraint;(''===t||'horizontal'===t)&&(e.delete('app',n.leftRight,n.rightLeft),e.constraint.horizontal=!1),(''===t||'vertical'===t)&&(e.delete('app',n.bottomTop,n.topBottom,n.baseline),e.constraint.vertical=!1)}},{key:'findByAndroidId',value:function(e){return this.cache.list.find(function(t){return t.android('id')===e})}},{key:'adjustMargins',value:function(e){var t=!0,n=!1,i=void 0;try{for(var a=e[Symbol.iterator](),r,o;!(t=(r=a.next()).done);t=!0){if(o=r.value,null!=o.constraint.marginHorizontal){var d=this.findByAndroidId(o.constraint.marginHorizontal);if(null!=d){var l=o.linear.left-d.linear.right;1<=l&&o.modifyBox(Ue.MARGIN_LEFT,l)}}if(null!=o.constraint.marginVertical){var s=this.findByAndroidId(o.constraint.marginVertical);if(null!=s){var u=o.linear.top-s.linear.bottom;1<=u&&o.modifyBox(Ue.MARGIN_TOP,u)}}}}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}}}]),t}(Je),ot=['!0','<?xml version="1.0" encoding="utf-8"?>','<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">','!1','\t<stroke android:width="{&width}" {borderStyle} />','!1','!2','!3','\t<solid android:color="@color/{&color}" />','!3','!4','\t<corners android:radius="{&radius}" />','!4','!5','\t<corners android:topLeftRadius="{&topLeftRadius}" android:topRightRadius="{&topRightRadius}" android:bottomRightRadius="{&bottomRightRadius}" android:bottomLeftRadius="{&bottomLeftRadius}" />','!5','!2','</shape>','!0'].join('\n'),dt=['!0','<?xml version="1.0" encoding="utf-8"?>','<layer-list xmlns:android="http://schemas.android.com/apk/res/android">','!1','\t<item android:top="{@top}" android:right="{@right}" android:bottom="{@bottom}" android:left="{@left}">','\t\t<shape android:shape="rectangle">','!2','\t\t\t<stroke android:width="{&width}" {borderStyle} />','!2','!3','\t\t\t<solid android:color="@color/{&color}" />','!3','!4','\t\t\t<corners android:radius="{&radius}" />','!4','!5','\t\t\t<corners android:topLeftRadius="{@topLeftRadius}" android:topRightRadius="{@topRightRadius}" android:bottomRightRadius="{@bottomRightRadius}" android:bottomLeftRadius="{@bottomLeftRadius}" />','!5','\t\t</shape>','\t</item>','!1','!6','\t<item android:drawable="@drawable/{image}" width="{@width}" height="{@height}" />','!6','</layer-list>','!0'].join('\n'),lt={STRINGS:new Map,ARRAYS:new Map,FONTS:new Map,COLORS:new Map,STYLES:new Map,DIMENS:new Map,DRAWABLES:new Map,IMAGES:new Map},st;Object.assign(lt,Ze.STORED);var ut={boxSpacing:{margin:'android:layout_margin="{0}"',marginTop:'android:layout_marginTop="{0}"',marginRight:'android:layout_marginRight="{0}"',marginBottom:'android:layout_marginBottom="{0}"',marginLeft:'android:layout_marginLeft="{0}"',padding:'android:padding="{0}"',paddingTop:'android:paddingTop="{0}"',paddingRight:'android:paddingRight="{0}"',paddingBottom:'android:paddingBottom="{0}"',paddingLeft:'android:paddingLeft="{0}"'},boxStyle:{background:'android:background="@drawable/{0}"',backgroundColor:'android:background="@color/{0}"'},fontStyle:{fontFamily:'android:fontFamily="{0}"',fontStyle:'android:textStyle="{0}"',fontWeight:'android:fontWeight="{0}"',fontSize:'android:textSize="{0}"',color:'android:textColor="{0}"',backgroundColor:'android:background="{0}"'},valueString:{text:'android:text="{0}"'},optionArray:{entries:'android:entries="@array/{0}"'},imageSource:{src:'android:src="@drawable/{0}"'}},pt=function(e){function t(e){be(this,t);var n=Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tagStyle={},n.tagCount={},n.file.stored=lt,n}return Te(t,e),xe(t,[{key:'finalize',value:function(e){this.processFontStyle(e)}},{key:'reset',value:function(){Ae(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'reset',this).call(this),lt.ARRAYS=new Map,lt.FONTS=new Map,lt.STYLES=new Map,lt.DRAWABLES=new Map,Object.assign(lt,Ze.STORED),this.file.reset(),this.tagStyle={},this.tagCount={}}},{key:'setBoxSpacing',value:function(){Ae(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setBoxSpacing',this).call(this),this.cache.elements.forEach(function(e){var t=e.element.__boxSpacing;if(null!=t){var n=ut.boxSpacing;for(var a in t)e.attr(r(re(n[a]),t[a]))}})}},{key:'setBoxStyle',value:function(){var e=this;Ae(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setBoxStyle',this).call(this),this.cache.elements.forEach(function(t){var n=t.element,i=n,a=i.__boxStyle;if(null!=a){var o=ut.boxStyle,d=t.label;if(d&&!te(d.element,'backgroundColor')&&(a.backgroundColor=d.element.__boxStyle.backgroundColor),e.borderVisible(a.borderTop)||e.borderVisible(a.borderRight)||e.borderVisible(a.borderBottom)||e.borderVisible(a.borderLeft)||''!==a.backgroundImage||0<a.borderRadius.length){var l=void 0,s=void 0,u='';if(null!=a.border&&''===a.backgroundImage){if(l=H(ot),s={0:[{1:e.getShapeAttribute(a,'stroke'),2:!!(0<a.backgroundColor.length||0<a.borderRadius.length)&&[{3:e.getShapeAttribute(a,'backgroundColor'),4:e.getShapeAttribute(a,'radius'),5:e.getShapeAttribute(a,'radiusInit')}]}]},1<a.borderRadius.length){var p=M(s,'0','2'),h=e.getShapeAttribute(a,'radiusAll');p[5].push(h)}}else if(null==a.border){l=H(dt),s={0:[{1:[],6:''!==a.backgroundImage&&[{image:a.backgroundImage,width:a.backgroundSize[0],height:a.backgroundSize[1]}]}]};var c=M(s,'0'),g={};1<a.borderRadius.length&&Object.assign(g,{topLeftRadius:a.borderRadius[0],topRightRadius:a.borderRadius[1],bottomRightRadius:a.borderRadius[2],bottomLeftRadius:a.borderRadius[3]}),[a.borderTop,a.borderRight,a.borderBottom,a.borderLeft].forEach(function(t,n){if(e.borderVisible(t)){var i='-'+t.width,r={top:i,right:i,bottom:i,left:i,2:[{width:t.width,borderStyle:e.getBorderStyle(t)}],3:e.getShapeAttribute(a,'backgroundColor'),4:e.getShapeAttribute(a,'radius'),5:e.getShapeAttribute(a,'radiusInit')};r[['top','right','bottom','left'][n]]=t.width,1<a.borderRadius.length&&r[5].push(g),c[1].push(r)}}),0===c[1].length&&(c[1]=!1)}else if(l=H(dt),s={0:[{1:[{2:e.getShapeAttribute(a,'stroke'),3:e.getShapeAttribute(a,'backgroundColor'),4:e.getShapeAttribute(a,'radius'),5:e.getShapeAttribute(a,'radiusInit')}],6:''!==a.backgroundImage&&[{image:a.backgroundImage,width:a.backgroundSize[0],height:a.backgroundSize[1]}]}]},1<a.borderRadius.length){var m=M(s,'0','1'),f=e.getShapeAttribute(a,'radiusAll');m[5].push(f)}var y=V(l,s),_=!0,b=!1,x=void 0;try{for(var v=lt.DRAWABLES.entries()[Symbol.iterator](),E;!(_=(E=v.next()).done);_=!0){var A=E.value,T=Se(A,2),I=T[0],R=T[1];if(R===y){u=I;break}}}catch(e){b=!0,x=e}finally{try{!_&&v.return&&v.return()}finally{if(b)throw x}}''===u&&(u=t.tagName.toLowerCase()+'_'+t.viewId,lt.DRAWABLES.set(u,y)),t.attr(r(o.background,u))}else null==i.__fontStyle&&0<a.backgroundColor.length&&t.attr(r(o.backgroundColor,a.backgroundColor[0]))}})}},{key:'setFontStyle',value:function(){var e=this;Ae(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setFontStyle',this).call(this);var n={};this.cache.list.forEach(function(e){null!=e.element.__fontStyle&&(null==n[e.tagName]&&(n[e.tagName]=[]),n[e.tagName].push(e))});var i=function(t){var a=n[t],o=[];if(a.forEach(function(e){if(null==e.labelFor){var t=!1,n=null;null!=e.label&&(n=e,e=e.label);var a=e.element,d=(n||e).id,l=Object.assign({},a.__fontStyle);if(null!=l.fontFamily){var s=l.fontFamily.toLowerCase().split(',')[0].replace(/"/g,'').trim(),u='',p='';if(Fe[s]&&Me.targetAPI>=Fe[s]||Me.useFontAlias&&Pe[s]&&Me.targetAPI>=Fe[Pe[s]]?(t=!0,l.fontFamily=s,'normal'===l.fontStyle&&delete l.fontStyle,'400'===l.fontWeight&&delete l.fontWeight):(l.fontFamily='@font/'+(s.replace(/ /g,'_')+('normal'===l.fontStyle?'':'_'+l.fontStyle)+('400'===l.fontWeight?'':'_'+(Ge[l.fontWeight]||l.fontWeight))),u=l.fontStyle,p=l.fontWeight,delete l.fontStyle,delete l.fontWeight),!t){var h=lt.FONTS.get(s)||{};Object.assign(h,ve({},u+'-'+p,!0)),lt.FONTS.set(s,h)}}for(var c=ut.fontStyle,g=Object.keys(c),m=0;m<g.length;m++){null==o[m]&&(o[m]={});var f=l[g[m]];if(S(f)){var y=r(c[g[m]],f);null==o[m][y]&&(o[m][y]=[]),o[m][y].push(d)}}}}),null!=e.tagStyle[t]){for(var d=e.tagStyle[t],l=0;l<d.length;l++)for(var s in d[l])if(null!=o[l][s]){var u;(u=o[l][s]).push.apply(u,ke(d[l][s]))}else o[l][s]=d[l][s];e.tagCount[t]+=a.filter(function(e){return e.visible}).length}else e.tagCount[t]=a.filter(function(e){return e.visible}).length;e.tagStyle[t]=o};for(var a in n)i(a)}},{key:'setImageSource',value:function(){Ae(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setImageSource',this).call(this),this.cache.list.filter(function(e){return'IMG'===e.tagName}).forEach(function(e){var t=e.element,n=t.__imageSource;if(null!=n){var i=ut.imageSource;e.attr(r(i.src,n))}})}},{key:'setOptionArray',value:function(){Ae(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setOptionArray',this).call(this),this.cache.list.filter(function(e){return'SELECT'===e.tagName}).forEach(function(e){var t=e.element.__optionArray,n=ut.optionArray,i=[];if(null!=t.stringArray){var a=!0,o=!1,d=void 0;try{for(var l=t.stringArray[Symbol.iterator](),s;!(a=(s=l.next()).done);a=!0){var u=s.value,p=lt.STRINGS.get(u);i.push(null==p?u:'@string/'+p)}}catch(e){o=!0,d=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw d}}}null!=t.numberArray&&(i=t.numberArray);var h='',c=i.join('-'),g=!0,m=!1,f=void 0;try{for(var y=lt.ARRAYS.entries()[Symbol.iterator](),_;!(g=(_=y.next()).done);g=!0){var b=_.value,x=Se(b,2),v=x[0],E=x[1];if(c===E.join('-')){h=v;break}}}catch(e){m=!0,f=e}finally{try{!g&&y.return&&y.return()}finally{if(m)throw f}}''===h&&(h=e.viewId+'_array',lt.ARRAYS.set(h,i)),e.attr(r(n.entries,h))})}},{key:'setValueString',value:function(){Ae(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setValueString',this).call(this),this.cache.list.forEach(function(e){var t=null==e.label?e.element:e.label.element,n=t.__valueString;if(null!=n){var i=ut.valueString,a=lt.STRINGS.get(n);if(e.is(j.TEXT)&&null!=e.style){var o=e.style.textDecoration.match(/(underline|line-through)/);if(null!=o){var d='';switch(o[0]){case'underline':d='<u>'+n+'</u>';break;case'line-through':d='<strike>'+n+'</strike>';}null==a&&(a=''+d.replace(/[^\w+]/g,'')),/^[0-9]/.test(a)&&(a='__'+a),lt.STRINGS.delete(n),lt.STRINGS.set(d,a)}}e.attr(r(i.text,null==a?n:'@string/'+a))}})}},{key:'processFontStyle',value:function(e){var t=this,n={},a={};for(var r in this.tagStyle){n[r]={},a[r]={};var o=this.tagStyle[r].filter(function(e){return 0<Object.keys(e).length}).sort(function(e,t){var n=0,i=0,a=0,r=0;for(var o in e)n=ce(e[o].length,n),a+=e[o].length;for(var d in t)i=ce(t[d].length,i),r+=t[d].length;return n===i?a>=r?-1:1:n>i?-1:1}),d=this.tagCount[r];do if(1===o.length){for(var s in o[0]){var u=o[0][s];2<u.length?n[r][s]=u:a[r][s]=u}o.length=0}else{for(var p={},h={},c=function(e){var i={},a={},l=new Set;for(var s in o[e])if(null!=o[e]){var u=o[e][s],c=!1;if(null==u||0===u.length)continue;else u.length===d?(p[s]=u,o[e]=null,c=!0):1===u.length&&(h[s]=u,o[e][s]=null,c=!0);if(!c){for(var g={},m=!1,f=0;f<o.length;f++)if(e!==f)for(var y in o[f]){var _=o[f][y],b=!0,x=!1,v=void 0;try{for(var E=u[Symbol.iterator](),A,T;!(b=(A=E.next()).done);b=!0)T=A.value,_.includes(T)&&(null==g[y]&&(g[y]=[]),g[y].push(T))}catch(e){x=!0,v=e}finally{try{!b&&E.return&&E.return()}finally{if(x)throw v}}}for(var I in g)1<g[I].length&&(i[[s,I].sort().join(';')]=g[I],m=!0);m||(i[s]=u)}}for(var R in i)for(var w in i)if(R!==w&&i[R].join('')===i[w].join('')){var S=i[R].join(',');a[S]=null==a[S]?new Set([].concat(ke(R.split(';')),ke(w.split(';')))):new Set([].concat(ke(a[S]),ke(w.split(';')))),l.add(R).add(w)}for(var k in l.forEach(function(e){return delete i[e]}),i)t.deleteStyleAttribute(o,k,i[k]),n[r][k]=i[k];for(var L in a){var O=Array.from(a[L]).sort().join(';'),N=L.split(',').map(function(e){return parseInt(e)});t.deleteStyleAttribute(o,O,N),n[r][O]=N}},g=0;g<o.length;g++)c(g);var m=Object.keys(p);for(var f in 0<m.length&&(1<m.length||1<p[m[0]].length?n[r][m.join(';')]=p[m[0]]:Object.assign(h,p)),h)a[r][f]=h[f];for(var g=0;g<o.length;g++)o[g]&&0===Object.keys(o[g]).length&&delete o[g];o=o.filter(function(e){return e&&0<e.length})}while(0<o.length)}var y={},_=function(e){var t=n[e],i=[];for(var a in t)i.push({attributes:a,ids:t[a]});i.sort(function(e,t){var n=[e.ids.length,t.ids.length],i=n[0],a=n[1];if(i===a){var r=[e.attributes.split(';').length,t.attributes.split(';').length];i=r[0],a=r[1]}return i>=a?-1:1}),i.forEach(function(t,n){return t.name=l(e)+(0<n?'_'+n:'')}),y[e]=i};for(var b in n)_(b);var x=new Set,E={};for(var b in y){var A=!0,T=!1,I=void 0;try{for(var R=y[b][Symbol.iterator](),w;!(A=(w=R.next()).done);A=!0){var S=w.value,k=!0,L=!1,O=void 0;try{for(var N=S.ids[Symbol.iterator](),C,D;!(k=(C=N.next()).done);k=!0)D=C.value,null==E[D]&&(E[D]={styles:[],attributes:[]}),E[D].styles.push(S.name)}catch(e){L=!0,O=e}finally{try{!k&&N.return&&N.return()}finally{if(L)throw O}}}}catch(e){T=!0,I=e}finally{try{!A&&R.return&&R.return()}finally{if(T)throw I}}var B=a[b];if(null!=B)for(var G in B){var M=function(t){if(G.startsWith('android:background=')){var n=e.cache.find(function(e){return e.id===t});if(n&&null!=n.android('backround'))return'continue'}null==E[t]&&(E[t]={styles:[],attributes:[]}),E[t].attributes.push(G)},H=!0,V=!1,z=void 0;try{for(var X=B[G][Symbol.iterator](),W;!(H=(W=X.next()).done);H=!0){var U=W.value,j=M(U)}}catch(e){V=!0,z=e}finally{try{!H&&X.return&&X.return()}finally{if(V)throw z}}}}var Y=function(t){var n=e.cache.find(function(e){return e.id===parseInt(t)});if(null!=n){var i=E[t].styles,a=E[t].attributes,r=v(n.renderDepth+1),o='';0<i.length&&(x.add(i.join('.')),o+='\n'+r+'style="@style/'+i.pop()+'"'),0<a.length&&a.sort().forEach(function(e){return o+='\n'+r+P(e,Me.density,!0)});var d=!1;if([n,n.parent].some(function(e){if(null!=e.renderExtension){var n=e.renderExtension.name+':insert',i=e.options(n);if(i){if(-1!==i.indexOf('{&'+t+'}'))return i=i.replace('{&'+t+'}',F(o)),e.options(n,i),d=!0,!0}}return!1}),!d)for(var l=[].concat(ke(e.views),ke(e.includes)),s=0;s<l.length;s++){var u=l[s].content,p='{&'+t+'}';if(-1!==u.indexOf(p)){l[s].content=u.replace(p,o);break}}}};for(var q in E)Y(q);var K=function(e){var t='';e.split('.').forEach(function(e){var n=e.match(/^(\w*?)(?:_([0-9]+))?$/);if(null!=n){var i=y[n[1].toUpperCase()][null==n[2]?0:parseInt(n[2])];lt.STYLES.set(e,{parent:t,attributes:i.attributes}),t=e}})},J=!0,Z=!1,Q=void 0;try{for(var $=x[Symbol.iterator](),ee,te;!(J=(ee=$.next()).done);J=!0)te=ee.value,K(te)}catch(e){Z=!0,Q=e}finally{try{!J&&$.return&&$.return()}finally{if(Z)throw Q}}}},{key:'deleteStyleAttribute',value:function(e,t,n){t.split(';').forEach(function(t){for(var a=0;a<e.length;a++)if(null!=e[a]){var r=-1,o='';for(var d in e[a])if(d===t){r=a,o=d,a=e.length;break}if(-1!==r){e[r][o]=e[r][o].filter(function(e){return!n.includes(e)}),0===e[r][o].length&&delete e[r][o];break}}})}},{key:'getShapeAttribute',value:function(e,t){switch(t){case'stroke':return'0px'!==e.border.width&&[{width:e.border.width,borderStyle:this.getBorderStyle(e.border)}];case'backgroundColor':return!!(0<e.backgroundColor.length)&&[{color:e.backgroundColor[0]}];case'radius':return 1===e.borderRadius.length&&'0px'!==e.borderRadius[0]&&[{radius:e.borderRadius[0]}];case'radiusInit':return!!(1<e.borderRadius.length)&&[];case'radiusAll':var n={};return e.borderRadius.forEach(function(e,t){return n[['topLeft','topRight','bottomRight','bottomLeft'][t]+'Radius']=e}),n;}}}]),t}(Ze),ht=function(){function e(t,n,i){be(this,e),this.directory=t,this.processingTime=n,this.appName='',this.queue=[],this.compression='zip',S(i)&&(this.compression=i)}return xe(e,[{key:'addFile',value:function(e,t,n,i){(''!==n||''!==i)&&this.queue.push({pathname:e,filename:t,content:n,uri:i})}},{key:'reset',value:function(){this.queue=[]}},{key:'saveToDisk',value:function(e){var t=this;return location.protocol.startsWith('http')?void(null!=e&&0<e.length&&(e.push.apply(e,ke(this.queue)),fetch('/api/savetodisk?directory='+encodeURIComponent(x(this.directory,'/'))+'&appname='+encodeURIComponent(this.appName.trim())+'&filetype='+this.compression.toLocaleLowerCase()+'&processingtime='+this.processingTime.toString().trim(),{method:'POST',body:JSON.stringify(e),headers:new Headers({Accept:'application/json, text/plain, */*',"Content-Type":'application/json'})}).then(function(e){return e.json()}).then(function(e){e&&(null==e.zipname?null!=e.system&&alert(e.application+'\n\n'+e.system):fetch('/api/downloadtobrowser?filename='+encodeURIComponent(e.zipname)).then(function(e){return e.blob()}).then(function(n){return t.downloadToDisk(n,A(e.zipname))}))}).catch(function(e){return alert('ERROR: '+e)}))):void alert('SERVER (required): See README for instructions')}},{key:'downloadToDisk',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',i=new Blob([e],{type:n||'application/octet-stream'});if('undefined'!=typeof window.navigator.msSaveBlob)return void window.navigator.msSaveBlob(i,t);var a=window.URL.createObjectURL(i),r=document.createElement('a');r.style.display='none',r.href=a,r.setAttribute('download',t),'undefined'==typeof r.download&&r.setAttribute('target','_blank'),document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout(function(){return window.URL.revokeObjectURL(a)},100)}}]),e}(),ct=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<string name="{name}">{value}</string>','!1','</resources>','<!-- filename: res/values/strings.xml -->','!0'].join('\n'),gt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<string-array name="{name}">','!2','\t\t<item>{value}</item>','!2','\t</string-array>','!1','</resources>','<!-- filename: res/values/string_arrays.xml -->','!0'].join('\n'),mt=['!0','<?xml version="1.0" encoding="utf-8"?>','<font-family xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="{#app=http://schemas.android.com/apk/res-auto}">','!1','\t<font android:fontStyle="{style}" android:fontWeight="{weight}" android:font="{font}" app:fontStyle="{#app=style}" app:fontWeight="{#app=weight}" app:font="{#app=font}" />','!1','</font-family>','<!-- filename: res/font/{name}.xml -->','!0'].join('\n'),ft=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<color name="{value}">{name}</color>','!1','</resources>','<!-- filename: res/values/colors.xml -->','!0'].join('\n'),yt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<style name="{name1}" parent="{@parent}">','!2','\t\t<item name="{name2}">{value}</item>','!2','\t</style>','!1','</resources>','<!-- filename: res/values/styles.xml -->','!0'].join('\n'),_t=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<dimen name="{name}">{value}</dimen>','!1','</resources>','<!-- filename: res/values/dimens.xml -->','!0'].join('\n'),bt=['!0','{value}','<!-- filename: {name} -->','!0'].join('\n'),xt=function(t){function n(){return be(this,n),Ie(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Me.outputDirectory,Me.outputMaxProcessingTime,Me.outputArchiveFileType))}return Te(n,t),xe(n,[{key:'saveAllToDisk',value:function(e){for(var t=[],n=[].concat(ke(e.views),ke(e.includes)),a=0,r;a<n.length;a++)r=n[a],t.push(this.getLayoutFile(r.pathname,0===a?Me.outputActivityMainFileName:r.filename+'.xml',r.content));var o=this.resourceDrawableToXml();t.push.apply(t,ke(this.parseFileDetails(this.resourceStringToXml()))),t.push.apply(t,ke(this.parseFileDetails(this.resourceStringArrayToXml()))),t.push.apply(t,ke(this.parseFileDetails(this.resourceFontToXml()))),t.push.apply(t,ke(this.parseFileDetails(this.resourceColorToXml()))),t.push.apply(t,ke(this.parseFileDetails(this.resourceStyleToXml()))),t.push.apply(t,ke(this.parseFileDetails(this.resourceDimenToXml()))),t.push.apply(t,ke(this.parseImageDetails(o)).concat(ke(this.parseFileDetails(o)))),this.saveToDisk(t)}},{key:'layoutAllToXml',value:function(e){for(var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n={},a=[],r=[].concat(ke(e.views),ke(e.includes)),o=0,d;o<r.length;o++)d=r[o],n[d.filename]=d.content,t&&a.push(this.getLayoutFile(d.pathname,0===o?Me.outputActivityMainFileName:d.filename+'.xml',d.content));return t&&this.saveToDisk(a),n}},{key:'resourceAllToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml()};if(e){var n=[];for(var i in t)'drawable'==i&&n.push.apply(n,ke(this.parseImageDetails(t[i]))),n.push.apply(n,ke(this.parseFileDetails(t[i])));this.saveToDisk(n)}return t}},{key:'resourceStringToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.STRINGS=new Map([].concat(ke(this.stored.STRINGS.entries())).sort(N));var t='';if(0<this.stored.STRINGS.size){var n=H(ct),i={0:[{1:[]}]},a=M(i,'0');S(this.appName)&&!this.stored.STRINGS.has('app_name')&&a[1].push({name:'app_name',value:this.appName});var r=!0,o=!1,d=void 0;try{for(var l=this.stored.STRINGS.entries()[Symbol.iterator](),s;!(r=(s=l.next()).done);r=!0){var u=s.value,p=Se(u,2),h=p[0],c=p[1];a[1].push({name:c,value:h})}}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}t=V(n,i),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceStringArrayToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.ARRAYS=new Map([].concat(ke(this.stored.ARRAYS.entries())).sort());var t='';if(0<this.stored.ARRAYS.size){var n=H(gt),i={0:[{1:[]}]},a=M(i,'0'),r=!0,o=!1,d=void 0;try{for(var l=this.stored.ARRAYS.entries()[Symbol.iterator](),s;!(r=(s=l.next()).done);r=!0){var u=s.value,p=Se(u,2),h=p[0],c=p[1],g={name:h,2:[]},m=g[2],f=!0,y=!1,_=void 0;try{for(var b=c[Symbol.iterator](),x,v;!(f=(x=b.next()).done);f=!0)v=x.value,m.push({value:v})}catch(e){y=!0,_=e}finally{try{!f&&b.return&&b.return()}finally{if(y)throw _}}a[1].push(g)}}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}t=V(n,i),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceFontToXml',value:function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.FONTS=new Map([].concat(ke(this.stored.FONTS.entries())).sort());var n='';if(0<this.stored.FONTS.size){var i=H(mt),a=!0,r=!1,o=void 0;try{for(var d=this.stored.FONTS.entries()[Symbol.iterator](),l;!(a=(l=d.next()).done);a=!0){var s=l.value,u=Se(s,2),p=u[0],h=u[1],c={"#include":{},"#exclude":{},0:[{name:p,1:[]}]};c[Me.targetAPI<e.build.OREO?'#include':'#exclude'].app=!0;var g=M(c,'0');for(var m in h){var f=m.split('-'),y=Se(f,2),_=y[0],b=y[1];g[1].push({style:_,weight:b,font:'@font/'+(p+('normal'===_&&'400'===b?'_'+_:('normal'===_?'':'_'+_)+('400'===b?'':'_'+(Ge[b]||b))))})}n+='\n\n'+V(i,c)}}catch(e){r=!0,o=e}finally{try{!a&&d.return&&d.return()}finally{if(r)throw o}}t&&this.saveToDisk(this.parseFileDetails(n))}return n.trim()}},{key:'resourceColorToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.COLORS.size){this.stored.COLORS=new Map([].concat(ke(this.stored.COLORS.entries())).sort());var n=H(ft),i={0:[{1:[]}]},a=M(i,'0'),r=!0,o=!1,d=void 0;try{for(var l=this.stored.COLORS.entries()[Symbol.iterator](),s;!(r=(s=l.next()).done);r=!0){var u=s.value,p=Se(u,2),h=p[0],c=p[1];a[1].push({name:h,value:c})}}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}t=V(n,i),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceStyleToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.STYLES.size){this.stored.STYLES=new Map([].concat(ke(this.stored.STYLES.entries())).sort());var n=H(yt),i={0:[{1:[]}]},a=M(i,'0'),r=function(e,t){var n={name1:e,parent:t.parent||'',2:[]};t.attributes.split(';').sort().forEach(function(e){var t=e.split('='),i=Se(t,2),a=i[0],r=i[1];n[2].push({name2:a,value:r.replace(/"/g,'')})}),a[1].push(n)},o=!0,d=!1,l=void 0;try{for(var s=this.stored.STYLES.entries()[Symbol.iterator](),u;!(o=(u=s.next()).done);o=!0){var p=u.value,h=Se(p,2),c=h[0],g=h[1];r(c,g)}}catch(e){d=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(d)throw l}}t=V(n,i),Me.useUnitDP&&(t=P(t,Me.density,!0)),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceDimenToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.DIMENS=new Map([].concat(ke(this.stored.DIMENS.entries())).sort());var t='';if(0<this.stored.DIMENS.size){var n=H(_t),i={0:[{1:[]}]},a=M(i,'0'),r=!0,o=!1,d=void 0;try{for(var l=this.stored.DIMENS.entries()[Symbol.iterator](),s;!(r=(s=l.next()).done);r=!0){var u=s.value,p=Se(u,2),h=p[0],c=p[1];a[1].push({name:h,value:c})}}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}t=V(n,i),Me.useUnitDP&&(t=P(t,Me.density)),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceDrawableToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.DRAWABLES.size||0<this.stored.IMAGES.size){var n=H(bt),i={0:[]},a=i[0],r=!0,o=!1,d=void 0;try{for(var l=this.stored.DRAWABLES.entries()[Symbol.iterator](),s;!(r=(s=l.next()).done);r=!0){var u=s.value,p=Se(u,2),h=p[0],c=p[1];a.push({name:'res/drawable/'+h+'.xml',value:c})}}catch(e){o=!0,d=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw d}}var g=!0,m=!1,f=void 0;try{for(var y=this.stored.IMAGES.entries()[Symbol.iterator](),_;!(g=(_=y.next()).done);g=!0){var b=_.value,x=Se(b,2),v=x[0],E=x[1];if(1<Object.keys(E).length)for(var T in E)a.push({name:'res/drawable-'+T+'/'+v+'.'+A(E[T],'.'),value:'<!-- image: '+E[T]+' -->'});else null!=E.mdpi&&a.push({name:'res/drawable/'+v+'.'+A(E.mdpi,'.'),value:'<!-- image: '+E.mdpi+' -->'})}}catch(e){m=!0,f=e}finally{try{!g&&y.return&&y.return()}finally{if(m)throw f}}t=V(n,i),Me.useUnitDP&&(t=P(t,Me.density)),e&&this.saveToDisk([].concat(ke(this.parseImageDetails(t)),ke(this.parseFileDetails(t))))}return t}},{key:'parseImageDetails',value:function(e){for(var t=[],n=/<!-- image: (.+) -->\n<!-- filename: (.+)\/(.*?\.\w+) -->/,i=null;null!=(i=n.exec(e));)t.push({uri:i[1],pathname:i[2],filename:i[3],content:''}),e=e.replace(i[0],'');return t}},{key:'parseFileDetails',value:function(e){for(var t=[],n=/<\?xml[\w\W]*?(<!-- filename: (.+)\/(.*?\.xml) -->)/,i=null;null!=(i=n.exec(e));)t.push({content:i[0].replace(i[1],'').trim(),pathname:i[2],filename:i[3]}),e=e.replace(i[0],'');return t}},{key:'getLayoutFile',value:function(e,t,n){return{pathname:e,filename:t,content:n}}}]),n}(ht),vt=function(){function e(t,n,i){be(this,e),this.name=t,this.options={},this.tagNames=[],this.enabled=!0,this.dependencies=[],this.activityMain=!1,Array.isArray(n)&&(this.tagNames=n.map(function(e){return e.trim().toUpperCase()})),null!=i&&Object.assign(this.options,i)}return xe(e,[{key:'is',value:function(e){return e.hasElement&&(0===this.tagNames.length||this.tagNames.includes(e.element.tagName))}},{key:'require',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];this.dependencies.push({name:e,init:t})}},{key:'included',value:function(e){return null==e&&(e=this.element),!!(null!=e&&e.dataset&&null!=e.dataset.ext)&&e.dataset.ext.split(',').map(function(e){return e.trim()}).includes(this.name)}},{key:'beforeInit',value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];!t&&this.included()&&this.dependencies.filter(function(e){return e.init}).forEach(function(t){var n=e.application.findExtension(t.name);null!=n&&(n.parent=e.parent,n.node=e.node,n.element=e.element,n.beforeInit(!0))})}},{key:'init',value:function(){return!1}},{key:'afterInit',value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];!t&&this.included()&&this.dependencies.filter(function(e){return e.init}).forEach(function(t){var n=e.application.findExtension(t.name);null!=n&&(n.parent=e.parent,n.node=e.node,n.element=e.element,n.afterInit(!0))})}},{key:'condition',value:function(){if(this.node&&this.node.hasElement&&null!=this.node.element.dataset){if(!this.node.element.dataset.ext)return 0<this.tagNames.length;var e=this.node.element.dataset.ext.split(',');return!(0===this.tagNames.length&&1<e.length)&&this.included()}return!1}},{key:'processNode',value:function(){return['',!1,!1]}},{key:'processChild',value:function(){return['',!1,this.application.elements.has(this.node.element)]}},{key:'afterRender',value:function(){}},{key:'finalize',value:function(){}}]),e}(),Et=function(e){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=arguments[2];return be(this,t),Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return Te(t,e),xe(t,[{key:'beforeInit',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if((e||this.included())&&null!=this.element){var t=this.element;if(null==t.__andromeExternalDisplay){for(var n=[],i=this.element;null!=i;)n.push(ee(i).display),i.style.display='block',i=i.parentElement;t.__andromeExternalDisplay=n}}}},{key:'init',value:function(e){return!!(this.included(e)&&null!=e.dataset.ext&&1>=e.dataset.ext.split(',').length)&&(this.application.elements.add(e),!0)}},{key:'afterInit',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if((e||this.included())&&null!=this.element){var t=this.element;if(null!=t.__andromeExternalDisplay){for(var n=t.__andromeExternalDisplay,a=this.element,r=0;null!=a;)a.style.display=n[r],a=a.parentElement,r++;delete t.__andromeExternalDisplay}}}}]),t}(vt),At=function(e){function t(e,n,i){return be(this,t),Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return Te(t,e),xe(t,[{key:'condition',value:function(){return Ae(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'condition',this).call(this)&&this.node.children.every(function(e){return'LI'===e.tagName})&&this.node.children.some(function(e){return'list-item'===e.css('display')&&'none'!==e.css('listStyleType')})&&(Oe.linearX(this.node.children)||Oe.linearY(this.node.children))}},{key:'processNode',value:function(){var e='';Oe.linearY(this.node.children)?(e=this.application.writeGridLayout(this.node,this.parent,2),this.node.android('layout_width','match_parent')):e=this.application.writeLinearLayout(this.node,this.parent,Oe.linearY(this.node.children));for(var t=0,n=0;t<this.node.children.length;t++){var a=this.node.children[t],r='0';if('list-item'===a.css('display')){var o=a.css('listStyleType');r='disc'===o?'\u25CF':'square'===o?'\u25A0':'lower-alpha'===o||'lower-latin'===o?c(n).toLowerCase()+'.':'upper-alpha'===o||'upper-latin'===o?c(n)+'.':'lower-roman'===o?g(n+1).toLowerCase()+'.':'upper-roman'===o?g(n+1)+'.':'OL'===this.node.tagName?(('decimal-leading-zero'===o&&9>n?'0':'')&&(n+1).toString())+'.':'\u25CB',n++}a.options(this.name,{listStyle:r})}return[e,!1,!1]}}]),t}(vt),Tt=function(e){function t(e,n,i){return be(this,t),Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return Te(t,e),xe(t,[{key:'processChild',value:function(){var e=this.node,t=this.application.controllerHandler,n=e.options(this.name);if(n&&null!=n.listStyle){var i;t.prependBefore(e.id,t.getViewStatic('0'===n.listStyle?j.SPACE:j.TEXT,e.depth+e.renderDepth,{android:(i={gravity:re('right'),layout_gravity:'fill',layout_columnWeight:'0'},ve(i,re('layout_marginRight'),G(e.tagName,re('margin_right'),'8px')),ve(i,'text','0'===n.listStyle?'':n.listStyle),i)})),e.android('layout_columnWeight','1')}return['',!1,!1]}}]),t}(At),It=function(e){function t(e,n,i){return be(this,t),Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return Te(t,e),xe(t,[{key:'processNode',value:function(){var e=[],t=this.node.children.find(function(e){return'THEAD'===e.tagName}),n=this.node.children.find(function(e){return'TBODY'===e.tagName}),a=this.node.children.find(function(e){return'TFOOT'===e.tagName});null!=t&&(t.cascade().filter(function(e){return'TH'===e.tagName||'TD'===e.tagName}).forEach(function(e){return e.inheritStyleMap(t)}),e.push.apply(e,ke(t.children)),t.hide()),null!=n&&(e.push.apply(e,ke(n.children)),n.hide()),null!=a&&(a.cascade().filter(function(e){return'TH'===e.tagName||'TD'===e.tagName}).forEach(function(e){return e.inheritStyleMap(a)}),e.push.apply(e,ke(a.children)),a.hide());for(var r=e.length,o=0,d=0,l;d<e.length;d++){l=e[d],l.hide(),o=ce(l.children.map(function(e){return e.element}).reduce(function(e,t){return e+t.colSpan},0),o);for(var s=0;s<l.children.length;s++){var u=l.children[s],p=u.element.style,h=u.element;1<h.rowSpan&&(u.gridRowSpan=h.rowSpan),1<h.colSpan&&(u.gridColumnSpan=h.colSpan),null!=u.styleMap.textAlign||'left'===p.textAlign||'start'===p.textAlign||(u.styleMap.textAlign=p.textAlign),null==u.styleMap.verticalAlign&&''===p.verticalAlign&&(u.styleMap.verticalAlign='middle');var c='collapse'===this.node.style.borderCollapse?['0px','0px']:this.node.style.borderSpacing.split(' '),g=Se(c,2),m=g[0],f=g[1];delete u.styleMap.margin,u.styleMap.marginTop=f,u.styleMap.marginRight=m,u.styleMap.marginBottom=f,u.styleMap.marginLeft=m,u.parent=this.node}}var y=this.application.writeGridLayout(this.node,this.parent,o,r);return[y,!1,!1]}}]),t}(vt),Rt=function(e){function t(e,n,i){return be(this,t),Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return Te(t,e),xe(t,[{key:'condition',value:function(){var e=this;return this.included()||null!=this.node.element.dataset&&null==this.node.element.dataset.ext&&!this.node.flex.enabled&&1<this.node.children.length&&Ye.includes(this.node.children[0].tagName)&&this.node.children.every(function(t){return!t.flex.enabled&&1<t.children.length&&e.node.children[0].tagName===t.tagName&&!t.children.some(function(e){return'right'===e.css('float')})})}},{key:'processNode',value:function(e){var t='',i=[],a=[],r=this.options.balanceColumns;if(r){for(var o=[],d=0,s;d<this.node.children.length;d++){s=this.node.children[d].children,o[d]=[];for(var u=0;u<s.length;u++)o[d].push(s[u].bounds.width);i.push(s)}var p=i[o.findIndex(function(e){return e===o.reduce(function(e,t){return e.length===t.length?e.reduce(function(e,t){return e+t},0)<t.reduce(function(e,t){return e+t},0)?e:t:e.length<t.length?e:t})})];if(1<p.length)for(var h=-1,c=[],g=!1,f=function(e){var t=p[e].bounds,n=[];if(e<p.length-1)for(var a=function(a){if(i[a]===p)n.push(e);else{var r=i[a].findIndex(function(n,r){return r>=e&&me(n.bounds.width)===me(t.width)&&r<i[a].length-1});if(-1!==r)n.push(r);else return n.length=0,'break'}},r=0,o;r<i.length&&(o=a(r),'break'!==o);r++);else for(var d=0;d<i.length;d++)if(i[d].length>p.length){var l=i[d].splice(c[d]+(g?2:1),i[d].length-p.length);i[d][c[d]+(g?1:0)].gridSiblings=[].concat(ke(l))}if(n.length===i.length){var s=n.reduce(function(e,t){return he(e,t)});if(h=n.reduce(function(e,t){return ce(e,t)}),h>s)for(var u=0;u<i.length;u++)if(n[u]>s){var m=i[u].splice(s,n[u]-s);i[u][c[u]].gridSiblings=[].concat(ke(m))}c=n,g=!0}else c=Array(i.length).fill(e),g=!1},y=0;y<p.length;y++)f(y);else i.length=0}else{var _=e[this.node.depth+2],b=_?Object.keys(_):[];if(1<b.length){for(var x=[],v=0,E;v<b.length;v++){E=_[parseInt(b[v])].sortAsc('bounds.top'),x[v]=0===v?0:x[v-1];for(var A=0,T;A<E.length;A++)if(T=E[A],T.parent.parent&&this.node.id===T.parent.parent.id){var I=[T.bounds.left,T.bounds.right],R=I[0],w=I[1];(0===v||R>=x[v-1])&&(null==i[v]&&(i[v]=[]),i[v].push(T)),x[v]=ce(w,x[v])}}for(var S=0,k=-1;S<x.length;S++)if(-1===k&&null==i[S])k=S-1;else if(null==i[S]){-1!=k&&S===x.length-1&&(x[k]=x[S]);continue}else-1!=k&&(x[k]=x[S-1],k=-1);for(var L=0;L<i.length;L++)null!=i[L]&&a.push(x[L]);i=i.filter(function(e){return e});for(var O=i.reduce(function(e,t){return ce(e,t.length)},0),N=0,C;N<O;N++){C=null;for(var D=0,B;D<i.length;D++)if(B=i[D][N],null==B)i[D].splice(N,0,{spacer:1});else if(null==C)C=B.linear.top;else if(B.linear.top!==C){var F=i[D-1][N+1];null==i[D][N-1]||F&&F.linear.top===B.linear.top?i[D].splice(N,0,{spacer:1}):null==i[D][N+1]&&(i[D][N+1]=B,i[D][N]={spacer:1})}}}}if(1<i.length){this.node.gridColumnEnd=a,this.node.gridColumnCount=r?i[0].length:i.length,t=this.application.writeGridLayout(this.node,this.parent,this.node.gridColumnCount);for(var P=0,G=0,M;P<i.length;P++){M=0;for(var H=0,V=0,z;H<i[P].length;H++)if(z=i[P][H],!!z.spacer)1===z.spacer&&M++;else if(z.parent.hide(),z.parent=this.node,r)z.gridRowStart=0===H,z.gridRowEnd=H===i[P].length-1,z.gridFirst=0===P&&0===H,z.gridLast=P===i.length-1&&z.gridRowEnd,z.gridIndex=H;else{for(var X=1,W=1+M,U=P+1;U<i.length&&1===i[U][H].spacer;U++)W++,i[U][H].spacer=2;if(1===W)for(var j=H+1;j<i[P].length&&1===i[P][j].spacer;j++)X++,i[P][j].spacer=2;1<X&&(z.gridRowSpan=X),1<W&&(z.gridColumnSpan=W),z.gridRowStart=0==V++,z.gridRowEnd=W+P===i.length,z.gridFirst=0==G++,z.gridLast=z.gridRowEnd&&H===i[P].length-1,z.gridIndex=P,M=0}}}return[t,!1,!1]}},{key:'processChild',value:function(){var e=this,t=this.parent,n=void 0,i='';if(this.options.balanceColumns)n=this.node.gridSiblings;else{var a=t.gridColumnEnd[this.node.gridIndex+this.node.gridColumnSpan];n=this.node.parentOriginal.children.filter(function(t){return!t.renderParent&&t.bounds.left>=e.node.bounds.right&&t.bounds.right<=a})}if(null!=n&&0<n.length){n.unshift(this.node),C(n,'bounds.x');var r=this.application.controllerHandler.createGroup(this.node,t,n),o=[Oe.linearX(n),Oe.linearY(n)],d=o[0],l=o[1];return i=d||l?this.application.writeLinearLayout(r,t,l):this.application.writeDefaultLayout(r,t),[i,!0,!1]}return['',!1,!1]}}]),t}(vt),wt=function(e){function t(e,n,i){return be(this,t),Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return Te(t,e),xe(t,[{key:'is',value:function(e){return Ae(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)&&('INPUT'!==e.element.tagName||['button','file','image','reset','search','submit'].includes(e.element.type))}},{key:'init',value:function(e){return this.included(e)&&(e.__nodeIsolated='static'!==ee(e).position),!1}},{key:'condition',value:function(){return Ae(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'condition',this).call(this)&&this.included()}}]),t}(vt),St={DRAWER:'android.support.v4.widget.DrawerLayout',NAVIGATION_VIEW:'android.support.design.widget.NavigationView',COORDINATOR:'android.support.design.widget.CoordinatorLayout',APPBAR:'android.support.design.widget.AppBarLayout',TOOLBAR:'android.support.v7.widget.Toolbar',FLOATING_ACTION_BUTTON:'android.support.design.widget.FloatingActionButton'},kt={MENU:'ic_menu_',DIALOG:'ic_dialog_'},Lt=function(e){function t(e,n,i){be(this,t);var a=Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return a.position=[],a}return Te(t,e),xe(t,[{key:'beforeInit',value:function(){Ae(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'beforeInit',this).call(this),this.position=[]}},{key:'processNode',value:function(){var e=this.node,t=e.element,n=Object.assign({},this.options[t.id]),i=e.css('backgroundColor');k(n,'app','backgroundTint',i?'@color/'+Ze.addColor(K(i)[0]):'?colorAccent'),k(n,'android','focusable','true');var a='';switch(t.tagName){case'IMG':a=Ze.addImageSrcSet(t,kt.DIALOG);break;case'INPUT':a='image'===t.type?Ze.addImage({mdpi:t.src},kt.DIALOG):Ze.addImageURL(e.css('backgroundImage'),kt.DIALOG);break;case'BUTTON':a=Ze.addImageURL(e.css('backgroundImage'),kt.DIALOG);}''!==a&&k(n,'app','srcCompat','@drawable/'+a);var r=this.application.controllerHandler.getViewStatic(St.FLOATING_ACTION_BUTTON,e.depth,n,'wrap_content','wrap_content',e);return e.ignoreResource=We.BOX_STYLE|We.FONT_STYLE|We.IMAGE_SOURCE,e.isolated&&e.parent.viewName===St.COORDINATOR?(e.renderParent=e.parentOriginal,this.position.push({node:e,horizontalBias:e.horizontalBias,verticalBias:e.verticalBias}),e.render(e.parent)):(e.render(e.parent),e.setGravity()),e.applyCustomizations(),[r,!1,!1]}},{key:'finalize',value:function(){var e=this.node;if(e.isolated&&e.parent.viewName===St.COORDINATOR){var t=this.position.find(function(t){return t.node===e}),n=!0;if(null!=t){var i=[],a=this.options.absoluteBias||.05;if(t.horizontalBias<=a?i.push(re('left')):t.horizontalBias>=1-a?i.push(re('right')):L(t.horizontalBias,.5,a)&&i.push('center_horizontal'),t.verticalBias<=a?i.push('top'):t.verticalBias>=1-a?i.push('bottom'):L(t.verticalBias,.5,a)&&i.push('center_vertical'),0<i.length)if(e.android('layout_gravity',2===i.filter(function(e){return-1!==e.indexOf('center')}).length?'center':i.join('|')),2>i.length){var r=[],o=[];if(this.position.forEach(function(e){e.node!==t.node&&(e.horizontalBias===t.horizontalBias&&r.push(e),e.verticalBias===t.verticalBias&&o.push(e))}),0<r.length){var d=r.map(function(e){return{position:e,bias:ue(t.verticalBias-e.verticalBias)}}).sort(function(e,t){return e.bias>=t.bias?1:-1})[0];t.verticalBias<d.position.verticalBias&&(e.app('layout_anchor',d.position.node.stringId),e.app('layout_anchorGravity','top'),n=!1)}if(0<o.length){var l=o.map(function(e){return{position:e,bias:ue(t.horizontalBias-e.horizontalBias)}}).sort(function(e,t){return e.bias>=t.bias?1:-1})[0];t.horizontalBias<l.position.horizontalBias&&(e.app('layout_anchor',l.position.node.stringId),e.app('layout_anchorGravity',re('left')),n=!1)}}else n=!1}n&&e.android('visibility','gone')}e.android('layout_width','wrap_content'),e.android('layout_height','wrap_content')}}]),t}(wt),Ot=function(e){function t(e,n,i){be(this,t);var a=Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return a.require('androme.external',!0),a}return Te(t,e),xe(t,[{key:'init',value:function(e){if(this.included(e)&&!this.application.elements.has(e)){var t=!1;if(0<e.children.length){var n=e.children[0].tagName;t=Ye.includes(n)&&Array.from(e.children).every(function(e){return e.tagName===n&&'inline'!==e.style.display&&'left'!==e.style.float&&'right'!==e.style.float});for(var i=e.parentElement;null!=i;){if('NAV'===i.tagName&&this.application.elements.has(i)){t=!1;break}i=i.parentElement}}if(t)return Array.from(e.querySelectorAll('NAV')).forEach(function(t){var n=ee(e);'none'===n.display&&(t.__andromeExternalDisplay='none',t.style.display='block')}),this.application.elements.add(e),!0}return!1}},{key:'afterRender',value:function(){this.included(this.node.element)&&Array.from(this.node.element.querySelectorAll('NAV')).forEach(function(e){var t=e.__andromeExternalDisplay;null!=t&&(e.style.display=t)})}}]),t}(vt),Nt;(function(e){e.MENU='menu',e.ITEM='item',e.GROUP='group'})(Nt||(Nt={}));var Ct={id:/^@\+id\/\w+$/,title:/^.+$/,titleCondensed:/^.+$/,icon:/^@drawable\/.+$/,onClick:/^.+$/,showAsAction:/^(ifRoom|never|withText|always|collapseActionView)$/,actionLayout:/^@layout\/.+$/,actionViewClass:/^.+$/,actionProviderClass:/^.+$/,alphabeticShortcut:/^[a-zA-Z]+$/,alphabeticModifiers:/(META|CTRL|ALT|SHIFT|SYM|FUNCTION)+/g,numericShortcut:/^[0-9]+$/,numericModifiers:/(META|CTRL|ALT|SHIFT|SYM|FUNCTION)+/g,checkable:/^(true|false)$/,visible:/^(true|false)$/,enabled:/^(true|false)$/,menuCategory:/^(container|system|secondary|alternative)$/,orderInCategory:/^[0-9]+$/},Dt={id:/^@\+id\/\w+$/,checkableBehavior:/^(none|all|single)$/,visible:/^(true|false)$/,enabled:/^(true|false)$/,menuCategory:/^(container|system|secondary|alternative)$/,orderInCategory:/^[0-9]+$/},Bt=['showAsAction','actionViewClass','actionProviderClass'],Ft=function(e){function t(e,n,i){return be(this,t),Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return Te(t,e),xe(t,[{key:'processNode',value:function(){var e=this,t=this.node,n=this.application.controllerHandler.getViewStatic(Nt.MENU,0,{},'','',t,!0);return t.renderParent=!0,t.cascade().forEach(function(t){return t.renderExtension=e}),t.ignoreResource=We.ALL,[n,!1,!1]}},{key:'processChild',value:function(){var e=this,t=this.node,n=t.element;if('#text'===n.nodeName)return t.hide(),['',!1,!1];var i=this.parent;t.ignoreResource=We.ALL,t.renderDepth=i.renderDepth+1,t.renderParent=!0;var a={android:{},app:{}},r=Nt.ITEM,o=!1,d='',l=Array.from(t.element.children);if(l.some(function(e){return Ye.includes(e.tagName)&&0<e.children.length})){if(l.some(function(e){return'NAV'===e.tagName}))''===n.title?Array.from(t.element.childNodes).some(function(e){return'#text'===e.nodeName?null!=e.textContent&&''!==e.textContent.trim()&&(d=e.textContent.trim(),!0):'NAV'!==e.tagName&&(d=e.innerText.trim(),!0)}):d=n.title.trim(),t.children.forEach(function(e){return'NAV'!==e.tagName&&e.hide()});else if('NAV'===t.tagName)r=Nt.MENU;else{r=Nt.GROUP;var s='';t.children.every(function(t){return e.hasInputType(t,'radio')})?s='single':t.children.every(function(t){return e.hasInputType(t,'checkbox')})&&(s='all'),a.android.checkableBehavior=s}o=!0}else null==i.android('checkableBehavior')&&this.hasInputType(t,'checkbox')&&(a.android.checkable='true'),d=(''===n.title?n.innerText:n.title).trim();switch(r){case Nt.ITEM:if(this.parseDataSet(Ct,n,a),null==t.android('icon')){var u=Ze.addImageURL(n.style.backgroundImage,kt.MENU);if(''!==u)a.android.icon='@drawable/'+u;else{var p=t.children.find(function(e){return'IMG'===e.element.tagName});null!=p&&(u=Ze.addImageSrcSet(p.element,kt.MENU),''!==u&&(a.android.icon='@drawable/'+u))}}break;case Nt.GROUP:this.parseDataSet(Dt,n,a);}null==t.android('title')&&''!==d&&(Ze.addString(d),Ze.STORED.STRINGS.has(d)&&(d='@string/'+Ze.STORED.STRINGS.get(d)),a.android.title=d),null==a.android.id?t.setViewId(r):t.viewName=r;var h=this.application.controllerHandler.getViewStatic(r,t.depth,a,'','',t,o);return[h,!1,!1]}},{key:'afterRender',value:function(){if(Ae(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'afterRender',this).call(this),this.included(this.node.element)){var e=this.application.current;e.pathname='res/menu'}}},{key:'parseDataSet',value:function(e,t,n){for(var i in t.dataset){var a=t.dataset[i];if(null!=a&&null!=e[i]){var r=a.match(e[i]);if(null!=r){var o=this.options.appCompat&&Bt.includes(i)?'app':'android';n[o][i]=Array.from(new Set(r)).join('|')}}}}},{key:'hasInputType',value:function(e,t){return 0<e.children.length&&e.children.some(function(e){return e.element.type===t})}}]),t}(Ot),Pt=function(e){function t(e,n,i){be(this,t);var a=Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return a.require('androme.widget.menu'),a}return Te(t,e),xe(t,[{key:'init',value:function(e){return!!(this.included(e)&&(Array.from(e.children).forEach(function(e){'NAV'===e.tagName&&null==e.dataset.ext&&(e.dataset.ext='androme.external')}),null!=e.dataset.extFor))&&(this.application.elements.add(e),!0)}},{key:'condition',value:function(){return Ae(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'condition',this).call(this)&&this.included()}}]),t}(vt),Gt=function(e){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=arguments[2];return be(this,t),Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return Te(t,e),xe(t,[{key:'processNode',value:function(){var e=this.application.controllerHandler,t=this.node;t.ignoreResource=We.FONT_STYLE;var n=null!=t.element.dataset.extFor,i=n?0:t.depth+t.renderDepth,a=Object.assign({},null==this.element?{}:this.options[this.element.id]),r=Object.assign({},a.toolbar),o=0;Array.from(t.element.children).forEach(function(e){if('IMG'===e.tagName){if(null!=e.dataset.navigationIcon){var t=Ze.addImageSrcSet(e,kt.MENU);''!==t&&(k(r,'app','navigationIcon','@drawable/'+t),'none'!==ee(e).display&&o++)}if(null!=e.dataset.collapseIcon){var n=Ze.addImageSrcSet(e,kt.MENU);''!==n&&(k(r,'app','collapseIcon','@drawable/'+n),'none'!==ee(e).display&&o++)}}}),n&&(k(r,'android','layout_height','?attr/actionBarSize'),k(r,'android','background','?attr/colorPrimary'),k(r,'app','popupTheme','@style/ThemeOverlay.AppCompat.Light')),null!=this.getMenu(t)&&k(r,'app','menu','@menu/{!androme.widget.toolbar:menu:'+t.id+'}');var d=e.getViewStatic(St.TOOLBAR,i+1,{android:r.android,app:r.app},'match_parent','wrap_content',t,0<t.children.length-o);if(n||null!=this.options.appBar){var l=Object.assign({},a.appBar);k(l,'android','id',t.stringId+'_appbar'),k(l,'app','theme','@style/ThemeOverlay.AppCompat.Dark.ActionBar'),d=e.getViewStatic(St.APPBAR,i,{android:l.android,app:l.app},'match_parent','wrap_content',null,!0).replace('{:0}',d)}return n?(t.options('androme.widget.toolbar:insert',d),t.hide(),['',!1,!0]):(t.applyCustomizations(),t.render(this.parent),t.setGravity(),[d,!1,!1])}},{key:'processChild',value:function(){var e=this.element;return null!=e&&'IMG'===e.tagName&&(null!=e.dataset.navigationIcon||null!=e.dataset.collapseIcon)&&this.node.hide(),['',!1,!1]}},{key:'finalize',value:function(){var e=this.node.element.dataset.extFor,t=this.getMenu(this.node),n=this.application.layouts;if(null!=e){var a=this.application.findByDomId(e);if(null!=a){var r=this.node.options('androme.widget.toolbar:insert')||'';r=r.replace(/>>>>/g,v(a.renderDepth+2)),null!=t&&(r=B(r.replace('{!androme.widget.toolbar:menu:'+this.node.id+'}',t.dataset.currentId)).replace(/\s*$/g,''));for(var o=0;o<n.length;o++)n[o].content=n[o].content.replace('{!androme.widget.drawer:toolbar:'+a.id+'}',r+'\n')}}else if(null!=t)for(var d=0;d<n.length;d++)n[d].content=n[d].content.replace('{!androme.widget.toolbar:menu:'+this.node.id+'}',t.dataset.currentId)}},{key:'getMenu',value:function(e){return Array.from(e.element.children).find(function(e){return'NAV'===e.tagName&&null!=e.dataset.ext&&-1!==e.dataset.ext.indexOf('androme.widget.menu')})}}]),t}(Pt),Mt=function(e){function t(e,n,i){be(this,t);var a=Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return a.activityMain=!0,a.require('androme.external',!0),a.require('androme.widget.menu'),a}return Te(t,e),xe(t,[{key:'init',value:function(e){return!!(this.included(e)&&0<e.children.length)&&(Array.from(e.children).forEach(function(e){'NAV'===e.tagName&&null==e.dataset.ext&&(e.dataset.ext='androme.external')}),this.application.elements.add(e),!0)}},{key:'condition',value:function(){return Ae(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'condition',this).call(this)&&this.included()}}]),t}(vt),Ht=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','   <style name="{@appTheme}" parent="{@parentTheme}">','       <item name="android:windowDrawsSystemBarBackgrounds">true</item>','       <item name="android:statusBarColor">@android:color/transparent</item>','       <item name="android:windowTranslucentStatus">true</item>','!1','       <item name="{name}">{value}</item>','!1','   </style>','</resources>','!0'].join('\n'),Vt=function(e){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],i=arguments[2];return be(this,t),Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i))}return Te(t,e),xe(t,[{key:'processNode',value:function(){var e=this.application.controllerHandler,t=this.node;t.ignoreResource=We.FONT_STYLE;var n=t.depth+t.renderDepth,i=Object.assign({},this.options.drawerLayout),a=this.getMenu(t);null!=a&&k(i,'android','fitsSystemWindows','true');var r=e.getViewStatic(St.DRAWER,n,{android:i.android,app:i.app},'match_parent','match_parent',t,!0),o=t.viewId+'_content',d='';(null==this.options.includes||this.options.includes)&&(d=e.getViewStatic('include',n+1,{layout:'@layout/'+o}),n=-1);var l=new et(this.application.cache.nextId,Me.targetAPI,null,{depth:0});this.application.cache.list.push(l);var s=e.getViewStatic(St.COORDINATOR,n+1,{android:{id:''===d?t.stringId+'_content':''}},'match_parent','match_parent',l,!0);if(i=Object.assign({},this.options.navigationView),k(i,'android','layout_gravity',re('left')),null!=a){this.createResources(),k(i,'android','id',t.stringId+'_view'),k(i,'android','fitsSystemWindows','true'),k(i,'app','menu','@menu/{!androme.widget.drawer:menu:'+t.id+'}'),k(i,'app','headerLayout','@layout/{!androme.widget.drawer:headerLayout:'+t.id+'}'),s=s.replace('{:'+l.id+'}','{!androme.widget.drawer:toolbar:'+t.id+'}');var u=e.getViewStatic(St.NAVIGATION_VIEW,t.depth+1,{android:i.android,app:i.app},'wrap_content','match_parent');r=r.replace('{:'+t.id+'}',(''===d?s:d)+u)}else{var p=t.children[t.children.length-1];p.android('layout_gravity',i.android.layout_gravity),p.isolated=!0,this.application.controllerHandler.prependBefore(p.id,''===d?s:d),a=p.element}return t.children.forEach(function(e){a.__node!==e&&(e.parent=l,l.children.push(e))}),''!==d&&this.application.addInclude(o,s),t.renderParent=!0,[r,!1,!1]}},{key:'finalize',value:function(){var e=this,t=this.node;if(null!=this.getMenu(t)){var n='',a='';this.application.elements.forEach(function(t){if(t.parentElement===e.element)switch(t.dataset.ext){case'androme.external':a=t.dataset.currentId;break;case'androme.widget.menu':n=t.dataset.currentId;}});for(var r=this.application.viewData.views,o=0;o<r.length;o++)r[o].content=r[o].content.replace('{!androme.widget.drawer:menu:'+this.node.id+'}',n),r[o].content=r[o].content.replace('{!androme.widget.drawer:headerLayout:'+this.node.id+'}',a)}}},{key:'getMenu',value:function(e){return Array.from(e.element.children).find(function(e){return'NAV'===e.tagName&&null!=e.dataset.ext&&-1!==e.dataset.ext.indexOf('androme.widget.menu')})}},{key:'createResources',value:function(){var e=Object.assign({},this.options.resource);k(e,'resource','appTheme','AppTheme'),k(e,'resource','parentTheme','Theme.AppCompat.Light.NoActionBar');var t=H(Ht),n={0:[{appTheme:this.options.resource.appTheme,parentTheme:this.options.resource.parentTheme,1:[]}]};if(null!=e.item){var i=M(n,'0');for(var a in e.item)i[1].push({name:a,value:e.item[a]})}k(e,'output','path','res/values-v21'),k(e,'output','file','androme.widget.drawer.xml');var r=V(t,n);this.application.resourceHandler.addFile(e.output.path,e.output.file,r)}}]),t}(Mt),zt=!1,Xt=new Set,Wt={"androme.external":new Et('androme.external'),"androme.list":new Tt('androme.list',['UL','OL']),"androme.table":new It('androme.table',['TABLE']),"androme.grid":new Rt('androme.grid',['FORM','UL','OL','DL','DIV','TABLE','NAV','SECTION','ASIDE','MAIN','HEADER','FOOTER','P','ARTICLE','FIELDSET']),"androme.widget.button":new Lt('androme.widget.button',['BUTTON','INPUT','IMG']),"androme.widget.menu":new Ft('androme.widget.menu',['NAV'],{appCompat:!0}),"androme.widget.toolbar":new Gt('androme.widget.toolbar'),"androme.widget.drawer":new Vt('androme.widget.drawer')},Ut=new rt,jt=new xt,Yt=new pt(jt),qt=new Ke(et,nt);qt.registerController(Ut),qt.registerResource(Yt),function(){var e=new Set,t=!0,n=!1,i=void 0;try{for(var a=Me.builtInExtensions[Symbol.iterator](),r,o;!(t=(r=a.next()).done);t=!0)for(var d in o=r.value,o=o.toLowerCase().trim(),Wt)(o===d||d.startsWith(o+'.'))&&e.add(Wt[d])}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}e.forEach(function(e){return qt.registerExtension(e)})}(),e.parseDocument=function(){function e(){zt=!1,qt.elements.forEach(function(e){''===qt.appName?(''===e.id&&(e.id='untitled'),qt.appName=e.id):''===e.id&&(e.id='view_'+qt.size),e.dataset.views=(null==e.dataset.views?1:parseInt(e.dataset.views)+1).toString(),e.dataset.currentId=('1'===e.dataset.views?e.id:e.id+'_'+e.dataset.views).replace(/[^\w]/g,'_'),qt.createNodeCache(e)&&(qt.createLayoutXml(),qt.setResources(),qt.setMarginPadding(),qt.setConstraints(),Xt.add(e))}),'function'==typeof a&&a.call(qt)}if(!qt.closed){zt=!1,qt.resetController(),qt.setStyleMap(),qt.elements.clear();for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];''===qt.appName&&0===n.length&&n.push(document.body),n.forEach(function(e){'string'==typeof e&&(e=document.getElementById(e)),e instanceof HTMLElement&&qt.elements.add(e)});var a=void 0,r=Array.from(qt.elements).map(function(e){return Array.from(e.querySelectorAll('IMG'))}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return!e.complete});if(0===r.length)e();else{zt=!0;var o=r.map(function(e){return new Promise(function(t,n){e.onload=t,e.onerror=n})});Promise.all(o).then(function(){return e()})}return{then:function(e){zt?a=e:e()}}}},e.registerExtension=function(e){e instanceof vt&&qt.registerExtension(e)},e.configureExtension=function(e,t){if(null!=t){var n=qt.findExtension(e);null!=n&&Object.assign(n.options,t)}},e.getExtension=function(e){return qt.findExtension(e)},e.ready=oe,e.close=de,e.reset=function(){Xt.forEach(function(e){delete e.dataset.views,delete e.dataset.currentId}),Xt.clear(),qt.reset()},e.saveAllToDisk=le,e.writeLayoutAllXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return se(),qt.closed?qt.resourceHandler.file.layoutAllToXml(qt.viewData,e):''},e.writeResourceAllXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return se(),qt.closed?qt.resourceHandler.file.resourceAllToXml(e):''},e.writeResourceStringXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return se(),qt.closed?qt.resourceHandler.file.resourceStringToXml(e):''},e.writeResourceArrayXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return se(),qt.closed?qt.resourceHandler.file.resourceStringArrayToXml(e):''},e.writeResourceFontXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return se(),qt.closed?qt.resourceHandler.file.resourceFontToXml(e):''},e.writeResourceColorXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return qt.closed?qt.resourceHandler.file.resourceColorToXml(e):''},e.writeResourceStyleXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return se(),qt.closed?qt.resourceHandler.file.resourceStyleToXml(e):''},e.writeResourceDimenXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return se(),qt.closed?qt.resourceHandler.file.resourceDimenToXml(e):''},e.writeResourceDrawableXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return se(),qt.closed?qt.resourceHandler.file.resourceDrawableToXml(e):''},e.toString=function(){return qt.toString()},e.api=$e,e.settings=Me,Object.defineProperty(e,'__esModule',{value:!0})});
