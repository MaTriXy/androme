/* androme 1.8.30 https://github.com/anpham6/androme */(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?t(exports):'function'==typeof define&&define.amd?define(['exports'],t):t(e.androme={})})(this,function(e){'use strict';function t(e){for(var t=arguments.length,n=Array(2<t?t-2:0),r=2;r<t;r++)n[r-2]=arguments[r];var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;return e.sort(function(e,t){var r=!0,a=!1,o=void 0;try{for(var d=n[Symbol.iterator](),l;!(r=(l=d.next()).done);r=!0){var s=l.value,u=S(e,t,s);if(u&&u[0]!==u[1])return 0===i?u[0]>=u[1]?1:-1:u[0]<=u[1]?1:-1}}catch(e){a=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(a)throw o}}return 0})}function n(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0;a<n.length;a++)e=e.replace('{'+a+'}',n[a]);return e}function r(e){e=e.charAt(0).toLowerCase()+e.substring(1);var t=e.match(/([a-z]{1}[A-Z]{1})/g);if(null!=t){var n=!0,r=!1,i=void 0;try{for(var a=t[Symbol.iterator](),o,d;!(n=(o=a.next()).done);n=!0)d=o.value,e=e.replace(d,d[0]+'_'+d[1].toLowerCase())}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}return e}function a(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'-';e=e.replace(new RegExp('^'+t+'+'),'');var n=e.match(new RegExp('('+t+'{1}[a-z]{1})','g'));if(null!=n){var r=!0,i=!1,a=void 0;try{for(var o=n[Symbol.iterator](),d,l;!(r=(d=o.next()).done);r=!0)l=d.value,e=e.replace(l,l[1].toUpperCase())}catch(e){i=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}}return e}function o(e){return null==e?'':e.replace(/[^\w]/g,'_').trim()}function d(e){var t=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];return e.charAt(0)[t?'toUpperCase':'toLowerCase']()+e.substring(1)[t?'toLowerCase':'toString']()}function l(e){return Pe(e.reduce(function(e,t){return e+t})/e.length)}function s(e){return e&&parseInt(e)||0}function u(e){return e&&parseFloat(e)||0}function p(e){if(N(e)){y(e)&&(e+='px');var t=e.match(/(pt|em)/);if(e=parseFloat(e),null!=t)switch(t[0]){case'pt':e*=4/3;break;case'em':e*=16;}if(!isNaN(e))return e+'px'}return'0px'}function c(e){return e=parseFloat(e),(isNaN(e)?0:De(e))+'px'}function h(e){for(var t='',n;e>=26;){n=Pe(e/26),1<n&&n<=26?(t+='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(n-1),e-=n*26):n>26&&(t+=h(n*26),e-=n*26);var r=e%26;t+='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(r),e-=r+26}return t='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(e)+t,t}function g(e){for(var t='',n=e.toString().split(''),r=['','C','CC','CCC','CD','D','DC','DCC','DCCC','CM','','X','XX','XXX','XL','L','LX','LXX','LXXX','XC','','I','II','III','IV','V','VI','VII','VIII','IX'],a=3;a--;)t=(r[parseInt(n.pop())+10*a]||'')+t;return'M'.repeat(parseInt(n.join('')))+t}function m(e,t,n){var r=!0,i=!1,a=void 0;try{for(var o=Object.keys(e)[Symbol.iterator](),d;!(r=(d=o.next()).done);r=!0){var l=d.value,s=e[l];if(n===s)return t[l]}}catch(e){i=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return''}function f(e,t){return(e&t)===t}function y(e){return /^-?[0-9]+(\.[0-9]+)?$/.test(e.toString().trim())}function b(e){return /^[0-9]+%$/.test(e)}function x(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:',';return e.split(n).map(function(e){return e.trim()}).includes(t)}function _(e,t,n){var r=!1,a=null;if(null!=e){var o=t.split('.');a=e;var d=0;do a=null==a[o[d]]?null:a[o[d]];while(null!=a&&++d<o.length&&'string'!=typeof a&&'number'!=typeof a&&'boolean'!=typeof a);r=null!=a&&d===o.length}return'object'===n?r?a:null:'number'===n?r&&!isNaN(parseInt(a))?parseInt(a):0:'boolean'===n?r&&a:r?a.toString():''}function T(e){if(!/^\w+:\/\//.test(e)){var t=location.pathname.split('/');if(t.pop(),'/'===e.charAt(0))e=location.origin+e;else if(e.startsWith('../')){var n=[],r=0,i;e.split('/').forEach(function(e){'..'===e?r++:n.push(e)}),t=t.slice(0,Be(t.length-r,0)),(i=t).push.apply(i,n),e=location.origin+t.join('/')}else e=location.origin+t.join('/')+'/'+e}return e}function v(e,t){return e.replace(new RegExp('^'+t+'+','g'),'').replace(new RegExp(t+'+$','g'),'')}function I(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'\t';return t.repeat(e)}function R(e){if(N(e)){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=!0,a=!1,o=void 0;try{for(var d=n[Symbol.iterator](),l;!(i=(l=d.next()).done);i=!0){var s=l.value,u=e.indexOf(s);if(-1!==u)return u}}catch(e){a=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(a)throw o}}}return-1}function E(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'/';return e.substring(e.lastIndexOf(t)+1)}function A(e,t){for(var n=arguments.length,r=Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=!0,o=!1,d=void 0;try{for(var l=r[Symbol.iterator](),s;!(a=(s=l.next()).done);a=!0){var u=s.value,p=S(e,t,u);if(!p||p[0]!==p[1])return!1}}catch(e){o=!0,d=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw d}}return!0}function L(e,t){var n=[];if('object'===('undefined'==typeof t?'undefined':Me(t)))for(var r in t){var a=t[r];N(e[a])&&n.push([a,e[a]])}else{var o=function(e){return e===t};for(var d in /^\*.+\*$/.test(t)?o=function(e){return-1!==e.indexOf(t.replace(/\*/g,''))}:/^\*/.test(t)?o=function(e){return e.endsWith(t.replace(/\*/,''))}:/\*$/.test(t)&&(o=function(e){return e.startsWith(t.replace(/\*/,''))}),e)o(d)&&n.push([d,e[d]])}return n}function S(e,t,n){var r=n.split('.'),i=e,a=t,o=!0,d=!1,l=void 0;try{for(var u=r[Symbol.iterator](),p,c;!(o=(p=u.next()).done);o=!0)if(c=p.value,null!=i[c]&&null!=a[c])i=i[c],a=a[c];else return(null!=i[c]||null!=a[c])&&(null==i[c]?[0,1]:[1,0])}catch(e){d=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(d)throw l}}return isNaN(parseInt(i))&&isNaN(parseInt(a))?[i,a]:[s(i),s(a)]}function N(e){return'undefined'!=typeof e&&null!==e&&''!==e.toString().trim()}function O(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;return t>=e-r&&t<=e+r}function w(e,t){return e===t||Pe(e)===Pe(t)||De(e)===Pe(t)||Pe(e)===De(t)}function k(e,t){return e.toString().toLowerCase()>=t.toString().toLowerCase()?1:-1}function C(e){for(var n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.apply(void 0,[e,0].concat(r))}function B(e){for(var n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.apply(void 0,[e,1].concat(r))}function D(e){return e.replace(/{[<:@>]{1}[0-9]+}/g,'').trim()}function P(e,t){return e.split('\n').map(function(e){var n=/^({.*?})(.*)/g.exec(e),r=I(t);return null==n?r+e:''===n[2]?'':n[1]+r+n[2]}).join('\n')}function M(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return 0<t&&(n?e=e.split('\n').map(function(e){var n=e.match(/^(\t+)(.*)$/);return null==n?e:' '.repeat(t*n[1].length)+n[2]}).join('\n'):e=e.replace(/\t/g,' '.repeat(t))),e}function F(e){return e=e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)}),e=e.replace(/&nbsp;/g,'&#160;'),e}function G(e){for(var t=e,n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=!0,o=!1,d=void 0;try{for(var l=r[Symbol.iterator](),s;!(a=(s=l.next()).done);a=!0){var u=s.value,p=u.split('-'),c=Ke(p,2),h=c[0],g=c[1],m=g===void 0?'0':g;t=t[h][m]}}catch(e){o=!0,d=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw d}}return t}function H(e){var t={},n=null,r=!1,i=0,a=e.length;do{if(r){var o=r[0].replace(new RegExp(r[1],'g'),'');for(var d in t)t[d]=t[d].replace(new RegExp(r[0],'g'),'{%'+r[2]+'}');t[r[2]]=o,a-=r[0].length}if(null==r||0===a){if(e=t[i++],!N(e))break;a=e.length,r=null}if(r||(n=/(!([0-9]+)\n?)[\w\W]*\1/g),null!=n)r=n.exec(e);else break}while(!0);return t}function W(e,t,n,r,a){var o=null==n?'':e[n];for(var d in null!=t['#include']&&(r=t['#include'],delete t['#include']),null!=t['#exclude']&&(a=t['#exclude'],delete t['#exclude']),t){var i='';if(!1===t[d]){o=o.replace('{%'+d+'}','');continue}else if(Array.isArray(t[d]))for(var l in t[d])i+=W(e,t[d][l],d,r,a);else i=t[d];null!=i&&''!==i?o=null==n?i.trim():o.replace(new RegExp('{[%@&]*'+d+'}','g'),i):new RegExp('{%'+d+'}').test(o)||!1===i?o=o.replace('{%'+d+'}',''):new RegExp('{&'+d+'}').test(o)&&(o='');for(var s=/\s+[\w:]+="{#(\w+)=(.*?)}"/g,u=void 0;null!=(u=s.exec(o));)if(r&&r[u[1]]){var p='{#'+u[1]+'='+u[2]+'}';o=o.replace(p,t[u[2]]||u[2])}else a&&a[u[1]]&&(o=o.replace(u[0],''))}return o.replace(/\s+[\w:]+="{@\w+}"/g,'')}function V(e,t,n){null!=e&&(e['__'+t]=n)}function X(e,t){return null==e?null:e['__'+t]}function z(e){if(null!=e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=!0,a=!1,o=void 0;try{for(var d=n[Symbol.iterator](),l,s;!(i=(l=d.next()).done);i=!0)s=l.value,delete e['__'+s]}catch(e){a=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(a)throw o}}}}function U(e){return X(e,'node')}function Y(e){var t=!1,n=document.createRange();n.selectNodeContents(e);for(var r=Array.from(n.getClientRects()),a=JSON.parse(JSON.stringify(r[0])),o=new Set([a.top]),d=new Set([a.bottom]),l=1,s;l<r.length;l++)s=r[l],o.add(s.top),d.add(s.bottom),a.width+=s.width,a.right=Be(s.right,a.right);return 1<o.size&&1<d.size&&(a.top=Ce.apply(null,Array.from(o)),a.bottom=Be.apply(null,Array.from(d)),a.height=a.bottom-a.top,t=!0),[Z(a),t]}function Z(e){return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function K(e){var t=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];if(null!=e){if(t){var n=U(e),r=X(e,'style');if(null!=r)return r;if(n&&null!=n.style)return n.style}if('#text'!==e.nodeName){var i=getComputedStyle(e);return V(e,'style',i),i}}return{}}function q(e,t){if(null!=e.parentElement){var n=K(e);return n&&n[t]===K(e.parentElement)[t]}return!1}function J(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n={},r=U(e),i=K(e);return['padding','margin'].forEach(function(e){['Top','Left','Right','Bottom'].forEach(function(a){var o=e+a,d=s(r?r[o]:i[o]);(t||0!==d)&&(n[o]=d)})}),n}function Q(e){function t(e){return i===n||e.some(function(e){return'#text'===e.nodeName&&''!==_(e,'textContent').trim()?(r=!0,!0):!!(e.childNodes&&0<e.childNodes.length)&&(i++,t(Array.from(e.childNodes)))})}var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=!1,i=-1;return t(Array.from(e.childNodes)),r}function $(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'previous',n=!1;null!=e;)if(!('#text'===e.nodeName)){n='BR'===e.tagName||'block'===K(e).display&&!U(e);break}else if(e.textContent&&''!==e.textContent.trim())break;else e=e[t+'Sibling'];return n}function ee(e){switch(e.tagName){case'BR':case'OPTION':case'AREA':return!1;}if('function'==typeof e.getBoundingClientRect){var t=e.getBoundingClientRect();if(0!==t.width&&0!==t.height||N(e.dataset.ext))return!0;for(var n=e.parentElement,r=!0;null!=n;){if('none'===K(n).display){r=!1;break}n=n.parentElement}if(r&&0<e.children.length)return Array.from(e.children).some(function(e){var t=K(e),n=t.cssFloat,r=t.position;return'static'!==r&&'initial'!==r||'left'===n||'right'===n})}return!1}function te(e){var t=se(e);return null==t?null:ne(t.r,t.g,t.b)}function ne(e,t,n){e/=255,t/=255,n/=255;var i=Ce(e,t,n),a=Be(e,t,n),o=(a+i)/2,u=o,p=o;if(a===i)o=0,u=0;else{var l=a-i;u=.5<p?l/(2-a-i):l/(a+i);a===e?o=(t-n)/l+(t<n?6:0):a===t?o=(n-e)/l+2:a===n?o=(e-t)/l+4:void 0;o/=6}return{h:360*o,s:100*u,l:100*p}}function re(e,t){if(null!=e.hsl&&null!=t.hsl){var n=[e.hsl.h,t.hsl.h],r=n[0],i=n[1];if(r===i){var a=[e.hsl.s,t.hsl.s];if(r=a[0],i=a[1],r===i){var o=[e.hsl.l,t.hsl.l];r=o[0],i=o[1]}}return r>=i?1:-1}return 0}function ie(e){var t=$e.slice(),n=t.findIndex(function(t){return t.hex===e});if(-1!==n)return t[n];var r=te(e);return null==r?'':(t.push({name:'',hsl:r,rgb:{r:-1,g:-1,b:-1},hex:''}),t.sort(re),n=t.findIndex(function(e){return''===e.name}),t[Ce(n+1,t.length-1)])}function ae(e){for(var t in Qe)if(t.toLowerCase()===e.trim().toLowerCase())return Qe[t];return''}function oe(e){var t=e.rgb;return null==t?'':'rgb('+t.r+', '+t.g+', '+t.b+')'}function de(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'1';if(''!==e){var n=ae(e);if(''!==n)return[n.hex,oe(n),'1'];var r=e.match(/rgb(?:a)?\(([0-9]{1,3}), ([0-9]{1,3}), ([0-9]{1,3})(?:, ([0-9]{1,3}))?\)/);if(r&&4<=r.length&&'0'!==r[4])return null==r[4]&&(r[4]=t),['#'+le(r[1])+le(r[2])+le(r[3]),r[0],1>parseFloat(r[4])?parseFloat(r[4]).toFixed(2):'1']}return[]}function le(e){var t=parseInt(e);return isNaN(t)?'00':(t=Be(0,Ce(t,255)),'0123456789ABCDEF'.charAt((t-t%16)/16)+'0123456789ABCDEF'.charAt(t%16))}function se(e){return e=e.replace('#','').trim(),3===e.length&&(e=e.charAt(0).repeat(2)+e.charAt(1).repeat(2)+e.charAt(2).repeat(2)),6===e.length?{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4),16)}:null}function ue(e){if(''!==e){e=e.trim();var t=de(e);if(0<t.length&&(e=t[0]),'#'===e.charAt(0)&&/^#[a-zA-Z0-9]{3,6}$/.test(e))return 4===e.length?de(oe({rgb:se(e)}))[0]:e}return''}function pe(){Lt={android:['parent']}}function ce(e,t){var n=t,r=1,a=t.match(/^(\w+)_([0-9]+)$/);null!=a&&(n=a[1],r=parseInt(a[2])),null==Lt[e]&&(Lt[e]=[]);do if(!Lt[e].includes(t)){Lt[e].push(t);break}else t=n+'_'+r++;while(!0);return t}function he(e){return e.replace(/@\+?id\//,'')}function ge(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:160,n=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];return e&&(e=parseFloat(e),!isNaN(e))?(e/=t/160,e=1<=e||0===e?Pe(e):e.toFixed(2),e+(n?'sp':'dp')):'0dp'}function me(e,t,n){return xt.dimensResourceValue?'{%'+e.toLowerCase()+','+t+','+n+'}':n}function fe(e){var t=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];switch(xt.convertPixels){case'dp':return e.replace(/("|>)(-)?([0-9]+(?:\.[0-9]+)?px)("|<)/g,function(){return(1>=arguments.length?void 0:arguments[1])+((2>=arguments.length?void 0:arguments[2])||'')+ge(3>=arguments.length?void 0:arguments[3],xt.density,t)+(4>=arguments.length?void 0:arguments[4])});default:return e;}}function ye(e,t,n){return null==n&&(n=xt.constraintPercentAccuracy),parseFloat(Be(0===e?0:0===t?1:e/(e+t),0).toFixed(n))}function be(t){return xt.supportRTL&&xt.targetAPI>=e.build.JELLYBEAN_1&&(t=t.replace(/left/g,'start').replace(/right/g,'end'),t=t.replace(/Left/g,'Start').replace(/Right/g,'End')),t}function xe(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],r=new Nt(e,t.api,t.element);return r.depth=t.depth,r.parent=t.parent,r.inherit(t,'base'),r.excludeResource|=rt.ALL,r.children=n,r.isolated=!0,r}function _e(e){for(var t in e){var n=e[t];if('object'===('undefined'==typeof n?'undefined':Me(n)))for(var r in n)if(n[r]){var i=n[r].toString();switch(t){case'android':switch(r){case'text':if(!i.startsWith('@string/')&&(xt.numberResourceValue||!y(i))&&(i=Bt.addString(i),''!==i)){n[r]='@string/'+i;continue}break;case'src':if(/^\w+:\/\//.test(i)&&(i=Bt.addImage({mdpi:i}),''!==i)){n[r]='@drawable/'+i;continue}}}var a=ue(i);''!==a&&(n[r]='@color/'+Bt.addColor(a))}}return e}function Te(e,t){return Array.from(e.element.children).find(function(e){return x(_(e,'dataset.ext'),t)})}function ve(e,t,n,r){''===t?null==e[n]&&(e[n]=r):(null==e[t]&&(e[t]={}),null==e[t][n]&&(e[t][n]=r))}function Ie(e){var t=e.horizontalBias,n=e.verticalBias,r=[];.5>t?r.push(be('left')):.5<t?r.push(be('right')):r.push('center_horizontal'),.5>n?(r.push('top'),e.app('layout_dodgeInsetEdges','top')):.5<n?r.push('bottom'):r.push('center_vertical'),e.android('layout_gravity',2===r.filter(function(e){return-1!==e.indexOf('center')}).length?'center':r.join('|'));var i=e.documentParent;0<t&&1>t&&.5!==t&&(.5>t?e.css('marginLeft',c(Pe(e.bounds.left-i.box.left))):e.css('marginRight',c(Pe(i.box.right-e.bounds.right)))),0<n&&1>n&&.5!==n&&(.5>n?e.css('marginTop',c(Pe(e.bounds.top-i.box.top))):e.css('marginBottom',c(Pe(i.box.bottom-e.bounds.bottom))))}function Re(e){e instanceof Tt&&''!==e.name&&Array.isArray(e.tagNames)&&An.registerExtension(e)}function Ee(e,t){if(null!=t){var n=An.findExtension(e);null!=n&&Object.assign(n.options,t)}}function Ae(e){return An.findExtension(e)}function Le(){return!_n&&!An.closed}function Se(){!_n&&0<An.size&&An.finalize()}function Ne(){!_n&&0<An.size&&(!An.closed&&An.finalize(),An.resourceHandler.file.saveAllToDisk(An.viewData))}function Oe(){return!(!xt.autoCloseOnWrite||_n||An.closed)&&(An.finalize(),!0)}var we=Number.MAX_VALUE,ke=Math.abs,Ce=Math.min,Be=Math.max,De=Math.ceil,Pe=Math.floor,Me='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},Fe=function(){var e='function'==typeof Symbol&&Symbol.for&&Symbol.for('react.element')||60103;return function(t,n,r,a){var o=t&&t.defaultProps,d=arguments.length-3;if(n||0==d||(n={}),n&&o)for(var l in o)void 0===n[l]&&(n[l]=o[l]);else n||(n=o||{});if(1==d)n.children=a;else if(1<d){for(var s=Array(d),u=0;u<d;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===r?null:''+r,ref:null,props:n,_owner:null}}}(),Ge=function(){function e(e){this.value=e}function t(t){function n(i,a){try{var o=t[i](a),d=o.value;d instanceof e?Promise.resolve(d.value).then(function(e){n('next',e)},function(e){n('throw',e)}):r(o.done?'return':'normal',o.value)}catch(e){r('throw',e)}}function r(e,t){'return'===e?i.resolve({value:t,done:!0}):'throw'===e?i.reject(t):i.resolve({value:t,done:!1}),i=i.next,i?n(i.key,i.arg):a=null}var i,a;this._invoke=function(e,t){return new Promise(function(r,o){var d={key:e,arg:t,resolve:r,reject:o,next:null};a?a=a.next=d:(i=a=d,n(e,t))})},'function'!=typeof t.return&&(this.return=void 0)}return'function'==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke('next',e)},t.prototype.throw=function(e){return this._invoke('throw',e)},t.prototype.return=function(e){return this._invoke('return',e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),He=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')},We=function(){function e(e,t){for(var n=0,r;n<t.length;n++)r=t[n],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ve=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Xe=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var r in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},ze=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if('value'in i)return i.value;var o=i.get;return void 0===o?void 0:o.call(r)},Ue=function(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Ye=function(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e},je='undefined'==typeof global?self:global,Ze=function e(t,n,r,i){var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);null!==o&&e(o,n,r,i)}else if('value'in a&&a.writable)a.value=r;else{var d=a.set;void 0!==d&&d.call(i,r)}return r},Ke=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),d;!(r=(d=o.next()).done)&&(n.push(d.value),!(t&&n.length===t));r=!0);}catch(e){i=!0,a=e}finally{try{!r&&o['return']&&o['return']()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),qe=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Je=function(){function e(t,n){He(this,e),this.parent=n,this.currentId=0,this._list=[],Array.isArray(t)&&(this._list=t),this.parent=n}return We(e,[{key:Symbol.iterator,value:function(){var e=this._list,t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0,value:void 0}}}}},{key:'reset',value:function(){this.currentId=0,this.clear()}},{key:'get',value:function(e){return null==e?this._list[this._list.length-1]:this._list[e]}},{key:'append',value:function(){var e;(e=this._list).push.apply(e,arguments)}},{key:'prepend',value:function(){var e;(e=this._list).unshift.apply(e,arguments)}},{key:'remove',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this._list.splice(e,t)}},{key:'clone',value:function(){return new e(this._list.slice())}},{key:'filter',value:function(t){return new e(this._list.filter(t))}},{key:'partition',value:function(t){var n=[],r=[];return this._list.forEach(function(e){t(e)?n.push(e):r.push(e)}),[new e(n),new e(r)]}},{key:'each',value:function(e){this._list.forEach(e)}},{key:'locate',value:function(e,t){return'string'==typeof e?this._list.find(function(n){return n[e]===t}):this._list.find(e)}},{key:'clear',value:function(){this._list=[]}},{key:'sortAsc',value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return C.apply(void 0,[this._list].concat(t)),this}},{key:'sortDesc',value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return B.apply(void 0,[this._list].concat(t)),this}},{key:'length',get:function(){return this._list.length}},{key:'list',get:function(){return this._list}},{key:'visible',get:function(){return new e(this._list.filter(function(e){return e.visible}))}},{key:'elements',get:function(){return new e(this._list.filter(function(e){return e.visible&&e.hasElement}))}},{key:'nextId',get:function(){return++this.currentId}},{key:'linearX',get:function(){return e.linearX(this._list)}},{key:'linearY',get:function(){return e.linearY(this._list)}},{key:'top',get:function(){return Be.apply(null,this._list.map(function(e){return e.linear.top}))}},{key:'bottom',get:function(){return Be.apply(null,this._list.map(function(e){return e.linear.bottom}))}},{key:'right',get:function(){return Be.apply(null,this._list.map(function(e){return e.linear.right}))}},{key:'left',get:function(){return Be.apply(null,this._list.map(function(e){return e.linear.left}))}}],[{key:'cleared',value:function(e){var t=new Set,n=new Set;return e.forEach(function(e){e.floating&&n.add(e.float);var r=e.css('clear');0<n.size&&('both'===r||n.has(r))&&(t.add(e),n.clear())}),t}},{key:'linearX',value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=t.filter(function(e){return e.pageflow});switch(r.length){case 0:return!1;case 1:return!0;default:return 0===e.cleared(r).size&&r.every(function(e,t){return e.inlineElement&&!e.autoMargin&&(0===t||e.linear.top<r[t-1].linear.bottom)});}}},{key:'linearY',value:function(e){var t=e.filter(function(e){return e.pageflow&&!e.floating});switch(t.length){case 0:return!1;case 1:return!0;default:var n=Ce.apply(null,t.map(function(e){return e.linear.right})),r=Be.apply(null,t.map(function(e){return e.linear.right}));return t.every(function(e,i){if(e.linear.left<n)return!0;var a=t[i-1];return!!((null==a||a.inlineElement&&a.linear.right!==r)&&e.inlineElement&&e.linear.right!==r)});}}}]),e}(),Qe={Pink:{hex:'#FFC0CB'},LightPink:{hex:'#FFB6C1'},HotPink:{hex:'#FF69B4'},DeepPink:{hex:'#FF1493'},PaleVioletRed:{hex:'#DB7093'},MediumVioletRed:{hex:'#C71585'},LightSalmon:{hex:'#FFA07A'},Salmon:{hex:'#FA8072'},DarkSalmon:{hex:'#E9967A'},LightCoral:{hex:'#F08080'},IndianRed:{hex:'#CD5C5C'},Crimson:{hex:'#DC143C'},Firebrick:{hex:'#B22222'},DarkRed:{hex:'#8B0000'},Red:{hex:'#FF0000'},OrangeRed:{hex:'#FF4500'},Tomato:{hex:'#FF6347'},Coral:{hex:'#FF7F50'},Orange:{hex:'#FFA500'},DarkOrange:{hex:'#FF8C00'},Yellow:{hex:'#FFFF00'},LightYellow:{hex:'#FFFFE0'},LemonChiffon:{hex:'#FFFACD'},LightGoldenrodYellow:{hex:'#FAFAD2'},PapayaWhip:{hex:'#FFEFD5'},Moccasin:{hex:'#FFE4B5'},PeachPuff:{hex:'#FFDAB9'},PaleGoldenrod:{hex:'#EEE8AA'},Khaki:{hex:'#F0E68C'},DarkKhaki:{hex:'#BDB76B'},Gold:{hex:'#FFD700'},Cornsilk:{hex:'#FFF8DC'},BlanchedAlmond:{hex:'#FFEBCD'},Bisque:{hex:'#FFE4C4'},NavajoWhite:{hex:'#FFDEAD'},Wheat:{hex:'#F5DEB3'},Burlywood:{hex:'#DEB887'},Tan:{hex:'#D2B48C'},RosyBrown:{hex:'#BC8F8F'},SandyBrown:{hex:'#F4A460'},Goldenrod:{hex:'#DAA520'},DarkGoldenrod:{hex:'#B8860B'},Peru:{hex:'#CD853F'},Chocolate:{hex:'#D2691E'},SaddleBrown:{hex:'#8B4513'},Sienna:{hex:'#A0522D'},Brown:{hex:'#A52A2A'},Maroon:{hex:'#800000'},DarkOliveGreen:{hex:'#556B2F'},Olive:{hex:'#808000'},OliveDrab:{hex:'#6B8E23'},YellowGreen:{hex:'#9ACD32'},LimeGreen:{hex:'#32CD32'},Lime:{hex:'#00FF00'},LawnGreen:{hex:'#7CFC00'},Chartreuse:{hex:'#7FFF00'},GreenYellow:{hex:'#ADFF2F'},SpringGreen:{hex:'#00FF7F'},MediumSpringGreen:{hex:'#00FA9A'},LightGreen:{hex:'#90EE90'},PaleGreen:{hex:'#98FB98'},DarkSeaGreen:{hex:'#8FBC8F'},MediumAquamarine:{hex:'#66CDAA'},MediumSeaGreen:{hex:'#3CB371'},SeaGreen:{hex:'#2E8B57'},ForestGreen:{hex:'#228B22'},Green:{hex:'#008000'},DarkGreen:{hex:'#006400'},Aqua:{hex:'#00FFFF'},Cyan:{hex:'#00FFFF'},LightCyan:{hex:'#E0FFFF'},PaleTurquoise:{hex:'#AFEEEE'},Aquamarine:{hex:'#7FFFD4'},Turquoise:{hex:'#40E0D0'},DarkTurquoise:{hex:'#00CED1'},MediumTurquoise:{hex:'#48D1CC'},LightSeaGreen:{hex:'#20B2AA'},CadetBlue:{hex:'#5F9EA0'},DarkCyan:{hex:'#008B8B'},Teal:{hex:'#008080'},LightSteelBlue:{hex:'#B0C4DE'},PowderBlue:{hex:'#B0E0E6'},LightBlue:{hex:'#ADD8E6'},SkyBlue:{hex:'#87CEEB'},LightSkyBlue:{hex:'#87CEFA'},DeepSkyBlue:{hex:'#00BFFF'},DodgerBlue:{hex:'#1E90FF'},Cornflower:{hex:'#6495ED'},SteelBlue:{hex:'#4682B4'},RoyalBlue:{hex:'#4169E1'},Blue:{hex:'#0000FF'},MediumBlue:{hex:'#0000CD'},DarkBlue:{hex:'#00008B'},Navy:{hex:'#000080'},MidnightBlue:{hex:'#191970'},Lavender:{hex:'#E6E6FA'},Thistle:{hex:'#D8BFD8'},Plum:{hex:'#DDA0DD'},Violet:{hex:'#EE82EE'},Orchid:{hex:'#DA70D6'},Fuchsia:{hex:'#FF00FF'},Magenta:{hex:'#FF00FF'},MediumOrchid:{hex:'#BA55D3'},MediumPurple:{hex:'#9370DB'},BlueViolet:{hex:'#8A2BE2'},DarkViolet:{hex:'#9400D3'},DarkOrchid:{hex:'#9932CC'},DarkMagenta:{hex:'#8B008B'},Purple:{hex:'#800080'},RebeccaPurple:{hex:'#663399'},Indigo:{hex:'#4B0082'},DarkSlateBlue:{hex:'#483D8B'},SlateBlue:{hex:'#6A5ACD'},MediumSlateBlue:{hex:'#7B68EE'},White:{hex:'#FFFFFF'},Snow:{hex:'#FFFAFA'},Honeydew:{hex:'#F0FFF0'},MintCream:{hex:'#F5FFFA'},Azure:{hex:'#F0FFFF'},AliceBlue:{hex:'#F0F8FF'},GhostWhite:{hex:'#F8F8FF'},WhiteSmoke:{hex:'#F5F5F5'},Seashell:{hex:'#FFF5EE'},Beige:{hex:'#F5F5DC'},OldLace:{hex:'#FDF5E6'},FloralWhite:{hex:'#FFFAF0'},Ivory:{hex:'#FFFFF0'},AntiqueWhite:{hex:'#FAEBD7'},Linen:{hex:'#FAF0E6'},LavenderBlush:{hex:'#FFF0F5'},MistyRose:{hex:'#FFE4E1'},Gainsboro:{hex:'#DCDCDC'},LightGray:{hex:'#D3D3D3'},Silver:{hex:'#C0C0C0'},DarkGray:{hex:'#A9A9A9'},Gray:{hex:'#808080'},DimGray:{hex:'#696969'},LightSlateGray:{hex:'#778899'},SlateGray:{hex:'#708090'},DarkSlateGray:{hex:'#2F4F4F'},Black:{hex:'#000000'}},$e=[];for(var et in Qe){var i=Qe[et];for(var tt in i){var j=se(i[tt]);null!=j&&(i.rgb=j,i.hsl=ne(i.rgb.r,i.rgb.g,i.rgb.b)),$e.push({name:et,rgb:i.rgb,hex:i.hex,hsl:i.hsl})}}$e.sort(re);var nt;(function(e){e[e.NONE=0]='NONE',e[e.SELECT=1]='SELECT',e[e.RANGE=2]='RANGE',e[e.CHECKBOX=3]='CHECKBOX',e[e.RADIO=4]='RADIO',e[e.BUTTON=5]='BUTTON',e[e.EDIT=6]='EDIT',e[e.INLINE=7]='INLINE',e[e.TEXT=8]='TEXT',e[e.IMAGE=9]='IMAGE',e[e.LINE=10]='LINE',e[e.SPACE=11]='SPACE',e[e.BLOCK=12]='BLOCK',e[e.FRAME=13]='FRAME',e[e.LINEAR=14]='LINEAR',e[e.RADIO_GROUP=15]='RADIO_GROUP',e[e.GRID=16]='GRID',e[e.SCROLL_VERTICAL=17]='SCROLL_VERTICAL',e[e.SCROLL_HORIZONTAL=18]='SCROLL_HORIZONTAL',e[e.SCROLL_NESTED=19]='SCROLL_NESTED',e[e.RELATIVE=20]='RELATIVE',e[e.CONSTRAINT=21]='CONSTRAINT',e[e.WEB_VIEW=22]='WEB_VIEW'})(nt||(nt={}));var rt;(function(e){e[e.BOX_STYLE=2]='BOX_STYLE',e[e.BOX_SPACING=4]='BOX_SPACING',e[e.FONT_STYLE=8]='FONT_STYLE',e[e.VALUE_STRING=16]='VALUE_STRING',e[e.OPTION_ARRAY=32]='OPTION_ARRAY',e[e.IMAGE_SOURCE=64]='IMAGE_SOURCE',e[e.ASSET=120]='ASSET',e[e.ALL=126]='ALL'})(rt||(rt={}));var it;(function(e){e[e.LAYOUT=2]='LAYOUT',e[e.ALIGNMENT=4]='ALIGNMENT',e[e.OPTIMIZATION=8]='OPTIMIZATION',e[e.CUSTOMIZATION=16]='CUSTOMIZATION',e[e.ACCESSIBILITY=32]='ACCESSIBILITY',e[e.ALL=62]='ALL'})(it||(it={}));var at;(function(e){e[e.MARGIN_TOP=2]='MARGIN_TOP',e[e.MARGIN_RIGHT=4]='MARGIN_RIGHT',e[e.MARGIN_BOTTOM=8]='MARGIN_BOTTOM',e[e.MARGIN_LEFT=16]='MARGIN_LEFT',e[e.PADDING_TOP=32]='PADDING_TOP',e[e.PADDING_RIGHT=64]='PADDING_RIGHT',e[e.PADDING_BOTTOM=128]='PADDING_BOTTOM',e[e.PADDING_LEFT=256]='PADDING_LEFT',e[e.MARGIN=30]='MARGIN',e[e.MARGIN_VERTICAL=10]='MARGIN_VERTICAL',e[e.MARGIN_HORIZONTAL=20]='MARGIN_HORIZONTAL',e[e.PADDING=480]='PADDING',e[e.PADDING_VERTICAL=160]='PADDING_VERTICAL',e[e.PADDING_HORIZONTAL=320]='PADDING_HORIZONTAL'})(at||(at={}));var ot={INPUT:nt.NONE,PLAINTEXT:nt.TEXT,HR:nt.LINE,IMG:nt.IMAGE,SELECT:nt.SELECT,RANGE:nt.RANGE,TEXT:nt.EDIT,PASSWORD:nt.EDIT,NUMBER:nt.EDIT,EMAIL:nt.EDIT,SEARCH:nt.EDIT,URL:nt.EDIT,CHECKBOX:nt.CHECKBOX,RADIO:nt.RADIO,BUTTON:nt.BUTTON,SUBMIT:nt.BUTTON,RESET:nt.BUTTON,TEXTAREA:nt.EDIT,IFRAME:nt.WEB_VIEW},dt=['ADDRESS','ARTICLE','ASIDE','BLOCKQUOTE','CANVAS','DD','DIV','DL','DT','FIELDSET','FIGCAPTION','FIGURE','FOOTER','FORM','H1','H2','H3','H4','H5','H6','HEADER','LI','MAIN','NAV','OL','OUTPUT','P','PRE','SECTION','TFOOT','TH','THEAD','TR','UL','VIDEO'],lt=['A','ABBR','ACRONYM','B','BDO','BIG','BR','BUTTON','CITE','CODE','DFN','EM','I','IFRAME','IMG','INPUT','KBD','LABEL','MAP','OBJECT','Q','S','SAMP','SCRIPT','SELECT','SMALL','SPAN','STRIKE','STRONG','SUB','SUP','TEXTAREA','TIME','TT','U','VAR','PLAINTEXT'];(function(e){e[e.PIE=28]='PIE',e[e.OREO_1=27]='OREO_1',e[e.OREO=26]='OREO',e[e.NOUGAT_1=25]='NOUGAT_1',e[e.NOUGAT=24]='NOUGAT',e[e.MARSHMALLOW=23]='MARSHMALLOW',e[e.LOLLIPOP_1=22]='LOLLIPOP_1',e[e.LOLLIPOP=21]='LOLLIPOP',e[e.KITKAT_1=20]='KITKAT_1',e[e.KITKAT=19]='KITKAT',e[e.JELLYBEAN_2=18]='JELLYBEAN_2',e[e.JELLYBEAN_1=17]='JELLYBEAN_1',e[e.JELLYBEAN=16]='JELLYBEAN',e[e.ICE_CREAM_SANDWICH_1=15]='ICE_CREAM_SANDWICH_1',e[e.ICE_CREAM_SANDWICH=14]='ICE_CREAM_SANDWICH',e[e.ALL=0]='ALL',e[e.LATEST=28]='LATEST'})(e.build||(e.build={})),function(e){e[e.LDPI=120]='LDPI',e[e.MDPI=160]='MDPI',e[e.HDPI=240]='HDPI',e[e.XHDPI=320]='XHDPI',e[e.XXHDPI=480]='XXHDPI',e[e.XXXHDPI=640]='XXXHDPI'}(e.density||(e.density={}));var st={FRAME:'FrameLayout',LINEAR:'LinearLayout',CONSTRAINT:'android.support.constraint.ConstraintLayout',RELATIVE:'RelativeLayout',GRID:'GridLayout',SCROLL_VERTICAL:'ScrollView',SCROLL_HORIZONTAL:'HorizontalScrollView',SCROLL_NESTED:'android.support.v4.widget.NestedScrollView',RADIO_GROUP:'RadioGroup',WEB_VIEW:'WebView',TEXT:'TextView',EDIT:'EditText',IMAGE:'ImageView',SELECT:'Spinner',RANGE:'SeekBar',CHECKBOX:'CheckBox',RADIO:'RadioButton',BUTTON:'Button',LINE:'View',SPACE:'Space',GUIDELINE:'android.support.constraint.Guideline'},ut={MARGIN:'layout_margin',MARGIN_VERTICAL:'layout_marginVertical',MARGIN_HORIZONTAL:'layout_marginHorizontal',MARGIN_TOP:'layout_marginTop',MARGIN_RIGHT:'layout_marginRight',MARGIN_BOTTOM:'layout_marginBottom',MARGIN_LEFT:'layout_marginLeft',PADDING:'padding',PADDING_VERTICAL:'paddingVertical',PADDING_HORIZONTAL:'paddingHorizontal',PADDING_TOP:'paddingTop',PADDING_RIGHT:'paddingRight',PADDING_BOTTOM:'paddingBottom',PADDING_LEFT:'paddingLeft'},pt={HORIZONTAL:'horizontal',VERTICAL:'vertical'},ct={android:'http://schemas.android.com/apk/res/android',app:'http://schemas.android.com/apk/res-auto',tools:'http://schemas.android.com/tools'},ht={"sans-serif":e.build.ICE_CREAM_SANDWICH,"sans-serif-thin":e.build.JELLYBEAN,"sans-serif-light":e.build.JELLYBEAN,"sans-serif-condensed":e.build.JELLYBEAN,"sans-serif-condensed-light":e.build.JELLYBEAN,"sans-serif-medium":e.build.LOLLIPOP,"sans-serif-black":e.build.LOLLIPOP,"sans-serif-smallcaps":e.build.LOLLIPOP,"serif-monospace":e.build.LOLLIPOP,serif:e.build.LOLLIPOP,casual:e.build.LOLLIPOP,cursive:e.build.LOLLIPOP,monospace:e.build.LOLLIPOP,"sans-serif-condensed-medium":e.build.OREO},gt={arial:'sans-serif',helvetica:'sans-serif',tahoma:'sans-serif',verdana:'sans-serif',times:'serif',"times new roman":'serif',palatino:'serif',georgia:'serif',baskerville:'serif',goudy:'serif',fantasy:'serif',"itc stone serif":'serif',"sans-serif-monospace":'monospace',monaco:'monospace',courier:'serif-monospace',"courier new":'serif-monospace'},mt={"ms shell dlg \\32":'sans-serif',"system-ui":'sans-serif',"-apple-system":'sans-serif'},ft={100:'thin',200:'extra_light',300:'light',400:'normal',500:'medium',600:'semi_bold',700:'bold',800:'extra_bold',900:'black'},yt=['STRONG','B','EM','CITE','DFN','I','BIG','SMALL','FONT','BLOCKQUOTE','TT','A','U','SUP','SUB','STRIKE','H1','H2','H3','H4','H5','H6','DEL','LABEL','BR','PLAINTEXT'],bt=['abstract','assert','boolean','break','byte','case','catch','char','class','const','continue','default','double','do','else','enum','extends','false','final','finally','float','for','goto','if','implements','import','instanceof','int','interface','long','native','new','null','package','private','protected','public','return','short','static','strictfp','super','switch','synchronized','this','throw','throws','transient','true','try','void','volatile','while'],xt={builtInExtensions:['androme.external','androme.custom','androme.list','androme.table','androme.grid','androme.widget'],targetAPI:e.build.OREO,density:e.density.MDPI,supportRTL:!0,dimensResourceValue:!0,numberResourceValue:!1,fontAliasResourceValue:!0,alwaysReevaluateResources:!0,excludeTextColor:['#000000'],excludeBackgroundColor:['#FFFFFF'],autoSizePaddingAndBorderWidth:!0,collapseUnattributedElements:!1,horizontalPerspective:!0,constraintPercentAccuracy:4,constraintChainDisabled:!1,constraintWhitespaceHorizontalOffset:4,constraintWhitespaceVerticalOffset:16,constraintChainPackedHorizontalOffset:4,constraintChainPackedVerticalOffset:16,constraintCirclePositionAbsolute:!1,showAttributes:!0,customizationsOverwritePrivilege:!1,autoCloseOnWrite:!0,insertSpaces:4,convertPixels:'dp',outputDirectory:'app/src/main',outputActivityMainFileName:'activity_main.xml',outputArchiveFileType:'zip',outputMaxProcessingTime:30},_t=function(){function e(t){He(this,e),this.TypeT=t,this.elements=new Set,this.insert={},this.closed=!1,this.sorted={},this.views=[],this.includes=[],this.currentIndex=-1,this._extensions=[],this.cache=new Je,this.cacheInternal=new Je}return We(e,[{key:'registerController',value:function(e){e.cache=this.cache,this.controllerHandler=e}},{key:'registerResource',value:function(e){e.cache=this.cache,this.resourceHandler=e}},{key:'registerExtension',value:function(e){var t=this,n=this.findExtension(e.name);null==n?e.dependencies.every(function(e){return null!=t.findExtension(e.name)})&&(e.application=this,this._extensions.push(e)):(Array.isArray(e.tagNames)&&(n.tagNames=e.tagNames),Object.assign(n.options,e.options))}},{key:'finalize',value:function(){var e=this.cacheInternal.visible,t=!0,n=!1,r=void 0;try{for(var i=e[Symbol.iterator](),a,o;!(t=(a=i.next()).done);t=!0)o=a.value,f(o.excludeProcedure,it.LAYOUT)||o.setLayout(),f(o.excludeProcedure,it.ALIGNMENT)||o.setAlignment()}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}var d=!0,l=!1,s=void 0;try{for(var u=e[Symbol.iterator](),p,c;!(d=(p=u.next()).done);d=!0)c=p.value,f(c.excludeProcedure,it.OPTIMIZATION)||c.applyOptimizations({autoSizePaddingAndBorderWidth:xt.autoSizePaddingAndBorderWidth}),f(c.excludeProcedure,it.CUSTOMIZATION)||c.applyCustomizations(xt.customizationsOverwritePrivilege)}catch(e){l=!0,s=e}finally{try{!d&&u.return&&u.return()}finally{if(l)throw s}}this.controllerHandler.setDimensions(this.viewData),this.insertAuxillaryViews(),this.resourceHandler.finalize(this.viewData),this.resourceHandler.filterStyles(this.viewData),xt.showAttributes&&this.setAttributes(),this.controllerHandler.finalize(this.layouts),this.closed=!0}},{key:'reset',value:function(){var e=!0,t=!1,n=void 0;try{for(var r=this.cacheInternal[Symbol.iterator](),i,a;!(e=(i=r.next()).done);e=!0)a=i.value,z(a.element,'style','styleMap','boxSpacing','boxStyle','fontStyle','imageSource','optionArray','valueString')}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}this.cache.reset(),this.cacheInternal.reset(),this.resetController(),this.resetResource(),this.appName='',this.sorted={},this.views=[],this.includes=[],this.insert={},this.currentIndex=-1,this.closed=!1}},{key:'resetController',value:function(){this.controllerHandler.reset()}},{key:'resetResource',value:function(){this.resourceHandler.reset()}},{key:'setConstraints',value:function(){this.controllerHandler.setConstraints()}},{key:'setResources',value:function(){this.resourceHandler.setBoxStyle(),this.resourceHandler.setFontStyle(),this.resourceHandler.setBoxSpacing(),this.resourceHandler.setValueString(this.controllerHandler.supportInline),this.resourceHandler.setOptionArray(),this.resourceHandler.setImageSource()}},{key:'setStyleMap',value:function(){for(var e=this,t=!1,n=0,r;n<document.styleSheets.length;n++)if(r=document.styleSheets[n],null!=r.cssRules)for(var o=0;o<r.cssRules.length;o++)try{(function(){var t=r.cssRules[o],n=new Set,i=!0,d=!1,l=void 0;try{for(var s=Array.from(t.style)[Symbol.iterator](),u,c;!(i=(u=s.next()).done);i=!0)c=u.value,n.add(a(c))}catch(e){d=!0,l=e}finally{try{!i&&s.return&&s.return()}finally{if(d)throw l}}var h=document.querySelectorAll(t.selectorText);''!==e.appName&&Array.from(h).forEach(function(e){return z(e,'style','styleMap')}),Array.from(h).forEach(function(e){var r=!0,i=!1,o=void 0;try{for(var d=Array.from(e.style)[Symbol.iterator](),l,s;!(r=(l=d.next()).done);r=!0)s=l.value,n.add(a(s))}catch(e){i=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw o}}var u=K(e),c={},h=!0,g=!1,m=void 0;try{for(var f=n[Symbol.iterator](),y,x;!(h=(y=f.next()).done);h=!0){if(x=y.value,-1!==x.toLowerCase().indexOf('color')){var _=ae(t.style[x]);''!==_&&(t.style[x]=oe(_))}var T=t.style[x];e.style[x]?c[x]=e.style[x]:u[x]===T?c[x]=u[x]:T&&('width'===x||'height'===x||'marginTop'===x||'marginRight'===x||'marginBottom'===x||'marginLeft'===x?c[x]=/^[\-A-za-z]+$/.test(T)||b(T)?T:p(T):void 0)}}catch(e){g=!0,m=e}finally{try{!h&&f.return&&f.return()}finally{if(g)throw m}}var v=X(e,'styleMap');null==v?(V(e,'style',u),V(e,'styleMap',c)):Object.assign(v,c)})})()}catch(e){t||(alert('External CSS files cannot be parsed when loading this program from your hard drive with Chrome 64+ (file://). Either use a local web server (http://), embed your CSS files into a <style> tag, or use a different browser. See the README for further instructions.\n\n'+(r.href+'\n\n'+e)),t=!0)}}},{key:'createNodeCache',value:function(e){var t=this,n=0;e===document.body&&Array.from(document.body.childNodes).forEach(function(e){'#text'===e.nodeName?''!==_(e,'textContent').trim()&&n++:ee(e)&&n++});var r=e===document.body?document.querySelectorAll(1<n?'body, body *':'body *'):e.querySelectorAll('*');this.cache.parent=void 0,this.cache.clear();var i=this.extensions,a=!0,o=!1,d=void 0;try{for(var l=i[Symbol.iterator](),u,p;!(a=(u=l.next()).done);a=!0)p=u.value,p.setTarget({},void 0,e),p.beforeInit()}catch(e){o=!0,d=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw d}}var h=this.insertNode(e);if(null!=h)h.parent=new this.TypeT(0,xt.targetAPI,e.parentElement||document.body),h.documentRoot=!0,this.cache.parent=h;else return!1;var g=function(n){if(!t.elements.has(n)&&(t.orderExt(i,n).some(function(e){return e.init(n)}),!t.elements.has(n))){var r=t.controllerHandler.supportInline,a=X(n,'styleMap');if((!a||0===Object.keys(a).length)&&r.includes(n.tagName)&&n.parentElement&&Array.from(n.parentElement.children).every(function(e){return 0===e.children.length&&r.includes(e.tagName)}))return V(n,'supportInline',!0),'continue';for(var o=!0,d=n.parentElement;null!=d&&d!==e;){if(d!==e&&t.elements.has(d)){o=!1;break}d=d.parentElement}o&&t.insertNode(n)}},m=!0,y=!1,b=void 0;try{for(var x=Array.from(r)[Symbol.iterator](),T;!(m=(T=x.next()).done);m=!0){var v=T.value,I=g(v)}}catch(e){y=!0,b=e}finally{try{!m&&x.return&&x.return()}finally{if(y)throw b}}if(0<this.cache.length){var R={},E=function(e){var t=e.element;R[e.id]={};var n=R[e.id],r=e.css('textAlign');switch(r){case'center':if('BUTTON'!==t.tagName&&'button'===t.type)break;case'right':case'end':n.textAlign=r,t.style.textAlign='left';}'relative'===e.position&&['top','right','bottom','left'].forEach(function(r){null!=e.styleMap[r]&&(n[r]=e.styleMap[r],t.style[r]='0px')}),n.verticalAlign=e.styleMap.verticalAlign||'',t.style.verticalAlign='top',0!==e.overflow&&(e.isSet('styleMap','width')&&(n.width=e.styleMap.width,t.style.width='auto'),e.isSet('styleMap','height')&&(n.height=e.styleMap.height,t.style.height='auto'),n.overflow=e.style.overflow,t.style.overflow='visible'),e.setBounds()},A=!0,L=!1,S=void 0;try{for(var N=this.cache[Symbol.iterator](),O,w;!(A=(O=N.next()).done);A=!0)w=O.value,E(w)}catch(e){L=!0,S=e}finally{try{!A&&N.return&&N.return()}finally{if(L)throw S}}var k=function(e){if(e.pageflow){var t=e.element;if('INPUT'===t.tagName&&!f(e.excludeProcedure,it.ACCESSIBILITY))switch(t.type){case'radio':case'checkbox':var n=[t.previousElementSibling,t.nextElementSibling].some(function(n){if(n&&''!==n.htmlFor&&n.htmlFor===t.id){var r=U(n);if(r&&r.pageflow)return e.companion=r,e.setBounds(),r.hide(),!0}return!1});if(!n){var r=U(t.parentElement);r&&'LABEL'===r.element.tagName&&1===r.element.children.length&&(e.companion=r,e.setBounds(),r.hide())}}}},B=!0,D=!1,P=void 0;try{for(var M=this.cache[Symbol.iterator](),F,w;!(B=(F=M.next()).done);B=!0)w=F.value,k(w)}catch(e){D=!0,P=e}finally{try{!B&&M.return&&M.return()}finally{if(D)throw P}}var G=this.cache.visible,H=!0,W=!1,z=void 0;try{for(var Y=G[Symbol.iterator](),j,w;!(H=(j=Y.next()).done);H=!0)if(w=j.value,!w.documentRoot){var Z=U(w.element.parentElement);if(Z){if(!w.pageflow){for(var K=!1,q=null;Z&&0!==Z.id;){if('absolute'===w.position){var J=Z.position;if('static'!==J&&'initial'!==J){K=!0;break}}else if(w.withinX(Z.box)&&w.withinY(Z.box)||null!=q&&(w.linear.top>=Z.linear.top&&w.linear.top<q.linear.top||w.linear.right<=Z.linear.right&&w.linear.right>q.linear.right||w.linear.bottom<=Z.linear.bottom&&w.linear.bottom>q.linear.bottom||w.linear.left>=Z.linear.left&&w.linear.left<q.linear.left)){K=!0;break}q=Z,Z=U(Z.element.parentElement)}K||(Z=this.cache.parent)}else if(Z===w.companion){var Q=U(Z.element.parentElement);Q&&(Z=Q)}w.parent=Z,Z.children.push(w)}}}catch(e){W=!0,z=e}finally{try{!H&&Y.return&&Y.return()}finally{if(W)throw z}}var $=function(e){var n=t.controllerHandler.supportInline,r=[],i=!0;if(Array.from(e.element.childNodes).forEach(function(e){'#text'===e.nodeName?''!==_(e,'textContent').trim()&&r.push(e):(!n.includes(e.tagName)||U(e))&&(i=!1)}),i||r.forEach(function(n){return t.insertNode(n,e)}),e.children.some(function(t){return'right'!==t.float&&0>t.marginLeft&&e.marginLeft>=ke(t.marginLeft)})||e.children.some(function(t){return!t.pageflow&&0>s(t.left)&&e.marginLeft>=ke(s(t.left))})){var a=[];e.each(function(t){var n=t.marginLeft,r=0;0>n&&e.marginLeft>=n&&(r=1),t.pageflow||0!=r||(n=s(t.left),0>n&&e.marginLeft>=n&&(t.css('left',c(n+e.marginLeft)),r=2)),a.push(r)});var o=Be.apply(null,a);e.each(function(t,n){o&&2!==a[n]&&(1===o&&1===a[n]||2===o)&&t.modifyBox(at.MARGIN_LEFT,t.marginLeft+e.marginLeft,!0)}),o&&(e.box.left-=e.marginLeft,e.css('marginLeft','0px')),e.setDimensions(['box'])}if(!e.pageflow&&0<e.children.length){var d=!1;if(0===e.viewWidth){var l=Be.apply(null,e.cascade().map(function(e){return e.linear.right}));e.bounds.right=l+e.paddingRight+e.borderRightWidth,e.bounds.width=e.bounds.right-e.bounds.left,d=!0}if(0===e.viewHeight){var u=Be.apply(null,e.cascade().map(function(e){return e.linear.bottom}));e.bounds.bottom=u+e.paddingBottom+e.borderBottomWidth,e.bounds.height=e.bounds.bottom-e.bounds.top,d=!0}d&&e.setBounds(!0)}},te=!0,ne=!1,re=void 0;try{for(var ie=G[Symbol.iterator](),ae,oe;!(te=(ae=ie.next()).done);te=!0)oe=ae.value,$(oe)}catch(e){ne=!0,re=e}finally{try{!te&&ie.return&&ie.return()}finally{if(ne)throw re}}var de=!0,le=!1,se=void 0;try{for(var ue=this.cache[Symbol.iterator](),pe;!(de=(pe=ue.next()).done);de=!0){var ce=pe.value,he=R[ce.id];if(null!=he)for(var ge in he)ce.element.style[ge]=he[ge]}}catch(e){le=!0,se=e}finally{try{!de&&ue.return&&ue.return()}finally{if(le)throw se}}var me=!0,fe=!1,ye=void 0;try{for(var be=i[Symbol.iterator](),xe,_e;!(me=(xe=be.next()).done);me=!0)_e=xe.value,_e.setTarget(h),_e.afterInit()}catch(e){fe=!0,ye=e}finally{try{!me&&be.return&&be.return()}finally{if(fe)throw ye}}var Te=function(e){var t=0;Array.from(e.element.childNodes).forEach(function(e){var n=U(e);n&&n.visible&&(n.siblingIndex=t++)}),C(e.children,'siblingIndex')},ve=!0,Ie=!1,Re=void 0;try{for(var Ee=this.cache.elements[Symbol.iterator](),Ae,Le;!(ve=(Ae=Ee.next()).done);ve=!0)Le=Ae.value,Te(Le)}catch(e){Ie=!0,Re=e}finally{try{!ve&&Ee.return&&Ee.return()}finally{if(Ie)throw Re}}return this.cache.sortAsc('depth','parent.id','siblingIndex','id'),this.addLayout(e.dataset.viewName),!0}return!1}},{key:'createLayoutXml',value:function(){var e=this,t=this,n=this.extensions,r=[],i=[],a='<?xml version="1.0" encoding="utf-8"?>\n{:0}',o=!0,d=!0,l=!1,u=void 0,p;try{for(var c=this.cache.visible[Symbol.iterator](),h;!(d=(h=c.next()).done);d=!0){var g=h.value,m=Pe(g.linear.left),f=g.parent.id;null==r[g.depth]&&(r[g.depth]={}),null==i[g.depth]&&(i[g.depth]={}),null==r[g.depth][m]&&(r[g.depth][m]=[]),null==i[g.depth][f]&&(i[g.depth][f]=[]),r[g.depth][m].push(g),i[g.depth][f].push(g)}}catch(e){l=!0,u=e}finally{try{!d&&c.return&&c.return()}finally{if(l)throw u}}for(var y=function(d){function u(e,n,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'';if(''!==r){if(''===i&&!t.elements.has(e.element))if(e.isSet('dataset','target')){var a=t.findByDomId(e.dataset.target,!0);if(null==a||a!==n)return t.addInsertQueue(e.dataset.target,[r]),void(e.relocated=!0)}else if(n.isSet('dataset','target'))return t.addInsertQueue(n.nodeId,[r]),void(e.dataset.target=n.nodeId);''===i?(!p.has(n.id)&&p.set(n.id,[]),p.get(n.id).push(r)):(!c.has(i)&&c.set(i,[]),c.get(i).push(r))}}for(var l=Object.keys(i[d]),p=new Map,c=new Map,h=function(t){var a=[],o=[],p=[],c=[],h=e.cache.locate('id',parseInt(l[t])),g=!0,m=!1,f=void 0;try{for(var y=i[d][l[t]][Symbol.iterator](),b;!(g=(b=y.next()).done);g=!0){var x=b.value,T=s(x.css('zIndex')),v=x.parent.element===x.element.parentElement;x.documentRoot?a.push(x):x.pageflow||0===T&&v?p.push(x):0<T||!v?c.push(x):o.push(x)}}catch(e){m=!0,f=e}finally{try{!g&&y.return&&y.return()}finally{if(m)throw f}}null!=h&&e.sortLayout(h,p),a.push.apply(a,qe(C(o,'style.zIndex','siblingIndex'))),a.push.apply(a,p),a.push.apply(a,qe(C(c,'style.zIndex','siblingIndex')));for(var I=[],R='',E=function(t){var o=a[t];if(!o.documentRoot&&e.elements.has(o.element))return'continue';if(h=o.parent,e.controllerHandler.supportInclude){var d=_(o,'dataset.include').trim();if(''!==d&&-1===I.indexOf(d)&&(u(o,h,e.controllerHandler.renderInclude(o,h,d),0<I.length?I[I.length-1]:''),I.push(d)),R=0<I.length?I[I.length-1]:'',''!==R){var s=h.clone();s.renderDepth=e.controllerHandler.getIncludeRenderDepth(R),o.parent=s,h=s}}if(!o.rendered){var p=h.renderExtension;if(null!=p){p.setTarget(o,h);var c=p.processChild();if(''!==c.xml&&u(o,h,c.xml,R),c.parent&&(h=c.parent),c.proceed)return'continue'}var g=[],f=!1;if(e.orderExt(n,o.element).some(function(e){if(e.is(o)&&(e.setTarget(o,h),e.condition())){var t=e.processNode(r,i);if(''!==t.xml&&u(o,h,t.xml,R),t.parent&&(h=t.parent),(''!==t.xml||t.proceed)&&g.push(e),t.proceed)return f=!0,!0}return!1}),null==o.renderExtension&&0<g.length&&(o.renderExtension=g[0]),f)return'continue';var y=Je.cleared(a.slice(t));if(!o.rendered){if(xt.horizontalPerspective){var b=h.is(nt.LINEAR)&&!h.horizontal;if(o.pageflow&&!o.inlineWrap&&!N(o.dataset.target)&&!h.flex.enabled&&!h.inlineWrap&&null==h.styleMap.columnCount&&(h.is(nt.CONSTRAINT,nt.RELATIVE)||b)){for(var x=[o],T=[o],v=t+1,E;v<a.length;v++)if(E=a[v],E.pageflow){var L=E.previousSibling;if(null!=L)if($(L.element.nextSibling,'next'))break;else if(y.has(E)||E.multiLine&&!h.is(nt.RELATIVE)||1<x.length&&$(E.element.previousSibling)||!L.floating&&(L.autoMargin||!E.inlineElement)||!E.floating&&(!L.inlineElement&&!L.floating||L.autoMargin)||!L.floating&&E.autoMargin||T.length>x.length&&Je.linearY([].concat(qe(T.slice()),[E]))){if(1<x.length){if(b)for(var S=1;S<x.length;S++)if($(x[S].element.previousSibling)){x.length=1;break}break}else if(b)break;T.push(E);continue}if($(E.element.previousSibling)&&!b)if(!(1<x.length)){T.push(E);continue}else if(Je.linearY(x)){T=x.slice(),x.length=1;continue}else break;if(!y.has(E)){var O=N(E.dataset.target);if(O||x.push(E),null==L||L.inlineElement&&E.inlineElement||L.floating&&!E.inlineElement)continue;if(!Je.linearX(x))if(h.is(nt.CONSTRAINT)&&Je.linearY(x))T=x.slice(),x.length=1;else{O||x.pop();break}}else break}var w=null,k='';1<x.length?x.length===h.children.length?h.inlineWrap=!0:(w=e.controllerHandler.createGroup(o,x,h),x.some(function(e){return e.multiLine})?(k=e.writeRelativeLayout(w,h),w.inlineWrap=!0):x.some(function(e){return e.floating||'relative'===e.position})?(k=e.writeFrameLayoutGroup(w,h,x),h.children=h.children.filter(function(e){return!x.includes(e)}),w.inlineWrap=!0):(k=e.writeLinearLayout(w,h,!0),e.sortLayout(w,w.children,!0))):1<T.length&&(T.length===h.children.length?h.inlineWrap=!0:(w=e.controllerHandler.createGroup(o,T,h),k=e.writeLinearLayout(w,h,!1),e.sortLayout(w,w.children,!0))),null!=w&&(u(w,h,k,R),h=o.parent)}}var C='';if(''===o.nodeName){var B=o.children.filter(function(e){return!e.isSet('dataset','target')});if(0===B.length){if(Q(o.element,1)||!xt.collapseUnattributedElements&&!dt.includes(o.element.tagName))C=e.writeNode(o,h,nt.TEXT);else{if(xt.collapseUnattributedElements&&0===o.viewWidth&&0===o.viewHeight)return'continue';o.documentRoot||(C=e.writeFrameLayout(o,h))}}else if(o.flex.enabled||B.some(function(e){return!e.pageflow})||null!=o.styleMap.columnCount)C=e.writeConstraintLayout(o,h);else if(1!==B.length){var D=[Je.linearX(o.children),Je.linearY(o.children)],P=D[0],M=D[1];if(!h.flex.enabled&&o.children.every(function(e){return e.pageflow})){var F=new Set(o.children.map(function(e){return e.float}));if(!P){var G=Je.cleared(o.children);(M&&o.children.every(function(e){return e.pageflow})||o.children.some(function(e){return!e.inlineElement||G.has(e)})&&!o.children.some(function(e){return e.autoMargin}))&&(C=e.writeLinearLayout(o,h,!1))}else if(1===F.size&&!o.children.some(function(e){return e.multiLine}))C=e.writeLinearLayout(o,h,!0);else if(o.children.some(function(e){return e.floating})){var H=e.controllerHandler.createGroup(o,o.children,h,o.element);C=e.writeFrameLayoutGroup(H,h,o.children),H.inlineWrap=!0}}''===C&&(xt.horizontalPerspective&&o.children.every(function(e){return e.pageflow&&e.inlineElement&&!y.has(e)})?C=e.writeRelativeLayout(o,h):(C=e.writeConstraintLayout(o,h),o.inlineWrap=!P&&M))}else if(xt.collapseUnattributedElements&&0===Object.keys(o.styleMap).length&&!e.controllerHandler.hasAppendProcessing(o.id)){var W=B[0];W.documentRoot=o.documentRoot,W.parent=h,o.hide(),a[t]=W,t--}else C=e.writeFrameLayout(o,h)}else C=e.writeNode(o,h,o.nodeName);u(o,h,C,R)}}e.controllerHandler.supportInclude&&0<I.length&&'true'===_(o,'dataset.includeEnd')&&I.pop(),A=t},A=0,L;A<a.length;A++)L=E(A),'continue'===L},g=0;g<l.length;g++)h(g);var m=function(t,n){var r=[];if(null!=e.sorted[t]){var i=[];e.sorted[t].forEach(function(e){var t=n.find(function(t){return-1!==t.indexOf('{@'+e+'}')});t&&i.push(t)}),i.length===n.length&&r.push.apply(r,i)}0===r.length&&r.push.apply(r,qe(n));var d='{:'+t+'}';-1===a.indexOf(d)?e.addInsertQueue(t,n):(a=a.replace(d,r.join('')+d),o=!1)},f=!0,y=!1,b=void 0;try{for(var x=p.entries()[Symbol.iterator](),T;!(f=(T=x.next()).done);f=!0){var v=T.value,I=Ke(v,2),R=I[0],E=I[1];m(R,E)}}catch(e){y=!0,b=e}finally{try{!f&&x.return&&x.return()}finally{if(y)throw b}}var A=!0,L=!1,S=void 0;try{for(var O=c.entries()[Symbol.iterator](),w;!(A=(w=O.next()).done);A=!0){var k=w.value,B=Ke(k,2),D=B[0],E=B[1],P=e.controllerHandler.renderIncludeContent(D,E);e.addInclude(D,P)}}catch(e){L=!0,S=e}finally{try{!A&&O.return&&O.return()}finally{if(L)throw S}}},b=0;b<i.length;b++)y(b);var x=this.cache.parent;if(null==x.renderExtension||!x.isSet('dataset','target')){var T=v(_(x,'dataset.folder').trim(),'/');this.updateLayout(T,o?'':a,null!=x.renderExtension&&x.renderExtension.documentRoot)}else this.views.pop();if(!o){var I=!0,R=!1,E=void 0;try{for(var A=n[Symbol.iterator](),L,S;!(I=(L=A.next()).done);I=!0)S=L.value,S.setTarget(x),S.afterRender()}catch(e){R=!0,E=e}finally{try{!I&&A.return&&A.return()}finally{if(R)throw E}}}else null==x.renderExtension&&(x.visible=!1);(p=this.cacheInternal).append.apply(p,qe(this.cache))}},{key:'writeFrameLayout',value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return 0!==e.children.length||n?this.controllerHandler.renderGroup(e,t,nt.FRAME):this.controllerHandler.renderNode(e,t,nt.FRAME)}},{key:'writeLinearLayout',value:function(e,t,n){return this.controllerHandler.renderGroup(e,t,nt.LINEAR,{horizontal:n})}},{key:'writeGridLayout',value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return this.controllerHandler.renderGroup(e,t,nt.GRID,{columns:n,rows:r})}},{key:'writeRelativeLayout',value:function(e,t){return this.controllerHandler.renderGroup(e,t,nt.RELATIVE)}},{key:'writeConstraintLayout',value:function(e,t){return this.controllerHandler.renderGroup(e,t,nt.CONSTRAINT)}},{key:'writeNode',value:function(e,t,n){return this.controllerHandler.renderNode(e,t,n)}},{key:'writeFrameLayoutGroup',value:function(e,t,n){var r=this,i='',a=new Je(n).partition(function(e){return e.floating||'auto'===e.styleMap.marginLeft||'auto'===e.styleMap.marginRight}),o=Ke(a,2),d=o[0],l=o[1],s=new Je(d.list).partition(function(e){return'right'===e.float||'auto'===e.styleMap.marginLeft}),u=Ke(s,2),p=u[0],c=u[1],h=[l.linearX,l.linearY],g=h[0],m=h[1];if(1<l.length&&!g&&!m)i=this.writeConstraintLayout(e,t),e.inlineWrap=!0;else{var f=[].concat(qe(c.list),qe(l.list));if(f.length===n.length)i=this.writeLinearLayout(e,t,!0),this.sortLayout(e,e.children,!0);else{i=this.writeFrameLayout(e,t,!0);var y='{:'+e.id+'}';[f,p.list].forEach(function(t,n){if(1<t.length){var a=r.controllerHandler.createGroup(t[0],t,e);i=i.replace(y,(0===n?'':y)+r.writeLinearLayout(a,e,t.every(function(e){return e.inlineElement}))+(0===n?y:'')),r.sortLayout(a,t,!0)}else 0<t.length&&(t[0].inlineWrap=!0)})}}return i}},{key:'addInsertQueue',value:function(e,t){var n;null==this.insert[e]&&(this.insert[e]=[]),(n=this.insert[e]).push.apply(n,qe(t))}},{key:'insertAuxillaryViews',value:function(){var e=!0,t=!1,n=void 0;try{for(var r=this.cacheInternal[Symbol.iterator](),i;!(e=(i=r.next()).done);e=!0){var a=i.value,o=a.renderExtension;null!=o&&(o.setTarget(a),o.beforeInsert())}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}var d={};for(var l in this.insert){var s=l;if(!y(l)){var u=this.findByDomId(l);null!=u&&(s=u.id.toString())}var p=this.insert[l].join('\n');if(s!==l){var c=this.cacheInternal.locate('id',parseInt(s));if(null!=c){var h=c.renderDepth+1;p=P(p,h);for(var g=/{@([0-9]+)}/g,m=null,f=0,b;null!=(m=g.exec(p));)b=this.cacheInternal.locate('id',parseInt(m[1])),null!=b&&(0==f++?b.renderDepth=h:b.renderDepth=b.parent.renderDepth+1)}}d[s]=p}for(var x in d)for(var _ in d)x!==_&&(d[x]=d[x].replace('{:'+_+'}',d[_]),d[_]=d[_].replace('{:'+x+'}',d[x]));var T=!0,v=!1,I=void 0;try{for(var R=this.layouts[Symbol.iterator](),E,A;!(T=(E=R.next()).done);T=!0){for(var L in A=E.value,d)A.content=A.content.replace('{:'+L+'}',d[L]);A.content=this.controllerHandler.insertAuxillaryViews(A.content)}}catch(e){v=!0,I=e}finally{try{!T&&R.return&&R.return()}finally{if(v)throw I}}var S=!0,N=!1,O=void 0;try{for(var w=this.cacheInternal[Symbol.iterator](),k;!(S=(k=w.next()).done);S=!0){var C=k.value,o=C.renderExtension;null!=o&&(o.setTarget(C),o.afterInsert())}}catch(e){N=!0,O=e}finally{try{!S&&w.return&&w.return()}finally{if(N)throw O}}}},{key:'setAttributes',value:function(){this.controllerHandler.setAttributes(this.viewData);var e=!0,t=!1,n=void 0;try{for(var r=this.cacheInternal[Symbol.iterator](),i;!(e=(i=r.next()).done);e=!0){var a=i.value,o=a.renderExtension;null!=o&&(o.setTarget(a),o.finalize())}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}}},{key:'addLayout',value:function(e){this.currentIndex=this.views.length,this.views.push({filename:e,pathname:'',content:''})}},{key:'updateLayout',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=arguments[1],n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];if(e=e||'res/layout',n&&0<this.views.length&&''===this.views[0].content){var r=this.views[0],i=this.views.pop();r.pathname=e,r.filename=i.filename,r.content=t,this.currentIndex=0}else{var a=this.current;a.pathname=e,a.content=t}}},{key:'sortLayout',value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=!1;switch(e.nodeType){case nt.CONSTRAINT:t.sort(function(e,t){var n=e.css('zIndex'),r=t.css('zIndex');return('auto'===n||''===n||'0'===n)&&('auto'===r||''===r||'0'===r)?e.siblingIndex<t.siblingIndex?-1:1:s(n)<=s(r)?-1:1}),r=!0;break;case nt.LINEAR:e.horizontal&&t.some(function(e){return e.floating})&&(t.sort(function(e,t){return e.floating&&!t.floating?'left'===e.float?-1:1:!e.floating&&t.floating?'left'===t.float?1:-1:e.floating&&t.floating&&e.float!==t.float?'left'===e.float?-1:1:e.linear.left<=t.linear.left?-1:1}),r=!0);}n&&r&&(this.sorted[e.id]=t.map(function(e){return e.id}))}},{key:'addInclude',value:function(e,t){this.includes.push({pathname:'res/layout',filename:e,content:t})}},{key:'findExtension',value:function(e){return this._extensions.find(function(t){return t.name===e})}},{key:'addXmlNs',value:function(e,t){this.controllerHandler.addXmlNs(e,t)}},{key:'findByDomId',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];return(t?this.cache:this.cacheInternal).locate(function(t){return t.element.id===e||t.nodeId===e})}},{key:'toString',value:function(){return 0<this.views.length?this.views[0].content:''}},{key:'insertNode',value:function(e,t){var n=null;return'#text'===e.nodeName?''!==_(e,'textContent','string').trim()&&(n=new this.TypeT(this.cache.nextId,xt.targetAPI,e),n.tagName='PLAINTEXT',n.styleMap.cssFloat='none',n.styleMap.clear='none',null!=t&&(n.parent=t,n.inherit(t,'style'),t.children.push(n)),n.setBounds()):ee(e)&&(n=new this.TypeT(this.cache.nextId,xt.targetAPI,e),X(e,'nodeIsolated')&&(n.isolated=!0),n.setExcludeProcedure(),n.setExcludeResource()),null!=n&&this.cache.append(n),n}},{key:'orderExt',value:function(e,t){for(var n=[],r=t;null!=r;)n=[].concat(qe(n),qe(_(r,'dataset.ext').split(',').map(function(e){return e.trim()}))),r=r.parentElement;if(n=n.filter(function(e){return e}),0<n.length){var i=[],a=[],o=!0,d=!1,l=void 0;try{for(var s=e[Symbol.iterator](),u;!(o=(u=s.next()).done);o=!0){var p=u.value,c=n.indexOf(p.name);-1===c?a.push(p):i[c]=p}}catch(e){d=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(d)throw l}}return[].concat(qe(i.filter(function(e){return e})),a)}return e}},{key:'appName',set:function(e){null!=this.resourceHandler&&(this.resourceHandler.file.appName=e)},get:function(){return null==this.resourceHandler?'':this.resourceHandler.file.appName}},{key:'current',set:function(e){this.views[this.currentIndex]=e},get:function(){return this.views[this.currentIndex]}},{key:'layouts',get:function(){return[].concat(qe(this.views),qe(this.includes))}},{key:'extensions',get:function(){return this._extensions.filter(function(e){return e.enabled})}},{key:'viewData',get:function(){return{cache:this.cacheInternal,views:this.views,includes:this.includes}}},{key:'size',get:function(){return this.views.length+this.includes.length}}]),e}(),Tt=function(){function e(t,n,r){He(this,e),this.name=t,this.options={},this.tagNames=[],this.enabled=!0,this.dependencies=[],this.documentRoot=!1,Array.isArray(n)&&(this.tagNames=n.map(function(e){return e.trim().toUpperCase()})),null!=r&&Object.assign(this.options,r)}return We(e,[{key:'setTarget',value:function(e,t,n){this.node=e,this.parent=t,this.element=null==n&&null!=this.node?this.node.element:n}},{key:'is',value:function(e){return e.hasElement&&(0===this.tagNames.length||this.tagNames.includes(e.element.tagName))}},{key:'require',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];this.dependencies.push({name:e,init:t})}},{key:'included',value:function(e){return null==e&&(e=this.element),x(_(e,'dataset.ext'),this.name)}},{key:'beforeInit',value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];!t&&this.included()&&this.dependencies.filter(function(e){return e.init}).forEach(function(t){var n=e.application.findExtension(t.name);null!=n&&(n.setTarget(e.node,e.parent,e.element),n.beforeInit(!0))})}},{key:'init',value:function(){return!1}},{key:'afterInit',value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];!t&&this.included()&&this.dependencies.filter(function(e){return e.init}).forEach(function(t){var n=e.application.findExtension(t.name);null!=n&&(n.setTarget(e.node,e.parent,e.element),n.afterInit(!0))})}},{key:'condition',value:function(){if(this.node&&this.node.hasElement){var e=_(this.node.element,'dataset.ext');return''===e?0<this.tagNames.length:this.included()}return!1}},{key:'processNode',value:function(){return{xml:''}}},{key:'processChild',value:function(){return{xml:''}}},{key:'afterRender',value:function(){}},{key:'beforeInsert',value:function(){}},{key:'afterInsert',value:function(){}},{key:'finalize',value:function(){}},{key:'getData',value:function(){var e=this.element,t={};if(null!=e){var n=a(this.name,'\\.');for(var r in e.dataset)r.length>n.length&&r.startsWith(n)&&(t[d(r.substring(n.length),!1)]=e.dataset[r])}return t}}]),e}(),vt={EXTERNAL:'androme.external',CUSTOM:'androme.custom',GRID:'androme.grid',LIST:'androme.list',TABLE:'androme.table'},It=function(e){function t(e,n,r){return He(this,t),Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return Ue(t,e),We(t,[{key:'beforeInit',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if((e||this.included())&&null!=this.element&&null==X(this.element,'andromeExternalDisplay')){for(var t=[],n=this.element;null!=n;)t.push(K(n).display),n.style.display='block',n=n.parentElement;V(this.element,'andromeExternalDisplay',t)}}},{key:'init',value:function(e){return this.included(e)&&this.application.elements.add(e),!1}},{key:'afterInit',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if((e||this.included())&&null!=this.element){var t=X(this.element,'andromeExternalDisplay');if(null!=t){for(var n=this.element,r=0;null!=n;)n.style.display=t[r],n=n.parentElement,r++;z(this.element,'andromeExternalDisplay')}}}},{key:'is',value:function(){return!1}},{key:'condition',value:function(){return!1}}]),t}(Tt),Rt=function(){function e(){He(this,e),this.before={},this.after={}}return We(e,[{key:'reset',value:function(){this.before={},this.after={}}},{key:'insertAuxillaryViews',value:function(e){for(var t in this.before)e=e.replace('{<'+t+'}',this.before[t].join(''));for(var n in this.after)e=e.replace('{>'+n+'}',this.after[n].join(''));return e}},{key:'prependBefore',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1;null==this.before[e]&&(this.before[e]=[]),-1!==n&&n<this.before[e].length?this.before[e].splice(n,0,t):this.before[e].push(t)}},{key:'appendAfter',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1;null==this.after[e]&&(this.after[e]=[]),-1!==n&&n<this.after[e].length?this.after[e].splice(n,0,t):this.after[e].push(t)}},{key:'hasAppendProcessing',value:function(e){return null!=this.before[e]||null!=this.after[e]}},{key:'getEnclosingTag',value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:'',a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:'',o=I(Be(0,e)),d=i+('{<'+n+'}');return d+=''===r?o+('<'+t+(0===e?'{#0}':'')+'{@'+n+'} />\n'):o+('<'+t+(0===e?'{#0}':'')+'{@'+n+'}>\n')+r+o+('</'+t+'>\n'),d+='{>'+n+'}'+a,d}}]),e}(),Et=function(){function e(t){He(this,e),this.file=t}return We(e,[{key:'addFile',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'';this.file.addFile(e,t,n,r)}},{key:'reset',value:function(){e.STORED.STRINGS=new Map,e.STORED.ARRAYS=new Map,e.STORED.FONTS=new Map,e.STORED.STYLES=new Map,e.STORED.DRAWABLES=new Map,e.STORED.COLORS=new Map,e.STORED.DIMENS=new Map,e.STORED.IMAGES=new Map,this.file.reset()}},{key:'setBoxSpacing',value:function(){this.cache.elements.filter(function(e){return!f(e.excludeResource,rt.BOX_SPACING)}).each(function(e){if(null==X(e.element,'boxSpacing')||xt.alwaysReevaluateResources){var t=J(e.element),n={},r=0<e.renderChildren.length&&e.renderChildren.every(function(e){return e.inline});for(var i in t)n[i]=e.inline&&('marginTop'===i||'marginBottom'===i)||r&&('paddingTop'===i||'paddingBottom'===i)?'0px':p(t[i]);V(e.element,'boxSpacing',n)}})}},{key:'setBoxStyle',value:function(){var e=this;this.cache.elements.filter(function(e){return!f(e.excludeResource,rt.BOX_STYLE)}).each(function(t){if(null==X(t.element,'boxStyle')||xt.alwaysReevaluateResources){var n={borderTop:e.parseBorderStyle,borderRight:e.parseBorderStyle,borderBottom:e.parseBorderStyle,borderLeft:e.parseBorderStyle,borderRadius:e.parseBorderRadius,backgroundColor:e.parseBackgroundColor,backgroundImage:f(t.excludeResource,rt.IMAGE_SOURCE)?'':e.parseBackgroundImage,backgroundSize:e.parseBoxDimensions,backgroundRepeat:e.parseBackgroundRepeat,backgroundPosition:e.parseBackgroundPosition};for(var r in n)'function'==typeof n[r]&&(n[r]=n[r](t.css(r),t,r));0<n.backgroundColor.length&&(xt.excludeBackgroundColor.includes(n.backgroundColor[0])&&n.backgroundColor[1]!==t.styleMap.backgroundColor||null==t.styleMap.backgroundColor&&t.documentParent.visible&&q(t.element,'backgroundColor'))&&(n.backgroundColor=[]);var i=JSON.stringify(n.borderTop);i===JSON.stringify(n.borderRight)&&i===JSON.stringify(n.borderBottom)&&i===JSON.stringify(n.borderLeft)&&(n.border=n.borderTop),V(t.element,'boxStyle',n)}})}},{key:'setFontStyle',value:function(){var e=this;this.cache.filter(function(e){return e.visible&&!f(e.excludeResource,rt.FONT_STYLE)}).each(function(t){if(null==X(t.element,'fontStyle')||xt.alwaysReevaluateResources){if(0<t.renderChildren.length||'IMG'===t.element.tagName||'HR'===t.element.tagName)return;var n=de(t.css('color'),t.css('opacity'));0<n.length&&xt.excludeTextColor.includes(n[0])&&('#text'===t.element.nodeName||n[1]!==t.styleMap.color)&&(n=[]);var r=de(t.css('backgroundColor'),t.css('opacity'));0<r.length&&(e.hasDrawableBackground(X(t.element,'boxStyle'))||xt.excludeBackgroundColor.includes(r[0])&&('#text'===t.element.nodeName||r[1]!==t.styleMap.backgroundColor)||null==t.styleMap.backgroundColor&&q(t.element,'backgroundColor'))&&(r=[]);var i=t.css('fontWeight');y(i)||(i='lighter'===i?'200':'bold'===i?'700':'bolder'===i?'900':'400');var a={fontFamily:t.css('fontFamily'),fontStyle:t.css('fontStyle'),fontSize:t.css('fontSize'),fontWeight:i,color:n,backgroundColor:r};V(t.element,'fontStyle',a)}})}},{key:'setOptionArray',value:function(){this.cache.filter(function(e){return e.visible&&'SELECT'===e.element.tagName&&!f(e.excludeResource,rt.OPTION_ARRAY)}).each(function(e){var t=e.element;if(null==X(t,'optionArray')||xt.alwaysReevaluateResources){for(var n=[],r=[],a=0;a<t.children.length;a++){var o=t.children[a],d=o.text.trim();if(''!==d)if(!xt.numberResourceValue&&null!=r&&0===n.length&&y(d))r.push(d);else{if(r&&0<r.length){a=-1,r=null;continue}''!==d&&n.push(d)}}V(t,'optionArray',{stringArray:0<n.length?n:null,numberArray:r&&0<r.length?r:null})}})}},{key:'setValueString',value:function(){this.cache.filter(function(e){return e.visible&&!f(e.excludeResource,rt.VALUE_STRING)}).each(function(e){var t=e.element;if(null==X(t,'valueString')||xt.alwaysReevaluateResources){var n='',r='',i=!1;if('INPUT'===t.tagName)switch(t.type){case'text':case'number':case'email':case'search':case'submit':case'reset':case'button':r=t.value.trim();break;default:null!=e.companion&&(r=e.companion.element.innerText.trim());}else if('TEXTAREA'===t.tagName)r=t.value.trim();else if('#text'===t.nodeName)r=t.textContent,t.previousSibling&&'BR'===t.previousSibling.tagName&&(r=r.replace(/^\s+/g,'')),i=!0;else if(e.hasElement&&0===e.children.length&&(Q(t)||Array.from(e.element.children).every(function(e){return X(e,'supportInline')}))){switch(n=(t.innerText||t.textContent||'').trim(),r=F(0<t.children.length||'CODE'===t.tagName?t.innerHTML:t.innerText||t.textContent||''),e.css('whiteSpace')){case'nowrap':r=r.replace(/\n/g,' ');break;case'pre':case'pre-wrap':r=r.replace(/\n/g,'\\n'),r=r.replace(/\s/g,'&#160;');break;case'pre-line':r=r.replace(/\s+/g,' ');default:i=!0;}r=r.replace(/<br\s*\/?>/g,'\\n'),r=r.replace(/\s+(class|style)=".*?"/g,'')}if(i){var a=e.previousSibling,o=e.nextSibling,d=r;r=r.trim(),a&&'block'!==a.display&&!/\s+$/.test(a.element.innerText||a.element.textContent)&&/^\s+/.test(d)&&(r='&#160;'+r),o&&/\s+$/.test(d)&&(r+='&#160;')}''!==r&&V(t,'valueString',{name:n,value:r})}})}},{key:'borderVisible',value:function(e){return null!=e&&'none'!==e.style&&'0px'!==e.width}},{key:'hasDrawableBackground',value:function(e){return e&&(this.borderVisible(e.borderTop)||this.borderVisible(e.borderRight)||this.borderVisible(e.borderBottom)||this.borderVisible(e.borderLeft)||''!==e.backgroundImage||0<e.borderRadius.length)}},{key:'getBorderStyle',value:function(e){var t={solid:'android:color="@color/'+e.color+'"'};return Object.assign(t,{inset:t.solid,outset:t.solid,dotted:t.solid+' android:dashWidth="3px" android:dashGap="1px"',dashed:t.solid+' android:dashWidth="1px" android:dashGap="1px"'}),t[e.style]||'android:color="@android:color/black"'}},{key:'parseBorderStyle',value:function(e,t,n){var r=t.css(n+'Style')||'none',i=t.css(n+'Width')||'1px',a='none'===r?[]:de(t.css(n+'Color'),t.css('opacity'));return'inset'===r&&'0px'===i&&(i='1px'),{style:r,width:i,color:0<a.length?a:['#000000','','1']}}},{key:'parseBackgroundImage',value:function(e){return e}},{key:'parseBorderRadius',value:function(e,t){var n=[t.css('borderTopLeftRadius'),t.css('borderTopRightRadius'),t.css('borderBottomLeftRadius'),t.css('borderBottomRightRadius')],r=n[0],i=n[1],a=n[2],o=n[3];return r===i&&i===a&&a===o?''===r||'0px'===r?[]:[r]:[r,i,a,o]}},{key:'parseBackgroundColor',value:function(e,t){return de(e,t.css('opacity'))}},{key:'parseBackgroundRepeat',value:function(e){return e}},{key:'parseBackgroundPosition',value:function(e){return e}},{key:'parseBoxDimensions',value:function(e){if('auto'!==e){var t=e.match(/^([0-9]+(?:px|pt|em|%)|auto)(?: ([0-9]+(?:px|pt|em|%)|auto))?(?: ([0-9]+(?:px|pt|em)))?(?: ([0-9]+(?:px|pt|em)))?$/);if(null!=t)return'0px'===t[1]&&null==t[2]||'auto'===t[1]&&'auto'===t[2]?[]:'auto'===t[1]||'auto'===t[2]?['auto'===t[1]?'':p(t[1]),'auto'===t[2]?'':p(t[2])]:b(t[1])&&null==t[3]?[t[1],t[2]]:null==t[2]||t[1]===t[2]&&t[1]===t[3]&&t[1]===t[4]?[p(t[1])]:null==t[3]||t[1]===t[3]&&t[2]===t[4]?[p(t[1]),p(t[2])]:[p(t[1]),p(t[2]),p(t[3]),p(t[4])]}return[]}}],[{key:'insertStoredAsset',value:function(t,n,r){var a=e.STORED[t];if(null!=a){var o='',d=!0,l=!1,s=void 0;try{for(var u=a.entries()[Symbol.iterator](),p;!(d=(p=u.next()).done);d=!0){var c=p.value,h=Ke(c,2),g=h[0],m=h[1];if(JSON.stringify(r)===JSON.stringify(m)){o=g;break}}}catch(e){l=!0,s=e}finally{try{!d&&u.return&&u.return()}finally{if(l)throw s}}if(''===o&&(y(n)&&(n='__'+n),N(r))){var f=0;do o=n,0<f&&(o+='_'+f),a.has(o)||a.set(o,r),f++;while(a.has(o)&&a.get(o)!==r)}return o}return''}}]),e}();Et.STORED={STRINGS:new Map,ARRAYS:new Map,FONTS:new Map,COLORS:new Map,STYLES:new Map,DIMENS:new Map,DRAWABLES:new Map,IMAGES:new Map};var At=function(){function e(t,n){if(He(this,e),this.id=t,this.styleMap={},this.nodeType=0,this.depth=-1,this.renderDepth=0,this.siblingIndex=we,this.excludeProcedure=0,this.excludeResource=0,this.documentRoot=!1,this.visible=!0,this.rendered=!1,this.isolated=!1,this.relocated=!1,this.inlineWrap=!1,this.multiLine=!1,this._namespaces=new Set,this._data={},null!=n){if(n instanceof HTMLElement){var r=X(n,'styleMap')||{},i=!0,o=!1,d=void 0;try{for(var l=Array.from(n.style)[Symbol.iterator](),s,u;!(i=(s=l.next()).done);i=!0)u=s.value,r[a(u)]=n.style[u]}catch(e){o=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw d}}this.style=X(n,'style')||getComputedStyle(n),this.styleMap=r}V(n,'node',this),this._element=n}}return We(e,[{key:'add',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],i='_'+(e||'_');if(N(n)){if(null==this[i]&&(this._namespaces.add(e),this[i]={}),!r&&null!=this[i][t])return;this[i][t]=n}}},{key:'get',value:function(e){var t='_'+(e||'_');return null==this[t]?{}:this[t]}},{key:'delete',value:function(e){var t='_'+(e||'_');if(null!=this[t]){for(var n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=!0,o=!1,d=void 0;try{for(var l=r[Symbol.iterator](),s,u;!(a=(s=l.next()).done);a=!0)if(u=s.value,-1!==u.indexOf('*')){var p=!0,c=!1,h=void 0;try{for(var g=L(this[t],u)[Symbol.iterator](),m;!(p=(m=g.next()).done);p=!0){var f=m.value,y=Ke(f,1),b=y[0];delete this[t][b]}}catch(e){c=!0,h=e}finally{try{!p&&g.return&&g.return()}finally{if(c)throw h}}}else delete this[t][u]}catch(e){o=!0,d=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw d}}}}},{key:'apply',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};for(var t in e){var n=e[t];if('object'===('undefined'==typeof n?'undefined':Me(n))){for(var r in n)this.add(t,r,n[r]);delete e[t]}}}},{key:'each',value:function(e){return this.children.forEach(e),this}},{key:'render',value:function(e){this.renderParent=e,this.renderDepth=e===this||this.documentRoot||e.isSet('dataset','target')?0:e.renderDepth+1,this.rendered=!0}},{key:'hide',value:function(){this.rendered=!0,this.visible=!1}},{key:'data',value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return N(t)&&(n||null==this._data[e])&&(this._data[e]=t),this._data[e]}},{key:'ascend',value:function(){for(var e=[],t=this.parent;null!=t&&0!==t.id;)e.push(t),t=t.parent;return e}},{key:'cascade',value:function(){function e(t){var n=[].concat(qe(t.children));return t.each(function(t){return n.push.apply(n,qe(e(t)))}),n}return e(this)}},{key:'inherit',value:function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=!0,o=!1,d=void 0;try{for(var l=n[Symbol.iterator](),s,u;!(i=(s=l.next()).done);i=!0)switch(u=s.value,u){case'base':this.style=e.style,this.bounds=e.bounds,this.linear=e.linear,this.box=e.box;break;case'data':for(var p in this._data){var c=this._data[p];if('object'===('undefined'==typeof c?'undefined':Me(c))&&!0===c.inherit){var h=e.data(p);if(null!=h)switch(Me(e[p])){case'number':h[p]+=c[p];break;case'boolean':!1!==c[p]&&(h[p]=!0);break;default:h[p]=c[p];}else e.data(p,c);delete this._data[p]}}break;case'style':var g={};for(var m in e.style)if(m.startsWith('font')||m.startsWith('color')){var f=a(m);g[f]=e.style[f]}Object.assign(this.styleMap,g);break;case'styleMap':for(var y in e.styleMap)null==this.styleMap[y]&&(this.styleMap[y]=e.styleMap[y]);}}catch(e){o=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw d}}}},{key:'toLeftOf',value:function(e,t){return(this.withinX(e.linear)||e.withinX(this.linear))&&e.linear.left+t<=this.linear.right}},{key:'toRightOf',value:function(e,t){return(this.withinX(e.linear)||e.withinX(this.linear))&&e.linear.right+t>=this.linear.left}},{key:'intersect',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear',n=e.top>this[t].top&&e.top<this[t].bottom,r=Pe(e.right)>De(this[t].left)&&e.right<this[t].right,i=Pe(e.bottom)>De(this[t].top)&&e.bottom<this[t].bottom,a=e.left>this[t].left&&e.left<this[t].right;return n&&(a||r)||i&&(a||r)}},{key:'intersectX',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.top>=this[t].top&&e.top<this[t].bottom||e.bottom>this[t].top&&e.bottom<=this[t].bottom||this[t].top>=e.top&&this[t].bottom<=e.bottom||e.top>=this[t].top&&e.bottom<=this[t].bottom}},{key:'intersectY',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.left>=this[t].left&&e.left<this[t].right||e.right>this[t].left&&e.right<=this[t].right||this[t].left>=e.left&&this[t].right<=e.right||e.left>=this[t].left&&e.right<=this[t].right}},{key:'withinX',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return this[t].top>=e.top&&this[t].bottom<=e.bottom}},{key:'withinY',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return this[t].left>=e.left&&this[t].right<=e.right}},{key:'css',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'';return'object'===('undefined'==typeof e?'undefined':Me(e))?(Object.assign(this.styleMap,e),''):(2===arguments.length&&(this.styleMap[e]=N(t)?t:''),this.styleMap[e]||this.style&&this.style[e]||'')}},{key:'setExcludeProcedure',value:function(e){var t=this;null==e&&this.hasElement&&(e=this.dataset.excludeProcedure||'',null!=this.parentElement&&(e+='|'+(this.parentElement.dataset.excludeProcedureChild||''))),null!=e&&e.split('|').map(function(e){return e.toUpperCase().trim()}).forEach(function(e){''!==e&&null!=it[e]&&(t.excludeProcedure|=it[e])})}},{key:'setExcludeResource',value:function(e){var t=this;null==e&&(e=this.dataset.excludeResource,null!=this.parentElement&&(e+='|'+(this.parentElement.dataset.excludeResourceChild||''))),this.hasElement&&null!=e&&e.split('|').map(function(e){return e.toUpperCase().trim()}).forEach(function(e){''!==e&&null!=rt[e]&&(t.excludeResource|=rt[e])})}},{key:'setBounds',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if(!e){var t;if(this.hasElement)t=Z(this.element.getBoundingClientRect());else{var n=Y(this.element),r=Ke(n,2),i=r[0],a=r[1];t=i,this.multiLine=a}if(null!=t&&(this.bounds=t,null!=this.companion)){var o=Z(this.companion.element.getBoundingClientRect());this.bounds.left=Ce(t.left,o.left),this.bounds.right=Be(t.right,o.right),this.bounds.width=this.bounds.right-this.bounds.left}}if(null!=this.bounds){var d={top:this.bounds.top-(0<this.marginTop?this.marginTop:0),right:this.bounds.right+this.marginRight,bottom:this.bounds.bottom+this.marginBottom,left:this.bounds.left-(0<this.marginLeft?this.marginLeft:0),width:0,height:0};null==this.linear?this.linear=d:Object.assign(this.linear,d);var l={top:this.bounds.top+(this.paddingTop+this.borderTopWidth),right:this.bounds.right-(this.paddingRight+this.borderRightWidth),bottom:this.bounds.bottom-(this.paddingBottom+this.borderBottomWidth),left:this.bounds.left+(this.paddingLeft+this.borderLeftWidth),width:0,height:0};null==this.box?this.box=l:Object.assign(this.box,l),this.setDimensions()}}},{key:'isSet',value:function(e,t){return!!(this[e]&&null!=this[e][t])&&N(this[e][t])}},{key:'setBoundsMin',value:function(){if(this._element!==document.body){var e=this.children.filter(function(e){return!e.pageflow});if(0<e.length){var t=[Be.apply(null,this.children.map(function(e){return e.linear.right})),Be.apply(null,this.children.map(function(e){return e.linear.bottom}))],n=t[0],r=t[1],i=!1;n>this.box.right&&(this.bounds.right=n+(this.paddingRight+this.borderRightWidth),this.bounds.width=this.bounds.right-this.bounds.left,i=!0),r>this.box.bottom&&(this.bounds.bottom=r+(this.paddingBottom+this.borderBottomWidth),this.bounds.height=this.bounds.bottom-this.bounds.top,i=!0),i&&this.setBounds(!0)}}}},{key:'setDimensions',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:['linear','box'],t=!0,n=!1,r=void 0;try{for(var i=e[Symbol.iterator](),a;!(t=(a=i.next()).done);t=!0){var o=a.value,d=this[o];d.width=d.right-d.left,d.height=d.bottom-d.top}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}},{key:'append',value:function(e){this.renderChildren.push(e)}},{key:'parent',set:function(e){null==e||e===this._parent||(this._parent=e,this.depth=e.depth+1)},get:function(){return this._parent}},{key:'tagName',set:function(e){this._tagName=e},get:function(){return this._tagName||(this.hasElement?'INPUT'===this.element.tagName?this.element.type.toUpperCase():this.element.tagName:'')}},{key:'nodeName',set:function(e){this._nodeName=e},get:function(){return this._nodeName}},{key:'element',set:function(e){this._element=e},get:function(){return this._element||{}}},{key:'parentElement',get:function(){return this._element&&this._element.parentElement}},{key:'hasElement',get:function(){return this._element instanceof HTMLElement}},{key:'documentBody',get:function(){return this.element===document.body}},{key:'dataset',get:function(){return this.hasElement?this.element.dataset:{}}},{key:'extension',get:function(){return N(this.dataset.ext)?this.dataset.ext.split(',')[0].trim():''}},{key:'flex',get:function(){var e=this.documentParent,t=this.style;return null!=t&&e!==this?{enabled:-1!==t.display.indexOf('flex'),direction:t.flexDirection,basis:t.flexBasis,grow:s(t.flexGrow),shrink:s(t.flexShrink),wrap:t.flexWrap,alignSelf:e.isSet('styleMap','alignItems')&&(null==this.styleMap.alignSelf||'auto'===t.alignSelf)?e.styleMap.alignItems:t.alignSelf,justifyContent:t.justifyContent,order:s(t.order)}:{enabled:!1}}},{key:'viewWidth',get:function(){return s(this.styleMap.width)||s(this.styleMap.minWidth)}},{key:'viewHeight',get:function(){return s(this.styleMap.height)||this.lineHeight||s(this.styleMap.minHeight)}},{key:'lineHeight',get:function(){return dt.includes(this.element.tagName)?s(this.styleMap.lineHeight):0}},{key:'display',get:function(){return this.css('display')||''}},{key:'position',get:function(){return this.css('position')||''}},{key:'top',get:function(){var e=this.styleMap.top;return e&&'auto'!==e?s(e):null}},{key:'right',get:function(){var e=this.styleMap.right;return e&&'auto'!==e?s(e):null}},{key:'bottom',get:function(){var e=this.styleMap.bottom;return e&&'auto'!==e?s(e):null}},{key:'left',get:function(){var e=this.styleMap.left;return e&&'auto'!==e?s(e):null}},{key:'marginTop',get:function(){return this.inline?0:s(this.css('marginTop'))}},{key:'marginRight',get:function(){var e=this;return null!=this.companion&&this.companion.bounds.right>this.bounds.right&&(e=this.companion),s(e.css('marginRight'))}},{key:'marginBottom',get:function(){return this.inline?0:s(this.css('marginBottom'))}},{key:'marginLeft',get:function(){var e=this;return null!=this.companion&&this.companion.bounds.left<this.bounds.left&&(e=this.companion),s(e.css('marginLeft'))}},{key:'borderTopWidth',get:function(){return s(this.css('borderTopWidth'))}},{key:'borderRightWidth',get:function(){return s(this.css('borderRightWidth'))}},{key:'borderBottomWidth',get:function(){return s(this.css('borderBottomWidth'))}},{key:'borderLeftWidth',get:function(){return s(this.css('borderLeftWidth'))}},{key:'paddingTop',get:function(){return s(this.css('paddingTop'))}},{key:'paddingRight',get:function(){var e=this;return null!=this.companion&&this.companion.bounds.right>this.bounds.right&&(e=this.companion),s(e.css('paddingRight'))}},{key:'paddingBottom',get:function(){return s(this.css('paddingBottom'))}},{key:'paddingLeft',get:function(){var e=this;return null!=this.companion&&this.companion.bounds.left<this.bounds.left&&(e=this.companion),s(e.css('paddingLeft'))}},{key:'pageflow',get:function(){var e=this.position;return'static'===e||'initial'===e||'relative'===e||this.plainText||this.alignMargin}},{key:'inline',get:function(){return'inline'===this.display}},{key:'inlineElement',get:function(){var e=this.position;return this.plainText||-1!==this.display.indexOf('inline')||this.floating||('absolute'===e||'fixed'===e)&&this.alignMargin||'initial'===this.display&&lt.includes(this.element.tagName)}},{key:'plainText',get:function(){return'PLAINTEXT'===this.tagName}},{key:'alignMargin',get:function(){return null==this.top&&null==this.right&&null==this.bottom&&null==this.left}},{key:'autoMargin',get:function(){return'auto'===this.styleMap.marginLeft||'auto'===this.styleMap.marginRight}},{key:'floating',get:function(){var e=this.css('cssFloat');return'absolute'!==this.position&&('left'===e||'right'===e)}},{key:'float',get:function(){return(this.floating?this.css('cssFloat'):null)||'none'}},{key:'overflow',get:function(){var e=0;if(this.hasElement){var t=[this.css('overflow'),this.css('overflowX'),this.css('overflowY')],n=t[0],r=t[1],i=t[2];('scroll'===n||'scroll'===r||'auto'===r&&this.element.clientWidth!==this.element.scrollWidth)&&(e|=2),('scroll'===n||'scroll'===i||'auto'===i&&this.element.clientHeight!==this.element.scrollHeight)&&(e|=4)}return e}},{key:'overflowX',get:function(){return f(this.overflow,2)}},{key:'overflowY',get:function(){return f(this.overflow,4)}},{key:'dir',get:function(){switch(this.css('direction')){case'unset':case'inherit':var e=this.documentParent;do{var t=e.dir;if(''!==t)return t;e=e.documentParent}while(0!==e.id);return'';case'rtl':return'rtl';default:return'ltr';}}},{key:'previousSibling',get:function(){for(var e=this.element.previousSibling,t;null!=e;){if(t=U(e),t)return t;e=e.previousSibling}return null}},{key:'nextSibling',get:function(){for(var e=this.element.nextSibling,t;null!=e;){if(t=U(e),t)return t;e=e.nextSibling}return null}},{key:'firstChild',get:function(){var e=null;return this.hasElement&&Array.from(this.element.childNodes).some(function(t){return e=U(t),null!=e}),e}},{key:'center',get:function(){return{x:this.bounds.left+Pe(this.bounds.width/2),y:this.bounds.top+Pe(this.bounds.height/2)}}}]),e}(),Lt=void 0,St=(Ln={},Ve(Ln,e.build.PIE,{android:[],app:[],customizations:{}}),Ve(Ln,e.build.OREO_1,{android:[],app:[],customizations:{}}),Ve(Ln,e.build.OREO,{android:['fontWeight','layout_marginHorizontal','layout_marginVertical','paddingHorizontal','paddingVertical'],app:[],customizations:{}}),Ve(Ln,e.build.NOUGAT_1,{android:[],app:[],customizations:{}}),Ve(Ln,e.build.NOUGAT,{android:[],app:[],customizations:{}}),Ve(Ln,e.build.MARSHMALLOW,{android:[],app:[],customizations:{}}),Ve(Ln,e.build.LOLLIPOP_1,{android:[],app:[],customizations:{}}),Ve(Ln,e.build.LOLLIPOP,{android:['layout_columnWeight'],app:[],customizations:{}}),Ve(Ln,e.build.KITKAT_1,{android:[],app:[],customizations:{}}),Ve(Ln,e.build.KITKAT,{android:[],app:[],customizations:{}}),Ve(Ln,e.build.JELLYBEAN_2,{android:[],app:[],customizations:{}}),Ve(Ln,e.build.JELLYBEAN_1,{android:['labelFor'],app:[],customizations:{}}),Ve(Ln,e.build.JELLYBEAN,{android:[],app:[],customizations:{}}),Ve(Ln,e.build.ICE_CREAM_SANDWICH_1,{android:[],app:[],customizations:{}}),Ve(Ln,e.build.ICE_CREAM_SANDWICH,{android:[],app:[],customizations:{}}),Ve(Ln,e.build.ALL,{android:[],app:[],customizations:{SUB:{android:{layout_marginTop:'4px'}},SUP:{android:{layout_marginTop:'-4px'}}}}),Ln),Nt=function(t){function n(e,t,r){He(this,n);var i=Ye(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,r));return i.id=e,i.api=t,i.constraint={current:{}},i.children=[],i.renderChildren=[],i}return Ue(n,t),We(n,[{key:'add',value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',i=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];this.supported(e,t)&&ze(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'add',this).call(this,e,t,r,i)}},{key:'android',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return N(t)?void this.add('android',e,t,n):this._android&&null!=this._android[e]?this._android[e]:null}},{key:'app',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return N(t)?void this.add('app',e,t,n):this._app&&null!=this._app[e]?this._app[e]:null}},{key:'apply',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);for(var r in ze(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'apply',this).call(this,t),t)this.attr(r+'="'+t[r]+'"')}},{key:'attr',value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=e.match(/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/);null!=n&&this.add(n[1]||'_',n[2],n[3],t)}},{key:'anchor',value:function(e,t,n,r){1!==arguments.length&&null!=this.constraint.current[e]&&this.constraint.current[e].overwrite&&(!n||this.constraint[n])||(null==r&&(r='parent'===t||'true'===t),this[this.renderParent.nodeName===st.RELATIVE?'android':'app'](e,t,r),n&&(this.constraint[n]=!0),this.constraint.current[e]={adjacent:t,orientation:n,overwrite:r})}},{key:'alignParent',value:function(e){if(this.renderParent.is(nt.CONSTRAINT,nt.RELATIVE)){var t=this.renderParent.nodeName===st.RELATIVE;return e=d(e),e=t?'layout_alignParent'+e:'layout_constraint'+e+'_to'+e+'Of',this[t?'android':'app'](be(e))===(t?'true':'parent')}return!1}},{key:'modifyBox',value:function(e,t){var n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=m(at,ut,e);if(''!==r){var i=be(r),a=c(t);'0px'===a?this.delete('android',i):this.android(i,a),n&&(this.css(r.replace('layout_',''),a),this.setBounds(!0))}}},{key:'boxValue',value:function(e){var t=m(at,ut,e);if(''!==t){var n=be(t);return[n,this.android(n)||'0px']}return['','0px']}},{key:'supported',value:function(t,n){if(0<this.api)for(var r=this.api+1,a;r<=e.build.LATEST;r++)if(a=St[r],a&&a[t]&&a[t].includes(n))return!1;return!0}},{key:'combine',value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=[];return this._namespaces.forEach(function(t){var r=e['_'+t];if(0===n.length||n.includes(t))for(var a in r)'_'===t?i.push(a+'="'+r[a]+'"'):i.push(t+':'+a+'="'+r[a]+'"')}),i.sort(function(e,t){return e.startsWith('android:id=')?-1:t.startsWith('android:id=')?1:e>t?1:-1})}},{key:'applyCustomizations',value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];[St[this.api],St[0]].forEach(function(n){n&&null!=n.customizations&&[e.element.tagName,e.nodeName].forEach(function(r){var i=n.customizations[r];if(null!=i)for(var a in i)for(var o in i[a])e.add(a,o,i[a][o],t)})})}},{key:'clone',value:function(){var e=new n(this.id,this.api,this.element);return e.nodeId=this.nodeId,e.nodeType=this.nodeType,e.nodeName=this.nodeName,e.depth=this.depth,e.rendered=this.rendered,e.renderDepth=this.renderDepth,e.renderParent=this.renderParent,e.renderExtension=this.renderExtension,e.visible=this.visible,e.documentRoot=this.documentRoot,e.documentParent=this.documentParent,e.children=this.children.slice(),e.inherit(this,'base','style','styleMap'),e}},{key:'is',value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),d,l;!(r=(d=o.next()).done);r=!0)if(l=d.value,this.nodeType===l)return!0}catch(e){i=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return!1}},{key:'setNodeId',value:function(e){for(var t in st)if(st[t]===e&&null!=nt[t]){this.nodeType=nt[t];break}if(Ze(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'nodeName',e||this.nodeName,this),null==this.nodeId){var r=this.element,i=(r.id||r.name||'').trim();i&&bt.includes(i)&&(i+='_1'),this.nodeId=o(ce('android',i||E(this.nodeName,'.').toLowerCase()+'_1'))}this.android('id',this.stringId)}},{key:'setLayout',value:function(e,t){var n=this;null==e&&(e=this.hasElement?this.element.clientWidth+this.borderLeftWidth+this.borderRightWidth+this.marginLeft+this.marginRight:0),null==t&&(t=this.hasElement?this.element.clientHeight+this.borderTopWidth+this.borderBottomWidth+this.marginTop+this.marginBottom:0);var r=this.styleMap,i=this.constraint,a=this.documentParent,o=this.renderParent,d=a.element.offsetWidth-(a.paddingLeft+a.paddingRight+a.borderLeftWidth+a.borderRightWidth),l=a.element.offsetHeight-(a.paddingTop+a.paddingBottom+a.borderTopWidth+a.borderBottomWidth);if((this.documentRoot&&!this.flex.enabled&&this.is(nt.FRAME,nt.SCROLL_VERTICAL,nt.SCROLL_HORIZONTAL,nt.SCROLL_NESTED,nt.CONSTRAINT,nt.RELATIVE)||this.documentBody)&&(0===this.viewWidth&&!i.layoutHorizontal&&this.android('layout_width','match_parent',!1),0===this.viewHeight&&!i.layoutHeight&&!i.layoutVertical&&this.android('layout_height','match_parent',!1)),0!==this.overflow&&this.nodeType>=nt.BLOCK&&(this.nodeName===st.SCROLL_HORIZONTAL?(this.android('layout_width','wrap_content'),this.android('layout_height','match_parent')):(this.android('layout_width','match_parent'),this.android('layout_height','wrap_content'))),this.renderParent.is(nt.SCROLL_HORIZONTAL))this.android('layout_width','wrap_content');else{if('0px'!==this.android('layout_width')){if(this.isSet('styleMap','width'))if(b(r.width)){if('TABLE'===o.element.tagName)this.android('layout_columnWeight',(s(r.width)/100).toFixed(2)),this.android('layout_width','0px');else if('100%'!==r.width){var p=Pe(this.bounds.width*(s(r.width)/100));this.android('layout_width',0<p?c(p):'wrap_content',!1)}else if(this.android('layout_width','match_parent'),null==r.height)switch(this.nodeName){case st.IMAGE:this.android('layout_height','match_parent');}}else if(0<s(r.width)){var h=this.paddingLeft+this.paddingRight;if(0<this.renderChildren.length)switch(this.nodeName){case st.LINEAR:case st.RADIO_GROUP:h+=this.renderChildren.reduce(function(e,t){return n.horizontal?e+t.viewWidth:Be(e,t.viewWidth)},0);break;case st.CONSTRAINT:case st.RELATIVE:h+=this.renderChildren.reduce(function(e,t){return e+(t.alignParent('top')?t.viewWidth:0)},0);}this.android('layout_width',!this.overflowX&&(h>this.viewWidth||this.inline)?'wrap_content':r.width)}else'auto'===r.width&&this.android('layout_width',!this.inlineElement&&this.pageflow&&dt.includes(this.element.tagName)&&!this.autoMargin?'match_parent':'wrap_content',!1);!this.isSet('styleMap','minWidth')||b(r.minWidth)||i.minWidth||(this.android('layout_width','wrap_content',!1),this.android('minWidth',r.minWidth,!1)),!this.isSet('styleMap','maxWidth')||b(r.maxWidth)||i.maxWidth||this.android('maxWidth',r.maxWidth,!1)}if(i.layoutWidth)i.layoutHorizontal?this.android('layout_width',this.documentRoot||0<this.documentParent.viewWidth?'match_parent':'wrap_content',!1):this.android('layout_width',this.bounds.width>=d?'match_parent':c(this.bounds.width),!1);else if(null==this.android('layout_width')){var g=a.documentRoot?a.viewWidth:this.ascend().reduce(function(e,t){return Be(e,t.viewWidth)},0);if(!(this.inlineWrap&&this.is(nt.FRAME))){var m=o.is(nt.LINEAR),f=0,y=0;m&&!o.horizontal&&(f=Pe(this.cascade().filter(function(e){return e.visible}).reduce(function(e,t){return Be(e,t.bounds.right)},0)),y=Pe(a.cascade().filter(function(e){return e.visible&&!a.children.includes(e)}).reduce(function(e,t){return Be(e,t.bounds.right)},0)));var x=this.nodeType<=nt.INLINE||this.inlineElement||!this.pageflow||'table'===this.display||a.flex.enabled||o.inlineElement&&0===o.viewWidth&&!this.inlineElement&&this.nodeType>nt.BLOCK||o.is(nt.GRID)||m&&o.horizontal;0<u(this.android('layout_columnWeight'))?this.android('layout_width','0px'):!x&&('block'===this.display&&(0===f||f!==y)||0===a.overflow&&(0<g||this.documentParent.documentBody)&&e>=d||!this.inlineElement&&(0===this.renderChildren.length||0!==f&&f<y)||this.is(nt.LINEAR)&&!this.horizontal&&this.renderChildren.some(function(e){return!e.inlineElement}))?this.android('layout_width','match_parent'):this.android('layout_width','wrap_content')}else if(0<g)this.android('layout_width','match_parent');else{var _=this.renderParent.renderChildren.some(function(e){return!!((e.nodeType>nt.FRAME||e.nodeType===nt.FRAME&&e.inlineElement&&0<e.viewWidth)&&O(n.linear.right,e.linear.right))&&(n.android('layout_width','match_parent'),!0)});_||this.android('layout_width',c(this.bounds.width))}}}if(this.renderParent.is(nt.SCROLL_VERTICAL,nt.SCROLL_NESTED))this.android('layout_height','wrap_content');else if('0px'!==this.android('layout_height')){var T=s(r.height||this.lineHeight);if(0<T){var v=('auto'===r.height?null:r.height)||r.lineHeight;if(!b(v))0<T?'inline-block'===this.display&&'visible'===this.css('overflow')?(this.android('minHeight',c(T)),this.android('layout_height','wrap_content')):this.android('layout_height',!this.inline||this.overflowY||this.is(nt.IMAGE)?c(T):'wrap_content'):'auto'===r.height&&this.android('layout_height','wrap_content',!1);else if('TABLE'===o.element.tagName)this.android('layout_rowWeight',(T/100).toFixed(2)),this.android('layout_height','0px');else if('100%'!==v)this.android('layout_height','wrap_content',!1);else if(this.android('layout_height','match_parent'),null==r.width)switch(this.nodeName){case st.IMAGE:this.android('layout_width','match_parent');}}if(!this.isSet('styleMap','minHeight')||b(r.minHeight)||i.minHeight||(this.android('layout_height','wrap_content',!1),this.android('minHeight',r.minHeight,!1)),!this.isSet('styleMap','maxHeight')||b(r.maxHeight)||i.maxHeight||this.android('maxHeight',r.maxHeight,!1),!i.layoutHeight)null==this.android('layout_height')&&(t>=l&&0===a.overflow&&0<a.viewHeight&&!(this.inlineElement&&this.nodeType<nt.INLINE)&&!(o.is(nt.RELATIVE)&&'wrap_content'===o.android('layout_height'))?this.android('layout_height','match_parent'):this.android('layout_height','wrap_content'));else if(i.layoutVertical)this.android('layout_height','wrap_content',!1);else if(this.documentRoot){var I=Be.apply(null,[0].concat(qe(this.renderChildren.filter(function(e){return e.pageflow}).map(function(e){return e.linear.bottom}))));this.android('layout_height',0<I?c(I+this.paddingBottom+this.borderBottomWidth):'match_parent',!1)}else this.android('layout_height',this.bounds.height<l?c(this.bounds.height):'match_parent',!1)}}},{key:'setAlignment',value:function(){function e(e){return'auto'===e.styleMap.marginLeft&&'auto'===e.styleMap.marginRight?(e.android('layout_gravity','center_horizontal'),!0):'auto'===e.styleMap.marginLeft&&(e.android('layout_gravity',r),!0)}function t(e){return'left'===e||'start'===e?n:'right'===e||'end'===e?r:'center'===e?'center_horizontal':''}var n=be('left'),r=be('right'),i=this.renderParent,a=this.styleMap.textAlign,o='',d=this.styleMap.verticalAlign;if(!this.floating||this.is(nt.TEXT)){var l=this.documentParent;do{if(o=l.styleMap.textAlign,0===l.id||o)break;l=l.documentParent}while(!0)}''===a&&'TH'===this.element.tagName&&(a='center');var u=t(o),p=t(a),c='';switch(d){case'top':c='top';break;case'middle':c='center_vertical';break;case'bottom':case'text-bottom':c='bottom';break;default:var h=s(this.styleMap.lineHeight);0<h&&h>=this.viewHeight&&(c='center_vertical');}if('TABLE'===i.element.tagName)this.android('layout_gravity','fill');else switch(i.nodeName){case st.LINEAR:0<this.renderChildren.length?this.horizontal&&this.renderChildren.every(function(e){return'right'===e.float})&&this.android('gravity',r):!i.horizontal&&'right'===this.float&&this.android('layout_gravity',r),this.horizontal||e(this);break;case st.FRAME:e(this)||this.android('layout_gravity','right'===this.float||this.is(nt.LINEAR)&&this.renderChildren.some(function(e){return'right'===e.float})?r:n);}if(this.nodeType<=nt.IMAGE){var g=!1;''===p&&(p=u,!this.is(nt.IMAGE)&&(g=!0)),g||''===p||this.floating||this.autoMargin||!i.is(nt.FRAME)||(this.android('layout_gravity',p),p='')}else''!==p&&(this.is(nt.FRAME,nt.LINEAR,nt.RADIO_GROUP,nt.RELATIVE)?0<this.renderChildren.length&&this.renderChildren.some(function(e){return!e.inlineElement||e.floating})&&(p=''):p='');var m=[p,c].filter(function(e){return e});0<m.length&&this.android('gravity',2===m.filter(function(e){return-1!==e.indexOf('center')}).length?'center':m.join('|'))}},{key:'mergeBoxSpacing',value:function(){var t=this;f(this.excludeResource,rt.BOX_SPACING)||['layout_margin','padding'].forEach(function(n,r){var i=be(n+'Left'),a=be(n+'Right'),o=t.inline||t.plainText,d=0===r&&o?0:s(t.android(n+'Top')),l=s(t.android(a)),u=0===r&&o?0:s(t.android(n+'Bottom')),p=s(t.android(i));1===r&&(0===t.viewWidth&&(0<t.borderLeftWidth&&(p+=t.borderLeftWidth),0<t.borderRightWidth&&(l+=t.borderRightWidth)),0===t.viewHeight&&(0<t.borderTopWidth&&(d+=t.borderBottomWidth),0<t.borderBottomWidth&&(u+=t.borderBottomWidth))),t.api>=e.build.OREO&&(0!==d&&d===u&&u===p&&p===l?(t.delete('android',n+'*'),t.android(n,c(d))):(0!==r||!t.renderParent.is(nt.GRID))&&(0!==d&&d===u&&(t.delete('android',n+'Top',n+'Bottom'),t.android(n+'Vertical',c(d))),0!==p&&p===l&&(t.delete('android',i,a),t.android(n+'Horizontal',c(p)))))})}},{key:'applyOptimizations',value:function(e){var t=this;this.adjustBoxSpacing();var n=s(this.android('layout_width')),r=s(this.android('layout_height'));switch(this.nodeName){case st.LINEAR:'block'!==this.display&&[[this.horizontal,this.inlineElement,'layout_width'],[!this.horizontal,!0,'layout_height']].forEach(function(e){e[0]&&e[1]&&'wrap_content'!==t.android(e[2])&&t.renderChildren.every(function(t){return'wrap_content'===t.android(e[2])})&&t.android(e[2],'wrap_content')}),this.horizontal&&((this.renderChildren.some(function(e){return e.floating})||this.renderChildren.some(function(e){return e.pageflow&&['fixed','absolute'].includes(e.position)&&e.alignMargin}))&&this.android('baselineAligned','false'),this.alignBaseline(this.renderChildren));case st.SELECT:case st.CHECKBOX:case st.RADIO:case st.BUTTON:case st.EDIT:case st.TEXT:{if(e.autoSizePaddingAndBorderWidth&&(0<n||0<r)){var i=X(this.element,'boxStyle');null!=i&&(0<n&&this.android('layout_width',c(n+this.paddingLeft+this.paddingRight+this.borderLeftWidth+this.borderRightWidth)),0<r&&(this.marginTop>=this.borderTopWidth&&this.modifyBox(at.MARGIN_TOP,this.marginTop-this.borderTopWidth),this.android('layout_height',c(r+this.paddingTop+this.paddingBottom+this.borderTopWidth+this.borderBottomWidth))))}break}case st.IMAGE:{var a=X(this.element,'boxStyle');if(null!=a){var o=0,d=0,l={top:s(a.borderTop.width),right:s(a.borderRight.width),bottom:s(a.borderBottom.width),left:s(a.borderLeft.width)};0<l.top&&(this.nodeType>nt.INLINE||0<this.paddingTop)&&(this.modifyBox(at.PADDING_TOP,this.paddingTop+l.top),d+=l.top),0<l.right&&(this.nodeType>nt.INLINE||0<this.paddingRight)&&(this.modifyBox(at.PADDING_RIGHT,this.paddingRight+l.right),o+=l.right),0<l.bottom&&(this.nodeType>nt.INLINE||0<this.paddingBottom)&&(this.modifyBox(at.PADDING_BOTTOM,this.paddingBottom+l.bottom),d+=l.bottom),0<l.left&&(this.nodeType>nt.INLINE||0<this.paddingLeft)&&(this.modifyBox(at.PADDING_LEFT,this.paddingLeft+l.left),o+=l.left),0<n&&0<o&&this.android('layout_width',c(n+o)),0<r&&0<d&&this.android('layout_height',c(r+d))}break}}var u=null;if('relative'===this.position&&(0===s(this.top)?0!==s(this.bottom)&&(u=this.marginTop+-1*s(this.bottom)):u=this.marginTop+s(this.top),0!==s(this.left)&&('right'===this.float||'relative'===this.position&&'auto'===this.styleMap.marginLeft?this.modifyBox(at.MARGIN_RIGHT,s(this.android(be('layout_marginRight')))+-1*s(this.left)):this.modifyBox(at.MARGIN_LEFT,s(this.android(be('layout_marginLeft')))+s(this.left)))),this.inline){var p=s(this.css('verticalAlign'));0!==p&&(u=(null==u?0:u)+-1*p)}null!=u&&this.modifyBox(at.MARGIN_TOP,u),'hidden'===this.css('visibility')&&this.android('visibility','invisible')}},{key:'setAccessibility',value:function(){var e=this,t=this,r=this.element;switch(this.nodeName){case st.EDIT:null==t.companion&&function(){for(var r=null,i=e,a=e.renderParent,o;a instanceof n&&0<a.renderChildren.length;){if(o=a.renderChildren.findIndex(function(e){return e===i}),0<o){r=a.renderChildren[o-1];break}i=a,a=a.renderParent}r&&r.is(nt.TEXT)&&r.element.htmlFor===t.element.id&&r.android('labelFor',e.stringId)}();case st.SELECT:case st.CHECKBOX:case st.RADIO:case st.BUTTON:r.disabled&&this.android('focusable','false');}}},{key:'alignBaseline',value:function(e){var t=-1;e.some(function(e,n){if(e.is(nt.LINEAR)&&null!=e.android('baselineAlignedChildIndex'))t=n;else if(e.plainText)-1===t&&(t=n);else if(e.nodeType<=nt.TEXT){var r=e.css('verticalAlign');if(''!==r)switch(e.css('verticalAlign')){case'baseline':case'sub':case'super':-1===t&&e.nodeType<=nt.BUTTON&&(t=n);break;default:return t=-1,!0;}}return!1}),-1!==t&&(this.android('baselineAlignedChildIndex',t.toString()),this.renderParent.is(nt.LINEAR)&&this.renderParent.horizontal&&this.renderParent.alignBaseline(this.renderParent.renderChildren))}},{key:'adjustBoxSpacing',value:function(){if(this.is(nt.LINEAR,nt.RADIO_GROUP))switch(this.android('orientation')){case pt.HORIZONTAL:var e=this.box.left;C(this.renderChildren,'linear.left').forEach(function(t){if(!t.floating){var n=De(t.linear.left-e);1<=n&&t.modifyBox(at.MARGIN_LEFT,t.marginLeft+n,!0)}e=t.linear.right});break;case pt.VERTICAL:var t=this.box.top;C(this.renderChildren,'linear.top').forEach(function(e){var n=De(e.linear.top-t);1<=n&&e.modifyBox(at.MARGIN_TOP,e.marginTop+n,!0),t=e.linear.bottom});}}},{key:'stringId',get:function(){return this.nodeId?'@+id/'+this.nodeId:''}},{key:'nodeName',set:function(e){this._nodeName=e},get:function(){if(null!=this._nodeName)return ze(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'nodeName',this);var e=ot[this.tagName];return null==e?'':n.getNodeName(e)}},{key:'documentParent',set:function(e){this._documentParent=e},get:function(){var e=this.position;if(null!=this._documentParent)return this._documentParent;if(0===this.id)return this;if('fixed'!==e)for(var t=this.element.parentElement,r;null!=t;){if(r='absolute'===e&&'static'===K(t).position?null:U(t),r)return r;t=t.parentElement}return n.documentBody()}},{key:'renderParent',set:function(e){e!==this&&-1===e.renderChildren.indexOf(this)&&e.append(this),this._renderParent=e},get:function(){return null==this._renderParent?n.documentBody():this._renderParent}},{key:'anchored',get:function(){return this.constraint.horizontal&&this.constraint.vertical}},{key:'horizontal',get:function(){return this._android&&this._android.orientation===pt.HORIZONTAL}},{key:'horizontalBias',get:function(){var e=this.documentParent;if(e!==this){var t=Be(0,this.linear.left-e.box.left),n=Be(0,e.box.right-this.linear.right);return ye(t,n)}return .5}},{key:'verticalBias',get:function(){var e=this.documentParent;if(e!==this){var t=Be(0,this.linear.top-e.box.top),n=Be(0,e.box.bottom-this.linear.bottom);return ye(t,n)}return .5}}],[{key:'documentBody',value:function(){if(null==n._documentBody){var e=new n(0,0,document.body);e.hide(),e.setBounds(),n._documentBody=e}return n._documentBody}},{key:'getNodeName',value:function(e){return st[nt[e]]}}]),n}(At),Ot=function(e){function t(e,n,r,i,a){He(this,t);var o=Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.api));return o.documentParent=n.documentParent,o.baseNode=n,null!=r&&(o.parent=r),null!=i&&(o.children=i),null==a?o.tagName=n.tagName+'_GROUP':(o.element=a,o.tagName=n.tagName,o.inherit(n,'base','style','styleMap'),o.documentRoot=n.documentRoot,o.excludeProcedure=n.excludeProcedure,o.excludeResource=n.excludeResource,o.renderExtension=n.renderExtension),o.depth=n.depth,o.css('direction',o.documentParent.dir),o}return Ue(t,e),We(t,[{key:'setLayout',value:function(){ze(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setLayout',this).apply(this,this.childrenBox)}},{key:'setBounds',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=this.outerRegion;e||(this.bounds={top:t.top[0].bounds.top,right:t.right[0].bounds.right,bottom:t.bottom[0].bounds.bottom,left:t.left[0].bounds.left,width:0,height:0},this.bounds.width=this.bounds.right-this.bounds.left,this.bounds.height=this.bounds.bottom-this.bounds.top),this.linear={top:t.top[0].linear.top,right:t.right[0].linear.right,bottom:t.bottom[0].linear.bottom,left:t.left[0].linear.left,width:0,height:0},this.box={top:t.top[0].box.top,right:t.right[0].box.right,bottom:t.bottom[0].box.bottom,left:t.left[0].box.left,width:0,height:0},this.setDimensions()}},{key:'pageflow',get:function(){return this.children.some(function(e){return e.pageflow})}},{key:'childrenBox',get:function(){var e=we,t=0,n=we,r=0,i=!0,a=!1,o=void 0;try{for(var d=this.children[Symbol.iterator](),l,s;!(i=(l=d.next()).done);i=!0)s=l.value,e=Ce(s.bounds.left,e),t=Be(s.bounds.right,t),n=Ce(s.bounds.top,n),r=Be(s.bounds.bottom,r)}catch(e){a=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(a)throw o}}return[t-e,r-n]}},{key:'outerRegion',get:function(){for(var e=this.children.filter(function(e){return e.pageflow}),t=[e[0]],n=[e[0]],r=[e[0]],a=[e[0]],o=1,d;o<e.length;o++)d=e[o],t[0].linear.top===d.linear.top?t.push(d):d.linear.top<t[0].linear.top&&(t=[d]),n[0].linear.right===d.linear.right?n.push(d):d.linear.right>n[0].linear.right&&(n=[d]),r[0].linear.bottom===d.linear.bottom?r.push(d):d.linear.bottom>r[0].linear.bottom&&(r=[d]),a[0].linear.left===d.linear.left?a.push(d):d.linear.left<a[0].linear.left&&(a=[d]);return{top:t,right:n,bottom:r,left:a,children:e}}},{key:'previousSibling',get:function(){return this.parent.previousSibling}},{key:'nextSibling',get:function(){return this.parent.nextSibling}},{key:'firstChild',get:function(){return this.baseNode}}]),t}(Nt),wt=['!0','<?xml version="1.0" encoding="utf-8"?>','<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">','!1','\t<stroke android:width="{&width}" {borderStyle} />','!1','!2','!3','\t<solid android:color="@color/{&color}" />','!3','!4','\t<corners android:radius="{&radius}" />','!4','!5','\t<corners android:topLeftRadius="{&topLeftRadius}" android:topRightRadius="{&topRightRadius}" android:bottomRightRadius="{&bottomRightRadius}" android:bottomLeftRadius="{&bottomLeftRadius}" />','!5','!2','</shape>','!0'].join('\n'),kt=['!0','<?xml version="1.0" encoding="utf-8"?>','<layer-list xmlns:android="http://schemas.android.com/apk/res/android">','!1','\t<item android:top="{@top}" android:right="{@right}" android:bottom="{@bottom}" android:left="{@left}">','\t\t<shape android:shape="rectangle">','!2','\t\t\t<stroke android:width="{&width}" {borderStyle} />','!2','!3','\t\t\t<solid android:color="@color/{&color}" />','!3','!4','\t\t\t<corners android:radius="{&radius}" />','!4','!5','\t\t\t<corners android:topLeftRadius="{@topLeftRadius}" android:topRightRadius="{@topRightRadius}" android:bottomRightRadius="{@bottomRightRadius}" android:bottomLeftRadius="{@bottomLeftRadius}" />','!5','\t\t</shape>','\t</item>','!1','!6','\t<item android:drawable="@drawable/{image}" width="{@width}" height="{@height}" />','!6','!7','\t<item>','\t\t<bitmap android:src="@drawable/{image}" android:gravity="{@gravity}" android:tileMode="{@tileMode}" android:tileModeX="{@tileModeX}" android:tileModeY="{@tileModeY}" />','\t</item>','!7','</layer-list>','!0'].join('\n'),Ct={boxSpacing:{margin:'android:layout_margin="{0}"',marginTop:'android:layout_marginTop="{0}"',marginRight:'android:layout_marginRight="{0}"',marginBottom:'android:layout_marginBottom="{0}"',marginLeft:'android:layout_marginLeft="{0}"',padding:'android:padding="{0}"',paddingTop:'android:paddingTop="{0}"',paddingRight:'android:paddingRight="{0}"',paddingBottom:'android:paddingBottom="{0}"',paddingLeft:'android:paddingLeft="{0}"'},boxStyle:{background:'android:background="@drawable/{0}"',backgroundColor:'android:background="@color/{0}"'},fontStyle:{fontFamily:'android:fontFamily="{0}"',fontStyle:'android:textStyle="{0}"',fontWeight:'android:fontWeight="{0}"',fontSize:'android:textSize="{0}"',color:'android:textColor="{0}"',backgroundColor:'android:background="{0}"'},valueString:{text:'android:text="{0}"'},optionArray:{entries:'android:entries="@array/{0}"'},imageSource:{src:'android:src="@drawable/{0}"'}},Bt=function(e){function t(e){He(this,t);var n=Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tagStyle={},n.tagCount={},n.file.stored=Et.STORED,n}return Ue(t,e),We(t,[{key:'reset',value:function(){ze(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'reset',this).call(this),this.file.reset(),this.tagStyle={},this.tagCount={}}},{key:'finalize',value:function(e){this.processFontStyle(e)}},{key:'filterStyles',value:function(e){var t={},n=!0,r=!1,i=void 0;try{for(var a=e.cache[Symbol.iterator](),o;!(n=(o=a.next()).done);n=!0){var d=o.value,l=d.renderChildren.filter(function(e){return e.visible&&!e.isolated&&!e.relocated});1<l.length&&function(){for(var e={},n='',r=!0,a=function(t){var i=l[t],a=!1;i.combine('_','android').forEach(function(i){i.startsWith('style=')&&(0===t?n=i:i!==n&&(r=!1),a=!0),null==e[i]&&(e[i]=0),e[i]++}),''===n||a||(r=!1)},o=0;o<l.length;o++)a(o);if(r){for(var s in e)e[s]!==l.length&&delete e[s];if(1<Object.keys(e).length){''!==n&&(n=v(n.substring(n.indexOf('/')+1),'"'));var u=[],p=function(e){var t=e.match(/(\w+):(\w+)="(.*?)"/);null!=t&&(l.forEach(function(e){return e.delete(t[1],t[2])}),u.push(t[0]))};for(var c in e)p(c);u.sort();var h='';for(var g in t)if(t[g].join(';')===u.join(';')){h=g;break}''!==h&&''!==n&&h.startsWith(n+'.')||(h=(''===n?'':n+'.')+d.nodeId,t[h]=u),l.forEach(function(e){return e.add('_','style','@style/'+h)})}}}()}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}if(0<Object.keys(t).length)for(var s in t)Et.STORED.STYLES.set(s,{attributes:t[s].join(';')})}},{key:'setBoxSpacing',value:function(){ze(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setBoxSpacing',this).call(this),this.cache.elements.filter(function(e){return!f(e.excludeResource,rt.BOX_SPACING)}).each(function(e){var t=X(e.element,'boxSpacing');if(null!=t){0<s(t.marginLeft)&&t.marginLeft===t.marginRight&&e.alignParent('left')&&e.alignParent('right')&&'match_parent'!==e.android('layout_width')&&(delete t.marginLeft,delete t.marginRight),'auto'===e.styleMap.marginLeft&&delete t.marginLeft,'auto'===e.styleMap.marginRight&&delete t.marginRight,'right'===e.float&&0>s(t.marginLeft)&&delete t.marginLeft;var r=Ct.boxSpacing;for(var i in t)'0px'!==t[i]&&e.attr(n(be(r[i]),e.styleMap[i]||t[i]),null==e.renderExtension)}})}},{key:'setBoxStyle',value:function(){var e=this;ze(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setBoxStyle',this).call(this),this.cache.elements.filter(function(e){return!f(e.excludeResource,rt.BOX_STYLE)}).each(function(r){var i=X(r.element,'boxStyle');if(null!=i){i.backgroundColor&&0<i.backgroundColor.length&&(i.backgroundColor=t.addColor(i.backgroundColor[0],i.backgroundColor[2])),i.backgroundImage=t.addImageURL(i.backgroundImage),[i.borderTop,i.borderRight,i.borderBottom,i.borderLeft].forEach(function(e){e.color&&0<e.color.length&&(e.color=t.addColor(e.color[0],e.color[2]))});var a=Ct.boxStyle,o=r.companion;if(o&&!q(o.element,'backgroundColor')){var d=X(o.element,'boxStyle');d&&Array.isArray(d.backgroundColor)&&(i.backgroundColor=t.addColor(d.backgroundColor[0],d.backgroundColor[2]))}if(e.borderVisible(i.borderTop)||e.borderVisible(i.borderRight)||e.borderVisible(i.borderBottom)||e.borderVisible(i.borderLeft)||''!==i.backgroundImage||0<i.borderRadius.length){var l=null,s=void 0,u='',p='',h='',g='',m='';switch(i.backgroundRepeat){case'repeat-x':g='repeat';break;case'repeat-y':m='repeat';break;case'no-repeat':h='disabled';break;case'repeat':h='repeat';}switch(i.backgroundPosition){case'left center':case'0% 50%':p='left|center_vertical';break;case'left bottom':case'0% 100%':p='left|bottom';break;case'right top':case'100% 0%':p='right|top';break;case'right center':case'100% 50%':p='right|center_vertical';break;case'right bottom':case'100% 100%':p='right|bottom';break;case'center top':case'50% 0%':p='center_horizontal|top';break;case'center bottom':case'50% 100%':p='center_horizontal|bottom';break;case'center center':case'50% 50%':p='center';}0<i.backgroundSize.length&&(b(i.backgroundSize[0])||b(i.backgroundSize[1]))&&('100%'===i.backgroundSize[0]&&'100%'===i.backgroundSize[1]?(h='',g='',m=''):'100%'===i.backgroundSize[0]?g='':'100%'===i.backgroundSize[1]&&(m=''),i.backgroundSize=[]);var f=[],y=[];''!==i.backgroundImage&&(''!=p||''!=h||''!=g||''!=m?y[0]={image:i.backgroundImage,gravity:p,tileMode:h,tileModeX:g,tileModeY:m}:f[0]={image:i.backgroundImage,width:0<i.backgroundSize.length?i.backgroundSize[0]:'',height:0<i.backgroundSize.length?i.backgroundSize[1]:''});var x=e.getShapeAttribute(i,'backgroundColor'),_=e.getShapeAttribute(i,'radius'),T=e.getShapeAttribute(i,'radiusInit');if(null==i.border){l=H(kt),s={0:[{1:[],6:!!(0<f.length)&&f,7:!!(0<y.length)&&y}]};var v=G(s,'0'),I=[i.borderTop,i.borderRight,i.borderBottom,i.borderLeft],R=!0,E='',A='',L='';I.some(function(t,n){if(e.borderVisible(t)){if(''!==E&&E!==t.width||''!==A&&A!==e.getBorderStyle(t)||''!==L&&L!==i.borderRadius[n])return R=!1,!0;var r=[t.width,e.getBorderStyle(t),i.borderRadius[n]];E=r[0],A=r[1],L=r[2]}return!1});var S={};if(1<i.borderRadius.length&&Object.assign(S,{topLeftRadius:i.borderRadius[0],topRightRadius:i.borderRadius[1],bottomRightRadius:i.borderRadius[2],bottomLeftRadius:i.borderRadius[3]}),!1!==x&&v[1].push({2:!1,3:x,4:!1,5:!1}),R){var N='-'+c(2*parseInt(E)),O={top:e.borderVisible(i.borderTop)?'':N,right:e.borderVisible(i.borderRight)?'':N,bottom:e.borderVisible(i.borderBottom)?'':N,left:e.borderVisible(i.borderLeft)?'':N,2:[{width:E,borderStyle:A}],3:!1,4:_,5:T};1<i.borderRadius.length&&O[5].push(S),v[1].push(O)}else I.forEach(function(t,n){if(e.borderVisible(t)){var r='-'+t.width,a={top:r,right:r,bottom:r,left:r,2:[{width:t.width,borderStyle:e.getBorderStyle(t)}],3:!1,4:_,5:T};a[['top','right','bottom','left'][n]]='',1<i.borderRadius.length&&a[5].push(S),v[1].push(a)}});0===v[1].length&&(v[1]=!1)}else if(''===i.backgroundImage){if(l=H(wt),s={0:[{1:e.getShapeAttribute(i,'stroke'),2:!!(0<i.backgroundColor.length||0<i.borderRadius.length)&&[{3:x,4:_,5:T}]}]},1<i.borderRadius.length){var w=G(s,'0','2'),k=e.getShapeAttribute(i,'radiusAll');w[5].push(k)}}else if(''!==i.backgroundImage&&('none'===i.border.style||'0px'===i.border.width))l=H(kt),s={0:[{1:[{2:!1,3:x,4:!1,5:!1}],6:!!(0<f.length)&&f,7:!!(0<y.length)&&y}]};else if(l=H(kt),s={0:[{1:[{2:e.getShapeAttribute(i,'stroke'),3:x,4:_,5:T}],6:!!(0<f.length)&&f,7:!!(0<y.length)&&y}]},1<i.borderRadius.length){var C=G(s,'0','1'),B=e.getShapeAttribute(i,'radiusAll');C[5].push(B)}if(null!=l){var D=W(l,s),P=!0,M=!1,F=void 0;try{for(var V=Et.STORED.DRAWABLES.entries()[Symbol.iterator](),z;!(P=(z=V.next()).done);P=!0){var U=z.value,Y=Ke(U,2),j=Y[0],Z=Y[1];if(Z===D){u=j;break}}}catch(e){M=!0,F=e}finally{try{!P&&V.return&&V.return()}finally{if(M)throw F}}''===u&&(u=r.tagName.toLowerCase()+'_'+r.nodeId,Et.STORED.DRAWABLES.set(u,D))}r.attr(n(a.background,u),null==r.renderExtension)}else null==X(r.element,'fontStyle')&&0<i.backgroundColor.length&&r.attr(n(a.backgroundColor,i.backgroundColor),null==r.renderExtension)}})}},{key:'setFontStyle',value:function(){ze(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setFontStyle',this).call(this);var e={};for(var r in this.cache.filter(function(e){return e.visible&&!f(e.excludeResource,rt.FONT_STYLE)}).each(function(t){null!=X(t.element,'fontStyle')&&(null==e[t.tagName]&&(e[t.tagName]=[]),e[t.tagName].push(t))}),e){var a=new Je(e[r]),d=[],l=!0,s=!1,u=void 0;try{for(var p=a[Symbol.iterator](),c;!(l=(c=p.next()).done);l=!0){var h=c.value,g=!1,m=null;null!=h.companion&&(m=h,h=h.companion);var y=h.element,b=(m||h).id,x=Object.assign({},X(y,'fontStyle'));if(x.backgroundColor&&0<x.backgroundColor.length&&(x.backgroundColor='@color/'+t.addColor(x.backgroundColor[0],x.backgroundColor[2])),null!=x.fontFamily){var _=x.fontFamily.toLowerCase().split(',')[0].replace(/"/g,'').trim(),T='',v='';if(x.color&&0<x.color.length&&(x.color='@color/'+t.addColor(x.color[0],x.color[2])),xt.fontAliasResourceValue&&null!=mt[_]&&(_=mt[_]),ht[_]&&xt.targetAPI>=ht[_]||xt.fontAliasResourceValue&&gt[_]&&xt.targetAPI>=ht[gt[_]]?(g=!0,x.fontFamily=_,'normal'===x.fontStyle&&delete x.fontStyle,'400'===x.fontWeight&&delete x.fontWeight):(_=o(_),x.fontFamily='@font/'+(_+('normal'===x.fontStyle?'':'_'+x.fontStyle)+('400'===x.fontWeight?'':'_'+(ft[x.fontWeight]||x.fontWeight))),T=x.fontStyle,v=x.fontWeight,delete x.fontStyle,delete x.fontWeight),!g){var I=Et.STORED.FONTS.get(_)||{};Object.assign(I,Ve({},T+'-'+v,!0)),Et.STORED.FONTS.set(_,I)}}for(var R=Ct.fontStyle,E=Object.keys(R),A=0;A<E.length;A++){null==d[A]&&(d[A]={});var L=x[E[A]];if(N(L)&&h.supported('android',E[A])){var S=n(R[E[A]],L);null==d[A][S]&&(d[A][S]=[]),d[A][S].push(b)}}}}catch(e){s=!0,u=e}finally{try{!l&&p.return&&p.return()}finally{if(s)throw u}}var O=this.tagStyle[r];if(null!=O){for(var w=0;w<O.length;w++)for(var k in O[w])if(null!=d[w][k]){var C;(C=d[w][k]).push.apply(C,qe(O[w][k]))}else d[w][k]=O[w][k];this.tagCount[r]+=a.visible.length}else this.tagCount[r]=a.visible.length;this.tagStyle[r]=d}}},{key:'setImageSource',value:function(){this.cache.filter(function(e){return e.visible&&('IMG'===e.element.tagName||'INPUT'===e.element.tagName&&'image'===e.element.type)&&!f(e.excludeResource,rt.IMAGE_SOURCE)}).each(function(e){var r=e.element;if(null==X(r,'imageSource')||xt.alwaysReevaluateResources){var i='IMG'===e.element.tagName?t.addImageSrcSet(r):t.addImage({mdpi:r.src});if(''!==i){var a=Ct.imageSource;e.attr(n(a.src,i),null==e.renderExtension),V(r,'imageSource',i)}}})}},{key:'setOptionArray',value:function(){ze(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setOptionArray',this).call(this),this.cache.filter(function(e){return e.visible&&'SELECT'===e.element.tagName&&!f(e.excludeResource,rt.OPTION_ARRAY)}).each(function(e){var r=X(e.element,'optionArray');if(null!=r){var i=Ct.optionArray,a=[];null!=r.stringArray&&(a=r.stringArray.map(function(e){var n=t.addString(e);return''===n?'':'@string/'+n}).filter(function(e){return e})),null!=r.numberArray&&(a=r.numberArray);var o='',d=a.join('-'),l=!0,s=!1,u=void 0;try{for(var p=Et.STORED.ARRAYS.entries()[Symbol.iterator](),c;!(l=(c=p.next()).done);l=!0){var h=c.value,g=Ke(h,2),m=g[0],f=g[1];if(d===f.join('-')){o=m;break}}}catch(e){s=!0,u=e}finally{try{!l&&p.return&&p.return()}finally{if(s)throw u}}''===o&&(o=e.nodeId+'_array',Et.STORED.ARRAYS.set(o,a)),e.attr(n(i.entries,o),null==e.renderExtension)}})}},{key:'setValueString',value:function(e){ze(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setValueString',this).call(this,e),this.cache.filter(function(e){return e.visible&&!f(e.excludeResource,rt.VALUE_STRING)}).each(function(e){var r=X(e.element,'valueString');if(null!=r){if(e.is(nt.TEXT)&&null!=e.style){var i=e.style.textDecoration.match(/(underline|line-through)/);if(null!=i)switch(i[0]){case'underline':r.value='<u>'+r.value+'</u>';break;case'line-through':r.value='<strike>'+r.value+'</strike>';}}var a=t.addString(r.value,r.name);if(''!==a){var o=Ct.valueString;e.attr(n(o.text,isNaN(parseInt(a))||parseInt(a).toString()!==a?'@string/'+a:a),null==e.renderExtension)}}})}},{key:'addTheme',value:function(e,n,r){var i=H(e);if(null!=r.item){var a=G(n,'0');for(var o in r.item){var d=r.item[o],l=ue(d);''!==l&&(d='@color/'+t.addColor(l)),a[1].push({name:o,value:d})}}var s=W(i,n);this.addFile(r.output.path,r.output.file,s)}},{key:'processFontStyle',value:function(e){var t=this,n={},r={};for(var a in this.tagStyle){n[a]={},r[a]={};var o=this.tagStyle[a].filter(function(e){return 0<Object.keys(e).length}).sort(function(e,t){var n=0,r=0,i=0,a=0;for(var o in e)n=Be(e[o].length,n),i+=e[o].length;for(var d in t)null!=t[d]&&(r=Be(t[d].length,r),a+=t[d].length);return n===r?i>=a?-1:1:n>r?-1:1}),l=this.tagCount[a];do if(1===o.length){for(var s in o[0]){var u=o[0][s];2<u.length?n[a][s]=u:r[a][s]=u}o.length=0}else{for(var p={},c={},h=function(e){var r={},i={},d=new Set;for(var s in o[e])if(null!=o[e]){var u=o[e][s],h=!1;if(null==u||0===u.length)continue;else u.length===l?(p[s]=u,o[e]=null,h=!0):1===u.length&&(c[s]=u,o[e][s]=null,h=!0);if(!h){for(var g={},m=!1,f=0;f<o.length;f++)if(e!==f)for(var y in o[f]){var b=o[f][y],x=!0,_=!1,T=void 0;try{for(var v=u[Symbol.iterator](),I,R;!(x=(I=v.next()).done);x=!0)R=I.value,b.includes(R)&&(null==g[y]&&(g[y]=[]),g[y].push(R))}catch(e){_=!0,T=e}finally{try{!x&&v.return&&v.return()}finally{if(_)throw T}}}for(var E in g)1<g[E].length&&(r[[s,E].sort().join(';')]=g[E],m=!0);m||(r[s]=u)}}for(var A in r)for(var L in r)if(A!==L&&r[A].join('')===r[L].join('')){var S=r[A].join(',');i[S]=null==i[S]?new Set([].concat(qe(A.split(';')),qe(L.split(';')))):new Set([].concat(qe(i[S]),qe(L.split(';')))),d.add(A).add(L)}for(var N in d.forEach(function(e){return delete r[e]}),r)t.deleteStyleAttribute(o,N,r[N]),n[a][N]=r[N];for(var O in i){var w=Array.from(i[O]).sort().join(';'),k=O.split(',').map(function(e){return parseInt(e)});t.deleteStyleAttribute(o,w,k),n[a][w]=k}},g=0;g<o.length;g++)h(g);var m=Object.keys(p);for(var f in 0<m.length&&(1<m.length||1<p[m[0]].length?n[a][m.join(';')]=p[m[0]]:Object.assign(c,p)),c)r[a][f]=c[f];for(var g=0;g<o.length;g++)o[g]&&0===Object.keys(o[g]).length&&delete o[g];o=o.filter(function(e){return e&&0<e.length})}while(0<o.length)}var y={},b=function(e){var t=n[e],r=[];for(var i in t)r.push({attributes:i,ids:t[i]});r.sort(function(e,t){var n=[e.ids.length,t.ids.length],r=n[0],i=n[1];if(r===i){var a=[e.attributes.split(';').length,t.attributes.split(';').length];r=a[0],i=a[1]}return r>=i?-1:1}),r.forEach(function(t,n){return t.name=d(e)+(0<n?'_'+n:'')}),y[e]=r};for(var x in n)b(x);var _=new Set,T={};for(var x in y){var v=!0,I=!1,R=void 0;try{for(var E=y[x][Symbol.iterator](),A;!(v=(A=E.next()).done);v=!0){var L=A.value,S=!0,N=!1,O=void 0;try{for(var w=L.ids[Symbol.iterator](),k,C;!(S=(k=w.next()).done);S=!0)C=k.value,null==T[C]&&(T[C]={styles:[],attributes:[]}),T[C].styles.push(L.name)}catch(e){N=!0,O=e}finally{try{!S&&w.return&&w.return()}finally{if(N)throw O}}}}catch(e){I=!0,R=e}finally{try{!v&&E.return&&E.return()}finally{if(I)throw R}}var B=r[x];if(null!=B)for(var D in B){var P=!0,M=!1,F=void 0;try{for(var G=B[D][Symbol.iterator](),H,W;!(P=(H=G.next()).done);P=!0)W=H.value,null==T[W]&&(T[W]={styles:[],attributes:[]}),T[W].attributes.push(D)}catch(e){M=!0,F=e}finally{try{!P&&G.return&&G.return()}finally{if(M)throw F}}}}var V=function(t){var n=e.cache.locate('id',parseInt(t));if(null!=n){var r=T[t].styles,i=T[t].attributes;0<r.length&&(_.add(r.join('.')),n.add('_','style','@style/'+r.pop())),0<i.length&&i.sort().forEach(function(e){return n.attr(fe(e,!0),!1)})}};for(var X in T)V(X);var z=function(e){var t='';e.split('.').forEach(function(e){var n=e.match(/^(\w*?)(?:_([0-9]+))?$/);if(null!=n){var r=y[n[1].toUpperCase()][null==n[2]?0:parseInt(n[2])];Et.STORED.STYLES.set(e,{parent:t,attributes:r.attributes}),t=e}})},U=!0,Y=!1,j=void 0;try{for(var Z=_[Symbol.iterator](),K,q;!(U=(K=Z.next()).done);U=!0)q=K.value,z(q)}catch(e){Y=!0,j=e}finally{try{!U&&Z.return&&Z.return()}finally{if(Y)throw j}}}},{key:'deleteStyleAttribute',value:function(e,t,n){t.split(';').forEach(function(t){for(var r=0;r<e.length;r++)if(null!=e[r]){var a=-1,o='';for(var d in e[r])if(d===t){a=r,o=d,r=e.length;break}if(-1!==a){e[a][o]=e[a][o].filter(function(e){return!n.includes(e)}),0===e[a][o].length&&delete e[a][o];break}}})}},{key:'getShapeAttribute',value:function(e,t){switch(t){case'stroke':return!!(e.border&&'0px'!==e.border.width)&&[{width:e.border.width,borderStyle:this.getBorderStyle(e.border)}];case'backgroundColor':return!!(0<e.backgroundColor.length)&&[{color:e.backgroundColor}];case'radius':return 1===e.borderRadius.length&&'0px'!==e.borderRadius[0]&&[{radius:e.borderRadius[0]}];case'radiusInit':return!!(1<e.borderRadius.length)&&[];case'radiusAll':var n={};return e.borderRadius.forEach(function(e,t){return n[['topLeft','topRight','bottomRight','bottomLeft'][t]+'Radius']=e}),n;}return!1}}],[{key:'addString',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'';if(null!=e&&''!==e){''===t&&(t=e);var n=y(e);if(xt.numberResourceValue||!n){var r=!0,i=!1,a=void 0;try{for(var o=Et.STORED.STRINGS.entries()[Symbol.iterator](),d;!(r=(d=o.next()).done);r=!0){var l=d.value,s=Ke(l,2),u=s[0],p=s[1];if(p===e)return u}}catch(e){i=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}t=t.trim().replace(/[^a-zA-Z0-9]/g,'_').toLowerCase().replace(/_+/g,'_').split('_').slice(0,4).join('_').replace(/_+$/g,''),n||/^[0-9]/.test(e)||bt.includes(t)?t='__'+t:''===t&&(t='__symbol'+De(1e5*Math.random())),Et.STORED.STRINGS.has(t)&&(t=ce('strings',t+'_1')),Et.STORED.STRINGS.set(t,e)}return t}return''}},{key:'addImageSrcSet',value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',r=e.srcset.trim(),i={};if(''!==r){var a=e.src.substring(0,e.src.lastIndexOf('/')+1);r.split(',').forEach(function(e){var t=/^(.*?)\s*([0-9]+\.?[0-9]*x)?$/.exec(e.trim());if(null!=t){null==t[2]&&(t[2]='1x');var n=a+E(t[1]);switch(t[2]){case'0.75x':i.ldpi=n;break;case'1x':i.mdpi=n;break;case'1.5x':i.hdpi=n;break;case'2x':i.xhdpi=n;break;case'3x':i.xxhdpi=n;break;case'4x':i.xxxhdpi=n;}}})}return null==i.mdpi&&(i.mdpi=e.src),t.addImage(i,n)}},{key:'addImage',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n='';if(e&&e.mdpi){n=E(e.mdpi);var r=E(n,'.').toLowerCase();n=n.replace(/.\w+$/,'').replace(/-/g,'_'),n='bmp'===r||'cur'===r||'gif'===r||'ico'===r||'jpg'===r||'png'===r?Et.insertStoredAsset('IMAGES',t+n,e):''}return n}},{key:'addImageURL',value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',r=e.match(/^url\("?(.*?)"?\)$/);return null==r?'':t.addImage({mdpi:T(r[1])},n)}},{key:'addColor',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'1';e=e.toUpperCase().trim();var n=1>parseFloat(t)?'#'+(t.substring(2)+e.substring(1)):e;if(''!==e){var i='';if(!Et.STORED.COLORS.has(n)){var a=ie(e);''!==a&&(a.name=r(a.name),i=e===a.hex&&e===n?a.name:ce('color',a.name+'_1'),Et.STORED.COLORS.set(n,i))}else i=Et.STORED.COLORS.get(n);return i}return''}}]),t}(Et),Dt={relativeParent:{top:'layout_alignParentTop',bottom:'layout_alignParentBottom'},relative:{top:'layout_alignTop',bottom:'layout_alignBottom',baseline:'layout_alignBaseline',bottomTop:'layout_above',topBottom:'layout_below'},constraint:{top:'layout_constraintTop_toTopOf',bottom:'layout_constraintBottom_toBottomOf',baseline:'layout_constraintBaseline_toBaselineOf',bottomTop:'layout_constraintBottom_toTopOf',topBottom:'layout_constraintTop_toBottomOf'}},Pt={direction:['horizontalChain','verticalChain'],leftTop:['left','top'],rightBottom:['right','bottom'],rightLeftBottomTop:['rightLeft','bottomTop'],leftRightTopBottom:['leftRight','topBottom'],widthHeight:['Width','Height'],horizontalVertical:['Horizontal','Vertical']},Mt=function(e){function t(){He(this,t);var e=Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.merge={},pe(),e}return Ue(t,e),We(t,[{key:'finalize',value:function(e){var t=!0,n=!1,r=void 0;try{for(var i=e[Symbol.iterator](),a,o;!(t=(a=i.next()).done);t=!0)o=a.value,o.content=D(o.content).replace(/\n\n/g,'\n'),xt.dimensResourceValue&&(o.content=this.parseDimensions(o.content)),o.content=fe(o.content),o.content=M(o.content,xt.insertSpaces)}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}},{key:'reset',value:function(){ze(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'reset',this).call(this),pe(),this.merge={}}},{key:'setConstraints',value:function(){var e=this;Object.assign(Dt.relativeParent,{left:be('layout_alignParentLeft'),right:be('layout_alignParentRight')}),Object.assign(Dt.relative,{left:be('layout_alignLeft'),right:be('layout_alignRight'),leftRight:be('layout_toRightOf'),rightLeft:be('layout_toLeftOf')}),Object.assign(Dt.constraint,{left:be('layout_constraintLeft_toLeftOf'),right:be('layout_constraintRight_toRightOf'),leftRight:be('layout_constraintLeft_toRightOf'),rightLeft:be('layout_constraintRight_toLeftOf')});var t=function(t){var r=new Je(t.renderChildren.filter(function(e){return!e.isolated}),t),i=t.is(nt.CONSTRAINT),n=t.is(nt.RELATIVE),a=t.flex;0<r.length&&(i||n||a.enabled)&&function(){var o=function(e,t){return i?'parent'===e.app(g[t]):'true'===e.android(m[t])},d=function(e,t){return i?e.app(g[t]):e.android(g[t])},l=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.delete.apply(e,[i?'app':'android'].concat(qe(n.map(function(e){return g[e]}))))},u=function(e,t){if(!e.constraint[t]){for(var n=e,i;null!=n;)if(i=d(n,t===pt.HORIZONTAL?'leftRight':'topBottom'),null==i)n=null;else if(n=r.locate('nodeId',he(i)),null!=n&&n.constraint[t])return!0;return!1}return!0},h=function(e){return e.filter(function(e){return e.anchored})};t.constraint.guideline={};var g=Dt[n?'relative':'constraint'],m=Dt.relativeParent;if(n&&(t.inlineWrap||r.list.some(function(e){return e.inlineWrap}))){for(var f=function(){if(1<y.length){var e=y.filter(function(e){return'IMG'===e.element.tagName}),t=(0<e.length?e:y).sort(function(e,t){return e.linear.height>=t.linear.height?-1:1})[0],n=!1,r=!0,i=!1,a=void 0;try{for(var d=y[Symbol.iterator](),l,s;!(r=(l=d.next()).done);r=!0)s=l.value,s!==t&&s.alignMargin&&(s.android(g[0<e.length?'bottom':'baseline'],t.stringId),0<e.length&&o(s,'top')&&(s.delete('android',m.top),n=!0))}catch(e){i=!0,a=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw a}}n&&t.android(m.top,'true')}},y=[],x=[],_=r.list.some(function(e){return e.multiLine}),T=null,v=0,I=0;v<r.length;v++){var E=r.get(v),S=E[E.multiLine?'bounds':'linear'];if(0===v)E.android(m.top,'true'),E.android(m.left,'true'),I+=S.width,x[x.length]=[E];else{var N=E instanceof Ot,k=r.get(v-1);if(t.inlineWrap&&N||E.multiLine||$(E.element.previousSibling)||$(k.element.nextSibling,'next')||_&&Pe(I-E.marginLeft)+S.width>t.box.width||!_&&E.linear.top>=k.linear.bottom){var B=x[x.length-1];T=B[0];for(var D=1;D<B.length;D++)B[D].linear.bottom>T.linear.bottom&&(T=B[D]);N&&(E.constraint.marginVertical=T.stringId),E.android(g.topBottom,T.stringId),E.android(m.left,'true'),I=E.multiLine?S.right-S.left:S.width,f(),y.length=0,x[x.length]=[E]}else E.android(g.leftRight,k.stringId),null!=T&&E.android(g.topBottom,T.stringId),I+=S.width,x[x.length-1].push(E)}E.nodeType<=nt.IMAGE&&y.push(E)}f();for(var P=0,M;P<x.length;P++)M=x[P][0],M.is(nt.TEXT)&&De(M.linear.right)>=t.box.right&&M.android('singleLine','true')}else(function(){var f=r.partition(function(e){return e.pageflow}),x=Ke(f,2),_=x[0],T=x[1],v=_.linearX,I=!xt.horizontalPerspective&&!a.enabled&&!_.list.some(function(e){return e.floating});if(0<_.length){_.prepend(t);var E=!0,S=!1,N=void 0;try{for(var k=_[Symbol.iterator](),B;!(E=(B=k.next()).done);E=!0){var D=B.value,P=!0,M=!1,F=void 0;try{for(var G=_[Symbol.iterator](),H,W;!(P=(H=G.next()).done);P=!0)if(W=H.value,D===W)continue;else{var V=D.linear,X=W.linear,z=W.stringId,U=u(W,pt.HORIZONTAL)?pt.HORIZONTAL:'',Y=u(W,pt.VERTICAL)?pt.VERTICAL:'',j=D.intersectY(W.linear),Z=D.alignMargin&&W.alignMargin;if(i){(D===t||W===t)&&(D===t&&(D=W),V=D.linear,X=t.box,z='parent'),null!=D.styleMap.width&&'auto'===D.styleMap.marginLeft&&'auto'===D.styleMap.marginRight?e.setAlignParent(D,pt.HORIZONTAL):'parent'===z?((V.left<=X.left||w(V.left,X.left))&&D.anchor(g.left,'parent',pt.HORIZONTAL),(V.right>=X.right||O(V.right,X.right,xt.constraintWhitespaceHorizontalOffset))&&D.anchor(g.right,'parent',0<t.viewWidth||'right'===D.float||D.inlineWrap||'auto'===D.styleMap.marginLeft?pt.HORIZONTAL:'')):(0===D.viewWidth&&V.left===X.left&&V.right===X.right?(!o(D,'right')&&D.anchor(g.left,z),!o(D,'left')&&D.anchor(g.right,z)):I&&(V.left===X.left?D.anchor(g.left,z):V.right===X.right&&D.anchor(g.right,z)),O(V.left,X.right,Z?xt.constraintWhitespaceHorizontalOffset:0)&&('right'===D.float?D.constraint.marginHorizontal=W.stringId:D.anchor(g.leftRight,z,U,D.withinX(X))),O(V.right,X.left,Z?xt.constraintWhitespaceHorizontalOffset:0)&&'left'!==D.float&&D.anchor(g.rightLeft,z,U,D.withinX(X)));var K=o(D,'top'),q=o(D,'bottom');'parent'===z?((V.top<=X.top||w(V.top,X.top))&&(D.anchor(g.top,'parent',pt.VERTICAL),K=!0),(V.bottom>=X.bottom||w(V.bottom,X.bottom))&&!(K&&D.inlineWrap)&&D.anchor(g.bottom,'parent',0<t.viewHeight?pt.VERTICAL:'')):(O(V.top,X.bottom,Z?xt.constraintWhitespaceVerticalOffset:0)?(j||!q)&&D.anchor(g.topBottom,z,Y,j):O(V.bottom,X.top,Z?xt.constraintWhitespaceVerticalOffset:0)&&(j||!K)&&D.anchor(g.bottomTop,z,Y,j),V.top===X.top&&!K&&!q&&D.anchor(g.top,z,Y),V.bottom===X.bottom&&!K&&!q&&D.anchor(g.bottom,z,Y))}else if(n)if(D===t)continue;else W===t?(D.linear.left<=t.box.left||w(D.linear.left,t.box.left)?D.anchor(m.left,'true',pt.HORIZONTAL):(D.linear.right>=t.box.right||w(D.linear.right,t.box.right))&&D.anchor(m.right,'true',pt.HORIZONTAL),D.linear.top<=t.box.top||w(D.linear.top,t.box.top)?D.anchor(m.top,'true',pt.VERTICAL):(D.linear.bottom>=t.box.bottom||w(D.linear.bottom,t.box.bottom))&&D.anchor(m.bottom,'true',pt.VERTICAL)):(null!=D.css('width')&&'auto'===D.styleMap.marginRight&&'auto'===D.styleMap.marginLeft?(D.android('layout_centerHorizontal','true'),D.constraint.horizontal=!0):(V.top===X.top||V.bottom===X.bottom)&&O(V.left,X.right,xt.constraintWhitespaceHorizontalOffset)&&('right'===D.float?W.anchor(g.rightLeft,D.stringId,U):(D.anchor(g.leftRight,z,U),W.constraint.horizontal&&D.delete('android',m.right))),O(V.top,X.bottom,xt.constraintWhitespaceVerticalOffset)?(D.anchor(g.topBottom,z,Y,j),W.constraint.vertical&&D.delete('android',m.bottom)):O(V.bottom,X.top,xt.constraintWhitespaceVerticalOffset)&&!o(D,'top')&&D.anchor(g.bottomTop,z,Y,j),!W.constraint.horizontal||V.bottom!==X.bottom||v||D.floating||D.constraint.vertical||(D.anchor(g.bottom,z,Y),W.constraint.vertical&&D.delete('android',m.bottom)))}}catch(e){M=!0,F=e}finally{try{!P&&G.return&&G.return()}finally{if(M)throw F}}}}catch(e){S=!0,N=e}finally{try{!E&&k.return&&k.return()}finally{if(S)throw N}}_.remove(0)}if(0<T.length){t.setBoundsMin();var J=!0,Q=!1,$=void 0;try{for(var ee=T[Symbol.iterator](),te;!(J=(te=ee.next()).done);J=!0){var ne=te.value,re=i?g:m,ie=i?'parent':'true';null!=ne.top&&0===s(ne.top)&&ne.anchor(re.top,ie,pt.VERTICAL),null!=ne.right&&0<=s(ne.right)&&ne.anchor(re.right,ie,pt.HORIZONTAL),null!=ne.bottom&&0<=s(ne.bottom)&&ne.anchor(re.bottom,ie,pt.VERTICAL),null!=ne.left&&0===s(ne.left)&&ne.anchor(re.left,ie,pt.HORIZONTAL),0!==ne.left||0!==ne.right||ne.floating||ne.android('layout_width','match_parent'),0===ne.top&&0===ne.bottom&&ne.android('layout_height','match_parent')}}catch(e){Q=!0,$=e}finally{try{!J&&ee.return&&ee.return()}finally{if(Q)throw $}}}var ae=!0,oe=!1,de=void 0;try{for(var le=r[Symbol.iterator](),se;!(ae=(se=le.next()).done);ae=!0){var ue=se.value,pe=d(ue,'leftRight');null!=pe&&(!ue.constraint.horizontal&&(ue.constraint.horizontal=a.enabled||u(ue,pt.HORIZONTAL)),ue.constraint.marginHorizontal=pe);var ce=d(ue,'topBottom');if(null!=ce&&(!ue.constraint.vertical&&(ue.constraint.vertical=a.enabled||u(ue,pt.VERTICAL)),ue.constraint.marginVertical=ce,l(ue,'top')),o(ue,'left')&&o(ue,'right'))if('auto'===ue.styleMap.marginLeft||'auto'===ue.styleMap.marginRight)'auto'===ue.styleMap.marginLeft&&'auto'!==ue.styleMap.marginRight&&l(ue,'left'),'auto'!==ue.styleMap.marginLeft&&'auto'===ue.styleMap.marginRight&&l(ue,'right'),ue.marginLeft===ue.marginRight&&(0<t.viewWidth?ue.android('layout_width','match_parent'):ue.inlineElement&&0===ue.viewWidth&&ue.android('layout_width','wrap_content'));else if(ue.floating)l(ue,'right'===ue.float?'left':'right');else if(!ue.inlineElement)l(ue,'right');else if(ue.nodeType<=nt.IMAGE)switch(ue.css('textAlign')){case'center':break;case'right':case'end':l(ue,'left');break;default:l(ue,'right');}else l(ue,'right');i?null!=d(ue,'bottomTop')&&l(ue,'bottom'):null!=d(ue,'topBottom')&&l(ue,'bottomTop')}}catch(e){oe=!0,de=e}finally{try{!ae&&le.return&&le.return()}finally{if(oe)throw de}}for(var ge=0,fe;ge<_.length;ge++)if(fe=_.get(ge),!fe.anchored){var ye=i?L(fe.get('app'),'*constraint*'):L(fe.get('android'),g),xe=!0,_e=!1,Te=void 0;try{for(var ve=ye[Symbol.iterator](),Ie;!(xe=(Ie=ve.next()).done);xe=!0){var Re=Ie.value,Ee=Ke(Re,2),Ae=Ee[0],Le=Ee[1];'parent'!==Le&&null!=h(_).locate('stringId',Le)&&(-1!==R(Ae,be('Left'),be('Right'))&&(fe.constraint.horizontal=!0),-1!==R(Ae,'Top','Bottom','Baseline','above','below')&&(fe.constraint.vertical=!0))}}catch(e){_e=!0,Te=e}finally{try{!xe&&ve.return&&ve.return()}finally{if(_e)throw Te}}fe.anchored&&(ge=-1)}if(a.enabled||!xt.constraintChainDisabled&&i&&1<_.length){var Se=null;if(!a.enabled){var Ne=_.list.filter(function(e){return!e.constraint.horizontal}),Oe=_.list.filter(function(e){return!e.constraint.vertical});_.list.some(function(n){var r=[],i=[];return 0<Ne.length&&(r=e.partitionChain(t,n,_,pt.HORIZONTAL),n.constraint.horizontalChain=new Je(C(r,'linear.left'))),0<Oe.length&&(i=e.partitionChain(t,n,_,pt.VERTICAL),n.constraint.verticalChain=new Je(C(i,'linear.top'))),r.length===_.length||i.length===_.length})}else if('nowrap'===a.wrap){var we=_.clone(),De=_.clone();switch(a.direction){case'row-reverse':we.list.reverse();case'row':De.clear();break;case'column-reverse':De.list.reverse();case'column':we.clear();}Se=[{constraint:{horizontalChain:we,verticalChain:De}}]}else{var Pe=function(){for(var e in Fe)Fe[e].reverse()},Me=_.clone();switch(a.direction){case'row-reverse':case'column-reverse':Me.list.reverse();}var Fe={},Ge=[],He=!0,We=!1,Ve=void 0;try{for(var Xe=Me[Symbol.iterator](),ze;!(He=(ze=Xe.next()).done);He=!0){var Ue=ze.value,Ye=Ue.linear.top;null==Fe[Ye]&&(Fe[Ye]=[],Ge.push(Ye)),Fe[Ye].push(Ue)}}catch(e){We=!0,Ve=e}finally{try{!He&&Xe.return&&Xe.return()}finally{if(We)throw Ve}}switch(a.wrap){case'wrap':'column-reverse'===a.direction&&Pe();break;case'wrap-reverse':-1===a.direction.indexOf('row')?'column'===a.direction&&Pe():Ge.reverse();}Se=[];var y=!0,je=!1,Ze=void 0;try{for(var qe=Ge[Symbol.iterator](),Qe,$e;!(y=(Qe=qe.next()).done);y=!0)$e=Qe.value,Se.push({constraint:{horizontalChain:new Je(Fe[$e]),verticalChain:new Je}})}catch(e){je=!0,Ze=e}finally{try{!y&&qe.return&&qe.return()}finally{if(je)throw Ze}}}var et=Pt.direction.slice();I&&et.reverse(),et.forEach(function(n,r){var i=a.enabled?Se:_.clone().list.sort(function(e,t){return(null==e.constraint[n]?0:e.constraint[n].length)>=(null==t.constraint[n]?0:t.constraint[n].length)?-1:1});if(null!=i){I&&(r=0===r?1:0);var s=0===r?1:0;i.filter(function(e){return e.constraint[n]}).forEach(function(u,c){var h=u.constraint[n];if(h.length>(a.enabled?0:1)){h.parent=t,a.enabled&&h.list.some(function(e){return 0<e.flex.order})&&h[-1===a.direction.indexOf('reverse')?'sortAsc':'sortDesc']('flex.order');for(var m=[Pt.horizontalVertical[r],Pt.horizontalVertical[s]],f=m[0],y=m[1],x=[Pt.leftTop[r],Pt.leftTop[s]],T=x[0],v=x[1],R=[Pt.rightBottom[r],Pt.rightBottom[s]],E=R[0],L=R[1],S=[Pt.widthHeight[r],Pt.widthHeight[s]],N=S[0],O=S[1],k=f.toLowerCase(),C=y.toLowerCase(),B=N.toLowerCase(),D=h.get(0),P=h.get(),M=-1,F=!1,G=!1,H=0===r?[pt.HORIZONTAL,'left','leftRight','top',pt.VERTICAL,'viewWidth','right','marginHorizontal']:[pt.VERTICAL,'top','topBottom','left',pt.HORIZONTAL,'viewHeight','bottom','marginVertical'],W=0,V;W<h.length;W++)if(V=h.get(W),0===W){if(!o(V,H[1])){F=!0;break}}else if(null==d(V,H[2])){F=!0;break}if(!F){if(h.list.every(function(e){return A(D,e,'linear.'+H[3])}))for(var X=1,z;X<h.length;X++)z=h.get(X),z.constraint[H[4]]||z.anchor(g[H[3]],D.stringId,H[4]);a.enabled||0!==t[H[5]]||(l(P,H[6]),P.constraint[H[7]]=d(P,H[2]))}D.anchor(g[T],'parent',k),P.anchor(g[E],'parent',k),I&&(null!=d(D,'leftRight')&&!o(D,'left')&&l(D,'left'),null!=d(D,'rightLeft')&&l(D,'right'));for(var U=function(s){var u=h.get(s),m=h.get(s+1),y=h.get(s-1);if(a.enabled){u.linear[v]===t.box[v]&&u.linear[L]===t.box[L]&&e.setAlignParent(u,C);var x=i[c+1];if(x&&null!=x.constraint[n]){var _=x.constraint[n].get(s);_&&u.withinY(_.linear)&&(u.anchor(g.bottomTop,_.stringId),!o(u,'bottom')&&l(u,'bottom'))}}else I&&(o(u,'right')&&null!=d(u,'leftRight')&&l(u,'right'),u!==D&&(null!=d(u,'left')||null!=d(u,'right'))&&(l(u,'leftRight','rightLeft'),delete u.constraint.marginHorizontal));if(null!=m&&(u.anchor(g[Pt.rightLeftBottomTop[r]],m.stringId),M=Be(m.linear[T]-u.linear[E],M)),null!=y&&(u.anchor(g[Pt.leftRightTopBottom[r]],y.stringId),u.constraint['margin'+f]=y.stringId),u.constraint['chain'+f]=!0,!u.isSet('styleMap',B)){var R=u.styleMap['min'+N],A=u.styleMap['min'+O],S=u.styleMap['max'+N],w=u.styleMap['max'+O];R&&(u.app('layout_constraint'+N+'_min',R),u.constraint['min'+N]=!0),S&&(u.app('layout_constraint'+N+'_max',S),u.constraint['max'+N]=!0),A&&(u.app('layout_constraint'+O+'_min',A),u.constraint['min'+O]=!0),w&&(u.app('layout_constraint'+O+'_max',w),u.constraint['max'+O]=!0)}if(a.enabled){switch(u.app('layout_constraint'+f+'_weight',u.flex.grow.toString()),null==u['view'+N]&&0===u.flex.grow&&1>=u.flex.shrink?u.android('layout_'+B,'wrap_content'):0<u.flex.grow&&u.android('layout_'+B,'0px'),0===u.flex.shrink&&u.app('layout_constrained'+N,'true'),u.flex.alignSelf){case'flex-start':u.anchor(g[v],'parent',C);break;case'flex-end':u.anchor(g[L],'parent',C);break;case'baseline':var k=h.list.some(function(e){return!!(e!==u&&e.nodeType<=nt.TEXT)&&(u.anchor(g.baseline,e.stringId),!0)});if(k){l(u,'top','bottom');var P=!0,F=!1,G=void 0;try{for(var H=h[Symbol.iterator](),W,V;!(P=(W=H.next()).done);P=!0)V=W.value,d(V,'top')===u.stringId&&l(V,'top'),d(V,'bottom')===u.stringId&&l(V,'bottom')}catch(e){F=!0,G=e}finally{try{!P&&H.return&&H.return()}finally{if(F)throw G}}u.constraint.vertical=!0}break;case'center':case'stretch':'center'!==u.flex.alignSelf&&u.android('layout_'+O.toLowerCase(),'0px'),e.setAlignParent(u,C);}if('auto'!==u.flex.basis)if(b(u.flex.basis))u.app('layout_constraint'+N+'_percent',u.flex.basis);else{var X=p(u.flex.basis);'0px'!==X&&(u.app('layout_constraintWidth_min',X),delete u.styleMap.minWidth)}}},Y=0;Y<h.length;Y++)U(Y);var j='layout_constraint'+f+'_chainStyle';if(a.enabled&&'normal'!==a.justifyContent&&0===Be.apply(null,h.list.map(function(e){return e.flex.grow}))){switch(a.justifyContent){case'space-between':D.app(j,'spread_inside');break;case'space-evenly':D.app(j,'spread');var Z=!0,K=!1,q=void 0;try{for(var J=h[Symbol.iterator](),Q,$;!(Z=(Q=J.next()).done);Z=!0)$=Q.value,$.app('layout_constraint'+f+'_weight',($.flex.grow||1).toString())}catch(e){K=!0,q=e}finally{try{!Z&&J.return&&J.return()}finally{if(K)throw q}}break;case'space-around':D.app('layout_constraint'+f+'_chainStyle','spread_inside'),D.constraint[k]=!1,P.constraint[k]=!1,e.addGuideline(D,t,k,!0,!1),e.addGuideline(P,t,k,!0,!0);break;default:var ee=a.justifyContent;if(-1!==a.direction.indexOf('reverse'))switch(a.justifyContent){case'flex-start':ee='flex-end';break;case'flex-end':ee='flex-start';}var te='0.5';'flex-start'===ee?te='0':'flex-end'===ee?te='1':void 0,D.app(j,'packed'),D.app('layout_constraint'+f+'_bias',te);}G=!0}else{var ne=w(t.box.left,D.linear.left),re=w(P.linear.right,t.box.right),ie=w(t.box.top,D.linear.top),ae=w(P.linear.bottom,t.box.bottom);if(k===pt.HORIZONTAL&&ne&&re||k===pt.VERTICAL&&ie&&ae)2<h.length||a.enabled?!a.enabled&&t.inlineElement?(D.app(j,'packed'),D.app('layout_constraint'+f+'_bias',0===r&&'right'===t.float?'1':'0')):(D.app(j,'spread_inside'),G=!0):M>xt['constraintChainPacked'+f+'Offset']&&(o(D,T)&&l(D,Pt.rightLeftBottomTop[r]),o(P,E)&&l(P,Pt.leftRightTopBottom[r]));else if(M<=xt['chainPacked'+f+'Offset']||'nowrap'!==t.flex.wrap||k===pt.HORIZONTAL&&(ne||re)){D.app(j,'packed');var oe='';k===pt.HORIZONTAL&&(ne?oe='0':re&&(oe='1')),''===oe&&(oe=h[k+'Bias']),D.app('layout_constraint'+f+'_bias',oe)}else D.app(j,'spread'),G=!0;if(!a.enabled){(0===r?[[v,L],[L,v]]:[[T,E],[E,T]]).forEach(function(e){if(h.list.every(function(t){return A(D,t,'linear.'+e[0])&&h.list.some(function(t){return!A(D,t,'linear.'+e[1])})})){var t=!0,n=!1,r=void 0;try{for(var i=h[Symbol.iterator](),a,o;!(t=(a=i.next()).done);t=!0)o=a.value,l(o,e[1])}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}}});var de=!0,le=!1,se=void 0;try{for(var ue=h[Symbol.iterator](),pe;!(de=(pe=ue.next()).done);de=!0){var ce=pe.value,he=!0,ge=!1,me=void 0;try{for(var fe=_[Symbol.iterator](),ye;!(he=(ye=fe.next()).done);he=!0){var be=ye.value,xe=be.constraint.horizontalChain,_e=be.constraint.verticalChain;xe&&0<xe.length&&null!=xe.locate('id',ce.id)&&xe.clear(),_e&&0<_e.length&&null!=_e.locate('id',ce.id)&&_e.clear()}}catch(e){ge=!0,me=e}finally{try{!he&&fe.return&&fe.return()}finally{if(ge)throw me}}}}catch(e){le=!0,se=e}finally{try{!de&&ue.return&&ue.return()}finally{if(le)throw se}}}else G=!0}if(G){var Te=!0,ve=!1,Ie=void 0;try{for(var Re=h[Symbol.iterator](),Ee,Ae;!(Te=(Ee=Re.next()).done);Te=!0)Ae=Ee.value,delete Ae.constraint.marginHorizontal,delete Ae.constraint.marginVertical}catch(e){ve=!0,Ie=e}finally{try{!Te&&Re.return&&Re.return()}finally{if(ve)throw Ie}}}}})}})}var tt=!0,rt=!1,it=void 0;try{for(var ot=_[Symbol.iterator](),dt,lt;!(tt=(dt=ot.next()).done);tt=!0)lt=dt.value,lt.constraint.horizontal=u(lt,pt.HORIZONTAL),lt.constraint.vertical=u(lt,pt.VERTICAL)}catch(e){rt=!0,it=e}finally{try{!tt&&ot.return&&ot.return()}finally{if(rt)throw it}}a.enabled?'nowrap'!==a.wrap&&['topBottom','bottomTop'].forEach(function(e,t){var n=!0,i=!1,a=void 0;try{for(var s=_[Symbol.iterator](),u,p;!(n=(u=s.next()).done);n=!0)if(p=u.value,o(p,0===t?'bottom':'top')){for(var c=[p],h=!1,m=p,f;null!=m;)if(f=d(m,e),null==f)m=null;else if(m=r.locate('nodeId',he(f)),m&&p.withinY(m.linear)&&(c.push(m),h=o(m,0===t?'top':'bottom'),h))break;if(!h){var y=function(e){_.list.some(function(t){return e!==t&&t.linear.top===e.linear.top&&t.linear.bottom===e.linear.bottom&&(l(e,'topBottom','bottomTop'),e.app(g.top,t.stringId),e.app(g.bottom,t.stringId),!0)})},b=!0,x=!1,T=void 0;try{for(var v=c[Symbol.iterator](),I,R;!(b=(I=v.next()).done);b=!0)R=I.value,y(R)}catch(e){x=!0,T=e}finally{try{!b&&v.return&&v.return()}finally{if(x)throw T}}}}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}}):function(){var n=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=i?'app':'android';for(var a in g){var d=e[r](g[a]);('parent'!==d||n)&&(''===t||d===t)&&e.delete(r,g[a])}e.constraint.horizontal=o(e,'left')||o(e,'right'),e.constraint.vertical=o(e,'top')||o(e,'bottom')},a=function(e,t){l(e,t),ee[e.stringId][t]=null};if(i){var p=function(e){[['top','bottom','topBottom'],['bottom','top','bottomTop']].forEach(function(t){o(e,t[1])&&null==d(e,t[2])&&['leftRight','rightLeft'].forEach(function(n){var r=d(e,n);if(null!=r){var i=_.locate('stringId',r);i&&null!=d(i,t[2])&&(w(e.linear[t[0]],i.linear[t[0]])&&e.anchor(g[t[0]],i.stringId),w(e.linear[t[1]],i.linear[t[1]])&&e.anchor(g[t[1]],i.stringId))}})})},f=!0,y=!1,b=void 0;try{for(var x=_[Symbol.iterator](),T,v;!(f=(T=x.next()).done);f=!0)v=T.value,p(v)}catch(e){y=!0,b=e}finally{try{!f&&x.return&&x.return()}finally{if(y)throw b}}var I=_.filter(function(e){return!e.anchored&&(o(e,'top')||o(e,'right')||o(e,'bottom')||o(e,'left'))});0===h(r).length&&0===I.length&&I.append(r.get(0));var R=!0,E=!1,A=void 0;try{for(var L=I[Symbol.iterator](),S,N;!(R=(S=L.next()).done);R=!0)N=S.value,e.addGuideline(N,t,'',!1,!1)}catch(e){E=!0,A=e}finally{try{!R&&L.return&&L.return()}finally{if(E)throw A}}var k=r.partition(function(e){return e.anchored}),C=Ke(k,2),B=C[0],D=C[1],P=function(r){var i=Math.pow,a=Math.round;if(B.each(function(e){return n(e,r.stringId)}),O(r.horizontalBias,.5,.01)&&O(r.verticalBias,.5,.01))n(r),e.setAlignParent(r);else if(xt.constraintCirclePositionAbsolute&&0<B.length){n(r,'',!0);var o=B.get(0),d=r.center,l=o.center,s=ke(d.x-l.x),u=ke(d.y-l.y),p=a(Math.atan(Ce(s,u)/Be(s,u))*(180/Math.PI)),h=a(Math.sqrt(i(s,2)+i(u,2)));d.y>l.y?d.x>l.x?s>u?p+=90:p=180-p:s>u?p=270-p:p+=180:d.y<l.y?l.x>d.x?s>u?p+=270:p=360-p:s>u&&(p=90-p):p=d.x>l.x?90:270,r.app('layout_constraintCircle',o.stringId),r.app('layout_constraintCircleRadius',me(''+r.tagName,'constraintcircleradius',c(h))),r.app('layout_constraintCircleAngle',p.toString()),r.constraint.horizontal=!0,r.constraint.vertical=!0}else n(r),e.addGuideline(r,t)},M=!0,F=!1,G=void 0;try{for(var H=D[Symbol.iterator](),W,V;!(M=(W=H.next()).done);M=!0)V=W.value,P(V)}catch(e){F=!0,G=e}finally{try{!M&&H.return&&H.return()}finally{if(F)throw G}}}else{var X=function(e){if(!e.anchored){if(O(e.horizontalBias,.5,.01)&&O(e.verticalBias,.5,.01))return n(e),e.android('layout_centerInParent','true'),'continue';if(!e.constraint.horizontal&&(r.list.some(function(t){return!!(t!==e&&t.constraint.horizontal&&w(e.linear.left,t.linear.left))&&(e.anchor(g.left,t.stringId,pt.HORIZONTAL),!0)}),!e.constraint.horizontal)){var i=c(Be(0,e.bounds.left-t.box.left));'0px'!==i&&(e.css(be('marginLeft'),i),e.android(be('layout_marginLeft'),i)),e.anchor(m.left,'true',pt.HORIZONTAL)}if(!e.constraint.vertical&&(r.list.some(function(t){return!!(t!==e&&t.constraint.vertical&&w(e.linear.top,t.linear.top))&&(e.anchor(g.top,t.stringId,pt.VERTICAL),!0)}),!e.constraint.vertical)){var a=c(Be(0,e.bounds.top-t.box.top));'0px'!==a&&(e.css('marginTop',a),e.android('layout_marginTop',a)),e.anchor(m.top,'true',pt.VERTICAL)}}var o=d(e,'topBottom');if(null!=o){var s=r.locate('stringId',o);null!=s&&d(s,'bottomTop')===e.stringId&&l(s,'bottomTop')}},z=!0,U=!1,Y=void 0;try{for(var j=r[Symbol.iterator](),Z;!(z=(Z=j.next()).done);z=!0){var K=Z.value,q=X(K)}}catch(e){U=!0,Y=e}finally{try{!z&&j.return&&j.return()}finally{if(U)throw Y}}}var J=null,Q=null,$=r.bottom,ee={},te=function(n){var r=o(n,'top'),i=o(n,'right'),a=o(n,'bottom'),p=o(n,'left');ee[n.stringId]={leftRight:d(n,'leftRight'),rightLeft:d(n,'rightLeft'),topBottom:d(n,'topBottom'),bottomTop:d(n,'bottomTop')},n.pageflow?([[p,i,'rightLeft','leftRight','right','left','Horizontal'],[r,a,'bottomTop','topBottom','bottom','top','Vertical']].forEach(function(r,i){if(r[0]||r[1]){var a=n,s=r[0]&&r[1];if(!s)do{var u=d(a,r[0]?r[2]:r[3]);if(null==u)a=null;else if(a=e.findByStringId(u),a&&(r[0]&&o(a,r[4])||r[1]&&o(a,r[5]))){s=!0;break}}while(null!=a);if(s&&(t.constraint['layout'+r[6]]=!0),!n.constraint['chain'+r[6]])if(r[0]&&r[1])n.autoMargin||n.android('layout_'+(0===i?'width':'height'),'match_parent',!1);else if(r[1]&&s){var p=e.findByStringId(d(n,r[3]));p&&0===p.marginBottom&&l(n,r[4])}}}),r&&a&&n.linear.bottom<$&&l(n,'bottom'),i&&!Q&&(Q=!1,Q=u(n,pt.HORIZONTAL)),a&&!J&&(J=!1,J=u(n,pt.VERTICAL))):(p&&i&&null==n.right&&0<n.viewWidth&&l(n,'right'),r&&a&&null==n.bottom&&0<n.viewHeight&&l(n,'bottom'),p&&i&&0===t.viewWidth&&(t.constraint.layoutWidth=!0),r&&a&&0===t.viewHeight&&(t.constraint.layoutHeight=!0),i&&0<s(n.right)&&n.modifyBox(at.MARGIN_RIGHT,n.marginRight+s(n.right)),a&&0<s(n.bottom)&&n.modifyBox(at.MARGIN_BOTTOM,n.marginBottom+s(n.bottom)))},ne=!0,re=!1,ie=void 0;try{for(var ae=r[Symbol.iterator](),oe,de;!(ne=(oe=ae.next()).done);ne=!0)de=oe.value,te(de)}catch(e){re=!0,ie=e}finally{try{!ne&&ae.return&&ae.return()}finally{if(re)throw ie}}var le=function(e){var t=function(t){e!==t&&['leftRight','rightLeft','bottomTop','topBottom'].forEach(function(n){if(ee[e][n]&&ee[e][n]===ee[t][n]){var i=r.locate('stringId',ee[e][n]);null!=i&&[r.locate('stringId',e),r.locate('stringId',t)].some(function(r,o){if(null!=r){var l=0===o?e:t;switch(n){case'leftRight':case'rightLeft':if((null!=d(r,'left')||null!=d(r,'right'))&&d(i,'rightLeft'===n?'leftRight':'rightLeft')!==l)return a(r,n),!0;break;case'bottomTop':case'topBottom':if((null!=d(r,'top')||null!=d(r,'bottom'))&&d(i,'topBottom'===n?'bottomTop':'topBottom')!==l)return a(r,n),!0;}}return!1})}})};for(var n in ee)t(n)};for(var se in ee)le(se);!1===Q&&(t.constraint.layoutWidth=!0),!1===J&&(t.constraint.layoutHeight=!0)}()})();var F=!0,G=!1,H=void 0;try{for(var W=r[Symbol.iterator](),V,X;!(F=(V=W.next()).done);F=!0){if(X=V.value,null!=X.constraint.marginHorizontal){var z=e.findByStringId(X.constraint.marginHorizontal);if(null!=z){var U=X.linear.left-z.linear.right;1<=U&&X.modifyBox(at.MARGIN_LEFT,X.marginLeft+U,!0)}}if(null!=X.constraint.marginVertical){var Y=e.findByStringId(X.constraint.marginVertical);if(null!=Y){var Z=X.linear.top-Y.linear.bottom;1<=Z&&X.modifyBox(at.MARGIN_TOP,X.marginTop+Z,!0)}}}}catch(e){G=!0,H=e}finally{try{!F&&W.return&&W.return()}finally{if(G)throw H}}}()},n=!0,r=!1,i=void 0;try{for(var a=this.cache.visible[Symbol.iterator](),o,d;!(n=(o=a.next()).done);n=!0)d=o.value,t(d)}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}},{key:'renderGroup',value:function(e,t,n,r){var i=this,a=e.isSet('dataset','target')&&!e.isSet('dataset','include'),o='',d='',l=t;if('number'==typeof n&&(n=Nt.getNodeName(n)),r=n===st.LINEAR?{android:{orientation:r&&r.horizontal?pt.HORIZONTAL:pt.VERTICAL}}:n===st.GRID?{android:{columnCount:r&&r.columns?r.columns.toString():'2',rowCount:r&&0<r.rows?r.rows.toString():''}}:{},(e.setNodeId(n),0!==e.overflow)){var s=[];e.overflowX&&s.push(st.SCROLL_HORIZONTAL),e.overflowY&&s.push(e.ascend().some(function(e){return 0!==e.overflow})?st.SCROLL_NESTED:st.SCROLL_VERTICAL);var u=e,p=t.renderDepth+s.length;s.map(function(t){var n=new Nt(i.cache.nextId,xt.targetAPI,e.element);n.excludeResource|=rt.ALL,n.setBounds(),n.setNodeId(t),i.cache.append(n),t===st.SCROLL_HORIZONTAL?n.css({width:e.styleMap.width,minWidth:e.styleMap.minWidth,maxWidth:e.styleMap.maxWidth,overflowX:e.css('overflowX')}):n.css({height:e.styleMap.height,minHeight:e.styleMap.minHeight,maxHeight:e.styleMap.maxHeight,overflowY:e.css('overflowY')});var r=I(p--);return o=r+('<'+t+'{@'+n.id+'}>\n')+o,d+=r+('</'+t+'>\n'),u===e&&(e.parent=n,l=n),u=n,n}).reverse().forEach(function(n,r){0===r?(n.parent=t,n.render(t),n.excludeProcedure=e.excludeProcedure,n.excludeResource=e.excludeResource,t.children.push(n)):1===r?(n.parent=u,n.render(u),u.children.push(n)):void 0,u=n}),e.excludeResource|=rt.ALL}return e.apply(r),e.render(a?e:l),this.getEnclosingTag(a||t.isSet('dataset','target')||0===e.renderDepth&&!e.documentRoot?-1:e.renderDepth,n,e.id,'{:'+e.id+'}',o,d)}},{key:'renderNode',value:function(e,t,n){var r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],i=e.isSet('dataset','target')&&!e.isSet('dataset','include');'number'==typeof n&&(n=Nt.getNodeName(n)),e.setNodeId(n);var a=e.element;switch(a.tagName){case'IMG':switch((b(e.css('width'))||b(e.css('height')))&&e.android('scaleType','fitXY'),e.css('objectFit')){case'contain':e.android('scaleType','centerInside');break;case'cover':e.android('scaleType','centerCrop');break;case'fill':e.android('scaleType','fitXY');break;case'scale-down':e.android('scaleType','fitCenter');}0<e.viewWidth&&(0<e.paddingLeft||0<e.paddingRight)&&e.css('width',c(e.viewWidth+e.paddingLeft+e.paddingRight)),0<e.viewHeight&&(0<e.paddingTop||0<e.paddingBottom)&&e.css('height',c(e.viewHeight+e.paddingTop+e.paddingBottom)),(e.isSet('styleMap','width')&&!e.isSet('styleMap','height')||!e.isSet('styleMap','width')&&e.isSet('styleMap','height'))&&e.android('adjustViewBounds','true');break;case'TEXTAREA':e.android('minLines','2'),2<a.rows&&e.android('maxLines',a.rows.toString()),0<a.maxLength&&e.android('maxLength',a.maxLength.toString()),e.android('hint',a.placeholder),e.android('scrollbars',pt.VERTICAL),e.android('inputType','textMultiLine'),e.overflowX&&e.android('scrollHorizontally','true');break;case'INPUT':switch(a.type){case'radio':if(!r){var o=t.children.filter(function(e){return'radio'===e.element.type&&e.element.name===a.name}),d='';if(1<o.length){var l=this.createGroup(e,C(o,'linear.left'),t);l.setNodeId(st.RADIO_GROUP),l.render(t);var u='',p=!0,h=!1,g=void 0;try{for(var m=o[Symbol.iterator](),y,x;!(p=(y=m.next()).done);p=!0)x=y.value,x.element.checked&&(u=x.stringId),d+=this.renderNode(x,l,nt.RADIO,!0)}catch(e){h=!0,g=e}finally{try{!p&&m.return&&m.return()}finally{if(h)throw g}}return l.android('orientation',Je.linearX(l.children)?pt.HORIZONTAL:pt.VERTICAL),''!==u&&l.android('checkedButton',u),this.getEnclosingTag(l.renderDepth,st.RADIO_GROUP,l.id,d)}}break;case'password':e.android('inputType','textPassword');break;case'text':e.android('inputType','text');break;case'range':N(a.min)&&e.android('min',a.min),N(a.max)&&e.android('max',a.max),N(a.value)&&e.android('progess',a.value);}}switch(e.nodeName){case st.TEXT:if(0!==e.overflow){var _=[];e.overflowX&&_.push(pt.HORIZONTAL),e.overflowY&&_.push(pt.VERTICAL),e.android('scrollbars',_.join('|'))}break;case st.LINE:0===e.viewHeight&&e.android('layout_height',c((s(e.css('borderWidth'))||1)+1));}return e.cascade().forEach(function(e){return e.hide()}),e.render(i?e:t),f(e.excludeProcedure,it.ACCESSIBILITY)||e.setAccessibility(),this.getEnclosingTag(i||t.isSet('dataset','target')||0===e.renderDepth&&!e.documentRoot?-1:e.renderDepth,e.nodeName,e.id)}},{key:'renderNodeStatic',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:'',a=arguments[5],o=arguments[6];null==a&&(a=new Nt(0,xt.targetAPI));var d=Be(0,t),l='number'==typeof e?Nt.getNodeName(e):e;switch(e=a.hasElement?a.tagName:l,l){case'include':case'merge':case'menu':break;default:a.setNodeId(l);}N(r)&&(!isNaN(parseInt(r))&&(r=me(e,'width',r)),a.android('layout_width',r)),N(i)&&(!isNaN(parseInt(i))&&(i=me(e,'height',i)),a.android('layout_height',i)),a.renderDepth=d,null!=n&&a.apply(_e(n));var s=this.getEnclosingTag(0!==t||a.documentRoot?t:-1,l,a.id,o?'{:'+a.id+'}':'');if(xt.showAttributes&&0===a.id){var u=I(d+1),p=a.combine().map(function(e){return'\n'+(u+e)}).join('');s=s.replace('{@'+a.id+'}',p)}return n.stringId=a.stringId,s}},{key:'renderInclude',value:function(e,t,n){return this.merge[n]='true'===e.dataset.includeMerge,e.documentRoot=!this.merge[n],this.renderNodeStatic('include',t.renderDepth+1,{layout:'@layout/'+n})}},{key:'renderIncludeContent',value:function(e,t){var n=t.join('');if(this.merge[e]){var r=new Nt(0,0);r.documentRoot=!0,n=this.renderNodeStatic('merge',0,{},'','',r,!0).replace('{:0}',n)}return n}},{key:'getIncludeRenderDepth',value:function(e){return this.merge[e]?0:-1}},{key:'createGroup',value:function(e,t,n,r){var i=new Ot(this.cache.nextId,e,n,t,r),a=!0,o=!1,d=void 0;try{for(var l=t[Symbol.iterator](),s,u;!(a=(s=l.next()).done);a=!0)u=s.value,u.parent=i,u.inherit(i,'data')}catch(e){o=!0,d=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw d}}return null!=n&&(n.children=n.children.filter(function(e){return!t.includes(e)}),n.children.push(i)),this.cache.append(i),null==r?i.setBounds():e.hide(),i}},{key:'setAttributes',value:function(e){var t=this,n=e.cache.visible.list.map(function(e){return{pattern:'{@'+e.id+'}',attributes:t.parseAttributes(e)}});[].concat(qe(e.views),qe(e.includes)).forEach(function(e){n.forEach(function(t){return e.content=e.content.replace(t.pattern,t.attributes)}),e.content=e.content.replace('{#0}',t.getRootNamespace(e.content))})}},{key:'insertAttributes',value:function(e,t){return e.replace('{@'+t.id+'}',this.parseAttributes(t))}},{key:'setDimensions',value:function(e){function t(e,t,n,i,a){var o=r[e],d=n;if(5===arguments.length)if(a&&/(px|dp|sp)$/.test(a))d=n+','+i+','+a;else return;null==o[d]&&(o[d]=[]),o[d].push(t)}var n=this,r={},i=function(e){if(e.mergeBoxSpacing(),xt.dimensResourceValue){var n=e.tagName.toLowerCase();null==r[n]&&(r[n]={});var i=!0,a=!1,o=void 0;try{for(var d=Object.keys(at)[Symbol.iterator](),l;!(i=(l=d.next()).done);i=!0){var s=l.value,u=e.boxValue(parseInt(s));if(''!==u[0]&&'0px'!==u[1]){var p=at[s].toLowerCase()+','+u[0]+','+u[1];t(n,e,p)}}}catch(e){a=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(a)throw o}}['android:layout_width:width','android:layout_height:height','android:minWidth:minwidth','android:minHeight:minheight','app:layout_constraintWidth_min:constraintwidth_min','app:layout_constraintHeight_min:constraintheight_min'].forEach(function(r){var i=r.split(':'),a=Ke(i,3),o=a[0],d=a[1],l=a[2];t(n,e,l,d,e[o](d))})}},a=!0,o=!1,d=void 0;try{for(var l=e.cache.visible[Symbol.iterator](),s,u;!(a=(s=l.next()).done);a=!0)u=s.value,i(u)}catch(e){o=!0,d=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw d}}if(xt.dimensResourceValue){var p=Et.STORED.DIMENS;for(var c in r){var h=r[c],g=function(e){var t=e.split(','),r=Ke(t,3),i=r[0],a=r[1],o=r[2],d=n.getDimenResourceKey(p,c+'_'+be(i),o);h[e].forEach(function(e){return e[-1===a.indexOf('constraint')?'android':'app'](a,'@dimen/'+d)}),p.set(d,o)};for(var m in h)g(m)}}}},{key:'parseDimensions',value:function(e){for(var t=Et.STORED.DIMENS,n=/\s+\w+:\w+="({%(\w+),(\w+),(-?\w+)})"/g,r=void 0,i;null!=(r=n.exec(e));)i=this.getDimenResourceKey(t,r[2]+'_'+be(r[3]),r[4]),t.set(i,r[4]),e=e.replace(new RegExp(r[1],'g'),'@dimen/'+i);return e}},{key:'addXmlNs',value:function(e,t){ct[e]=t}},{key:'parseAttributes',value:function(e){if('rtl'===e.dir)switch(e.nodeName){case st.CHECKBOX:case st.RADIO:e.android('layoutDirection','rtl');break;default:0===e.renderChildren.length&&e.android('textDirection','rtl');}for(var t in e.dataset)/^attr[A-Z]+/.test(t)&&function(){var n=d(t.substring(4),!1);e.dataset[t].split(';').forEach(function(t){var r=t.split('::'),i=Ke(r,2),a=i[0],o=i[1];N(a)&&N(o)&&e.add(n,a,o)})}();var n=I(e.renderDepth+1),r=e.combine().map(function(e){return'\n'+(n+e)}).join('');return r}},{key:'getRootNamespace',value:function(e){var t='';for(var n in ct)new RegExp('\\s+'+n+':').test(e)&&(t+='\n\txmlns:'+n+'="'+ct[n]+'"');return t}},{key:'getDimenResourceKey',value:function(e,t,n){return e.has(t)&&e.get(t)!==n&&(t=ce('dimens',t+'_1')),t}},{key:'setAlignParent',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],r=Dt.constraint;[pt.HORIZONTAL,pt.VERTICAL].forEach(function(i,a){e.constraint[i]||''!==t&&i!==t||(e.app(r[0===a?'left':'top'],'parent'),e.app(r[0===a?'right':'bottom'],'parent'),e.constraint[i]=!0,n&&e.app('layout_constraint'+(i.charAt(0).toUpperCase()+i.substring(1))+'_bias',e[i+'Bias']))})}},{key:'partitionChain',value:function(e,t,n,r){var i=Dt.constraint,a=[],o=[],d=[];r===pt.HORIZONTAL?(a.push(i.left,i.right),o.push('linear.top','linear.bottom'),d.push(i.leftRight,i.rightLeft)):r===pt.VERTICAL?(a.push(i.top,i.bottom),o.push('linear.left','linear.right'),d.push(i.topBottom,i.bottomTop)):void 0;var l=o.map(function(l){var u=C(n.list.filter(function(e){return A(t,e,l)}),o[0]);if(1<u.length){if(r===pt.HORIZONTAL&&s(e.css('columnCount'))===u.length){var p=s(e.css('columnGap'));if(0<p)for(var h=1;h<u.length;h++)u[h].android('layout_'+be('marginLeft'),c(u[h].marginLeft+p));return u}if(!u.some(function(e){return e.floating})&&'parent'===u[0].app(a[0])&&'parent'===u[u.length-1].app(a[1]))return u;var g=function(){var e=new Set([t]),n=void 0;do n=!1,Array.from(e).some(function(t){return u.some(function(r){return e.has(r)||r.app(d[0])!==t.stringId&&r.app(d[1])!==t.stringId||(e.add(r),n=!0),n})});while(n);return{v:Array.from(e)}}();if('object'===('undefined'==typeof g?'undefined':Me(g)))return g.v}return[]}).reduce(function(e,t){return e.length>=t.length?e:t});return l}},{key:'addGuideline',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',r=this,i=arguments[3],a=arguments[4],o=Dt.constraint;e.pageflow&&(null==a&&(a='right'===e.float||null==e.left&&null!=e.right||e.is(nt.TEXT)&&'right'===e.css('textAlign')||'parent'===e.app(Dt.constraint.right)),null==i&&!0===a&&(i=!0)),null!=e.dataset.constraintPercent&&(i='true'===e.dataset.constraintPercent);var l='layout_constraintGuide_'+(i?'percent':'begin');[pt.HORIZONTAL,pt.VERTICAL].forEach(function(s,u){if(!e.constraint[s]&&(''===n||s===n)){var p='',h='',g='',m='';0===u?(p=a?'right':'left',h=a?'left':'right',g=a?'rightLeft':'leftRight',m=a?'leftRight':'rightLeft'):1===u?(p=a?'bottom':'top',h=a?'top':'bottom',g=a?'bottomTop':'topBottom',m=a?'topBottom':'bottomTop'):void 0;var f=e.bounds,y=e.previousSibling;if(0===u&&!a&&null!=y&&'left'===y.float&&!['left','both'].includes(y.css('clear'))&&!['left','both'].includes(e.css('clear'))&&e.linear.left<y.linear.right){var b=e.firstChild;b&&b.linear.left>=y.linear.right&&(f=b.bounds)}var x=i?ke(f[p]-(t.documentBody?0:t.box[p]))/t.box[0===u?'width':'height']:0,T=!1;if(i||(T=t.renderChildren.some(function(t){if(t.constraint[s]&&!t.constraint['chain'+d(s)]){if(w(e.linear[p],t.linear[h]))return e.anchor(o[g],t.stringId,s,!0),!0;if(w(e.linear[h],t.linear[p]))return e.anchor(o[m],t.stringId,s,!0),!0;if(w(e.linear[p],t.linear[p]))return e.anchor(o[p],t.stringId,s,!0),!0;if(w(e.linear[h],t.linear[h]))return e.anchor(o[h],t.stringId,s,!0),!0}return!1})),!T){var v=t.constraint.guideline,I={android:{orientation:0===u?pt.VERTICAL:pt.HORIZONTAL},app:Ve({},l,i?parseFloat(ke(x-(a?1:0)).toFixed(xt.constraintPercentAccuracy)):me(e.tagName,'constraintguide_begin',c(a?e.bounds[p]-t.box[h]:f[p]-(t.documentBody?0:t.box[p]))))},R=_(v,s+'.'+l+'.'+p,'object');if(null!=R)for(var E in R)if(I.app[l]===R[E]){e.anchor(o[p],E,s,!0),e.delete('app',o[h]),T=!0;break}if(!T){var A=r.renderNodeStatic(st.GUIDELINE,e.renderDepth,I,'wrap_content','wrap_content'),L=I.stringId;r.appendAfter(e.id,A),e.anchor(o[p],L,s,!0),e.delete('app',o[h]),null==v[s]&&(v[s]={}),null==v[s][l]&&(v[s][l]={}),null==v[s][l][p]&&(v[s][l][p]={}),v[s][l][p][L]=I.app[l]}}}})}},{key:'findByStringId',value:function(e){return this.cache.locate('stringId',e)}},{key:'supportInline',get:function(){return yt}},{key:'supportInclude',get:function(){return!0}}]),t}(Rt),Ft=function(){function e(t,n,r){He(this,e),this.directory=t,this.processingTime=n,this.appName='',this.queue=[],this.compression='zip',r&&(this.compression=r)}return We(e,[{key:'addFile',value:function(e,t,n,r){if(''!==n||''!==r){var i=this.queue.findIndex(function(n){return n.pathname===e&&n.filename===t});-1===i?this.queue.push({pathname:e,filename:t,content:n,uri:r}):(this.queue[i].content=n||'',this.queue[i].uri=r||'')}}},{key:'reset',value:function(){this.queue=[]}},{key:'saveToDisk',value:function(e){var t=this;return location.protocol.startsWith('http')?void(e&&0<e.length&&(e.push.apply(e,qe(this.queue)),fetch('/api/savetodisk?directory='+encodeURIComponent(v(this.directory,'/'))+'&appname='+encodeURIComponent(this.appName.trim())+'&filetype='+this.compression.toLocaleLowerCase()+'&processingtime='+this.processingTime.toString().trim(),{method:'POST',body:JSON.stringify(e),headers:new Headers({Accept:'application/json, text/plain, */*',"Content-Type":'application/json'})}).then(function(e){return e.json()}).then(function(e){e&&(null==e.zipname?null!=e.system&&alert(e.application+'\n\n'+e.system):fetch('/api/downloadtobrowser?filename='+encodeURIComponent(e.zipname)).then(function(e){return e.blob()}).then(function(n){return t.downloadToDisk(n,E(e.zipname))}))}).catch(function(e){return alert('ERROR: '+e)}))):void alert('SERVER (required): See README for instructions')}},{key:'downloadToDisk',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',r=new Blob([e],{type:n||'application/octet-stream'});if('undefined'!=typeof window.navigator.msSaveBlob)return void window.navigator.msSaveBlob(r,t);var i=window.URL.createObjectURL(r),a=document.createElement('a');a.style.display='none',a.href=i,a.setAttribute('download',t),'undefined'==typeof a.download&&a.setAttribute('target','_blank'),document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(function(){return window.URL.revokeObjectURL(i)},100)}}]),e}(),Gt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<string name="{name}">{value}</string>','!1','</resources>','<!-- filename: res/values/strings.xml -->','!0'].join('\n'),Ht=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<string-array name="{name}">','!2','\t\t<item>{value}</item>','!2','\t</string-array>','!1','</resources>','<!-- filename: res/values/string_arrays.xml -->','!0'].join('\n'),Wt=['!0','<?xml version="1.0" encoding="utf-8"?>','<font-family xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="{#app=http://schemas.android.com/apk/res-auto}">','!1','\t<font android:fontStyle="{style}" android:fontWeight="{weight}" android:font="{font}" app:fontStyle="{#app=style}" app:fontWeight="{#app=weight}" app:font="{#app=font}" />','!1','</font-family>','<!-- filename: res/font/{name}.xml -->','!0'].join('\n'),Vt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<color name="{value}">{name}</color>','!1','</resources>','<!-- filename: res/values/colors.xml -->','!0'].join('\n'),Xt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<style name="{name1}" parent="{@parent}">','!2','\t\t<item name="{name2}">{value}</item>','!2','\t</style>','!1','</resources>','<!-- filename: res/values/styles.xml -->','!0'].join('\n'),zt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<dimen name="{name}">{value}</dimen>','!1','</resources>','<!-- filename: res/values/dimens.xml -->','!0'].join('\n'),Ut=['!0','{value}','<!-- filename: {name} -->','!0'].join('\n'),Yt=function(t){function n(){return He(this,n),Ye(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,xt.outputDirectory,xt.outputMaxProcessingTime,xt.outputArchiveFileType))}return Ue(n,t),We(n,[{key:'saveAllToDisk',value:function(e){for(var t=[],n=[].concat(qe(e.views),qe(e.includes)),r=0,a;r<n.length;r++)a=n[r],t.push(this.getLayoutFile(a.pathname,0===r?xt.outputActivityMainFileName:a.filename+'.xml',a.content));var o=this.resourceDrawableToXml();t.push.apply(t,qe(this.parseFileDetails(this.resourceStringToXml()))),t.push.apply(t,qe(this.parseFileDetails(this.resourceStringArrayToXml()))),t.push.apply(t,qe(this.parseFileDetails(this.resourceFontToXml()))),t.push.apply(t,qe(this.parseFileDetails(this.resourceColorToXml()))),t.push.apply(t,qe(this.parseFileDetails(this.resourceStyleToXml()))),t.push.apply(t,qe(this.parseFileDetails(this.resourceDimenToXml()))),t.push.apply(t,qe(this.parseImageDetails(o)).concat(qe(this.parseFileDetails(o)))),this.saveToDisk(t)}},{key:'layoutAllToXml',value:function(e){for(var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n={},r=[],a=[].concat(qe(e.views),qe(e.includes)),o=0,d;o<a.length;o++)d=a[o],n[d.filename]=d.content,t&&r.push(this.getLayoutFile(d.pathname,0===o?xt.outputActivityMainFileName:d.filename+'.xml',d.content));return t&&this.saveToDisk(r),n}},{key:'resourceAllToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml()};for(var n in t)''===t[n]&&delete t[n];if(e){var r=[];for(var i in t)'drawable'==i&&r.push.apply(r,qe(this.parseImageDetails(t[i]))),r.push.apply(r,qe(this.parseFileDetails(t[i])));this.saveToDisk(r)}return t}},{key:'resourceStringToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.STRINGS=new Map([].concat(qe(this.stored.STRINGS.entries())).sort(k));var t='';if(0<this.stored.STRINGS.size){var n=H(Gt),r={0:[{1:[]}]},i=G(r,'0');''===this.appName||this.stored.STRINGS.has('app_name')||i[1].push({name:'app_name',value:this.appName});var a=!0,o=!1,d=void 0;try{for(var l=this.stored.STRINGS.entries()[Symbol.iterator](),s;!(a=(s=l.next()).done);a=!0){var u=s.value,p=Ke(u,2),c=p[0],h=p[1];i[1].push({name:c,value:h})}}catch(e){o=!0,d=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw d}}t=W(n,r),t=M(t,xt.insertSpaces,!0),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceStringArrayToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.ARRAYS=new Map([].concat(qe(this.stored.ARRAYS.entries())).sort());var t='';if(0<this.stored.ARRAYS.size){var n=H(Ht),r={0:[{1:[]}]},i=G(r,'0'),a=!0,o=!1,d=void 0;try{for(var l=this.stored.ARRAYS.entries()[Symbol.iterator](),s;!(a=(s=l.next()).done);a=!0){var u=s.value,p=Ke(u,2),c=p[0],h=p[1],g={name:c,2:[]},m=g[2],f=!0,y=!1,b=void 0;try{for(var x=h[Symbol.iterator](),_,T;!(f=(_=x.next()).done);f=!0)T=_.value,m.push({value:T})}catch(e){y=!0,b=e}finally{try{!f&&x.return&&x.return()}finally{if(y)throw b}}i[1].push(g)}}catch(e){o=!0,d=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw d}}t=W(n,r),t=M(t,xt.insertSpaces,!0),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceFontToXml',value:function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.FONTS=new Map([].concat(qe(this.stored.FONTS.entries())).sort());var n='';if(0<this.stored.FONTS.size){var r=H(Wt),i=!0,a=!1,o=void 0;try{for(var d=this.stored.FONTS.entries()[Symbol.iterator](),l;!(i=(l=d.next()).done);i=!0){var s=l.value,u=Ke(s,2),p=u[0],c=u[1],h={"#include":{},"#exclude":{},0:[{name:p,1:[]}]};h[xt.targetAPI<e.build.OREO?'#include':'#exclude'].app=!0;var g=G(h,'0');for(var m in c){var f=m.split('-'),y=Ke(f,2),b=y[0],x=y[1];g[1].push({style:b,weight:x,font:'@font/'+(p+('normal'===b&&'400'===x?'_'+b:('normal'===b?'':'_'+b)+('400'===x?'':'_'+(ft[x]||x))))})}n+='\n\n'+W(r,h)}}catch(e){a=!0,o=e}finally{try{!i&&d.return&&d.return()}finally{if(a)throw o}}n=M(n,xt.insertSpaces),t&&this.saveToDisk(this.parseFileDetails(n))}return n.trim()}},{key:'resourceColorToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.COLORS.size){this.stored.COLORS=new Map([].concat(qe(this.stored.COLORS.entries())).sort());var n=H(Vt),r={0:[{1:[]}]},i=G(r,'0'),a=!0,o=!1,d=void 0;try{for(var l=this.stored.COLORS.entries()[Symbol.iterator](),s;!(a=(s=l.next()).done);a=!0){var u=s.value,p=Ke(u,2),c=p[0],h=p[1];i[1].push({name:c,value:h})}}catch(e){o=!0,d=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw d}}t=W(n,r),t=M(t,xt.insertSpaces),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceStyleToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.STYLES.size){this.stored.STYLES=new Map([].concat(qe(this.stored.STYLES.entries())).sort(k));var n=H(Xt),r={0:[{1:[]}]},i=G(r,'0'),a=function(e,t){var n={name1:e,parent:t.parent||'',2:[]};t.attributes.split(';').sort().forEach(function(e){var t=e.split('='),r=Ke(t,2),i=r[0],a=r[1];n[2].push({name2:i,value:a.replace(/"/g,'')})}),i[1].push(n)},o=!0,d=!1,l=void 0;try{for(var s=this.stored.STYLES.entries()[Symbol.iterator](),u;!(o=(u=s.next()).done);o=!0){var p=u.value,c=Ke(p,2),h=c[0],g=c[1];a(h,g)}}catch(e){d=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(d)throw l}}t=W(n,r),t=fe(t,!0),t=M(t,xt.insertSpaces),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceDimenToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.DIMENS=new Map([].concat(qe(this.stored.DIMENS.entries())).sort());var t='';if(0<this.stored.DIMENS.size){var n=H(zt),r={0:[{1:[]}]},i=G(r,'0'),a=!0,o=!1,d=void 0;try{for(var l=this.stored.DIMENS.entries()[Symbol.iterator](),s;!(a=(s=l.next()).done);a=!0){var u=s.value,p=Ke(u,2),c=p[0],h=p[1];i[1].push({name:c,value:h})}}catch(e){o=!0,d=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw d}}t=W(n,r),t=fe(t),t=M(t,xt.insertSpaces),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceDrawableToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.DRAWABLES.size||0<this.stored.IMAGES.size){var n=H(Ut),r={0:[]},i=r[0],a=!0,o=!1,d=void 0;try{for(var l=this.stored.DRAWABLES.entries()[Symbol.iterator](),s;!(a=(s=l.next()).done);a=!0){var u=s.value,p=Ke(u,2),c=p[0],h=p[1];i.push({name:'res/drawable/'+c+'.xml',value:h})}}catch(e){o=!0,d=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw d}}var g=!0,m=!1,f=void 0;try{for(var y=this.stored.IMAGES.entries()[Symbol.iterator](),b;!(g=(b=y.next()).done);g=!0){var x=b.value,_=Ke(x,2),T=_[0],v=_[1];if(1<Object.keys(v).length)for(var I in v)i.push({name:'res/drawable-'+I+'/'+T+'.'+E(v[I],'.'),value:'<!-- image: '+v[I]+' -->'});else null!=v.mdpi&&i.push({name:'res/drawable/'+T+'.'+E(v.mdpi,'.'),value:'<!-- image: '+v.mdpi+' -->'})}}catch(e){m=!0,f=e}finally{try{!g&&y.return&&y.return()}finally{if(m)throw f}}t=W(n,r),t=fe(t),t=M(t,xt.insertSpaces),e&&this.saveToDisk([].concat(qe(this.parseImageDetails(t)),qe(this.parseFileDetails(t))))}return t}},{key:'parseImageDetails',value:function(e){for(var t=[],n=/<!-- image: (.+) -->\n<!-- filename: (.+)\/(.*?\.\w+) -->/,r=null;null!=(r=n.exec(e));)t.push({uri:r[1],pathname:r[2],filename:r[3],content:''}),e=e.replace(r[0],'');return t}},{key:'parseFileDetails',value:function(e){for(var t=[],n=/<\?xml[\w\W]*?(<!-- filename: (.+)\/(.*?\.xml) -->)/,r=null;null!=(r=n.exec(e));)t.push({content:r[0].replace(r[1],'').trim(),pathname:r[2],filename:r[3]}),e=e.replace(r[0],'');return t}},{key:'getLayoutFile',value:function(e,t,n){return{pathname:e,filename:t,content:n}}}]),n}(Ft),jt=function(e){function t(e,n,r){He(this,t);var i=Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i.require(vt.EXTERNAL,!0),i}return Ue(t,e),We(t,[{key:'processNode',value:function(){var e=this,t=this.node,n=this.parent,r=this.getData(),i='';return r.tag&&(i=0<t.children.length?this.application.controllerHandler.renderGroup(t,n,r.tag):this.application.controllerHandler.renderNode(t,n,r.tag),t.nodeType=dt.includes(t.element.tagName)?nt.BLOCK:nt.INLINE),r.tagChild&&t.each(function(t){t.element.dataset.ext=e.name,t.element.dataset.andromeCustomTag=r.tagChild}),{xml:i}}}]),t}(Tt),Zt=function(e){function t(e,n,r){return He(this,t),Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return Ue(t,e),We(t,[{key:'afterInsert',value:function(){var e=this.node,t=Object.assign({},this.options[e.element.id]);e.apply(_e(t))}}]),t}(jt),Kt=function(e){function t(e,n,r){return He(this,t),Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return Ue(t,e),We(t,[{key:'condition',value:function(){return ze(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'condition',this).call(this)&&this.node.children.some(function(e){return'list-item'===e.display&&'none'!==e.css('listStyleType')})&&(Je.linearX(this.node.children)||Je.linearY(this.node.children))}},{key:'processNode',value:function(){var e=this.node,t=this.parent,n='';n=Je.linearY(e.children)?this.application.writeGridLayout(e,t,2):this.application.writeLinearLayout(e,t,Je.linearY(e.children));for(var r=0,a=0;r<e.children.length;r++){var o=e.children[r],d='0';if('list-item'===o.display){var l=o.css('listStyleType');d='disc'===l?'\u25CF':'square'===l?'\u25A0':'lower-alpha'===l||'lower-latin'===l?h(a).toLowerCase()+'.':'upper-alpha'===l||'upper-latin'===l?h(a)+'.':'lower-roman'===l?g(a+1).toLowerCase()+'.':'upper-roman'===l?g(a+1)+'.':'OL'===e.element.tagName?('decimal-leading-zero'===l&&9>a?'0':'')+(a+1).toString()+'.':'\u25CB',a++}o.data(vt.LIST+':listStyle',d)}return{xml:n}}}]),t}(Tt),qt=function(e){function t(e,n,r){return He(this,t),Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return Ue(t,e),We(t,[{key:'processChild',value:function(){var e=this.node,t=this.parent,n=this.application.controllerHandler,r=e.data(vt.LIST+':listStyle');if(null!=r){var i;n.prependBefore(e.id,n.renderNodeStatic('0'===r?nt.SPACE:nt.TEXT,t.renderDepth+1,{android:(i={gravity:be('right'),layout_columnWeight:'0',layout_marginTop:0<e.marginTop?me(e.tagName,be('margin_top'),c(e.marginTop)):null},Ve(i,be('layout_marginRight'),me(e.tagName,be('margin_right'),'8px')),Ve(i,be('layout_marginLeft'),0<e.marginLeft?me(e.tagName,be('margin_left'),c(e.marginLeft)):null),Ve(i,'text','0'===r?'':r),i)},'wrap_content','wrap_content')),e.android('layout_columnWeight','1'),0===e.viewWidth&&e.android('layout_width','wrap_content')}return{xml:''}}},{key:'afterInsert',value:function(){var e=this.node;e.is(nt.GRID)&&e.android('layout_width','match_parent')}}]),t}(Kt),Jt=function(e){function t(e,n,r){return He(this,t),Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return Ue(t,e),We(t,[{key:'condition',value:function(){var e=this.node;return this.included()||!N(e.dataset.ext)&&!e.flex.enabled&&1<e.children.length&&dt.includes(e.children[0].tagName)&&e.children.some(function(e){return 1<e.children.length})&&e.children.every(function(t){return!t.flex.enabled&&e.children[0].element.tagName===t.element.tagName&&Je.linearX(t.children)})}},{key:'processNode',value:function(e){var t=this.node,r=this.parent,i=this.options.balanceColumns,a='',o=[],d={columnEnd:[],columnCount:0,padding:{top:0,right:[],bottom:0,left:[]}};if(i){for(var s=[],u=0,p;u<t.children.length;u++){p=t.children[u].children,s[u]=[];for(var c=0;c<p.length;c++)s[u].push(p[c].bounds.width);o.push(p)}var h=o[s.findIndex(function(e){return e===s.reduce(function(e,t){return e.length===t.length?e.reduce(function(e,t){return e+t},0)<t.reduce(function(e,t){return e+t},0)?e:t:e.length<t.length?e:t})})];if(1<h.length)for(var g=-1,f=[],y=!1,b=function(e){var t=h[e].bounds,n=[];if(e<h.length-1)for(var r=function(r){if(o[r]===h)n.push(e);else{var i=o[r].findIndex(function(n,i){return i>=e&&Pe(n.bounds.width)===Pe(t.width)&&i<o[r].length-1});if(-1!==i)n.push(i);else return n.length=0,'break'}},i=0,a;i<o.length&&(a=r(i),'break'!==a);i++);else for(var d=0;d<o.length;d++)if(o[d].length>h.length){var l=o[d].splice(f[d]+(y?2:1),o[d].length-h.length);o[d][f[d]+(y?1:0)].data(vt.GRID+':gridSiblings',[].concat(qe(l)))}if(n.length===o.length){var s=n.reduce(function(e,t){return Ce(e,t)});if(g=n.reduce(function(e,t){return Be(e,t)}),g>s)for(var u=0;u<o.length;u++)if(n[u]>s){var p=o[u].splice(s,n[u]-s);o[u][f[u]+(y?1:0)].data(vt.GRID+':gridSiblings',[].concat(qe(p)))}f=n,y=!0}else f=Array(o.length).fill(e),y=!1},x=0;x<h.length;x++)b(x);else o.length=0}else{var _=e[t.depth+2],T=_?Object.keys(_):[],v=[];if(1<T.length){for(var I=[],R=0,E;R<T.length;R++){E=C(_[parseInt(T[R])].filter(function(e){return e.parent.parent&&e.parent.parent.id===t.id}),'linear.top'),I[R]=0===R?0:I[R-1];for(var A=function(e){function r(){return o[0].findIndex(function(e){return w(e.linear.top,i.linear.top)||i.linear.top>=e.linear.top&&i.linear.bottom<=e.linear.bottom})}var i=E[e],a=[i.linear.left,i.linear.right],d=a[0],l=a[1],s=R;if(0<s&&'right'===i.float){var u=i.element.style;u.cssFloat='left';var p=i.element.getBoundingClientRect();if(d!==p.left-t.marginLeft){d=p.left-t.marginLeft,l=p.right+t.marginRight;for(var c=1;c<I.length&&(s=c,!(d>I[c-1]));c++);}u.cssFloat='right'}if(!(0===s||d>=I[s-1])){var h=o.length-1;if(null!=o[h]){var g=o[h].reduce(function(e,t){return Ce(e,t.linear.left)},Number.MAX_VALUE),m=o[h].reduce(function(e,t){return Be(e,t.linear.right)},0);if(d>g&&l>m){var f=o.filter(function(e){return e}),y=r();-1!==y&&null==f[f.length-1][y]&&(o[h]=null)}}}else if(null==o[s]&&(o[s]=[]),0===s||o[0].length===E.length)o[s][e]=i;else{var b=r();-1!==b&&(o[s][b]=i)}I[R]=Be(i.linear.right,I[R])},L=0;L<E.length;L++)A(L)}for(var S=0,N=-1;S<I.length;S++)if(-1===N&&null==o[S])N=S-1;else if(null==o[S]){-1!=N&&S===I.length-1&&(I[N]=I[S]);continue}else-1!=N&&(I[N]=I[S-1],N=-1);for(var O=0;O<o.length;O++)null!=o[O]&&v.push(I[O]);o=o.filter(function(e){return e});for(var k=o.reduce(function(e,t){return Be(e,t.length)},0),B=0;B<k;B++)for(var D=0;D<o.length;D++)null==o[D][B]&&(o[D][B]={spacer:1})}0<v.length&&(d.columnEnd=v,d.columnEnd[d.columnEnd.length-1]=t.box.right)}if(1<o.length){d.columnCount=i?o[0].length:o.length,a=this.application.writeGridLayout(t,r,d.columnCount);for(var P=0,M=0,F;P<o.length;P++){F=0;for(var G=0,H=0,W;G<o[P].length;G++)if(W=o[P][G],!W.spacer){W.parent.hide(),W.parent=t;var V={inherit:!0,rowSpan:0,columnSpan:0,index:-1,cellFirst:!1,cellLast:!1,rowEnd:!1,rowStart:!1};if(i)V.rowStart=0===G,V.rowEnd=G===o[P].length-1,V.cellFirst=0===P&&0===G,V.cellLast=P===o.length-1&&V.rowEnd,V.index=G;else{for(var X=1,z=1+F,U=P+1;U<o.length&&1===o[U][G].spacer;U++)z++,o[U][G].spacer=2;if(1===z)for(var Y=G+1;Y<o[P].length&&1===o[P][Y].spacer;Y++)X++,o[P][Y].spacer=2;V.rowSpan=X,V.columnSpan=z,V.rowStart=0==H++,V.rowEnd=z+P===o.length,V.cellFirst=0==M++,V.cellLast=V.rowEnd&&G===o[P].length-1,V.index=P,F=0}W.data(vt.GRID+':gridCellData',V)}else 1===W.spacer&&F++}t.data(vt.GRID+':gridData',d),t.render(r)}return{xml:a}}},{key:'processChild',value:function(){var e=this.node,t=this.parent,n=t.data(vt.GRID+':gridData'),r=e.data(vt.GRID+':gridCellData'),i='';if(null!=n&&null!=r){var a;if(this.options.balanceColumns)a=e.data(vt.GRID+':gridSiblings');else{var o=n.columnEnd[Ce(r.index+(r.columnSpan-1),n.columnEnd.length-1)];a=e.documentParent.children.filter(function(t){return!t.rendered&&t.linear.left>=e.linear.right&&t.linear.right<=o})}if(a&&0<a.length){a.unshift(e);var d=this.application.controllerHandler.createGroup(e,a,t),l=[Je.linearX(a),Je.linearY(a)],s=l[0],u=l[1];return s||u?(i=this.application.writeLinearLayout(d,t,s),this.application.sortLayout(d,d.children,!0)):i=this.application.writeConstraintLayout(d,t),{xml:i,parent:d}}}return{xml:i}}}]),t}(Tt),Qt=function(e){function t(e,n,r){return He(this,t),Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return Ue(t,e),We(t,[{key:'processChild',value:function(){var e=this.node,n=e.data(vt.GRID+':gridCellData');return null!=n&&(1<n.rowSpan&&e.android('layout_rowSpan',n.rowSpan.toString()),1<n.columnSpan&&e.android('layout_columnSpan',n.columnSpan.toString())),ze(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'processChild',this).call(this)}},{key:'afterRender',value:function(){var e=this,t=[];this.application.cache.each(function(n){if(n.renderExtension===e)t.push(n);else{var r=n.renderParent;if(r.is(nt.GRID)){var i=r.data(vt.GRID+':gridData'),a=n.data(vt.GRID+':gridCellData');if(null!=i&&null!=a){var o=J(n.documentParent.element,!0);if(a.cellFirst){var d=s(o.paddingTop)+s(o.marginTop);0<d&&(i.padding.top=d)}if(a.rowStart){var l=s(o.marginLeft)+s(o.paddingLeft);0<l&&i.padding.left.push(l)}if(a.rowEnd){var u=s(o.marginBottom)+s(o.paddingBottom)+(a.cellLast?0:s(o.marginTop)+s(o.paddingTop));if(0<u)if(a.cellLast)i.padding.bottom=u;else{var p=e.application.controllerHandler;p.appendAfter(n.id,p.renderNodeStatic(nt.SPACE,n.renderDepth,{android:{layout_columnSpan:i.columnCount}},'match_parent',c(u)))}var h=s(o.marginRight)+s(o.paddingRight);0<h&&i.padding.right.push(h)}}}}});var n=!0,r=!1,i=void 0;try{for(var a=t[Symbol.iterator](),o;!(n=(o=a.next()).done);n=!0){var d=o.value,u=d.data(vt.GRID+':gridData');null!=u&&(0<u.padding.top&&d.modifyBox(at.PADDING_TOP,d.paddingTop+u.padding.top),0<u.padding.right.length&&d.modifyBox(at.PADDING_RIGHT,d.paddingRight+l(u.padding.right)),0<u.padding.bottom&&d.modifyBox(at.PADDING_BOTTOM,d.paddingBottom+u.padding.bottom),0<u.padding.left.length&&d.modifyBox(at.PADDING_LEFT,d.paddingLeft+l(u.padding.left)))}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}}]),t}(Jt),$t=function(e){function t(e,n,r){return He(this,t),Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return Ue(t,e),We(t,[{key:'processNode',value:function(){var e=this.node,t=[],n=e.children.find(function(e){return'THEAD'===e.element.tagName}),r=e.children.find(function(e){return'TBODY'===e.element.tagName}),a=e.children.find(function(e){return'TFOOT'===e.element.tagName});null!=n&&(n.cascade().filter(function(e){return'TH'===e.element.tagName||'TD'===e.element.tagName}).forEach(function(e){return e.inherit(n,'styleMap')}),t.push.apply(t,qe(n.children)),n.hide()),null!=r&&(t.push.apply(t,qe(r.children)),r.hide()),null!=a&&(a.cascade().filter(function(e){return'TH'===e.element.tagName||'TD'===e.element.tagName}).forEach(function(e){return e.inherit(a,'styleMap')}),t.push.apply(t,qe(a.children)),a.hide());for(var o=t.length,d=0,l='collapse'===e.css('borderCollapse')?['0px','0px']:e.css('borderSpacing').split(' '),s=Ke(l,2),u=s[0],p=s[1],c=0,h;c<t.length;c++){h=t[c],h.hide(),d=Be(h.children.map(function(e){return e.element}).reduce(function(e,t){return e+t.colSpan},0),d);for(var g=0;g<h.children.length;g++){var m=h.children[g],f=m.element.style,y=m.element;1<y.rowSpan&&m.data(vt.TABLE+':rowSpan',y.rowSpan),1<y.colSpan&&m.data(vt.TABLE+':columnSpan',y.colSpan),null!=m.styleMap.textAlign||'left'===f.textAlign||'start'===f.textAlign||(m.styleMap.textAlign=f.textAlign),null==m.styleMap.verticalAlign&&''===f.verticalAlign&&(m.styleMap.verticalAlign='middle'),delete m.styleMap.margin,m.styleMap.marginTop=p,m.styleMap.marginRight=u,m.styleMap.marginBottom=p,m.styleMap.marginLeft=u,m.parent=e}}var b=e.children.find(function(e){return'CAPTION'===e.element.tagName});null!=b&&(null==b.styleMap.textAlign&&(b.styleMap.textAlign='center'),b.data(vt.TABLE+':columnSpan',d));var x=this.application.writeGridLayout(e,this.parent,d,o);return{xml:x}}}]),t}(Tt),en=function(e){function t(e,n,r){return He(this,t),Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return Ue(t,e),We(t,[{key:'processChild',value:function(){var e=this.node,t=e.data(vt.TABLE+':rowSpan'),n=e.data(vt.TABLE+':columnSpan');return 1<t&&e.android('layout_rowSpan',t.toString()),1<n&&e.android('layout_columnSpan',n.toString()),{xml:''}}}]),t}($t),tn=function(e){function t(e,n,r){return He(this,t),Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return Ue(t,e),We(t,[{key:'is',value:function(e){return ze(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)&&('INPUT'!==e.element.tagName||['button','file','image','reset','search','submit'].includes(e.element.type))}},{key:'init',value:function(e){if(this.included(e)){var t=K(e).position;V(e,'nodeIsolated','static'!==t&&'initial'!==t)}return!1}},{key:'condition',value:function(){return this.included()}}]),t}(Tt),nn={FAB:'androme.widget.floatingactionbutton',MENU:'androme.widget.menu',COORDINATOR:'androme.widget.coordinator',TOOLBAR:'androme.widget.toolbar',DRAWER:'androme.widget.drawer',BOTTOM_NAVIGATION:'androme.widget.bottomnavigation'},rn={DRAWER:'android.support.v4.widget.DrawerLayout',NAVIGATION_VIEW:'android.support.design.widget.NavigationView',COORDINATOR:'android.support.design.widget.CoordinatorLayout',APPBAR:'android.support.design.widget.AppBarLayout',COLLAPSING_TOOLBAR:'android.support.design.widget.CollapsingToolbarLayout',TOOLBAR:'android.support.v7.widget.Toolbar',FLOATING_ACTION_BUTTON:'android.support.design.widget.FloatingActionButton',BOTTOM_NAVIGATION:'android.support.design.widget.BottomNavigationView'},an={MENU:'menu',ITEM:'item',GROUP:'group'},on={MENU:'ic_menu_',DIALOG:'ic_dialog_'},dn=function(e){function t(e,n,r){return He(this,t),Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return Ue(t,e),We(t,[{key:'processNode',value:function(){var e=this.node,t=this.parent,n=e.element,r=Object.assign({},this.options[n.id]),i=de(e.css('backgroundColor'),e.css('opacity'));ve(r,'android','backgroundTint',0<i.length?'@color/'+Bt.addColor(i[0],i[2]):'?attr/colorAccent'),f(e.excludeProcedure,it.ACCESSIBILITY)&&ve(r,'android','focusable','false');var a='';switch(n.tagName){case'IMG':a=Bt.addImageSrcSet(n,on.DIALOG);break;case'INPUT':a='image'===n.type?Bt.addImage({mdpi:n.src},on.DIALOG):Bt.addImageURL(e.css('backgroundImage'),on.DIALOG);break;case'BUTTON':a=Bt.addImageURL(e.css('backgroundImage'),on.DIALOG);}''!==a&&ve(r,'app','srcCompat','@drawable/'+a);var o=e.isSet('dataset','target'),d=this.application.controllerHandler.renderNodeStatic(rn.FLOATING_ACTION_BUTTON,o?-1:t.renderDepth+1,r,'wrap_content','wrap_content',e);if(e.nodeType=nt.BUTTON,e.excludeResource|=rt.BOX_STYLE|rt.ASSET,!e.isolated)e.render(t);else if(Ie(e),o){var l=t.stringId;if(t.nodeName===rn.TOOLBAR){var s=t.data(nn.TOOLBAR+':outerParent');null!=s&&(l=s)}e.app('layout_anchor',l),e.app('layout_anchorGravity',e.android('layout_gravity')),e.delete('android','layout_gravity'),e.excludeProcedure|=it.ALIGNMENT,e.render(e)}else e.render(t);return{xml:d}}},{key:'afterInsert',value:function(){var e=this.node;e.android('layout_width','wrap_content'),e.android('layout_height','wrap_content')}}]),t}(tn),ln=function(e){function t(e,n,r){He(this,t);var i=Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i.require(vt.EXTERNAL,!0),i}return Ue(t,e),We(t,[{key:'init',value:function(e){if(this.included(e)){var t=!1;if(0<e.children.length){var n=e.children[0].tagName;t=dt.includes(n)&&Array.from(e.children).every(function(e){return e.tagName===n});for(var r=e.parentElement;null!=r;){if('NAV'===r.tagName&&this.application.elements.has(r)){t=!1;break}r=r.parentElement}}t&&(Array.from(e.querySelectorAll('NAV')).forEach(function(t){var n=K(e);'none'===n.display&&(V(t,'andromeExternalDisplay','none'),t.style.display='block')}),this.application.elements.add(e))}return!1}},{key:'afterRender',value:function(){this.included(this.node.element)&&Array.from(this.node.element.querySelectorAll('NAV')).forEach(function(e){var t=X(e,'andromeExternalDisplay');null!=t&&(e.style.display=t)})}}]),t}(Tt),sn={id:/^@\+id\/\w+$/,title:/^.+$/,titleCondensed:/^.+$/,icon:/^@drawable\/.+$/,onClick:/^.+$/,showAsAction:/^(ifRoom|never|withText|always|collapseActionView)$/,actionLayout:/^@layout\/.+$/,actionViewClass:/^.+$/,actionProviderClass:/^.+$/,alphabeticShortcut:/^[a-zA-Z]+$/,alphabeticModifiers:/(META|CTRL|ALT|SHIFT|SYM|FUNCTION)+/g,numericShortcut:/^[0-9]+$/,numericModifiers:/(META|CTRL|ALT|SHIFT|SYM|FUNCTION)+/g,checkable:/^(true|false)$/,visible:/^(true|false)$/,enabled:/^(true|false)$/,menuCategory:/^(container|system|secondary|alternative)$/,orderInCategory:/^[0-9]+$/},un={id:/^@\+id\/\w+$/,checkableBehavior:/^(none|all|single)$/,visible:/^(true|false)$/,enabled:/^(true|false)$/,menuCategory:/^(container|system|secondary|alternative)$/,orderInCategory:/^[0-9]+$/},pn=['showAsAction','actionViewClass','actionProviderClass'],cn=function(e){function t(e,n,r){return He(this,t),Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return Ue(t,e),We(t,[{key:'condition',value:function(){return this.included()}},{key:'processNode',value:function(){var e=this,t=this.node;t.documentRoot=!0;var n=this.application.controllerHandler.renderNodeStatic(an.MENU,0,{},'','',t,!0);return t.rendered=!0,t.cascade().forEach(function(t){return t.renderExtension=e}),t.nodeType=nt.BLOCK,t.excludeResource|=rt.ALL,{xml:n}}},{key:'processChild',value:function(){var e=this,t=this.node,n=this.parent,r=t.element;if('#text'===r.nodeName)return t.hide(),{xml:'',proceed:!0};var i={android:{},app:{}},a=Array.from(t.element.children),o=an.ITEM,d='',l=!1,s=!1;if(a.some(function(e){return dt.includes(e.tagName)&&0<e.children.length})){if(a.some(function(e){return'NAV'===e.tagName}))''===r.title?Array.from(t.element.childNodes).some(function(e){return'#text'===e.nodeName?!!(e.textContent&&''!==e.textContent.trim())&&(d=e.textContent.trim(),!0):'NAV'!==e.tagName&&(d=e.innerText.trim(),!0)}):d=r.title.trim(),t.each(function(e){return'NAV'!==e.element.tagName&&e.hide()});else if('NAV'===t.element.tagName)o=an.MENU,s=!0;else{o=an.GROUP;var u='';t.children.every(function(t){return e.hasInputType(t,'radio')})?u='single':t.children.every(function(t){return e.hasInputType(t,'checkbox')})&&(u='all'),i.android.checkableBehavior=u}l=!0}else null==n.android('checkableBehavior')&&this.hasInputType(t,'checkbox')&&(i.android.checkable='true'),d=(''===r.title?r.innerText:r.title).trim();switch(o){case an.ITEM:if(this.parseDataSet(sn,r,i),null==t.android('icon')){var p=Bt.addImageURL(r.style.backgroundImage,on.MENU);if(''!==p)i.android.icon='@drawable/'+p;else{var c=t.children.find(function(e){return'IMG'===e.element.tagName});null!=c&&(p=Bt.addImageSrcSet(c.element,on.MENU),''!==p&&(i.android.icon='@drawable/'+p))}}break;case an.GROUP:this.parseDataSet(un,r,i);}if(null==t.android('title')&&''!==d){var h=Bt.addString(d);''!==h&&(d='@string/'+h),i.android.title=d}null==i.android.id?t.setNodeId(o):t.nodeName=o;var g=this.application.controllerHandler.renderNodeStatic(o,n.renderDepth+1,i,'','',t,l);return t.rendered=!0,t.excludeResource|=rt.ALL,{xml:g,proceed:s}}},{key:'afterRender',value:function(){if(ze(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'afterRender',this).call(this),this.included(this.node.element)){var e=this.application.current;e.pathname='res/menu'}}},{key:'parseDataSet',value:function(e,t,n){for(var r in t.dataset){var i=t.dataset[r];if(null!=i&&null!=e[r]){var a=i.match(e[r]);if(null!=a){var o=(null==this.options.appCompat||this.options.appCompat)&&pn.includes(r)?'app':'android';n[o][r]=Array.from(new Set(a)).join('|')}}}}},{key:'hasInputType',value:function(e,t){return 0<e.children.length&&e.children.some(function(e){return e.element.type===t})}}]),t}(ln),hn=function(e){function t(e,n,r){return He(this,t),Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return Ue(t,e),We(t,[{key:'processNode',value:function(){var e=this.application.controllerHandler,t=this.node,n=e.renderGroup(t,this.parent,rn.COORDINATOR);if(t.apply(this.options[t.element.id]),t.nodeType=nt.BLOCK,t.excludeResource|=rt.ASSET,0<t.children.filter(function(e){return!e.isolated}).length){var r=this.getToolbar(t);if(null!=r){var i=this.application.findExtension(nn.TOOLBAR);if(null!=i){var a=null==i.options[r.element.id]?null:i.options[r.element.id].collapsingToolbar;null!=a&&t.android('fitsSystemWindows','true')}}}return{xml:n}}},{key:'afterInsert',value:function(){var e=this.node;e.documentRoot&&(e.android('layout_width','match_parent'),e.android('layout_height','match_parent'))}},{key:'getToolbar',value:function(e){var t=Array.from(e.element.children).find(function(e){return x(_(e,'dataset.ext'),nn.TOOLBAR)});return U(t)}}]),t}(Tt),gn=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','\t<style name="{@appTheme}" parent="{@parentTheme}">','!1','\t\t<item name="{name}">{value}</item>','!1','\t</style>','\t<style name="{@appTheme}.NoActionBar">','\t\t<item name="windowActionBar">false</item>','\t\t<item name="windowNoTitle">true</item>','\t</style>','\t<style name="AppTheme.AppBarOverlay" parent="{@appBarOverlay}" />','\t<style name="AppTheme.PopupOverlay" parent="{@popupOverlay}" />','</resources>','!0'].join('\n'),mn=function(e){function t(e,n,r){He(this,t);var i=Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i.require(nn.MENU),i}return Ue(t,e),We(t,[{key:'init',value:function(e){if(this.included(e)){if(Array.from(e.children).forEach(function(e){'NAV'!==e.tagName||x(e.dataset.ext||'',vt.EXTERNAL)||(e.dataset.ext=(N(e.dataset.ext)?e.dataset.ext+', ':'')+vt.EXTERNAL)}),N(e.dataset.target)){var t=document.getElementById(e.dataset.target);null==t||e.parentElement===t||x(_(t,'dataset.ext'),nn.COORDINATOR)||this.application.elements.add(e)}x(_(e,'parentElement.dataset.ext'),nn.COORDINATOR)&&V(e,'nodeIsolated',!0)}return!1}},{key:'processNode',value:function(){var e=this.application,t=e.controllerHandler,n=this.node,r=n.isSet('dataset','target'),i=Object.assign({},this.options[n.element.id]),a=Object.assign({},i.toolbar),o=Object.assign({},i.appBar),d=Object.assign({},i.collapsingToolbar),l=[],s=[],u=null!=Te(n,nn.MENU),p=n.css('backgroundImage'),h=r?0:n.depth,g=n.children.filter(function(e){return!e.isolated}).length;Array.from(n.element.children).forEach(function(e){if('IMG'===e.tagName){if(null!=e.dataset.navigationIcon){var t=Bt.addImageSrcSet(e,on.MENU);''!==t&&(ve(toolbar,'app','navigationIcon','@drawable/'+t),'none'!==K(e).display&&g--)}if(null!=e.dataset.collapseIcon){var n=Bt.addImageSrcSet(e,on.MENU);''!==n&&(ve(toolbar,'app','collapseIcon','@drawable/'+n),'none'!==K(e).display&&g--)}}if(!N(e.dataset.target)){var r=U(e);if(r)switch(e.dataset.targetModule){case'appBar':l.push(r),g--;break;case'collapsingToolbar':s.push(r),g--;}}});var m=null!=i.collapsingToolbar||0<s.length,f=null!=i.appBar||0<l.length||m,y='',b='';m?ve(a,'app','layout_collapseMode','pin'):(ve(f?o:a,'android','fitsSystemWindows','true'),ve(a,'app','popupTheme','@style/ThemeOverlay.AppCompat.Light'),'none'===p?ve(a,'app','layout_scrollFlags','scroll|enterAlways'):(ve(0<l.length?o:a,'android','background','@drawable/'+Bt.addImageURL(p)),n.excludeResource|=rt.IMAGE_SOURCE)),0<l.length?ve(o,'android','layout_height','?android:attr/actionBarSize'):(ve(a,'android','layout_height','?android:attr/actionBarSize'),n.excludeProcedure|=it.LAYOUT),u&&f&&(null!=a.app.popupTheme&&(b=a.app.popupTheme.replace('@style/','')),a.app.popupTheme='@style/AppTheme.PopupOverlay');var x=h+(f?1:0)+(m?1:0),_=t.renderNodeStatic(rn.TOOLBAR,x,a,'match_parent','wrap_content',n,0<g);if(m&&'none'!==p){var T=Object.assign({},i.backgroundImage),v='center';switch(n.css('backgroundSize')){case'cover':case'100% auto':case'auto 100%':v='centerCrop';break;case'contain':case'100% 100%':v='fitXY';break;case'auto':v='matrix';}ve(T,'android','id',n.stringId+'_image'),ve(T,'android','src','@drawable/'+Bt.addImageURL(p)),ve(T,'android','scaleType',v),ve(T,'android','fitsSystemWindows','true'),ve(T,'app','layout_collapseMode','parallax'),_=t.renderNodeStatic(st.IMAGE,x,T,'match_parent','match_parent')+_,n.excludeResource|=rt.IMAGE_SOURCE}var I='',R=null,E=null;return f&&(ve(o,'android','id',n.stringId+'_appbar'),ve(o,'android','layout_height',0<n.viewHeight?me('appbar','height',c(n.viewHeight)):'wrap_content'),m&&ve(o,'android','fitsSystemWindows','true'),u?(null!=o.android.theme&&(y=o.android.theme),o.android.theme='@style/AppTheme.AppBarOverlay',this.createResourceTheme(y,b)):ve(o,'android','theme','@style/ThemeOverlay.AppCompat.Dark.ActionBar'),R=xe(e.cache.nextId,n,l),R.nodeId=he(o.android.id),R.each(function(e){return e.dataset.target=R.nodeId}),e.cache.append(R),I=t.renderNodeStatic(rn.APPBAR,r?-1:h,o,'match_parent','wrap_content',R,!0),m&&(h++,ve(d,'android','id',n.stringId+'_collapsingtoolbar'),ve(d,'android','fitsSystemWindows','true'),'none'===p&&ve(d,'app','contentScrim','?attr/colorPrimary'),ve(d,'app','layout_scrollFlags','scroll|exitUntilCollapsed'),ve(d,'app','toolbarId',n.stringId),E=xe(e.cache.nextId,n,s),E.each(function(e){return e.dataset.target=E.nodeId}),e.cache.append(E),I=I.replace('{:'+R.id+'}',t.renderNodeStatic(rn.COLLAPSING_TOOLBAR,h,d,'match_parent','match_parent',E,!0)+('{:'+R.id+'}')))),null!=R&&(_=null==E?I.replace('{:'+R.id+'}',_+('{:'+R.id+'}')):I.replace('{:'+E.id+'}',_+('{:'+E.id+'}'))),null==R?null!=E&&(n.parent=E):(null==E?n.parent=R:E.parent=R,n.data(nn.TOOLBAR+':outerParent',R.stringId)),r?n.render(n):(n.render(this.parent),n.renderDepth=x),n.nodeType=nt.BLOCK,n.excludeResource|=rt.FONT_STYLE,{xml:_}}},{key:'processChild',value:function(){var e=this.node;return'IMG'===e.element.tagName&&(null!=e.dataset.navigationIcon||null!=e.dataset.collapseIcon)?(e.hide(),{xml:'',proceed:!0}):{xml:''}}},{key:'beforeInsert',value:function(){var e=this.node,t=_(Te(e,nn.MENU),'dataset.viewName');if(''!==t){var n=Object.assign({},this.options[e.element.id]),r=Object.assign({},n.toolbar);ve(r,'app','menu','@menu/'+t),e.app('menu',r.app.menu)}}},{key:'createResourceTheme',value:function(e,t){var n=Object.assign({},this.options.resource);ve(n,'','appTheme','AppTheme'),ve(n,'','parentTheme','Theme.AppCompat.Light.DarkActionBar');var r={0:[{appTheme:n.appTheme,parentTheme:n.parentTheme,appBarOverlay:e||'ThemeOverlay.AppCompat.Dark.ActionBar',popupOverlay:t||'ThemeOverlay.AppCompat.Light',1:[]}]};ve(n,'output','path','res/values'),ve(n,'output','file',nn.TOOLBAR+'.xml'),this.application.resourceHandler.addTheme(gn,r,n)}}]),t}(Tt),fn=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','\t<style name="{@appTheme}" parent="{@parentTheme}">','!1','\t\t<item name="{name}">{value}</item>','!1','\t</style>','</resources>','!0'].join('\n'),yn=function(e){function t(e,n,r){He(this,t);var i=Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i.require(nn.MENU),i}return Ue(t,e),We(t,[{key:'processNode',value:function(){var e=this,t=this.node,n=this.parent,r=Object.assign({},this.options[t.element.id]);ve(r,'android','background','?android:attr/windowBackground');for(var a=this.application.controllerHandler.renderNodeStatic(rn.BOTTOM_NAVIGATION,t.depth,r,n.is(nt.CONSTRAINT)?'0px':'match_parent','wrap_content',t),o=5;o<t.children.length;o++)t.children[o].hide(),t.children[o].cascade().forEach(function(e){return e.hide()});return t.cascade().forEach(function(t){return t.renderExtension=e}),t.render(n),t.nodeType=nt.BLOCK,t.excludeResource|=rt.ASSET,this.createResourceTheme(),{xml:a}}},{key:'beforeInsert',value:function(){var e=this.node,t=_(Te(e,nn.MENU),'dataset.viewName');if(''!==t){var n=Object.assign({},this.options[e.element.id]);ve(n,'app','menu','@menu/'+t),e.app('menu',n.app.menu)}}},{key:'afterInsert',value:function(){var e=this.node;0===e.renderParent.viewHeight&&e.renderParent.android('layout_height','match_parent')}},{key:'createResourceTheme',value:function(){var e=Object.assign({},this.options.resource);ve(e,'','appTheme','AppTheme'),ve(e,'','parentTheme','Theme.AppCompat.Light.DarkActionBar');var t={0:[{appTheme:e.appTheme,parentTheme:e.parentTheme,1:[]}]};ve(e,'output','path','res/values'),ve(e,'output','file',nn.BOTTOM_NAVIGATION+'.xml'),this.application.resourceHandler.addTheme(fn,t,e)}}]),t}(Tt),bn=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','\t<style name="{@appTheme}" parent="{@parentTheme}">','\t\t<item name="android:windowDrawsSystemBarBackgrounds">true</item>','\t\t<item name="android:statusBarColor">@android:color/transparent</item>','\t\t<item name="android:windowTranslucentStatus">true</item>','!1','\t\t<item name="{name}">{value}</item>','!1','\t</style>','</resources>','!0'].join('\n'),xn=function(e){function t(e,n,r){He(this,t);var i=Ye(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r));return i.documentRoot=!0,i.require(vt.EXTERNAL,!0),i.require(nn.MENU),i.require(nn.COORDINATOR),i}return Ue(t,e),We(t,[{key:'init',value:function(e){return!!(this.included(e)&&0<e.children.length)&&(Array.from(e.children).forEach(function(e){'NAV'!==e.tagName||x(e.dataset.ext||'',vt.EXTERNAL)||(e.dataset.ext=(N(e.dataset.ext)?e.dataset.ext+', ':'')+vt.EXTERNAL)}),this.application.elements.add(e),!0)}},{key:'processNode',value:function(){var e=this.application,t=e.controllerHandler,n=this.node;n.documentRoot=!0;var r=Object.assign({},this.options.drawer);if(null!=Te(n,nn.MENU))ve(r,'android','fitsSystemWindows','true'),this.createResourceTheme();else{var i=Object.assign({},this.options.navigation);ve(i,'android','layout_gravity',be('left'));var a=n.children[n.children.length-1];a.android('layout_gravity',i.android.layout_gravity),a.android('layout_height','match_parent'),a.isolated=!0}var o=t.renderNodeStatic(rn.DRAWER,n.depth,r,'match_parent','match_parent',n,!0);return n.rendered=!0,n.nodeType=nt.BLOCK,n.excludeResource|=rt.FONT_STYLE,{xml:o}}},{key:'beforeInsert',value:function(){var e=this.application,t=this.node;if(null!=e.insert[t.nodeId]){var n=e.cacheInternal.locate(function(e){return e.isolated&&e.parent===t.parent&&e.nodeName===rn.COORDINATOR});null!=n&&(e.insert[n.nodeId]=e.insert[t.nodeId],delete e.insert[t.nodeId])}var r=_(Te(t,nn.MENU),'dataset.viewName'),i=_(Te(t,vt.EXTERNAL),'dataset.viewName'),a=Object.assign({},this.options.navigation);if(''!==r&&ve(a,'app','menu','@menu/'+r),''!==i&&ve(a,'app','headerLayout','@layout/'+i),''!==r||''!==i){ve(a,'android','id',t.stringId+'_view'),ve(a,'android','fitsSystemWindows','true'),ve(a,'android','layout_gravity',be('left'));var o=e.controllerHandler.renderNodeStatic(rn.NAVIGATION_VIEW,t.depth+1,a,'wrap_content','match_parent');e.addInsertQueue(t.id.toString(),[o])}}},{key:'afterInsert',value:function(){var e=Te(this.node,vt.EXTERNAL);if(null!=e){var t=U(e);t&&0===t.viewHeight&&t.android('layout_height','wrap_content')}}},{key:'createResourceTheme',value:function(){var e=Object.assign({},this.options.resource);ve(e,'','appTheme','AppTheme'),ve(e,'','parentTheme','Theme.AppCompat.Light.NoActionBar');var t={0:[{appTheme:e.appTheme,parentTheme:e.parentTheme,1:[]}]};ve(e,'output','path','res/values-v21'),ve(e,'output','file',nn.DRAWER+'.xml'),this.application.resourceHandler.addTheme(bn,t,e)}}]),t}(Tt),_n=!1,Tn=new Set,vn=(Sn={},Ve(Sn,vt.EXTERNAL,new It(vt.EXTERNAL)),Ve(Sn,vt.CUSTOM,new Zt(vt.CUSTOM)),Ve(Sn,vt.LIST,new qt(vt.LIST,['UL','OL','DIV'])),Ve(Sn,vt.TABLE,new en(vt.TABLE,['TABLE'])),Ve(Sn,vt.GRID,new Qt(vt.GRID,['FORM','UL','OL','DL','DIV','TABLE','NAV','SECTION','ASIDE','MAIN','HEADER','FOOTER','P','ARTICLE','FIELDSET','SPAN'])),Ve(Sn,nn.FAB,new dn(nn.FAB,['BUTTON','INPUT','IMG'])),Ve(Sn,nn.MENU,new cn(nn.MENU,['NAV'])),Ve(Sn,nn.COORDINATOR,new hn(nn.COORDINATOR)),Ve(Sn,nn.TOOLBAR,new mn(nn.TOOLBAR)),Ve(Sn,nn.BOTTOM_NAVIGATION,new yn(nn.BOTTOM_NAVIGATION)),Ve(Sn,nn.DRAWER,new xn(nn.DRAWER)),Sn),In=new Mt,Rn=new Yt,En=new Bt(Rn),An=new _t(Nt),Ln,Sn;An.registerController(In),An.registerResource(En),function(){var e=new Set,t=!0,n=!1,r=void 0;try{for(var i=xt.builtInExtensions[Symbol.iterator](),a,o;!(t=(a=i.next()).done);t=!0)for(var d in o=a.value,o=o.toLowerCase().trim(),vn)(o===d||d.startsWith(o+'.'))&&e.add(vn[d])}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}var l=!0,s=!1,u=void 0;try{for(var p=e[Symbol.iterator](),c,h;!(l=(c=p.next()).done);l=!0)h=c.value,An.registerExtension(h)}catch(e){s=!0,u=e}finally{try{!l&&p.return&&p.return()}finally{if(s)throw u}}}(),e.parseDocument=function(){function e(){_n=!1;var e=!0,t=!1,n=void 0;try{for(var r=An.elements[Symbol.iterator](),i,a;!(e=(i=r.next()).done);e=!0){a=i.value,''===An.appName?(''===a.id&&(a.id='untitled'),An.appName=a.id):''===a.id&&(a.id='content_'+An.size);var d=_(a,'dataset.filename').trim().replace(/\.xml$/,'')||a.id;a.dataset.views=(_(a,'dataset.views','number')+1).toString(),a.dataset.viewName=o('1'===a.dataset.views?d:d+'_'+a.dataset.views),An.createNodeCache(a)&&(An.createLayoutXml(),An.setConstraints(),An.setResources(),Tn.add(a))}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}'function'==typeof p&&p.call(An)}if(!An.closed){_n=!1,An.setStyleMap(),An.elements.clear();for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];''===An.appName&&0===n.length&&n.push(document.body);var i=!0,a=!1,d=void 0;try{for(var l=n[Symbol.iterator](),s,u;!(i=(s=l.next()).done);i=!0)u=s.value,'string'==typeof u&&(u=document.getElementById(u)),u instanceof HTMLElement&&An.elements.add(u)}catch(e){a=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw d}}var p=void 0,c=Array.from(An.elements).map(function(e){return Array.from(e.querySelectorAll('IMG'))}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return!e.complete});if(0===c.length)e();else{_n=!0;var h=c.map(function(e){return new Promise(function(t,n){e.onload=t,e.onerror=n})});Promise.all(h).then(function(){return e()}).catch(function(t){var n=null==t.srcElement?'':t.srcElement.src;(!N(n)||confirm('FAIL: '+n))&&e()})}return{then:function(e){_n?p=e:e()}}}},e.registerExtension=Re,e.configureExtension=Ee,e.getExtension=Ae,e.ext=function(e,t){if('object'===('undefined'==typeof e?'undefined':Me(e)))Re(e);else if(null!=t)Ee(e,t);else if(''!==e)return Ae(e)},e.ready=Le,e.close=Se,e.reset=function(){var e=!0,t=!1,n=void 0;try{for(var r=Tn[Symbol.iterator](),i,a;!(e=(i=r.next()).done);e=!0)a=i.value,delete a.dataset.views,delete a.dataset.viewName}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}Tn.clear(),An.reset()},e.saveAllToDisk=Ne,e.writeLayoutAllXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return An.closed||Oe()?An.resourceHandler.file.layoutAllToXml(An.viewData,e):''},e.writeResourceAllXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return An.closed||Oe()?An.resourceHandler.file.resourceAllToXml(e):''},e.writeResourceStringXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return An.closed||Oe()?An.resourceHandler.file.resourceStringToXml(e):''},e.writeResourceArrayXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return An.closed||Oe()?An.resourceHandler.file.resourceStringArrayToXml(e):''},e.writeResourceFontXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return An.closed||Oe()?An.resourceHandler.file.resourceFontToXml(e):''},e.writeResourceColorXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return An.closed||Oe()?An.resourceHandler.file.resourceColorToXml(e):''},e.writeResourceStyleXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return An.closed||Oe()?An.resourceHandler.file.resourceStyleToXml(e):''},e.writeResourceDimenXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return An.closed||Oe()?An.resourceHandler.file.resourceDimenToXml(e):''},e.writeResourceDrawableXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return An.closed||Oe()?An.resourceHandler.file.resourceDrawableToXml(e):''},e.customize=function(e,t,n){if(null!=St[e]){var r=St[e].customizations;null==r[t]&&(r[t]={}),Object.assign(r[t],n)}},e.addXmlNs=function(e,t){An.addXmlNs(e,t)},e.toString=function(){return An.toString()},e.settings=xt,e.Extension=Tt,Object.defineProperty(e,'__esModule',{value:!0})});
