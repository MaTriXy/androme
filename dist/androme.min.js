/* androme 1.8.2 https://github.com/anpham6/androme */(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?t(exports):'function'==typeof define&&define.amd?define(['exports'],t):t(e.androme={})})(this,function(e){'use strict';function t(e){for(var t=arguments.length,n=Array(2<t?t-2:0),a=2;a<t;a++)n[a-2]=arguments[a];var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0;return e.sort(function(e,t){var a=!0,i=!1,o=void 0;try{for(var d=n[Symbol.iterator](),l;!(a=(l=d.next()).done);a=!0){var s=l.value,u=O(e,t,s);if(u&&u[0]!==u[1])return 0===r?u[0]>=u[1]?1:-1:u[0]<=u[1]?1:-1}}catch(e){i=!0,o=e}finally{try{!a&&d.return&&d.return()}finally{if(i)throw o}}return 0})}function n(){Ge={android:['parent']}}function a(e,t){var n=t,a=1,r=t.match(/^(\w+)_([0-9]+)$/);null!=r&&(n=r[1],a=parseInt(r[2])),null==Ge[e]&&(Ge[e]=[]);do if(!Ge[e].includes(t)){Ge[e].push(t);break}else t=n+'_'+a++;while(!0);return t}function r(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(var r=0;r<n.length;r++)e=e.replace('{'+r+'}',n[r]);return e}function o(e){e=e.charAt(0).toLowerCase()+e.substring(1);var t=e.match(/([a-z]{1}[A-Z]{1})/g);if(null!=t){var n=!0,a=!1,r=void 0;try{for(var i=t[Symbol.iterator](),o,d;!(n=(o=i.next()).done);n=!0)d=o.value,e=e.replace(d,d[0]+'_'+d[1].toLowerCase())}catch(e){a=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw r}}}return e}function d(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'-';e=e.replace(new RegExp('^'+t+'+'),'');var n=e.match(new RegExp('('+t+'{1}[a-z]{1})','g'));if(null!=n){var a=!0,r=!1,i=void 0;try{for(var o=n[Symbol.iterator](),d,l;!(a=(d=o.next()).done);a=!0)l=d.value,e=e.replace(l,l[1].toUpperCase())}catch(e){r=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(r)throw i}}}return e}function l(e){var t=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];return e.charAt(0)[t?'toUpperCase':'toLowerCase']()+e.substring(1)[t?'toLowerCase':'toString']()}function s(e){return Ae(e.reduce(function(e,t){return e+t})/e.length)}function u(e){return parseInt(e)||0}function p(e){if(k(e)){b(e)&&(e+='px');var t=e.match(/(pt|em)/);if(e=parseFloat(e),null!=t)switch(t[0]){case'pt':e*=4/3;break;case'em':e*=16;}if(!isNaN(e))return e+'px'}return'0px'}function c(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:160,n=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];return k(e)&&(e=parseFloat(p(e)),!isNaN(e))?(e/=t/160,e=1<=e||0===e?Ae(e):e.toFixed(2),e+(n?'sp':'dp')):'0dp'}function h(e){for(var t='',n;e>=26;){n=Ae(e/26),1<n&&n<=26?(t+='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(n-1),e-=n*26):n>26&&(t+=h(n*26),e-=n*26);var a=e%26;t+='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(a),e-=a+26}return t='ABCDEFGHIJKLMNOPQRSTUVWXYZ'.charAt(e)+t,t}function g(e){for(var t='',n=e.toString().split(''),a=['','C','CC','CCC','CD','D','DC','DCC','DCCC','CM','','X','XX','XXX','XL','L','LX','LXX','LXXX','XC','','I','II','III','IV','V','VI','VII','VIII','IX'],r=3;r--;)t=(a[parseInt(n.pop())+10*r]||'')+t;return'M'.repeat(parseInt(n.join('')))+t}function m(e,t,n){var a=!0,r=!1,i=void 0;try{for(var o=Object.keys(e)[Symbol.iterator](),d;!(a=(d=o.next()).done);a=!0){var l=d.value,s=e[l];if(n===s)return t[l]}}catch(e){r=!0,i=e}finally{try{!a&&o.return&&o.return()}finally{if(r)throw i}}return''}function f(e,t){return(e&t)===t}function y(e){return e=parseFloat(e),(isNaN(e)?0:Ee(e))+'px'}function _(e){return null==e?'':e.replace(/[^\w]/g,'_').trim()}function b(e){return /^[0-9]+\.?[0-9]*$/.test(e.toString().trim())}function x(e){return /^[0-9]+%$/.test(e)}function T(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:',';return e.split(n).map(function(e){return e.trim()}).includes(t)}function v(e,t,n){var a=!1,r=null;if(null!=e){var o=t.split('.');r=e;var d=0;do r=null==r[o[d]]?null:r[o[d]];while(null!=r&&++d<o.length&&'string'!=typeof r&&'number'!=typeof r&&'boolean'!=typeof r);a=null!=r&&d===o.length}return'object'===n?a?r:null:'number'===n?a&&!isNaN(parseInt(r))?parseInt(r):0:'boolean'===n?a&&r:a?r.toString():''}function E(e){if(!/^\w+:\/\//.test(e)){var t=location.pathname.split('/');if(t.pop(),'/'===e.charAt(0))e=location.origin+e;else if(e.startsWith('../')){var n=[],a=0,r;e.split('/').forEach(function(e){'..'===e?a++:n.push(e)}),t=t.slice(0,ve(t.length-a,0)),(r=t).push.apply(r,n),e=location.origin+t.join('/')}else e=location.origin+t.join('/')+'/'+e}return e}function A(e,t){return e.replace(new RegExp('^'+t+'+','g'),'').replace(new RegExp(t+'+$','g'),'')}function R(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'\t';return t.repeat(e)}function I(e){if(k(e)){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=!0,i=!1,o=void 0;try{for(var d=n[Symbol.iterator](),l;!(r=(l=d.next()).done);r=!0){var s=l.value,u=e.indexOf(s);if(-1!==u)return u}}catch(e){i=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw o}}}return-1}function S(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'/';return e.substring(e.lastIndexOf(t)+1)}function L(e,t){for(var n=arguments.length,a=Array(2<n?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];var i=!0,o=!1,d=void 0;try{for(var l=a[Symbol.iterator](),s;!(i=(s=l.next()).done);i=!0){var u=s.value,p=O(e,t,u);if(!p||p[0]!==p[1])return!1}}catch(e){o=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw d}}return!0}function w(e,t){var n=[];if('object'===('undefined'==typeof t?'undefined':Re(t)))for(var a in t){var r=t[a];k(e[r])&&n.push([r,e[r]])}else{var i=function(e){return e===t};if(/^\*.+\*$/.test(t)?i=function(e){return-1!==e.indexOf(t.replace(/\*/g,''))}:/^\*/.test(t)?i=function(e){return e.endsWith(t.replace(/\*/,''))}:/\*$/.test(t)&&(i=function(e){return e.startsWith(t.replace(/\*/,''))}),null!=i)for(var o in e)i(o)&&n.push([o,e[o]])}return n}function O(e,t,n){var a=n.split('.'),r=e,i=t,o=!0,d=!1,l=void 0;try{for(var s=a[Symbol.iterator](),p,c;!(o=(p=s.next()).done);o=!0)if(c=p.value,null!=r[c]&&null!=i[c])r=r[c],i=i[c];else return(null!=r[c]||null!=i[c])&&(null==r[c]?[0,1]:[1,0])}catch(e){d=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(d)throw l}}return isNaN(parseInt(r))&&isNaN(parseInt(i))?[r,i]:[u(r),u(i)]}function N(e,t){return parseFloat(ve(0===e?0:0===t?1:e/(e+t),0).toFixed(2))}function k(e){return'undefined'!=typeof e&&null!==e&&''!==e.toString()}function C(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1;return t>=e-a&&t<=e+a}function D(e,t){return e===t||Ae(e)===Ae(t)||Ee(e)===Ae(t)||Ae(e)===Ee(t)}function B(e,t){return e.toString().toLowerCase()>=t.toString().toLowerCase()?1:-1}function F(e){for(var n=arguments.length,a=Array(1<n?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return t.apply(void 0,[e,0].concat(a))}function P(e){for(var n=arguments.length,a=Array(1<n?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return t.apply(void 0,[e,1].concat(a))}function M(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return e=e.replace(/{[<:@&>]{1}[0-9]+}/g,''),t&&(e=e.replace(/{[0-9]+:.*?}/g,'')),e.trim()}function G(e){return e.split('\n').map(function(e){var t=/^({.*?})(.*)/g.exec(e);return null==t?'>>>>'+e:t[1]+'>>>>'+t[2]}).join('\n')}function H(e,t){return e.replace(/>>>>/g,R(t)).replace(/\s*$/,'')}function V(e){var t=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];return Ke.useUnitDP?e.replace(/("|>)(-)?([0-9]+(?:\.[0-9]+)?px)("|<)/g,function(){return(1>=arguments.length?void 0:arguments[1])+((2>=arguments.length?void 0:arguments[2])||'')+c(3>=arguments.length?void 0:arguments[3],Ke.density,t)+(4>=arguments.length?void 0:arguments[4])}):e}function X(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];return 0<Ke.insertSpaces&&(t?e=e.split('\n').map(function(e){var t=e.match(/^(\t+)(.*)$/);return null==t?e:' '.repeat(Ke.insertSpaces*t[1].length)+t[2]}).join('\n'):e=e.replace(/\t/g,' '.repeat(Ke.insertSpaces))),e}function z(e,t,n){return Ke.dimensResourceValue?'{%'+e.toLowerCase()+'-'+t+'-'+n+'}':n}function W(e){for(var t=e,n=arguments.length,a=Array(1<n?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];var i=!0,o=!1,d=void 0;try{for(var l=a[Symbol.iterator](),s;!(i=(s=l.next()).done);i=!0){var u=s.value,p=u.split('-'),c=Pe(p,2),h=c[0],g=c[1],m=g===void 0?'0':g;t=t[h][m]}}catch(e){o=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw d}}return t}function U(e){var t={},n=null,a=!1,r=0,i=e.length;do{if(a){var o=a[0].replace(new RegExp(a[1],'g'),'');for(var d in t)t[d]=t[d].replace(new RegExp(a[0],'g'),'{%'+a[2]+'}');t[a[2]]=o,i-=a[0].length}if(null==a||0===i){if(e=t[r++],!k(e))break;i=e.length,a=null}if(a||(n=/(!([0-9]+)\n?)[\w\W]*\1/g),null!=n)a=n.exec(e);else break}while(!0);return t}function Y(e,t,n,a,r){var o=null==n?'':e[n];for(var d in null!=t['#include']&&(a=t['#include'],delete t['#include']),null!=t['#exclude']&&(r=t['#exclude'],delete t['#exclude']),t){var i='';if(!1===t[d]){o=o.replace('{%'+d+'}','');continue}else if(Array.isArray(t[d]))for(var l in t[d])i+=Y(e,t[d][l],d,a,r);else i=t[d];k(i)?o=null==n?i.trim():o.replace(new RegExp('{[%@&]*'+d+'}','g'),i):new RegExp('{%'+d+'}').test(o)||!1===i?o=o.replace('{%'+d+'}',''):new RegExp('{&'+d+'}').test(o)&&(o='');for(var s=/\s+[\w:]+="{#(\w+)=(.*?)}"/g,u=void 0;null!=(u=s.exec(o));)if(a&&a[u[1]]){var p='{#'+u[1]+'='+u[2]+'}';o=null==t[u[2]]?o.replace(p,u[2]):o.replace(p,t[u[2]])}else r&&r[u[1]]&&(o=o.replace(u[0],''))}return o.replace(/\s+[\w:]+="{@\w+}"/g,'')}function q(e){var t=document.createRange();t.selectNodeContents(e);var n=t.getClientRects(),a=K(n[n.length-1]);return 1<n.length&&(a.left=Te.apply(null,Array.from(n).map(function(e){return e.left})),a.width=Array.from(n).reduce(function(e,t){return e+t.width},0)),a}function K(e){return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function J(e){var t=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1],n=e;if(t){if(null!=n.__style)return n.__style;if(null!=n.__node&&null!=n.__node.style)return n.__node.style}if('#text'!==e.nodeName){var a=getComputedStyle(e);return n.__style=a,a}return{}}function Z(e,t){if(null!=e.parentElement){var n=J(e);return n&&n[t]===J(e.parentElement)[t]}return!1}function Q(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n={},a=J(e),r=e.__node;return['padding','margin'].forEach(function(e){['Top','Left','Right','Bottom'].forEach(function(i){var o=e+i,d=u(null==r?a[o]:r[o]);(t||0!==d)&&(n[o]=d)})}),n}function $(e){return e&&e.childNodes&&Array.from(e.childNodes).some(function(e){return'#text'===e.nodeName&&''!==v(e,'textContent').trim()})}function ee(e){switch(e.tagName){case'BR':case'OPTION':case'AREA':return!1;}if('function'==typeof e.getBoundingClientRect){var t=e.getBoundingClientRect();if(0!==t.width&&0!==t.height||'none'!==J(e).display&&tt.includes(e.tagName))return!0;for(var n=e.parentElement,a=!0;null!=n;){if('none'===J(n).display){a=!1;break}n=n.parentElement}if(a&&0<e.children.length)return Array.from(e.children).some(function(e){var t=J(e),n=t.float;return'static'!==t.position&&'initial'!==t.position||'left'===n||'right'===n})}return!1}function te(e){var t=se(e);return null==t?null:ne(t.r,t.g,t.b)}function ne(e,t,n){e/=255,t/=255,n/=255;var a=Te(e,t,n),i=ve(e,t,n),o=(i+a)/2,u=o,p=o;if(i===a)o=0,u=0;else{var l=i-a;u=.5<p?l/(2-i-a):l/(i+a);i===e?o=(t-n)/l+(t<n?6:0):i===t?o=(n-e)/l+2:i===n?o=(e-t)/l+4:void 0;o/=6}return{h:360*o,s:100*u,l:100*p}}function ae(e,t){var n=[e.hsl.h,t.hsl.h],a=n[0],r=n[1];if(a===r){var i=[e.hsl.s,t.hsl.s];if(a=i[0],r=i[1],a===r){var o=[e.hsl.l,t.hsl.l];a=o[0],r=o[1]}}return a>=r?1:-1}function re(e){var t=rt.slice(),n=t.findIndex(function(t){return t.hex===e});if(-1!==n)return t[n];var a=te(e);return null==a?'':(t.push({name:'',hsl:a,rgb:{r:-1,g:-1,b:-1},hex:''}),t.sort(ae),n=t.findIndex(function(e){return''===e.name}),t[Te(n+1,t.length-1)])}function ie(e){for(var t in at)if(t.toLowerCase()===e.toLowerCase())return at[t];return''}function oe(e){var t=e.rgb;return'rgb('+t.r+', '+t.g+', '+t.b+')'}function de(e){if(null!=e){var t=ie(e);if(''!==t)return[t.hex,oe(t),'1'];var n=e.match(/rgb(?:a)?\(([0-9]{1,3}), ([0-9]{1,3}), ([0-9]{1,3})(?:, ([0-9]{1,3}))?\)/);if(n&&4<=n.length&&'0'!==n[4])return['#'+le(n[1])+le(n[2])+le(n[3]),n[0],n[4]||'1']}return[]}function le(e){var t=parseInt(e);return isNaN(t)?'00':(t=ve(0,Te(t,255)),'0123456789ABCDEF'.charAt((t-t%16)/16)+'0123456789ABCDEF'.charAt(t%16))}function se(e){return e=e.replace('#','').trim(),3===e.length&&(e=e.charAt(0).repeat(2)+e.charAt(1).repeat(2)+e.charAt(2).repeat(2)),6===e.length?{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4),16)}:{r:-1,g:-1,b:-1}}function ue(e){if(null!=e){e=e.trim();var t=de(e);if(0<t.length&&(e=t[0]),'#'===e.charAt(0))return e}return''}function pe(t){return Ke.supportRTL&&Ke.targetAPI>=e.build.JELLYBEAN_1&&(t=t.replace(/left/g,'start').replace(/right/g,'end'),t=t.replace(/Left/g,'Start').replace(/Right/g,'End')),t}function ce(e){var t=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];return Array.from(e.element.children).find(function(e){return'NAV'===e.tagName&&(!t||T(v(e,'dataset.ext','string'),Vt.MENU))})}function he(e,t){return Array.from(e.element.children).find(function(e){return T(v(e,'dataset.ext','string'),t)})}function ge(e,t,n,a){''===t?null==e[n]&&(e[n]=a):(null==e[t]&&(e[t]={}),null==e[t][n]&&(e[t][n]=a))}function me(e){var t=e.renderParent,n=e.documentParent;e.renderParent=n;var a=e.horizontalBias,r=e.verticalBias,i=[];.5>a?i.push(pe('left')):.5<a?i.push(pe('right')):i.push('center_horizontal'),.5>r?(i.push('top'),e.app('layout_dodgeInsetEdges','top')):.5<r?i.push('bottom'):i.push('center_vertical'),e.android('layout_gravity',2===i.filter(function(e){return-1!==e.indexOf('center')}).length?'center':i.join('|')),0<a&&1>a&&.5!==a&&(.5>a?e.css('marginLeft',p(Ae(e.bounds.left-n.box.left))):e.css('marginRight',p(Ae(n.box.right-e.bounds.right)))),0<r&&1>r&&.5!==r&&(.5>r?e.css('marginTop',p(Ae(e.bounds.top-n.box.top))):e.css('marginBottom',p(Ae(n.box.bottom-e.bounds.bottom)))),e.renderParent=t}function fe(){return!rn&&!pn.closed}function ye(){!rn&&0<pn.size&&pn.finalize()}function _e(){!rn&&0<pn.size&&(!pn.closed&&pn.finalize(),pn.resourceHandler.file.saveAllToDisk(pn.viewData))}function be(){!Ke.autoCloseOnWrite||rn||pn.closed||pn.finalize()}var xe=Number.MAX_VALUE,Te=Math.min,ve=Math.max,Ee=Math.ceil,Ae=Math.floor,Re='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},Ie=function(){var e='function'==typeof Symbol&&Symbol.for&&Symbol.for('react.element')||60103;return function(t,n,a,r){var o=t&&t.defaultProps,d=arguments.length-3;if(n||0==d||(n={}),n&&o)for(var l in o)void 0===n[l]&&(n[l]=o[l]);else n||(n=o||{});if(1==d)n.children=r;else if(1<d){for(var s=Array(d),u=0;u<d;u++)s[u]=arguments[u+3];n.children=s}return{$$typeof:e,type:t,key:void 0===a?null:''+a,ref:null,props:n,_owner:null}}}(),Se=function(){function e(e){this.value=e}function t(t){function n(r,i){try{var o=t[r](i),d=o.value;d instanceof e?Promise.resolve(d.value).then(function(e){n('next',e)},function(e){n('throw',e)}):a(o.done?'return':'normal',o.value)}catch(e){a('throw',e)}}function a(e,t){'return'===e?r.resolve({value:t,done:!0}):'throw'===e?r.reject(t):r.resolve({value:t,done:!1}),r=r.next,r?n(r.key,r.arg):i=null}var r,i;this._invoke=function(e,t){return new Promise(function(a,o){var d={key:e,arg:t,resolve:a,reject:o,next:null};i?i=i.next=d:(r=i=d,n(e,t))})},'function'!=typeof t.return&&(this.return=void 0)}return'function'==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke('next',e)},t.prototype.throw=function(e){return this._invoke('throw',e)},t.prototype.return=function(e){return this._invoke('return',e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),Le=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')},we=function(){function e(e,t){for(var n=0,a;n<t.length;n++)a=t[n],a.enumerable=a.enumerable||!1,a.configurable=!0,'value'in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Oe=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Ne=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var a in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ke=function e(t,n,a){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,a)}if('value'in r)return r.value;var o=r.get;return void 0===o?void 0:o.call(a)},Ce=function(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},De=function(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e},Be='undefined'==typeof global?self:global,Fe=function e(t,n,a,r){var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);null!==o&&e(o,n,a,r)}else if('value'in i&&i.writable)i.value=a;else{var d=i.set;void 0!==d&&d.call(r,a)}return a},Pe=function(){function e(e,t){var n=[],a=!0,r=!1,i=void 0;try{for(var o=e[Symbol.iterator](),d;!(a=(d=o.next()).done)&&(n.push(d.value),!(t&&n.length===t));a=!0);}catch(e){r=!0,i=e}finally{try{!a&&o['return']&&o['return']()}finally{if(r)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),Me=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Ge=void 0;n();var He=function(){function e(t,n){Le(this,e),this.parent=n,this._list=[],Array.isArray(t)&&(this._list=t),this.parent=n}return we(e,[{key:'find',value:function(e){return this._list.find(function(t){return t.id===e})||null}},{key:'reset',value:function(){e.currentId=0,this.clear()}},{key:'clear',value:function(){this._list=[]}},{key:'sortAsc',value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return F.apply(void 0,[this._list].concat(t))}},{key:'sortDesc',value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.apply(void 0,[this._list].concat(t))}},{key:'intersect',value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'linear';return e.intersect(this._list,t)}},{key:'length',get:function(){return this._list.length}},{key:'list',get:function(){return this._list}},{key:'visible',get:function(){return this._list.filter(function(e){return e.visible||e.companion})}},{key:'elements',get:function(){return this._list.filter(function(e){return e.hasElement})}},{key:'first',get:function(){return this._list[0]}},{key:'last',get:function(){return this._list[this._list.length-1]}},{key:'nextId',get:function(){return++e.currentId}},{key:'linearX',get:function(){return e.linearX(this._list)}},{key:'linearY',get:function(){return e.linearY(this._list)}}],[{key:'intersect',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.forEach(function(n){if(e.some(function(e){return e!==n&&n.intersect(e[t])}))return!0}),!1}},{key:'linearX',value:function(t){var n=t.filter(function(e){return!e.isolated});if(0<n.length&&!e.intersect(n)){if(1<n.length){var a=Te.apply(null,n.map(function(e){return e.linear.bottom}));return!n.some(function(e){return e.linear.top>=a})}return!0}return!1}},{key:'linearY',value:function(t){var n=t.filter(function(e){return!e.isolated});if(0<n.length&&!e.intersect(n)){if(1<n.length){var a=Te.apply(null,n.map(function(e){return e.linear.right}));return!n.some(function(e){return e.linear.left>=a})}return!0}return!1}}]),e}();He.currentId=0,function(e){e[e.P=28]='P',e[e.OREO_1=27]='OREO_1',e[e.OREO=26]='OREO',e[e.NOUGAT_1=25]='NOUGAT_1',e[e.NOUGAT=24]='NOUGAT',e[e.MARSHMALLOW=23]='MARSHMALLOW',e[e.LOLLIPOP_1=22]='LOLLIPOP_1',e[e.LOLLIPOP=21]='LOLLIPOP',e[e.KITKAT_1=20]='KITKAT_1',e[e.KITKAT=19]='KITKAT',e[e.JELLYBEAN_2=18]='JELLYBEAN_2',e[e.JELLYBEAN_1=17]='JELLYBEAN_1',e[e.JELLYBEAN=16]='JELLYBEAN',e[e.ICE_CREAM_SANDWICH_1=15]='ICE_CREAM_SANDWICH_1',e[e.ICE_CREAM_SANDWICH=14]='ICE_CREAM_SANDWICH',e[e.ALL=0]='ALL',e[e.LATEST=28]='LATEST'}(e.build||(e.build={})),function(e){e[e.LDPI=120]='LDPI',e[e.MDPI=160]='MDPI',e[e.HDPI=240]='HDPI',e[e.XHDPI=320]='XHDPI',e[e.XXHDPI=480]='XXHDPI',e[e.XXXHDPI=640]='XXXHDPI'}(e.density||(e.density={}));var Ve={FRAME:'FrameLayout',LINEAR:'LinearLayout',CONSTRAINT:'android.support.constraint.ConstraintLayout',RELATIVE:'RelativeLayout',GRID:'GridLayout',SCROLL_VERTICAL:'ScrollView',SCROLL_HORIZONTAL:'HorizontalScrollView',SCROLL_NESTED:'android.support.v4.widget.NestedScrollView',RADIO_GROUP:'RadioGroup',TEXT:'TextView',EDIT:'EditText',IMAGE:'ImageView',SELECT:'Spinner',RANGE:'SeekBar',CHECKBOX:'CheckBox',RADIO:'RadioButton',BUTTON:'Button',LINE:'View',SPACE:'Space',GUIDELINE:'android.support.constraint.Guideline'},Xe={MARGIN:'layout_margin',MARGIN_VERTICAL:'layout_marginVertical',MARGIN_HORIZONTAL:'layout_marginHorizontal',MARGIN_TOP:'layout_marginTop',MARGIN_RIGHT:'layout_marginRight',MARGIN_BOTTOM:'layout_marginBottom',MARGIN_LEFT:'layout_marginLeft',PADDING:'padding',PADDING_VERTICAL:'paddingVertical',PADDING_HORIZONTAL:'paddingHorizontal',PADDING_TOP:'paddingTop',PADDING_RIGHT:'paddingRight',PADDING_BOTTOM:'paddingBottom',PADDING_LEFT:'paddingLeft'},ze=[Ve.EDIT,Ve.SELECT,Ve.CHECKBOX,Ve.RADIO,Ve.BUTTON,Ve.IMAGE],We={android:'http://schemas.android.com/apk/res/android',app:'http://schemas.android.com/apk/res-auto'},Ue={"sans-serif":e.build.ICE_CREAM_SANDWICH,"sans-serif-thin":e.build.JELLYBEAN,"sans-serif-light":e.build.JELLYBEAN,"sans-serif-condensed":e.build.JELLYBEAN,"sans-serif-condensed-light":e.build.JELLYBEAN,"sans-serif-medium":e.build.LOLLIPOP,"sans-serif-black":e.build.LOLLIPOP,"sans-serif-smallcaps":e.build.LOLLIPOP,"serif-monospace":e.build.LOLLIPOP,serif:e.build.LOLLIPOP,casual:e.build.LOLLIPOP,cursive:e.build.LOLLIPOP,monospace:e.build.LOLLIPOP,"sans-serif-condensed-medium":e.build.OREO},Ye={arial:'sans-serif',helvetica:'sans-serif',tahoma:'sans-serif',verdana:'sans-serif',times:'serif',"times new roman":'serif',palatino:'serif',georgia:'serif',baskerville:'serif',goudy:'serif',fantasy:'serif',"itc stone serif":'serif',"sans-serif-monospace":'monospace',monaco:'monospace',courier:'serif-monospace',"courier new":'serif-monospace'},je={"ms shell dlg \\32":'sans-serif',"system-ui":'sans-serif',"-apple-system":'sans-serif'},qe={100:'thin',200:'extra_light',300:'light',400:'normal',500:'medium',600:'semi_bold',700:'bold',800:'extra_bold',900:'black'},Ke={builtInExtensions:['androme.external','androme.custom','androme.list','androme.table','androme.grid','androme.widget'],targetAPI:e.build.OREO,density:e.density.MDPI,useConstraintLayout:!0,useConstraintGuideline:!0,useConstraintChain:!0,useUnitDP:!0,useFontAlias:!0,supportRTL:!0,dimensResourceValue:!0,numberResourceValue:!1,alwaysReevaluateResources:!0,excludeTextColor:['#000000'],excludeBackgroundColor:['#FFFFFF'],collapseUnattributedElements:!1,horizontalPerspective:!0,whitespaceHorizontalOffset:4,whitespaceVerticalOffset:14,chainPackedHorizontalOffset:4,chainPackedVerticalOffset:14,showAttributes:!0,autoCloseOnWrite:!0,insertSpaces:4,outputDirectory:'app/src/main',outputActivityMainFileName:'activity_main.xml',outputArchiveFileType:'zip',outputMaxProcessingTime:30},Je;(function(e){e[e.NONE=0]='NONE',e[e.TEXT=1]='TEXT',e[e.EDIT=2]='EDIT',e[e.IMAGE=3]='IMAGE',e[e.SELECT=4]='SELECT',e[e.RANGE=5]='RANGE',e[e.CHECKBOX=6]='CHECKBOX',e[e.RADIO=7]='RADIO',e[e.BUTTON=8]='BUTTON',e[e.LINE=9]='LINE',e[e.SPACE=10]='SPACE',e[e.FRAME=11]='FRAME',e[e.LINEAR=12]='LINEAR',e[e.CONSTRAINT=13]='CONSTRAINT',e[e.RELATIVE=14]='RELATIVE',e[e.GRID=15]='GRID',e[e.SCROLL_VERTICAL=16]='SCROLL_VERTICAL',e[e.SCROLL_HORIZONTAL=17]='SCROLL_HORIZONTAL',e[e.SCROLL_NESTED=18]='SCROLL_NESTED',e[e.RADIO_GROUP=19]='RADIO_GROUP'})(Je||(Je={}));var Ze;(function(e){e[e.BOX_STYLE=2]='BOX_STYLE',e[e.BOX_SPACING=4]='BOX_SPACING',e[e.FONT_STYLE=8]='FONT_STYLE',e[e.VALUE_STRING=16]='VALUE_STRING',e[e.OPTION_ARRAY=32]='OPTION_ARRAY',e[e.IMAGE_SOURCE=64]='IMAGE_SOURCE',e[e.ASSET=120]='ASSET',e[e.ALL=126]='ALL'})(Ze||(Ze={}));var Qe;(function(e){e[e.LAYOUT=2]='LAYOUT',e[e.ALIGNMENT=4]='ALIGNMENT',e[e.CUSTOMIZATION=16]='CUSTOMIZATION',e[e.ACCESSIBILITY=32]='ACCESSIBILITY',e[e.ALL=54]='ALL'})(Qe||(Qe={}));var $e;(function(e){e[e.MARGIN_TOP=2]='MARGIN_TOP',e[e.MARGIN_RIGHT=4]='MARGIN_RIGHT',e[e.MARGIN_BOTTOM=8]='MARGIN_BOTTOM',e[e.MARGIN_LEFT=16]='MARGIN_LEFT',e[e.PADDING_TOP=32]='PADDING_TOP',e[e.PADDING_RIGHT=64]='PADDING_RIGHT',e[e.PADDING_BOTTOM=128]='PADDING_BOTTOM',e[e.PADDING_LEFT=256]='PADDING_LEFT',e[e.MARGIN=30]='MARGIN',e[e.MARGIN_VERTICAL=10]='MARGIN_VERTICAL',e[e.MARGIN_HORIZONTAL=20]='MARGIN_HORIZONTAL',e[e.PADDING=480]='PADDING',e[e.PADDING_VERTICAL=160]='PADDING_VERTICAL',e[e.PADDING_HORIZONTAL=320]='PADDING_HORIZONTAL'})($e||($e={}));var et={INPUT:Je.NONE,PLAINTEXT:Je.TEXT,HR:Je.LINE,IMG:Je.IMAGE,SELECT:Je.SELECT,RANGE:Je.RANGE,TEXT:Je.EDIT,PASSWORD:Je.EDIT,NUMBER:Je.EDIT,EMAIL:Je.EDIT,SEARCH:Je.EDIT,URL:Je.EDIT,CHECKBOX:Je.CHECKBOX,RADIO:Je.RADIO,BUTTON:Je.BUTTON,SUBMIT:Je.BUTTON,RESET:Je.BUTTON,TEXTAREA:Je.EDIT},tt=['ADDRESS','ARTICLE','ASIDE','BLOCKQUOTE','CANVAS','DD','DIV','DL','DT','FIELDSET','FIGCAPTION','FIGURE','FOOTER','FORM','H1','H2','H3','H4','H5','H6','HEADER','LI','MAIN','NAV','OL','OUTPUT','P','PRE','SECTION','TABLE','TFOOT','UL','VIDEO'],nt=['STRONG','B','EM','CITE','DFN','I','BIG','SMALL','FONT','BLOCKQUOTE','TT','A','U','SUP','SUB','STRIKE','H1','H2','H3','H4','H5','H6','DEL','LABEL','PLAINTEXT'],at={Pink:{hex:'#FFC0CB'},LightPink:{hex:'#FFB6C1'},HotPink:{hex:'#FF69B4'},DeepPink:{hex:'#FF1493'},PaleVioletRed:{hex:'#DB7093'},MediumVioletRed:{hex:'#C71585'},LightSalmon:{hex:'#FFA07A'},Salmon:{hex:'#FA8072'},DarkSalmon:{hex:'#E9967A'},LightCoral:{hex:'#F08080'},IndianRed:{hex:'#CD5C5C'},Crimson:{hex:'#DC143C'},Firebrick:{hex:'#B22222'},DarkRed:{hex:'#8B0000'},Red:{hex:'#FF0000'},OrangeRed:{hex:'#FF4500'},Tomato:{hex:'#FF6347'},Coral:{hex:'#FF7F50'},Orange:{hex:'#FFA500'},DarkOrange:{hex:'#FF8C00'},Yellow:{hex:'#FFFF00'},LightYellow:{hex:'#FFFFE0'},LemonChiffon:{hex:'#FFFACD'},LightGoldenrodYellow:{hex:'#FAFAD2'},PapayaWhip:{hex:'#FFEFD5'},Moccasin:{hex:'#FFE4B5'},PeachPuff:{hex:'#FFDAB9'},PaleGoldenrod:{hex:'#EEE8AA'},Khaki:{hex:'#F0E68C'},DarkKhaki:{hex:'#BDB76B'},Gold:{hex:'#FFD700'},Cornsilk:{hex:'#FFF8DC'},BlanchedAlmond:{hex:'#FFEBCD'},Bisque:{hex:'#FFE4C4'},NavajoWhite:{hex:'#FFDEAD'},Wheat:{hex:'#F5DEB3'},Burlywood:{hex:'#DEB887'},Tan:{hex:'#D2B48C'},RosyBrown:{hex:'#BC8F8F'},SandyBrown:{hex:'#F4A460'},Goldenrod:{hex:'#DAA520'},DarkGoldenrod:{hex:'#B8860B'},Peru:{hex:'#CD853F'},Chocolate:{hex:'#D2691E'},SaddleBrown:{hex:'#8B4513'},Sienna:{hex:'#A0522D'},Brown:{hex:'#A52A2A'},Maroon:{hex:'#800000'},DarkOliveGreen:{hex:'#556B2F'},Olive:{hex:'#808000'},OliveDrab:{hex:'#6B8E23'},YellowGreen:{hex:'#9ACD32'},LimeGreen:{hex:'#32CD32'},Lime:{hex:'#00FF00'},LawnGreen:{hex:'#7CFC00'},Chartreuse:{hex:'#7FFF00'},GreenYellow:{hex:'#ADFF2F'},SpringGreen:{hex:'#00FF7F'},MediumSpringGreen:{hex:'#00FA9A'},LightGreen:{hex:'#90EE90'},PaleGreen:{hex:'#98FB98'},DarkSeaGreen:{hex:'#8FBC8F'},MediumAquamarine:{hex:'#66CDAA'},MediumSeaGreen:{hex:'#3CB371'},SeaGreen:{hex:'#2E8B57'},ForestGreen:{hex:'#228B22'},Green:{hex:'#008000'},DarkGreen:{hex:'#006400'},Aqua:{hex:'#00FFFF'},Cyan:{hex:'#00FFFF'},LightCyan:{hex:'#E0FFFF'},PaleTurquoise:{hex:'#AFEEEE'},Aquamarine:{hex:'#7FFFD4'},Turquoise:{hex:'#40E0D0'},DarkTurquoise:{hex:'#00CED1'},MediumTurquoise:{hex:'#48D1CC'},LightSeaGreen:{hex:'#20B2AA'},CadetBlue:{hex:'#5F9EA0'},DarkCyan:{hex:'#008B8B'},Teal:{hex:'#008080'},LightSteelBlue:{hex:'#B0C4DE'},PowderBlue:{hex:'#B0E0E6'},LightBlue:{hex:'#ADD8E6'},SkyBlue:{hex:'#87CEEB'},LightSkyBlue:{hex:'#87CEFA'},DeepSkyBlue:{hex:'#00BFFF'},DodgerBlue:{hex:'#1E90FF'},Cornflower:{hex:'#6495ED'},SteelBlue:{hex:'#4682B4'},RoyalBlue:{hex:'#4169E1'},Blue:{hex:'#0000FF'},MediumBlue:{hex:'#0000CD'},DarkBlue:{hex:'#00008B'},Navy:{hex:'#000080'},MidnightBlue:{hex:'#191970'},Lavender:{hex:'#E6E6FA'},Thistle:{hex:'#D8BFD8'},Plum:{hex:'#DDA0DD'},Violet:{hex:'#EE82EE'},Orchid:{hex:'#DA70D6'},Fuchsia:{hex:'#FF00FF'},Magenta:{hex:'#FF00FF'},MediumOrchid:{hex:'#BA55D3'},MediumPurple:{hex:'#9370DB'},BlueViolet:{hex:'#8A2BE2'},DarkViolet:{hex:'#9400D3'},DarkOrchid:{hex:'#9932CC'},DarkMagenta:{hex:'#8B008B'},Purple:{hex:'#800080'},RebeccaPurple:{hex:'#663399'},Indigo:{hex:'#4B0082'},DarkSlateBlue:{hex:'#483D8B'},SlateBlue:{hex:'#6A5ACD'},MediumSlateBlue:{hex:'#7B68EE'},White:{hex:'#FFFFFF'},Snow:{hex:'#FFFAFA'},Honeydew:{hex:'#F0FFF0'},MintCream:{hex:'#F5FFFA'},Azure:{hex:'#F0FFFF'},AliceBlue:{hex:'#F0F8FF'},GhostWhite:{hex:'#F8F8FF'},WhiteSmoke:{hex:'#F5F5F5'},Seashell:{hex:'#FFF5EE'},Beige:{hex:'#F5F5DC'},OldLace:{hex:'#FDF5E6'},FloralWhite:{hex:'#FFFAF0'},Ivory:{hex:'#FFFFF0'},AntiqueWhite:{hex:'#FAEBD7'},Linen:{hex:'#FAF0E6'},LavenderBlush:{hex:'#FFF0F5'},MistyRose:{hex:'#FFE4E1'},Gainsboro:{hex:'#DCDCDC'},LightGray:{hex:'#D3D3D3'},Silver:{hex:'#C0C0C0'},DarkGray:{hex:'#A9A9A9'},Gray:{hex:'#808080'},DimGray:{hex:'#696969'},LightSlateGray:{hex:'#778899'},SlateGray:{hex:'#708090'},DarkSlateGray:{hex:'#2F4F4F'},Black:{hex:'#000000'}},rt=[];for(var it in at){var i=at[it];for(var ot in i)i.rgb=se(i[ot]),i.hsl=ne(i.rgb.r,i.rgb.g,i.rgb.b),rt.push({name:it,rgb:i.rgb,hex:i.hex,hsl:i.hsl})}rt.sort(ae);var j=function(){function e(t,n){Le(this,e),this.TypeT=t,this.TypeU=n,this.elements=new Set,this.insert={},this.views=[],this.includes=[],this.currentIndex=-1,this._extensions=[],this._closed=!1,this.cache=new this.TypeU,this.cacheInternal=new this.TypeU}return we(e,[{key:'registerController',value:function(e){e.cache=this.cache,this.controllerHandler=e}},{key:'registerResource',value:function(e){e.cache=this.cache,this.resourceHandler=e}},{key:'registerExtension',value:function(e){var t=this,n=this.findExtension(e.name);null==n?e.dependencies.every(function(e){return null!=t.findExtension(e.name)})&&(e.application=this,this._extensions.push(e)):(Array.isArray(e.tagNames)&&(n.tagNames=e.tagNames),Object.assign(n.options,e.options))}},{key:'finalize',value:function(){var e=this;this.cacheInternal.visible.forEach(function(e){e.companion||(!f(e.excludeProcedure,Qe.LAYOUT)&&e.setLayout(),!f(e.excludeProcedure,Qe.ALIGNMENT)&&e.setAlignment())}),this.controllerHandler.setDimensions(this.viewData),this.insertAuxillaryViews(),this.resourceHandler.finalize(this.viewData),Ke.showAttributes&&this.setAttributes(),this.layouts.forEach(function(t){t.content=M(t.content).replace(/\n\n/g,'\n'),Ke.dimensResourceValue&&(t.content=e.controllerHandler.parseDimensions(t.content)),t.content=V(t.content),t.content=X(t.content)}),this._closed=!0}},{key:'reset',value:function(){n(),this.cacheInternal.list.forEach(function(e){var t=e.element;delete t.__boxSpacing,delete t.__boxStyle,delete t.__fontStyle,delete t.__imageSource,delete t.__optionArray,delete t.__valueString}),this.cache.reset(),this.cacheInternal.reset(),this.resetController(),this.resetResource(),this.appName='',this.views=[],this.includes=[],this.insert={},this.currentIndex=-1,this._closed=!1}},{key:'resetController',value:function(){this.controllerHandler.reset()}},{key:'resetResource',value:function(){this.resourceHandler.reset()}},{key:'setConstraints',value:function(){this.controllerHandler.setConstraints()}},{key:'setMarginPadding',value:function(){this.controllerHandler.setMarginPadding()}},{key:'setResources',value:function(){this.resourceHandler.setFontStyle(),this.resourceHandler.setBoxSpacing(),this.resourceHandler.setBoxStyle(),this.resourceHandler.setValueString(),this.resourceHandler.setOptionArray(),this.resourceHandler.setImageSource()}},{key:'setStyleMap',value:function(){for(var e=this,t=!1,n=0,a;n<document.styleSheets.length;n++){a=document.styleSheets[n];try{for(var r=function(t){var n=a.cssRules[t],r=new Set,i=!0,o=!1,l=void 0;try{for(var s=Array.from(n.style)[Symbol.iterator](),u,p;!(i=(u=s.next()).done);i=!0)p=u.value,r.add(d(p))}catch(e){o=!0,l=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw l}}var c=document.querySelectorAll(n.selectorText);''!==e.appName&&Array.from(c).forEach(function(e){var t=e;delete t.__style,delete t.__styleMap}),Array.from(c).forEach(function(e){var t=!0,a=!1,i=void 0;try{for(var o=Array.from(e.style)[Symbol.iterator](),l,s;!(t=(l=o.next()).done);t=!0)s=l.value,r.add(d(s))}catch(e){a=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw i}}var u=J(e),p={},c=!0,h=!1,g=void 0;try{for(var m=r[Symbol.iterator](),f,y;!(c=(f=m.next()).done);c=!0){if(y=f.value,-1!==y.toLowerCase().indexOf('color')){var _=ie(n.style[y]);''!==_&&(n.style[y]=oe(_))}k(e.style[y])?p[y]=e.style[y]:u[y]===n.style[y]&&(p[y]=u[y])}}catch(e){h=!0,g=e}finally{try{!c&&m.return&&m.return()}finally{if(h)throw g}}var b=e;null==b.__styleMap?(b.__style=u,b.__styleMap=p):Object.assign(b.__styleMap,p)})},o=0;o<a.cssRules.length;o++)r(o)}catch(e){t||(alert('External CSS files cannot be parsed when loading this program from your hard drive with Chrome 64+ (file://). Either use a local web server (http://), embed your CSS files into a <style> tag, or use a different browser. See the README for further instructions.\n\n'+(a.href+'\n\n'+e)),t=!0)}}}},{key:'createNodeCache',value:function(e){var t=this,n=0;e===document.body&&Array.from(document.body.childNodes).forEach(function(e){'#text'===e.nodeName?''!==v(e,'textContent').trim()&&n++:ee(e)&&n++});var a=e===document.body?document.querySelectorAll(1<n?'body, body *':'body *'):e.querySelectorAll('*');this.cache.parent=void 0,this.cache.clear();var r=this.extensions;if(r.forEach(function(t){t.setTarget({},null,e),t.beforeInit()}),null!=e){var i=this.insertNode(e);if(null!=i)i.parent=new this.TypeT(0,0),i.documentRoot=!0,this.cache.parent=i;else return!1}r.forEach(function(e){return e.setTarget(t.cache.parent)});var o=function(n){if(!t.elements.has(n)&&(t.orderExt(r,n).some(function(e){return e.init(n)}),!t.elements.has(n))){if(nt.includes(n.tagName)&&n.parentElement&&(null!=et[n.parentElement.tagName]||nt.includes(n.parentElement.tagName)))return'continue';for(var a=!0,i=n.parentElement;null!=i&&i!==e;){if(i!==e&&t.elements.has(i)){a=!1;break}i=i.parentElement}a&&t.insertNode(n)}},d=!0,l=!1,s=void 0;try{for(var u=Array.from(a)[Symbol.iterator](),p;!(d=(p=u.next()).done);d=!0){var c=p.value,h=o(c)}}catch(e){l=!0,s=e}finally{try{!d&&u.return&&u.return()}finally{if(l)throw s}}if(0<this.cache.list.length){var g={};this.cache.list.forEach(function(e){var t=e.element;g[e.id]={};var n=g[e.id];switch(e.styleMap.textAlign){case'center':case'right':case'end':n.textAlign=e.style.textAlign,t.style.textAlign='';}n.verticalAlign=e.styleMap.verticalAlign||'',t.style.verticalAlign='top',0!==e.overflow&&(k(e.styleMap.width)&&(n.width=e.styleMap.width,t.style.width=''),k(e.styleMap.height)&&(n.height=e.styleMap.height,t.style.height=''),n.overflow=e.style.overflow,t.style.overflow='visible'),e.setBounds()});var m={};return this.cache.list.forEach(function(e){t.cache.list.forEach(function(t){e!==t&&(t.element.parentElement===e.element&&(t.parent=e,e.children.push(t)),t.fixed&&t.box.left>=e.linear.left&&t.box.right<=e.linear.right&&t.box.top>=e.linear.top&&t.box.bottom<=e.linear.bottom&&(null==m[t.id]&&(m[t.id]=[]),m[t.id].push(e)))})}),this.cache.list.forEach(function(e){var n=m[e.id];if(null!=n){n.push(e.parent);var a=xe,r=null;n.forEach(function(t){var n=t.box.left-e.linear.left+(t.box.right-e.linear.right)+(t.box.top-e.linear.top)+(t.box.bottom-e.linear.bottom);n<a?(r=t,a=n):n==a&&t.element===e.parent.element&&(r=t)}),null!=r&&(e.parent=r)}0<e.element.children.length&&!e.children.every(function(e){return nt.includes(e.tagName)})&&Array.from(e.element.childNodes).forEach(function(n){'#text'===n.nodeName&&''!==v(n,'textContent').trim()&&t.insertNode(n,e)})}),this.cache.list.forEach(function(e){if(e.hasElement){var t=g[e.id];if(null!=t)for(var n in t)e.element.style[n]=t[n]}}),r.forEach(function(n){n.setTarget(t.cache.parent,null,e),n.afterInit()}),this.cache.sortAsc('depth','parent.id','parentIndex','id'),this.cache.list.forEach(function(e){if(e.hasElement){var t=0;Array.from(e.element.childNodes).forEach(function(n){null!=n.__node&&n.__node.parent.element===e.element&&(n.__node.parentIndex=t++)}),F(e.children,'parentIndex')}}),this.addLayout(e.dataset.currentId),!0}return!1}},{key:'createLayoutXml',value:function(){var e=this,t='<?xml version="1.0" encoding="utf-8"?>\n{:0}',n=!0,a=[],r=[],o=this.extensions,d;this.cache.list.forEach(function(e){var t=Ae(e.linear.left),n=e.parent.id;null==a[e.depth]&&(a[e.depth]={}),null==r[e.depth]&&(r[e.depth]={}),null==a[e.depth][t]&&(a[e.depth][t]=[]),null==r[e.depth][n]&&(r[e.depth][n]=[]),a[e.depth][t].push(e),r[e.depth][n].push(e)});for(var l=function(d){function i(e,t){''!==t&&(!s.has(e)&&s.set(e,[]),s.get(e).push(t))}for(var l=Object.keys(r[d]),s=new Map,u=0;u<l.length;u++){var p=[],c=[],h=!0,g=!1,m=void 0;try{for(var y=r[d][l[u]][Symbol.iterator](),_,b;!(h=(_=y.next()).done);h=!0)b=_.value,b.pageflow?p.push(b):c.push(b)}catch(e){g=!0,m=e}finally{try{!h&&y.return&&y.return()}finally{if(g)throw m}}p.sort(function(e,t){return e.linear.left===t.linear.left||e.parent.flex.enabled||t.parent.flex.enabled||!e.withinX(t.linear)?e.parentIndex>t.parentIndex?1:-1:e.linear.left>t.linear.left?1:-1}),p.push.apply(p,Me(F(c,'style.zIndex','parentIndex')));for(var x=function(t){var n=p[t];if(!n.documentRoot&&e.elements.has(n.element))return'continue';var d=n.parent;if(!n.renderParent){f(n.excludeProcedure,Qe.CUSTOMIZATION)||n.applyCustomizations();var l=d.renderExtension;if(null!=l){l.setTarget(n,d);var s=l.processChild();if(i(d.id,s.xml),s.parent&&(d=s.parent),s.proceed)return'continue'}var u=[],c=!1;if(e.orderExt(o,n.element).some(function(e){if(e.is(n)&&(e.setTarget(n,d),e.condition())){var t=e.processNode(a,r);if(''!==t.xml&&i(d.id,t.xml),t.parent&&(d=t.parent),(''!==t.xml||t.proceed)&&u.push(e),t.proceed)return c=!0,!0}return!1}),null==n.renderExtension&&0<u.length&&(n.renderExtension=u[0]),c)return'continue';if(!n.renderParent){var h='';if(''!==n.viewName)h+=e.writeView(n,d,n.viewName);else if(0===n.children.length||n.cascade().every(function(e){return nt.includes(e.element.tagName)})){if($(n.element)||!Ke.collapseUnattributedElements&&!tt.includes(n.element.tagName))h+=e.writeView(n,d,Je.TEXT);else{if(Ke.collapseUnattributedElements&&0===n.viewWidth&&0===n.viewHeight)return'continue';n.documentRoot||(h+=e.writeFrameLayout(n,d))}}else if(n.flex.enabled||n.children.some(function(e){return!e.pageflow}))h+=e.writeDefaultLayout(n,d);else if(1!==n.children.length){var g=[He.linearX(n.children),He.linearY(n.children)],m=g[0],y=g[1];h+=e.isLinearXY(m,y,n,n.children)?e.writeLinearLayout(n,d,y):e.writeDefaultLayout(n,d)}else if(Ke.collapseUnattributedElements&&0===n.viewWidth&&0===n.viewHeight&&0===n.marginTop&&0===n.marginRight&&0===n.marginBottom&&0===n.marginLeft&&0===n.paddingTop&&0===n.paddingRight&&0===n.paddingBottom&&0===n.paddingLeft&&0===de(n.css('background')).length&&0===Object.keys(n.styleMap).length&&!e.controllerHandler.hasAppendProcessing(n.id)){var _=n.children[0];_.documentRoot=n.documentRoot,_.parent=d,n.cascade().forEach(function(e){return e.renderDepth--}),n.hide(),p[t]=_,t--}else h+=e.writeFrameLayout(n,d);i(d.id,h)}}T=t},T=0,v;T<p.length;T++)v=x(T),'continue'===v}var E=!0,A=!1,R=void 0;try{for(var I=s.entries()[Symbol.iterator](),S;!(E=(S=I.next()).done);E=!0){var L=S.value,w=Pe(L,2),O=w[0],N=w[1],C='{:'+O+'}';-1===t.indexOf(C)?e.addInsertQueue(O,N):(t=t.replace(C,N.join('')+C),n=!1)}}catch(e){A=!0,R=e}finally{try{!E&&I.return&&I.return()}finally{if(A)throw R}}},s=0;s<r.length;s++)l(s);var u=this.cache.parent,p=u.renderExtension;if(null==p||null==u.data(p.name+':insert')){var c=A(v(u,'element.dataset.pathname').trim(),'/');this.setLayout(c,n?'':t,null!=p&&p.documentRoot)}else this.views.pop();n?null==p&&(u.visible=!1):o.forEach(function(e){e.setTarget(u),e.afterRender()}),(d=this.cacheInternal.list).push.apply(d,Me(this.cache.list))}},{key:'writeFrameLayout',value:function(e,t){return 0===e.children.length?this.controllerHandler.renderView(e,t,Je.FRAME):this.controllerHandler.renderGroup(e,t,Je.FRAME)}},{key:'writeLinearLayout',value:function(e,t,n){return this.controllerHandler.renderGroup(e,t,Je.LINEAR,{android:{orientation:n?'vertical':'horizontal'}})}},{key:'writeGridLayout',value:function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return this.controllerHandler.renderGroup(e,t,Je.GRID,{android:{columnCount:n.toString(),rowCount:0<a?a.toString():''}})}},{key:'writeRelativeLayout',value:function(e,t){return this.controllerHandler.renderGroup(e,t,Je.RELATIVE)}},{key:'writeConstraintLayout',value:function(e,t){return this.controllerHandler.renderGroup(e,t,Je.CONSTRAINT)}},{key:'writeView',value:function(e,t,n){return this.controllerHandler.renderView(e,t,n)}},{key:'writeDefaultLayout',value:function(e,t){return Ke.useConstraintLayout||e.flex.enabled?this.writeConstraintLayout(e,t):this.writeRelativeLayout(e,t)}},{key:'addInsertQueue',value:function(e,t){var n;null==this.insert[e]&&(this.insert[e]=[]),(n=this.insert[e]).push.apply(n,Me(t))}},{key:'insertAuxillaryViews',value:function(){var e=this;this.cacheInternal.list.forEach(function(t){var n=t.renderExtension;if(null!=n){var a=n.name+':insert',r=t.data(a);if(r){r=e.controllerHandler.insertAuxillaryViews(r);var i=e.insert[t.id];null!=i&&(r=r.replace('{:'+t.id+'}',i.join(''))),r=G(r.trim()),t.data(a,r),n.setTarget(t),n.insert()}}});var t={};for(var n in this.insert)t[n]=this.insert[n].join('\n');for(var a in t)for(var r in t)a!==r&&(t[a]=t[a].replace('{:'+r+'}',t[a]),t[r]=t[r].replace('{:'+a+'}',t[a]));this.layouts.forEach(function(n){for(var a in t)n.content=n.content.replace('{:'+a+'}',t[a]);n.content=e.controllerHandler.insertAuxillaryViews(n.content)}),this.cacheInternal.list.forEach(function(e){var t=e.renderExtension;null!=t&&(t.setTarget(e),t.afterInsert())})}},{key:'setAttributes',value:function(){this.controllerHandler.setAttributes(this.viewData),this.cacheInternal.list.forEach(function(e){var t=e.renderExtension;null!=t&&(t.setTarget(e),t.finalize())})}},{key:'addLayout',value:function(e){this.currentIndex=this.views.length,this.views.push({filename:e,pathname:'',content:''})}},{key:'setLayout',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=arguments[1],n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];if(e=e||'res/layout',n&&0<this.views.length&&''===this.views[0].content){var a=this.views[0],r=this.views.pop();a.pathname=e,a.filename=r.filename,a.content=t,this.currentIndex=0}else{var i=this.current;i.pathname=e,i.content=t}}},{key:'isLinearXY',value:function(e,t,n,a){return(e||t)&&(!n.flex.enabled||e&&a.every(function(e){return e.flex.enabled}))&&!a.some(function(e){return e.floating&&'none'!==e.css('clear')})&&(a.every(function(e){return'right'!==e.css('float')})||a.every(function(e){return'right'===e.css('float')}))&&a.every(function(e){return e.pageflow})}},{key:'addInclude',value:function(e,t){this.includes.push({pathname:'res/layout',filename:e,content:t})}},{key:'findExtension',value:function(e){return this._extensions.find(function(t){return t.name===e})}},{key:'addXmlNamespace',value:function(e,t){this.controllerHandler.addXmlNamespace(e,t)}},{key:'findByDomId',value:function(e){return this.cacheInternal.list.find(function(t){return t.element.id===e})}},{key:'toString',value:function(){return 0<this.views.length?this.views[0].content:''}},{key:'insertNode',value:function(e,t){var n=null;return'#text'===e.nodeName?''!==v(e,'textContent','string').trim()&&(n=new this.TypeT(this.cache.nextId,Ke.targetAPI,e),n.tagName='PLAINTEXT',null!=t&&(n.parent=t,n.inheritStyle(t),t.children.push(n)),n.setBounds(!1,e)):ee(e)&&(n=new this.TypeT(this.cache.nextId,Ke.targetAPI,e),e.__nodeIsolated&&(n.isolated=!0),n.setExcludeProcedure(),n.setExcludeResource()),null!=n&&this.cache.list.push(n),n}},{key:'orderExt',value:function(e,t){for(var n=[],a=t;null!=a;)n=[].concat(Me(n),Me(v(a,'dataset.ext').split(',').map(function(e){return e.trim()}))),a=a.parentElement;if(n=n.filter(function(e){return e}),0<n.length){var r=[],i=[];return e.forEach(function(e){var t=n.indexOf(e.name);-1===t?i.push(e):r[t]=e}),[].concat(Me(r.filter(function(e){return e})),i)}return e}},{key:'appName',set:function(e){null!=this.resourceHandler&&(this.resourceHandler.file.appName=e)},get:function(){return null==this.resourceHandler?'':this.resourceHandler.file.appName}},{key:'current',set:function(e){this.views[this.currentIndex]=e},get:function(){return this.views[this.currentIndex]}},{key:'layouts',get:function(){return[].concat(Me(this.views),Me(this.includes))}},{key:'closed',get:function(){return this._closed}},{key:'extensions',get:function(){return this._extensions.filter(function(e){return e.enabled})}},{key:'viewData',get:function(){return{cache:this.cacheInternal.list,views:this.views,includes:this.includes}}},{key:'size',get:function(){return this.views.length+this.includes.length}}]),e}(),dt=function(){function e(t,n,a){Le(this,e),this.name=t,this.options={},this.tagNames=[],this.enabled=!0,this.dependencies=[],this.documentRoot=!1,Array.isArray(n)&&(this.tagNames=n.map(function(e){return e.trim().toUpperCase()})),null!=a&&Object.assign(this.options,a)}return we(e,[{key:'setTarget',value:function(e,t,n){this.node=e,this.parent=t,this.element=null==n&&null!=this.node?this.node.element:n}},{key:'is',value:function(e){return e.hasElement&&(0===this.tagNames.length||this.tagNames.includes(e.element.tagName))}},{key:'require',value:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];this.dependencies.push({name:e,init:t})}},{key:'included',value:function(e){return null==e&&(e=this.element),T(v(e,'dataset.ext'),this.name)}},{key:'beforeInit',value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];!t&&this.included()&&this.dependencies.filter(function(e){return e.init}).forEach(function(t){var n=e.application.findExtension(t.name);null!=n&&(n.setTarget(e.node,e.parent,e.element),n.beforeInit(!0))})}},{key:'init',value:function(){return!1}},{key:'afterInit',value:function(){var e=this,t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];!t&&this.included()&&this.dependencies.filter(function(e){return e.init}).forEach(function(t){var n=e.application.findExtension(t.name);null!=n&&(n.setTarget(e.node,e.parent,e.element),n.afterInit(!0))})}},{key:'condition',value:function(){if(this.node&&this.node.hasElement){var e=v(this.node.element,'dataset.ext');return''===e?0<this.tagNames.length:this.included()}return!1}},{key:'processNode',value:function(){return{xml:''}}},{key:'processChild',value:function(){return{xml:''}}},{key:'afterRender',value:function(){}},{key:'insert',value:function(){}},{key:'afterInsert',value:function(){}},{key:'finalize',value:function(){}},{key:'getData',value:function(){var e=this.element,t={};if(null!=e){var n=d(this.name,'\\.');for(var a in e.dataset)a.length>n.length&&a.startsWith(n)&&(t[l(a.substring(n.length),!1)]=e.dataset[a])}return t}}]),e}(),lt={EXTERNAL:'androme.external',CUSTOM:'androme.custom',GRID:'androme.grid',LIST:'androme.list',TABLE:'androme.table'},st=function(){function e(){Le(this,e),this.before={},this.after={}}return we(e,[{key:'reset',value:function(){this.before={},this.after={}}},{key:'insertAuxillaryViews',value:function(e){for(var t in this.before)e=e.replace('{<'+t+'}',this.before[t].join(''));for(var n in this.after)e=e.replace('{>'+n+'}',this.after[n].join(''));return e}},{key:'prependBefore',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1;null==this.before[e]&&(this.before[e]=[]),-1!==n&&n<this.before[e].length?this.before[e].splice(n,0,t):this.before[e].push(t)}},{key:'appendAfter',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1;null==this.after[e]&&(this.after[e]=[]),-1!==n&&n<this.after[e].length?this.after[e].splice(n,0,t):this.after[e].push(t)}},{key:'hasAppendProcessing',value:function(e){return null!=this.before[e]||null!=this.after[e]}},{key:'getEnclosingTag',value:function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:'',i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:'',o=R(ve(0,e)),d=r+('{<'+n+'}');return d+=k(a)?o+('<'+t+(0===e?'{#0}':'')+'{@'+n+'}{&'+n+'}>\n')+a+o+('</'+t+'>\n'):o+('<'+t+(0===e?'{#0}':'')+'{@'+n+'}{&'+n+'} />\n'),d+='{>'+n+'}'+i,d}}]),e}(),ut=function(){function e(t){Le(this,e),this.file=t}return we(e,[{key:'addFile',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'';this.file.addFile(e,t,n,a)}},{key:'reset',value:function(){e.STORED.STRINGS=new Map,e.STORED.COLORS=new Map,e.STORED.IMAGES=new Map,this.file.reset()}},{key:'setBoxSpacing',value:function(){this.cache.elements.forEach(function(e){if(!f(e.excludeResource,Ze.BOX_SPACING)){var t=e.element,n=t;if(!k(n.__boxSpacing)||Ke.alwaysReevaluateResources){var a=Q(t);for(var r in a)a[r]+='px';n.__boxSpacing=a}}})}},{key:'setBoxStyle',value:function(){var t=this;this.cache.visible.forEach(function(n){if(!f(n.excludeResource,Ze.BOX_STYLE)){var a=n.element,r=a;if(!k(r.__boxStyle)||Ke.alwaysReevaluateResources){var o={borderTop:t.parseBorderStyle,borderRight:t.parseBorderStyle,borderBottom:t.parseBorderStyle,borderLeft:t.parseBorderStyle,borderRadius:t.parseBorderRadius,backgroundColor:de,backgroundImage:f(n.excludeResource,Ze.IMAGE_SOURCE)?'':t.parseBackgroundImage,backgroundSize:t.parseBoxDimensions};for(var d in o)'function'==typeof o[d]&&(o[d]=o[d](n.css(d),n,d));0<o.backgroundColor.length&&(Ke.excludeBackgroundColor.includes(o.backgroundColor[0])&&o.backgroundColor[1]!==n.styleMap.backgroundColor||null==n.styleMap.backgroundColor&&n.documentParent.visible&&Z(a,'backgroundColor')?o.backgroundColor=[]:o.backgroundColor[0]=e.addColor(o.backgroundColor[0]));var i=JSON.stringify(o.borderTop);i===JSON.stringify(o.borderRight)&&i===JSON.stringify(o.borderBottom)&&i===JSON.stringify(o.borderLeft)&&(o.border=o.borderTop),r.__boxStyle=o}}})}},{key:'setFontStyle',value:function(){this.cache.visible.forEach(function(t){if(!f(t.excludeResource,Ze.FONT_STYLE)){var n=t.element,a=n;if(!k(a.__fontStyle)||Ke.alwaysReevaluateResources){if(0<t.renderChildren.length||'IMG'===t.tagName||'HR'===t.tagName)return;var r=de(t.css('color'));0<r.length&&(Ke.excludeTextColor.includes(r[0])&&r[1]!==t.styleMap.color?r=[]:r[0]=e.addColor(r[0]));var i=de(t.css('backgroundColor'));0<i.length&&(Ke.excludeBackgroundColor.includes(i[0])&&i[1]!==t.styleMap.backgroundColor||null==t.styleMap.backgroundColor&&Z(n,'backgroundColor')?i=[]:i[0]=e.addColor(i[0]));var o=t.css('fontWeight');b(o)||(o='lighter'===o?'200':'bold'===o?'700':'bolder'===o?'900':'400');var d={fontFamily:t.css('fontFamily'),fontStyle:t.css('fontStyle'),fontSize:t.css('fontSize'),fontWeight:o,color:0<r.length?'@color/'+r[0]:'',backgroundColor:0<i.length?'@color/'+i[0]:''};a.__fontStyle=d}}})}},{key:'setImageSource',value:function(){this.cache.elements.filter(function(e){return'IMG'===e.tagName||'INPUT'===e.tagName&&'image'===e.element.type}).forEach(function(t){var n=t.element,a=n;if(!f(t.excludeResource,Ze.IMAGE_SOURCE)&&(!k(a.__imageSource)||Ke.alwaysReevaluateResources)){var r='IMG'===t.tagName?e.addImageSrcSet(n):e.addImage({mdpi:n.src});a.__imageSource=r}})}},{key:'setOptionArray',value:function(){this.cache.visible.filter(function(e){return'SELECT'===e.tagName}).forEach(function(t){if(!f(t.excludeResource,Ze.OPTION_ARRAY)){var n=t.element,a=n;if(!k(a.__optionArray)||Ke.alwaysReevaluateResources){for(var r=[],o=[],d=0;d<n.children.length;d++){var l=n.children[d],s=l.text.trim();if(''!==s)if(!Ke.numberResourceValue&&null!=o&&0===r.length&&b(s))o.push(s);else{if(null!=o&&0<o.length){d=-1,o=null;continue}var u=e.addString(s);''!==u&&r.push(u)}}a.__optionArray={stringArray:0<r.length?r:null,numberArray:null!=o&&0<o.length?o:null}}}})}},{key:'setValueString',value:function(){this.cache.visible.forEach(function(t){if(!f(t.excludeResource,Ze.VALUE_STRING)){var n=t.element,a=n;if(!k(a.__valueString)||Ke.alwaysReevaluateResources){var r='',i='';if('INPUT'===n.tagName||'TEXTAREA'===n.tagName?'range'!==n.type&&(i=n.value.trim()):'#text'===n.nodeName?i=v(n,'textContent').trim():('BUTTON'===n.tagName||t.hasElement&&(0===n.children.length&&null==et[t.tagName]||0<n.children.length&&Array.from(n.children).every(function(e){return null==et[e.tagName]&&nt.includes(e.tagName)})))&&(r=n.innerText.trim(),i=n.innerHTML.trim()),k(i)){var o=e.addString(i,r);a.__valueString=o}}}})}},{key:'borderVisible',value:function(e){return null!=e&&'none'!==e.style&&'0px'!==e.width}},{key:'getBorderStyle',value:function(e){var t={solid:'android:color="@color/'+e.color+'"'};return Object.assign(t,{inset:t.solid,outset:t.solid,dotted:t.solid+' android:dashWidth="3px" android:dashGap="1px"',dashed:t.solid+' android:dashWidth="1px" android:dashGap="1px"'}),t[e.style]||'android:color="@android:color/black"'}},{key:'parseBorderStyle',value:function(t,n,a){var r=n.css(a+'Style')||'none',i=n.css(a+'Width')||'1px',o='none'===r?[]:de(n.css(a+'Color'));return 0<o.length&&(o[0]=e.addColor(o[0])),'inset'===r&&'0px'===i&&(i='1px'),{style:r,width:i,color:0<o.length?o[0]:'#000000'}}},{key:'parseBackgroundImage',value:function(t){return e.addImageURL(t)}},{key:'parseBorderRadius',value:function(e,t){var n=t.css('borderTopLeftRadius'),a=t.css('borderTopRightRadius'),r=t.css('borderBottomLeftRadius'),i=t.css('borderBottomRightRadius');return n===a&&a===r&&r===i?''===n||'0px'===n?[]:[n]:[n,a,r,i]}},{key:'parseBoxDimensions',value:function(e){if('auto'!==e){var t=e.match(/^([0-9]+(?:px|pt|em)|auto)(?: ([0-9]+(?:px|pt|em)|auto))?(?: ([0-9]+(?:px|pt|em)))?(?: ([0-9]+(?:px|pt|em)))?$/);if(null!=t)return'0px'===t[1]&&null==t[2]||'auto'===t[1]&&'auto'===t[2]?[]:'auto'===t[1]||'auto'===t[2]?['auto'===t[1]?'':p(t[1]),'auto'===t[2]?'':p(t[2])]:null==t[2]||t[1]===t[2]&&t[1]===t[3]&&t[1]===t[4]?[p(t[1])]:null==t[3]||t[1]===t[3]&&t[2]===t[4]?[p(t[1]),p(t[2])]:[p(t[1]),p(t[2]),p(t[3]),p(t[4])]}return[]}}],[{key:'addString',value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'';if(k(t)){''===n&&(n=t);var r=b(t);if(Ke.numberResourceValue||!r){var i=!0,o=!1,d=void 0;try{for(var l=e.STORED.STRINGS.entries()[Symbol.iterator](),s;!(i=(s=l.next()).done);i=!0){var u=s.value,p=Pe(u,2),c=p[0],h=p[1];if(h===t)return c}}catch(e){o=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw d}}n=n.trim().replace(/[^a-zA-Z0-9]/g,'_').toLowerCase().replace(/_+/g,'_').split('_').slice(0,4).join('_').replace(/_+$/g,''),r||/^[0-9]/.test(t)?n='__'+n:''===n&&(n='__symbol'+Ee(1e5*Math.random())),e.STORED.STRINGS.has(n)&&(n=a('strings',n+'_1')),e.STORED.STRINGS.set(n,t)}return n}return''}},{key:'addImageSrcSet',value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',a=t.srcset.trim(),r={};if(k(a)){var i=t.src.substring(0,t.src.lastIndexOf('/')+1);a.split(',').forEach(function(e){var t=/^(.*?)\s*([0-9]+\.?[0-9]*x)?$/.exec(e.trim());if(null!=t){null==t[2]&&(t[2]='1x');var n=i+S(t[1]);switch(t[2]){case'0.75x':r.ldpi=n;break;case'1x':r.mdpi=n;break;case'1.5x':r.hdpi=n;break;case'2x':r.xhdpi=n;break;case'3x':r.xxhdpi=n;break;case'4x':r.xxxhdpi=n;}}})}return null==r.mdpi&&(r.mdpi=t.src),e.addImage(r,n)}},{key:'addImage',value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',a='';if(null!=t.mdpi&&k(t.mdpi)){a=S(t.mdpi);var r=S(a,'.').toLowerCase();a=a.replace(/.\w+$/,'').replace(/-/g,'_'),a='bmp'===r||'cur'===r||'gif'===r||'ico'===r||'jpg'===r||'png'===r?e.insertStoredAsset('IMAGES',n+a,t):''}return a}},{key:'addImageURL',value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',a=t.match(/^url\("?(.*?)"?\)$/);return null==a?'':e.addImage({mdpi:E(a[1])},n)}},{key:'addColor',value:function(t){if(t=t.toUpperCase().trim(),''!==t){var n='';if(!e.STORED.COLORS.has(t)){var r=re(t);''!==r&&(r.name=o(r.name),n=t===r.hex?r.name:a('color',r.name+'_1'),e.STORED.COLORS.set(t,n))}else n=e.STORED.COLORS.get(t);return n}return''}},{key:'insertStoredAsset',value:function(t,n,a){var r=e.STORED[t];if(null!=r){var o='',d=!0,l=!1,s=void 0;try{for(var u=r.entries()[Symbol.iterator](),p;!(d=(p=u.next()).done);d=!0){var c=p.value,h=Pe(c,2),g=h[0],m=h[1];if(JSON.stringify(a)===JSON.stringify(m)){o=g;break}}}catch(e){l=!0,s=e}finally{try{!d&&u.return&&u.return()}finally{if(l)throw s}}if(''===o&&(b(n)&&(n='__'+n),k(a))){var f=0;do o=n,0<f&&(o+='_'+f),r.has(o)||r.set(o,a),f++;while(r.has(o)&&r.get(o)!==a)}return o}return''}}]),e}();ut.STORED={STRINGS:new Map,COLORS:new Map,DIMENS:new Map,IMAGES:new Map};var pt=function(){function e(t,n){if(Le(this,e),this.id=t,this.styleMap={},this.viewType=0,this.depth=-1,this.renderDepth=0,this.parentIndex=xe,this.excludeProcedure=0,this.excludeResource=0,this.documentRoot=!1,this.visible=!0,this.companion=!1,this.isolated=!1,this.gridRowSpan=0,this.gridColumnSpan=0,this.gridPadding={top:0,right:[],bottom:0,left:[]},this._namespaces=new Set,this._data={},null!=n){var a=n;if(n instanceof HTMLElement){var r=a.__styleMap||{},i=!0,o=!1,l=void 0;try{for(var s=Array.from(n.style)[Symbol.iterator](),u,p;!(i=(u=s.next()).done);i=!0)p=u.value,r[d(p)]=n.style[p]}catch(e){o=!0,l=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw l}}this.style=a.__style||getComputedStyle(n),this.styleMap=r}this._element=n,a.__node=this}}return we(e,[{key:'add',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',a=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],r='_'+(e||'_');if(k(n)){if(null==this[r]&&(this._namespaces.add(e),this[r]={}),!a&&null!=this[r][t])return null;this[r][t]=n}return this[r]&&this[r][t]}},{key:'get',value:function(e,t){var n='_'+(e||'_');return this[n]&&null!=this[n][t]?this[n][t]:''}},{key:'delete',value:function(e){var t='_'+(e||'_');if(null!=this[t]){for(var n=arguments.length,a=Array(1<n?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];var i=!0,o=!1,d=void 0;try{for(var l=a[Symbol.iterator](),s,u;!(i=(s=l.next()).done);i=!0)if(u=s.value,-1!==u.indexOf('*')){var p=!0,c=!1,h=void 0;try{for(var g=w(this[t],u)[Symbol.iterator](),m;!(p=(m=g.next()).done);p=!0){var f=m.value,y=Pe(f,1),_=y[0];delete this[t][_]}}catch(e){c=!0,h=e}finally{try{!p&&g.return&&g.return()}finally{if(c)throw h}}}else delete this[t][u]}catch(e){o=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw d}}}}},{key:'apply',value:function(e){var t={};if(null!=e)for(var n in e){var a=e[n];if('object'===('undefined'==typeof a?'undefined':Re(a)))for(var r in a)this.add(n,r,a[r]);else k(a)&&(t[n]=a)}return t}},{key:'render',value:function(e){this.renderParent=e,this.renderDepth=e===this?this.depth:this.documentRoot?0:e.renderDepth+1}},{key:'hide',value:function(){this.renderParent=!0,this.visible=!1}},{key:'data',value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return k(t)&&(n||null==this._data[e])&&(this._data[e]=t),this._data[e]}},{key:'ascend',value:function(){for(var e=[],t=this.parent;null!=t&&0!==t.id;)e.push(t),t=t.parent;return e}},{key:'cascade',value:function(){function e(t){var n=[].concat(Me(t.children));return t.children.forEach(function(t){return n.push.apply(n,Me(e(t)))}),n}return e(this)}},{key:'inheritBase',value:function(e){this.style=e.style,this.bounds=e.bounds,this.linear=e.linear,this.box=e.box}},{key:'inheritStyle',value:function(e){var t={};for(var n in e.style)if(n.startsWith('font')||n.startsWith('color')){var a=d(n);t[a]=e.style[a]}Object.assign(this.styleMap,t)}},{key:'inheritStyleMap',value:function(e){for(var t in e.styleMap)null==this.styleMap[t]&&(this.styleMap[t]=e.styleMap[t])}},{key:'intersect',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear',n=e.top>this[t].top&&e.top<this[t].bottom,a=e.right>this[t].left&&e.right<this[t].right,r=e.bottom>this[t].top&&e.bottom<this[t].bottom,i=e.left>this[t].left&&e.left<this[t].right;return n&&(i||a)||r&&(i||a)}},{key:'withinX',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.top>=this[t].top&&e.top<this[t].bottom||e.bottom>this[t].top&&e.bottom<=this[t].bottom||this[t].top>=e.top&&this[t].bottom<=e.bottom||e.top>=this[t].top&&e.bottom<=this[t].bottom}},{key:'withinY',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'linear';return e.left>=this[t].left&&e.left<this[t].right||e.right>this[t].left&&e.right<=this[t].right||this[t].left>=e.left&&this[t].right<=e.right||e.left>=this[t].left&&e.right<=this[t].right}},{key:'css',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'';return 2===arguments.length&&(this.styleMap[e]=k(t)?t:''),this.styleMap[e]||this.style&&this.style[e]||''}},{key:'setExcludeProcedure',value:function(){var e=this;this.hasElement&&null!=this.element.dataset.excludeProcedure&&this.element.dataset.excludeProcedure.split('|').map(function(e){return e.toUpperCase().trim()}).forEach(function(t){null!=Qe[t]&&(e.excludeProcedure|=Qe[t])})}},{key:'setExcludeResource',value:function(){var e=this;this.hasElement&&null!=this.element.dataset.excludeResource&&this.element.dataset.excludeResource.split('|').map(function(e){return e.toUpperCase().trim()}).forEach(function(t){null!=Ze[t]&&(e.excludeResource|=Ze[t])})}},{key:'setBounds',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=arguments[1];if(!e){var n=null==t?this.hasElement?K(this.element.getBoundingClientRect()):null:q(t);null!=n&&(this.bounds=n)}if(null!=this.bounds){var a={top:this.bounds.top-this.marginTop,right:this.bounds.right+this.marginRight,bottom:this.bounds.bottom+this.marginBottom,left:this.bounds.left-this.marginLeft,width:0,height:0};null==this.linear?this.linear=a:Object.assign(this.linear,a);var r={top:this.bounds.top+(this.paddingTop+this.borderTopWidth),right:this.bounds.right-(this.paddingRight+this.borderRightWidth),bottom:this.bounds.bottom-(this.paddingBottom+this.borderBottomWidth),left:this.bounds.left+(this.paddingLeft+this.borderLeftWidth),width:0,height:0};null==this.box?this.box=r:Object.assign(this.box,r),this.setDimensions()}}},{key:'setBoundsMin',value:function(){var e=this.children.filter(function(e){return!e.pageflow});if(0<e.length){var t=[ve.apply(null,this.children.map(function(e){return e.linear.right})),ve.apply(null,this.children.map(function(e){return e.linear.bottom}))],n=t[0],a=t[1];if(e.some(function(e){return e.linear.right===n||e.linear.bottom===a})){var r=!1;n>this.box.right&&(this.bounds.right=n+(this.paddingRight+this.borderRightWidth),this.bounds.width=this.bounds.right-this.bounds.left,r=!0),a>this.box.bottom&&(this.bounds.bottom=a+(this.paddingBottom+this.borderBottomWidth),this.bounds.height=this.bounds.bottom-this.bounds.top,r=!0),r&&this.setBounds(!0)}}}},{key:'setDimensions',value:function(){var e=this.linear;e.width=e.right-e.left,e.height=e.bottom-e.top;var t=this.box;t.width=t.right-t.left,t.height=t.bottom-t.top}},{key:'parent',set:function(e){null==e||e===this._parent||(this._parent&&null==this._documentParent&&(this._documentParent=this._parent),this._parent=e,this.depth=e.depth+1)},get:function(){return this._parent}},{key:'documentParent',get:function(){return this._documentParent||this._parent}},{key:'tagName',set:function(e){this._tagName=e},get:function(){return this._tagName||(this.hasElement?'INPUT'===this.element.tagName?this.element.type.toUpperCase():this.element.tagName:'')}},{key:'viewName',set:function(e){this._viewName=e},get:function(){return this._viewName}},{key:'renderParent',set:function(t){t instanceof e&&t.renderChildren.push(this),this._renderParent=t},get:function(){return this._renderParent}},{key:'element',get:function(){return this._element||{}}},{key:'hasElement',get:function(){return this._element instanceof HTMLElement}},{key:'parentElement',get:function(){return this._element&&this._element.parentElement}},{key:'namespaces',get:function(){return Array.from(this._namespaces)}},{key:'extension',get:function(){return this.hasElement&&null!=this.element.dataset.ext?this.element.dataset.ext.split(',')[0].trim():''}},{key:'flex',get:function(){var e=this.style;if(null!=e){var t=this.documentParent;return{enabled:-1!==e.display.indexOf('flex'),direction:e.flexDirection,basis:e.flexBasis,grow:u(e.flexGrow),shrink:u(e.flexShrink),wrap:e.flexWrap,alignSelf:null!=t.styleMap.alignItems&&(null==this.styleMap.alignSelf||'auto'===e.alignSelf)?t.styleMap.alignItems:e.alignSelf,justifyContent:e.justifyContent,order:u(e.order)}}return{}}},{key:'floating',get:function(){var e=null==this.style?'':this.style.float;return'left'===e||'right'===e}},{key:'fixed',get:function(){return this.style&&'fixed'===this.style.display}},{key:'overflow',get:function(){var e=0;return this.hasElement&&(('scroll'===this.css('overflow')||'scroll'===this.css('overflowX')||'auto'===this.css('overflowX')&&this.element.clientWidth!==this.element.scrollWidth)&&(e|=2),('scroll'===this.css('overflow')||'scroll'===this.css('overflowY')||'auto'===this.css('overflowY')&&this.element.clientHeight!==this.element.scrollHeight)&&(e|=4)),e}},{key:'overflowX',get:function(){return f(this.overflow,2)}},{key:'overflowY',get:function(){return f(this.overflow,4)}},{key:'viewWidth',get:function(){return u(this.styleMap.width||this.styleMap.minWidth)}},{key:'viewHeight',get:function(){return u(this.styleMap.height||this.styleMap.lineHeight||this.styleMap.minHeight)}},{key:'marginTop',get:function(){return u(this.css('marginTop'))}},{key:'marginRight',get:function(){return u(this.css('marginRight'))}},{key:'marginBottom',get:function(){return u(this.css('marginBottom'))}},{key:'marginLeft',get:function(){return u(this.css('marginLeft'))}},{key:'borderTopWidth',get:function(){return u(this.css('borderTopWidth'))}},{key:'borderRightWidth',get:function(){return u(this.css('borderRightWidth'))}},{key:'borderBottomWidth',get:function(){return u(this.css('borderBottomWidth'))}},{key:'borderLeftWidth',get:function(){return u(this.css('borderLeftWidth'))}},{key:'paddingTop',get:function(){return u(this.css('paddingTop'))}},{key:'paddingRight',get:function(){return u(this.css('paddingRight'))}},{key:'paddingBottom',get:function(){return u(this.css('paddingBottom'))}},{key:'paddingLeft',get:function(){return u(this.css('paddingLeft'))}},{key:'pageflow',get:function(){var e=this.css('position');return'static'===e||'initial'===e||'PLAINTEXT'===this.tagName||'relative'===e&&0===u(this.css('top'))&&0===u(this.css('right'))&&0===u(this.css('bottom'))&&0===u(this.css('left'))}},{key:'center',get:function(){return{x:this.bounds.left+Ae(this.bounds.width/2),y:this.bounds.top+Ae(this.bounds.height/2)}}}]),e}(),ct=(vt={},Oe(vt,e.build.P,{android:[],app:[],customizations:{}}),Oe(vt,e.build.OREO_1,{android:[],app:[],customizations:{}}),Oe(vt,e.build.OREO,{android:['fontWeight','layout_marginHorizontal','layout_marginVertical','paddingHorizontal','paddingVertical'],app:[],customizations:{}}),Oe(vt,e.build.NOUGAT_1,{android:[],app:[],customizations:{}}),Oe(vt,e.build.NOUGAT,{android:[],app:[],customizations:{}}),Oe(vt,e.build.MARSHMALLOW,{android:[],app:[],customizations:{}}),Oe(vt,e.build.LOLLIPOP_1,{android:[],app:[],customizations:{}}),Oe(vt,e.build.LOLLIPOP,{android:['layout_columnWeight'],app:[],customizations:{}}),Oe(vt,e.build.KITKAT_1,{android:[],app:[],customizations:{}}),Oe(vt,e.build.KITKAT,{android:[],app:[],customizations:{}}),Oe(vt,e.build.JELLYBEAN_2,{android:[],app:[],customizations:{}}),Oe(vt,e.build.JELLYBEAN_1,{android:['labelFor'],app:[],customizations:{}}),Oe(vt,e.build.JELLYBEAN,{android:[],app:[],customizations:{}}),Oe(vt,e.build.ICE_CREAM_SANDWICH_1,{android:[],app:[],customizations:{}}),Oe(vt,e.build.ICE_CREAM_SANDWICH,{android:[],app:[],customizations:{}}),Oe(vt,e.build.ALL,{android:[],app:[],customizations:{Button:{android:{textAllCaps:'false'}}}}),vt),ht=function(t){function n(e,t,a){Le(this,n);var r=De(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,a));return r.id=e,r.api=t,r.constraint={},r.children=[],r.renderChildren=[],r}return Ce(n,t),we(n,[{key:'add',value:function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return!!this.supported(e,t)&&ke(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'add',this).call(this,e,t,a,r)}},{key:'android',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];switch(arguments.length){case 0:return this._android;case 1:return this._android&&this._android[e];default:this.add('android',e,t,n);}}},{key:'app',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];switch(arguments.length){case 0:return this._app;case 1:return this._app&&this._app[e];default:this.add('app',e,t,n);}}},{key:'apply',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=ke(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'apply',this).call(this,e);for(var a in t)this.attr(a+'="'+t[a]+'"')}},{key:'attr',value:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=e.match(/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/);null!=n&&this.add(n[1]||'_',n[2],n[3],t)}},{key:'anchor',value:function(e,t,n,a){switch(null==a&&(a='parent'===t||'true'===t),this.renderParent.viewName){case Ve.CONSTRAINT:if(1===arguments.length)return this.app(e);this.app(e,t,a);break;case Ve.RELATIVE:if(1===arguments.length)return this.android(e);this.android(e,t,a);}k(n)&&(this.constraint[n]=!0)}},{key:'modifyBox',value:function(e,t){var n=m($e,Xe,e);if(''!==n){var a=pe(n),r=y(t+u(this.android(a)));this.css(a,r),this.android(a,r),this.setBounds(!0)}}},{key:'boxValue',value:function(e){var t=m($e,Xe,e);if(''!==t){var n=pe(t);return[n,this.android(n)||'0px']}return['','0px']}},{key:'supported',value:function(t,n){if(0<this.api)for(var a=this.api+1,r;a<=e.build.LATEST;a++)if(r=ct[a],r&&r[t]&&r[t].includes(n))return!1;return!0}},{key:'combine',value:function(){var e=this,t=[];return this.namespaces.forEach(function(n){var a=e['_'+n];for(var r in a)'_'===n?t.push(r+'="'+a[r]+'"'):t.push(n+':'+r+'="'+a[r]+'"')}),t.sort(function(e,t){return e.startsWith('android:id=')?-1:t.startsWith('android:id=')?1:e>t?1:-1})}},{key:'applyCustomizations',value:function(){var e=this;[ct[this.api],ct[0]].forEach(function(t){if(t&&null!=t.customizations){var n=t.customizations[e.viewName];if(null!=n)for(var a in n)for(var r in n[a])e.add(a,r,n[a][r],!1)}})}},{key:'is',value:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var r=!0,i=!1,o=void 0;try{for(var d=t[Symbol.iterator](),l,s;!(r=(l=d.next()).done);r=!0)if(s=l.value,this.viewName===n.getViewName(s))return!0}catch(e){i=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw o}}return!1}},{key:'setViewId',value:function(e){for(var t in Ve)if(Ve[t]===e&&null!=Je[t]){this.viewType=Je[t];break}if(Fe(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'viewName',e||this.viewName,this),null==this.viewId){var r=this.element;this.viewId=_(a('android',r.id||r.name||S(this.viewName,'.').toLowerCase()+'_1'))}this.android('id',this.stringId)}},{key:'setLayout',value:function(e,t){if(this.renderParent instanceof n){null==e&&(e=this.hasElement?this.element.clientWidth+this.marginLeft+this.marginRight+this.borderLeftWidth+this.borderRightWidth:0),null==t&&(t=this.hasElement?this.element.clientHeight+this.marginTop+this.marginBottom+this.borderTopWidth+this.borderBottomWidth:0);var a=this.documentParent,r=this.renderParent,i=this.documentRoot?xe:a.element.offsetWidth-(a.paddingLeft+a.paddingRight+a.borderLeftWidth+a.borderRightWidth),o=this.documentRoot?xe:a.element.offsetHeight-(a.paddingTop+a.paddingBottom+a.borderTopWidth+a.borderBottomWidth),d=a.flex.enabled||a.is(Je.CONSTRAINT,Je.GRID)||a.is(Je.LINEAR)&&a.horizontal||this.is(Je.IMAGE),l=this.styleMap,s=this.constraint;if(this.documentRoot&&!this.flex.enabled&&this.is(Je.FRAME,Je.LINEAR,Je.CONSTRAINT,Je.RELATIVE)&&(0===this.viewWidth&&!s.layoutWidth&&this.android('layout_width','match_parent',!1),0===this.viewHeight&&!s.layoutHeight&&this.android('layout_height','match_parent',!1)),0!==this.overflow&&!this.is(Je.TEXT))this.android('layout_width',this.horizontal?'wrap_content':'match_parent'),this.android('layout_height',this.horizontal?'match_parent':'wrap_content');else{if('0px'!==this.android('layout_width')&&(k(l.width)&&(x(l.width)?'TABLE'===r.tagName?(this.android('layout_columnWeight',(u(l.width)/100).toFixed(2)),this.android('layout_width','0px')):this.android('layout_width','wrap_content'):this.android('layout_width',p(l.width))),k(l.minWidth)&&!x(l.minWidth)&&!s.minWidth&&(this.android('layout_width','wrap_content',!1),this.android('minWidth',p(l.minWidth),!1)),k(l.maxWidth)&&!x(l.maxWidth)&&!s.maxWidth&&this.android('maxWidth',p(l.maxWidth),!1)),s.layoutWidth)this.android('layout_width',this.renderChildren.some(function(e){return'right'===e.css('float')})||this.bounds.width>=i?'match_parent':y(this.bounds.width));else if(null==this.android('layout_width')){var c=0,h=0;a.is(Je.LINEAR)&&!a.horizontal&&(c=this.cascade().reduce(function(e,t){return ve(0,t.linear.right)},0),h=a.cascade().reduce(function(e,t){return ve(0,t.linear.right)},0)),0<u(this.android('layout_columnWeight'))?this.android('layout_width','0px'):!d&&0===a.overflow&&0<a.viewWidth&&e>=i||(0===this.renderChildren.length||c<h)&&!this.floating&&-1===v(this,'style.display').indexOf('inline')&&tt.includes(this.tagName)?this.android('layout_width','match_parent'):this.android('layout_width','wrap_content')}if('0px'!==this.android('layout_height')&&((k(l.height)||k(l.lineHeight))&&(x(l.height)||x(l.lineHeight)?'TABLE'===r.tagName?(this.android('layout_rowWeight',(u(l.height||l.lineHeight)/100).toFixed(2)),this.android('layout_height','0px')):this.android('layout_height','wrap_content'):this.android('layout_height',p(l.height||l.lineHeight))),k(l.minHeight)&&!x(l.minHeight)&&!s.minHeight&&(this.android('layout_height','wrap_content',!1),this.android('minHeight',p(l.minHeight),!1)),k(l.maxHeight)&&!x(l.maxHeight)&&!s.maxHeight&&this.android('maxHeight',p(l.maxHeight),!1)),s.layoutHeight)this.android('layout_height',this.bounds.height>=o?'match_parent':y(this.bounds.height));else if(null==this.android('layout_height')){var g='wrap_content';t>=o&&(this.documentRoot||0===a.overflow&&a.viewHeight&&!ze.includes(this.viewName)&&!r.is(Je.RELATIVE)&&'wrap_content'!==r.android('layout_height'))&&(g='match_parent'),this.android('layout_height',g)}}}}},{key:'setAlignment',value:function(){if(this.renderParent instanceof n){var e=this.renderParent,t=this.is(Je.TEXT),a='',r=this.styleMap.verticalAlign,i='',o='';if(!this.floating||t)for(var d=this;null!=d;){a=d.styleMap.textAlign||a;var l=d===this?'':d.styleMap.float;if('left'===l||'right'===l||k(a))break;d=d.documentParent}if(''===a&&'TH'===this.tagName&&(a='center'),'start'===a?i='start':'right'===a?i=pe('right'):'end'===a?i='end':'center'===a?i='center_horizontal':void 0,('top'===r?o='top':'middle'===r?o='center_vertical':'bottom'===r||'text-bottom'===r?o='bottom':this.hasElement&&null!=this.styleMap.lineHeight&&(this.style.height===this.styleMap.lineHeight||u(this.styleMap.lineHeight)===this.box.bottom-this.box.top)&&(o='center_vertical'),'TABLE'===e.tagName))this.android('layout_gravity','fill');else{var s='right'===this.css('float')?pe('right'):'',p='';''!==s||''===i||k(this.styleMap.textAlign)||t||(s=i,i=''),''!=o&&e.is(Je.LINEAR,Je.GRID,Je.FRAME)&&(p=o,o='');var c=[s,p].filter(function(e){return e}).join('|');''!==c&&this.android('layout_gravity',c)}if(0<this.renderChildren.length)!this.is(Je.CONSTRAINT,Je.RELATIVE)&&this.renderChildren.every(function(e){return'right'===e.css('float')})&&this.android('gravity',pe('right'));else{var h=[i,o].filter(function(e){return e});0<h.length&&this.android('gravity',2===h.filter(function(e){return-1!==e.indexOf('center')}).length?'center':h.join('|'))}if(null==this.android('layout_gravity')){var g=this.css('marginLeft'),m=this.css('marginRight'),f=this.css('margin').split(' ');('auto'===g&&'auto'===m||'0px'!==g&&g===m&&g===f[1])&&this.android('layout_gravity','center_horizontal')}}}},{key:'setBoxSpacing',value:function(){var t=this;this.api>=e.build.OREO&&['layout_margin','padding'].forEach(function(e){var n=pe(e+'Left'),a=pe(e+'Right'),r=u(t.android(e+'Top')),i=u(t.android(a)),o=u(t.android(e+'Bottom')),d=u(t.android(n));0!==r&&r===o&&o===d&&d===i?(t.delete('android',e+'*'),t.android(e,y(r))):(0!==r&&r===o&&(t.delete('android',e+'Top',e+'Bottom'),t.android(e+'Vertical',y(r))),0!==d&&d===i&&(t.delete('android',n,a),t.android(e+'Horizontal',y(d))))})}},{key:'setGridSpan',value:function(){1<this.gridRowSpan&&this.android('layout_rowSpan',this.gridRowSpan.toString()),1<this.gridColumnSpan&&this.android('layout_columnSpan',this.gridColumnSpan.toString()),this.gridPadding&&(0<this.gridPadding.top&&this.modifyBox($e.PADDING_TOP,this.gridPadding.top),0<this.gridPadding.right.length&&this.modifyBox($e.PADDING_RIGHT,s(this.gridPadding.right)),0<this.gridPadding.bottom&&this.modifyBox($e.PADDING_BOTTOM,this.gridPadding.bottom),0<this.gridPadding.left.length&&this.modifyBox($e.PADDING_LEFT,s(this.gridPadding.left)))}},{key:'setAccessibility',value:function(){var e=this,t=this.element,n=t.nextElementSibling,a=!1;if(n&&n.htmlFor===t.id&&'INPUT'===t.tagName){var r=n.__node;r.setViewId(Ve.TEXT),this.css('marginRight',r.style.marginRight),this.css('paddingRight',r.style.paddingRight),this.label=r,r.hide(),r.labelFor=this,a=!0}switch(this.viewName){case Ve.EDIT:a||function(){for(var t=e.renderParent,n=e,a=null,r;t&&null!=t.renderChildren;){if(r=t.renderChildren.findIndex(function(e){return e===n}),0<r){a=t.renderChildren[r-1];break}n=t,t=t.renderParent}a&&a.is(Je.TEXT)&&a.android('labelFor',e.stringId)}();case Ve.SELECT:case Ve.CHECKBOX:case Ve.RADIO:case Ve.BUTTON:this.element.disabled&&this.android('focusable','false');}}},{key:'label',set:function(e){this._label=e,e.companion=!0,e.labelFor=this},get:function(){return this._label}},{key:'stringId',get:function(){return k(this.viewId)?'@+id/'+this.viewId:''}},{key:'viewName',set:function(e){this._viewName=e},get:function(){if(null!=this._viewName)return ke(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),'viewName',this);var e=et[this.tagName];return null==e?'':n.getViewName(e)}},{key:'anchored',get:function(){return this.constraint.horizontal&&this.constraint.vertical}},{key:'horizontal',get:function(){return this._android&&'horizontal'===this._android.orientation}},{key:'horizontalBias',get:function(){var e=this.renderParent;if(e instanceof n&&e.visible){var t=this.linear.left-e.box.left,a=e.box.right-this.linear.right;return N(t,a)}return .5}},{key:'verticalBias',get:function(){var e=this.renderParent;if(e instanceof n&&e.visible){var t=this.linear.top-e.box.top,a=e.box.bottom-this.linear.bottom;return N(t,a)}return .5}}],[{key:'getViewName',value:function(e){return Ve[Je[e]]}}]),n}(pt),gt=function(e){function t(e,n,a,r){Le(this,t);var i=De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n.api));return i.parent=n.documentParent,null!=a&&(i.parent=a),null!=r&&(i.children=r),i.depth=n.depth,i}return Ce(t,e),we(t,[{key:'setLayout',value:function(){ke(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setLayout',this).apply(this,this.childrenBox)}},{key:'setBounds',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t=this.outerRegion;e||(this.bounds={top:t.top[0].bounds.top,right:t.right[0].bounds.right,bottom:t.bottom[0].bounds.bottom,left:t.left[0].bounds.left,width:0,height:0},this.bounds.width=this.bounds.right-this.bounds.left,this.bounds.height=this.bounds.bottom-this.bounds.top),this.linear={top:t.top[0].linear.top,right:t.right[0].linear.right,bottom:t.bottom[0].linear.bottom,left:t.left[0].linear.left,width:0,height:0},this.box={top:t.top[0].box.top,right:t.right[0].box.right,bottom:t.bottom[0].box.bottom,left:t.left[0].box.left,width:0,height:0},this.setDimensions()}},{key:'inheritGrid',value:function(e){for(var t in e)if(t.startsWith('grid'))switch(Re(e[t])){case'number':this[t]+=e[t],e[t]=0;break;case'boolean':!1!==e[t]&&(this[t]=e[t],e[t]=!1);break;case'object':this[t]=e[t],e[t]=Array.isArray(e[t])?[]:null;}}},{key:'childrenBox',get:function(){var e=xe,t=0,n=xe,a=0,r=!0,i=!1,o=void 0;try{for(var d=this.children[Symbol.iterator](),l,s;!(r=(l=d.next()).done);r=!0)s=l.value,e=Te(s.bounds.left,e),t=ve(s.bounds.right,t),n=Te(s.bounds.top,n),a=ve(s.bounds.bottom,a)}catch(e){i=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw o}}return[t-e,a-n]}},{key:'outerRegion',get:function(){for(var e=this.children,t=[e[0]],n=[e[0]],a=[e[0]],r=[e[0]],o=1;o<e.length;o++){var d=e[o],l=d.label||d;t[0].linear.top===d.linear.top?t.push(d):d.linear.top<t[0].linear.top&&(t=[d]),n[0].linear.right===l.linear.right?n.push(l):l.linear.right>n[0].linear.right&&(n=[l]),a[0].linear.bottom===d.linear.bottom?a.push(d):d.linear.bottom>a[0].linear.bottom&&(a=[d]),r[0].linear.left===d.linear.left?r.push(d):d.linear.left<r[0].linear.left&&(r=[d])}return{top:t,right:n,bottom:a,left:r,children:e}}}]),t}(ht),mt=function(e){function t(e,n){return Le(this,t),De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return Ce(t,e),we(t,[{key:'slice',value:function(){return new t(this.list.slice.apply(this.list,arguments))}},{key:'filter',value:function(e){return new t(this.list.filter.call(this.list,e))}},{key:'anchors',get:function(){return this.list.filter(function(e){return e.anchored})}},{key:'horizontalBias',get:function(){if(null!=this.parent&&0<this.list.length){var e=this.first.linear.left-this.parent.box.left,t=this.parent.box.right-this.last.linear.right;return N(e,t)}return .5}},{key:'verticalBias',get:function(){if(null!=this.parent&&0<this.list.length){var e=this.first.linear.top-this.parent.box.top,t=this.parent.box.bottom-this.last.linear.bottom;return N(e,t)}return .5}}]),t}(He),ft={relative:{top:'layout_alignTop',bottom:'layout_alignBottom',baseline:'layout_alignBaseline',bottomTop:'layout_above',topBottom:'layout_below'},constraint:{top:'layout_constraintTop_toTopOf',bottom:'layout_constraintBottom_toBottomOf',baseline:'layout_constraintBaseline_toBaselineOf',bottomTop:'layout_constraintBottom_toTopOf',topBottom:'layout_constraintTop_toBottomOf'}},yt={direction:['horizontalChain','verticalChain'],leftTop:['left','top'],rightBottom:['right','bottom'],rightLeftBottomTop:['rightLeft','bottomTop'],leftRightTopBottom:['leftRight','topBottom'],widthHeight:['Width','Height'],horizontalVertical:['Horizontal','Vertical']},_t=function(e){function t(){return Le(this,t),De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return Ce(t,e),we(t,[{key:'setConstraints',value:function(){var e=this;Object.assign(ft.relative,{left:pe('layout_alignLeft'),right:pe('layout_alignRight'),leftRight:pe('layout_toRightOf'),rightLeft:pe('layout_toLeftOf')}),Object.assign(ft.constraint,{left:pe('layout_constraintLeft_toLeftOf'),right:pe('layout_constraintRight_toRightOf'),leftRight:pe('layout_constraintLeft_toRightOf'),rightLeft:pe('layout_constraintRight_toLeftOf')}),this.cache.visible.forEach(function(t){var a=new mt(t.renderChildren.filter(function(e){return!e.isolated}),t),r=t.is(Je.CONSTRAINT),i=t.is(Je.RELATIVE),o=t.flex;0<a.list.length&&(r||i||o.enabled)&&function(){var d=function(e,t){return'parent'===e.app(s[t])},l=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var i=!0,o=!1,d=void 0;try{for(var l=n[Symbol.iterator](),u,p;!(i=(u=l.next()).done);i=!0)p=u.value,e.delete(r?'app':'android',s[p])}catch(e){o=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw d}}};t.setBoundsMin();var s=ft[i?'relative':'constraint'],u=a.linearX;(i||1===a.list.length)&&a.list.forEach(function(n){C(n.horizontalBias,.5,.01)&&C(n.verticalBias,.5,.01)&&(r?e.setAlignParent(n):(n.android('layout_centerInParent','true'),n.constraint.horizontal=!0,n.constraint.vertical=!0),t.constraint.layoutWidth=!0,t.constraint.layoutHeight=!0)}),a.list.unshift(t),a.list.forEach(function(n){a.list.forEach(function(a){if(!(n===a||n.intersect(a.linear))){var l=n.linear,p=a.linear,c=a.stringId,h=a.constraint.horizontal?'horizontal':'',g=a.constraint.vertical?'vertical':'',m=n.withinY(a.linear);if(r){if((n===t||a===t)&&(n===t&&(n=a),l=n.linear,p=t.box,c='parent'),null!=n.css('width')&&'auto'===n.styleMap.marginRight&&'auto'===n.styleMap.marginLeft?e.setAlignParent(n,'horizontal'):'parent'===c?((l.left<=p.left||D(l.left,p.left))&&n.anchor(s.left,'parent','horizontal'),(l.right>=p.right||C(l.right,p.right,Ke.whitespaceHorizontalOffset))&&n.anchor(s.right,'parent','horizontal')):(0===n.viewWidth&&l.left===p.left&&l.right===p.right?(n.anchor(s.left,c),n.anchor(s.right,c)):!Ke.horizontalPerspective&&(l.left===p.left?n.anchor(s.left,c):l.right===p.right&&n.anchor(s.right,c)),C(l.left,p.right,Ke.whitespaceHorizontalOffset)&&('right'===n.css('float')?n.constraint.marginHorizontal=a.stringId:n.anchor(s.leftRight,c,h,n.withinX(p))),C(l.right,p.left,Ke.whitespaceHorizontalOffset)&&'left'!==n.css('float')&&n.anchor(s.rightLeft,c,h,n.withinX(p))),'parent'===c)(l.top<=p.top||D(l.top,p.top))&&n.anchor(s.top,'parent','vertical'),(l.bottom>=p.bottom||D(l.bottom,p.bottom)||(n.floating||'column'===o.direction&&'nowrap'!==o.wrap)&&C(l.bottom,p.bottom,Ke.whitespaceHorizontalOffset))&&n.anchor(s.bottom,'parent','vertical');else{var f=d(n,'top'),y=d(n,'bottom');C(l.top,p.bottom,Ke.whitespaceVerticalOffset)?n.anchor(s.topBottom,c,g,m):C(l.bottom,p.top,Ke.whitespaceVerticalOffset)&&!y&&n.anchor(s.bottomTop,c,g,m),l.top!==p.top||f||y||n.anchor(s.top,c,g),l.bottom!==p.bottom||f||y||n.anchor(s.bottom,c,g)}}else if(i){if(n===t)return;a===t?(n.linear.left<=t.box.left||D(n.linear.left,t.box.left)?n.anchor(pe('layout_alignParentLeft'),'true','horizontal'):(n.linear.right>=t.box.right||D(n.linear.right,t.box.right))&&n.anchor(pe('layout_alignParentRight'),'true','horizontal'),n.linear.top<=t.box.top||D(n.linear.top,t.box.top)?n.anchor('layout_alignParentTop','true','vertical'):(n.linear.bottom>=t.box.bottom||D(n.linear.bottom,t.box.bottom)||(n.floating||'column'===o.direction&&'nowrap'!==o.wrap)&&C(n.linear.bottom,t.box.bottom,Ke.whitespaceHorizontalOffset))&&n.anchor('layout_alignParentBottom','true','vertical')):(null!=n.css('width')&&'auto'===n.styleMap.marginRight&&'auto'===n.styleMap.marginLeft?(n.android('layout_centerHorizontal','true'),n.constraint.horizontal=!0):(l.top===p.top||l.bottom===p.bottom)&&C(l.left,p.right,Ke.whitespaceHorizontalOffset)&&('right'===n.css('float')?a.anchor(s.rightLeft,n.stringId,h):(n.anchor(s.leftRight,c,h),a.constraint.horizontal&&n.delete('android',pe('layout_alignParentRight')))),C(l.top,p.bottom,Ke.whitespaceVerticalOffset)?(n.anchor(s.topBottom,c,g,m),a.constraint.vertical&&n.delete('android','layout_alignParentBottom')):C(l.bottom,p.top,Ke.whitespaceVerticalOffset)&&'true'!==n.android('layout_alignParentTop')&&n.anchor(s.bottomTop,c,g,m),!a.constraint.horizontal||l.bottom!==p.bottom||u||n.floating&&n.constraint.vertical||(n.anchor(s.bottom,c,g),a.constraint.vertical&&n.delete('android','layout_alignParentBottom')))}}})}),a.list.shift(),a.list.forEach(function(e){var t=e.anchor(s.leftRight);null!=t&&(o.enabled&&(e.constraint.horizontal=!0),e.constraint.marginHorizontal=t);var n=e.anchor(s.topBottom);if(null!=n&&(o.enabled&&(e.constraint.vertical=!0),e.constraint.marginVertical=n,l(e,'top')),r){if(d(e,'left')&&d(e,'right')){var a=e.css('textAlign');'left'===a||'start'===a?l(e,'right'):'right'===a||'end'===a?l(e,'left'):void 0,e.floating&&l(e,'right'===e.css('float')?'left':'right'),e.android('layout_width','match_parent')}null!=e.app(s.bottomTop)&&l(e,'bottom')}else e.android(s.topBottom)&&l(e,'bottomTop')});var c=a.anchors;do{var h=!1;if(a.list.forEach(function(e){if(!e.anchored){var t=r?w(e.app(),'*constraint*'):w(e.android(),s),n=function(t,n){'parent'!==n&&null!=c.find(function(e){return e.stringId===n})&&(!e.constraint.horizontal&&-1!==I(t,pe('Left'),pe('Right'))&&(e.constraint.horizontal=!0),!e.constraint.vertical&&-1!==I(t,'Top','Bottom','Baseline','above','below')&&(e.constraint.vertical=!0))},a=!0,i=!1,o=void 0;try{for(var d=t[Symbol.iterator](),l;!(a=(l=d.next()).done);a=!0){var u=l.value,p=Pe(u,2),g=p[0],m=p[1];n(g,m)}}catch(e){i=!0,o=e}finally{try{!a&&d.return&&d.return()}finally{if(i)throw o}}e.anchored&&(c.push(e),h=!0)}}),!h)break}while(!0);if(o.enabled||Ke.useConstraintChain&&r&&1<a.length&&!a.intersect()){var g=null;if(!o.enabled)a.list.forEach(function(t){var n=e.partitionChain(a,t,['linear.top','linear.bottom'],[s.leftRight,s.rightLeft]),r=e.partitionChain(a,t,['linear.left','linear.right'],[s.topBottom,s.bottomTop]);t.constraint.horizontalChain=new mt(F(n,'linear.left')),t.constraint.verticalChain=new mt(F(r,'linear.top'))});else if('nowrap'===o.wrap){var m=a.list.slice(),f=a.list.slice();switch(o.direction){case'row-reverse':m.reverse();case'row':f=[];break;case'column-reverse':f.reverse();case'column':m=[];}g=[{constraint:{horizontalChain:new mt(m),verticalChain:new mt(f)}}]}else{var _=a.list.slice();switch(o.direction){case'row-reverse':case'column-reverse':_.reverse();}var b={},x=[];if(_.forEach(function(e){var t=e.linear.top;null==b[t]&&(b[t]=[],x.push(t)),b[t].push(e)}),'wrap-reverse'===o.wrap)if(-1!==o.direction.indexOf('column'))for(var T in b)b[T].reverse();else x.reverse();g=[];var v=!0,E=!1,A=void 0;try{for(var R=x[Symbol.iterator](),S,L;!(v=(S=R.next()).done);v=!0)L=S.value,g.push({constraint:{horizontalChain:new mt(b[L]),verticalChain:new mt}})}catch(e){E=!0,A=e}finally{try{!v&&R.return&&R.return()}finally{if(E)throw A}}}var O=yt.direction.slice();Ke.horizontalPerspective||O.reverse(),O.forEach(function(n,r){var u=o.enabled?g:a.slice().list.sort(function(e,t){return e.constraint[n].length>=t.constraint[n].length?-1:1});if(null!=u){Ke.horizontalPerspective||(r=0===r?1:0);var c=0===r?1:0;u.forEach(function(h,g){var m=h.constraint[n];if(null!=m&&m.length>(o.enabled?0:1)){m.parent=t,o.enabled&&m.list.some(function(e){return 0<e.flex.order})&&m[-1===o.direction.indexOf('reverse')?'sortAsc':'sortDesc']('flex.order');for(var f=[yt.horizontalVertical[r],yt.horizontalVertical[c]],y=f[0],_=f[1],b=[yt.leftTop[r],yt.leftTop[c]],x=b[0],T=b[1],v=[yt.rightBottom[r],yt.rightBottom[c]],E=v[0],A=v[1],R=[yt.widthHeight[r],yt.widthHeight[c]],I=R[0],S=R[1],L=y.toLowerCase(),w=_.toLowerCase(),O=I.toLowerCase(),N=m.first,C=m.last,B=-1,F=function(a){var i=m.list[a],c=m.list[a+1],h=m.list[a-1];if(o.enabled){i.linear[T]===t.box[T]&&i.linear[A]===t.box[A]&&e.setAlignParent(i,w);var f=u[g+1];if(f&&f.constraint[n]&&null!=f.constraint[n].list[a]){var _=f.constraint[n].list[a];i.withinY(_.linear)&&!d(i,'top')&&(i.anchor(s.bottomTop,_.stringId),l(i,'bottom'))}}if(null!=c&&(i.app(s[yt.rightLeftBottomTop[r]],c.stringId),B=ve(c.linear[x]-i.linear[E],B)),null!=h&&(i.app(s[yt.leftRightTopBottom[r]],h.stringId),i.constraint['margin'+y]=h.stringId),null==i.styleMap[O]){var b=i.styleMap['min'+I],v=i.styleMap['min'+S],R=i.styleMap['max'+I],L=i.styleMap['max'+S];k(b)&&(i.app('layout_constraint'+I+'_min',p(b)),i.constraint['min'+I]=!0),k(R)&&(i.app('layout_constraint'+I+'_max',p(R)),i.constraint['max'+I]=!0),k(v)&&(i.app('layout_constraint'+S+'_min',p(v)),i.constraint['min'+S]=!0),k(L)&&(i.app('layout_constraint'+S+'_max',p(L)),i.constraint['max'+S]=!0)}if(o.enabled){var N=ft.constraint;switch(i.app('layout_constraint'+y+'_weight',i.flex.grow.toString()),null==i['view'+I]&&0===i.flex.grow&&1>=i.flex.shrink?i.android('layout_'+O,'wrap_content'):0<i.flex.grow&&i.android('layout_'+O,'0px'),0===i.flex.shrink&&i.app('layout_constrained'+I,'true'),i.flex.alignSelf){case'flex-start':i.app(N[T],'parent'),i.constraint[w]=!0;break;case'flex-end':i.app(N[A],'parent'),i.constraint[w]=!0;break;case'baseline':i.app(N.baseline,'parent'),l(i,'top','bottom'),m.list.forEach(function(e){e.app(N.top)===i.stringId&&l(e,'top'),e.app(N.bottom)===i.stringId&&l(e,'bottom')}),i.constraint.vertical=!0;break;case'center':case'stretch':'center'!==i.flex.alignSelf&&i.android('layout_'+S.toLowerCase(),'0px'),e.setAlignParent(i,w);}if('auto'!==i.flex.basis)if(/(100|[1-9][0-9]?)%/.test(i.flex.basis))i.app('layout_constraint'+I+'_percent',i.flex.basis);else{var C=p(i.flex.basis);'0px'!==C&&(i.app('layout_constraintWidth_min',C),delete i.styleMap.minWidth)}}},P=0;P<m.list.length;P++)F(P);N.app(s[x],'parent'),N.constraint[L]=!0,C.app(s[E],'parent'),C.constraint[L]=!0;var M='layout_constraint'+y+'_chainStyle';if(o.enabled&&'normal'!==o.justifyContent&&0===ve.apply(null,m.list.map(function(e){return e.flex.grow})))switch(o.justifyContent){case'space-between':N.app(M,'spread_inside');break;case'space-evenly':N.app(M,'spread'),m.list.forEach(function(e){return e.app('layout_constraint'+y+'_weight',(e.flex.grow||1).toString())});break;case'space-around':var G=0===r?'left':'top',H=(N.linear[G]-t.box[G])/t.box[O];N.app('layout_constraint'+y+'_chainStyle','spread_inside'),N.constraint[L]=!1,C.constraint[L]=!1,e.addGuideline(t,N,L,!1,parseFloat(H.toFixed(2))),e.addGuideline(t,C,L,!0,parseFloat((1-H).toFixed(2)));break;default:var V=o.justifyContent;if(-1!==o.direction.indexOf('reverse'))switch(o.justifyContent){case'flex-start':V='flex-end';break;case'flex-end':V='flex-start';}var X='0.5';'flex-start'===V?X='0':'flex-end'===V?X='1':void 0,N.app(M,'packed'),N.app('layout_constraint'+y+'_bias',X);}else{if('horizontal'===L&&D(t.box.left,N.linear.left)&&D(C.linear.right,t.box.right)||'vertical'===L&&D(t.box.top,N.linear.top)&&D(C.linear.bottom,t.box.bottom))2<m.length||o.enabled?N.app(M,'spread_inside'):(l(N,yt.rightLeftBottomTop[r]),l(C,yt.leftRightTopBottom[r]));else if(B<=Ke['chainPacked'+y+'Offset']||'nowrap'!==t.flex.wrap||'horizontal'===L&&(N.linear.left===t.box.left||C.linear.right===t.box.right)){N.app(M,'packed');var z='';z=D(t.box.left,N.linear.left)?'0':D(C.linear.right,t.box.right)?'1':N[L+'Bias'],N.app('layout_constraint'+y+'_bias',z)}else N.app(M,'spread');e.adjustMargins(m.list),o.enabled||m.list.forEach(function(e){a.list.forEach(function(t){var n=t.constraint.horizontalChain,a=t.constraint.verticalChain;0<n.length&&null!=n.find(e.id)&&n.clear(),0<a.length&&null!=a.find(e.id)&&a.clear()})})}}else if(0<m.length){var W=m.first;d(W,'left')&&l(W,'rightLeft'),d(W,'right')&&l(W,'leftRight')}})}})}if(!o.enabled){var N=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=r?'app':'android';for(var a in s){var i=e[n](s[a]);'parent'!==i&&(''===t||i===t)&&e.delete(n,s[a])}};if(r){a.list.forEach(function(e){[['top','bottom','topBottom'],['bottom','top','bottomTop']].forEach(function(t){d(e,t[1])&&null==e.app(s[t[2]])&&['leftRight','rightLeft'].forEach(function(n){var r=e.app(s[n]);if(null!=r){var i=a.list.find(function(e){return e.stringId===r});null!=i&&null!=i.app(s[t[2]])&&(D(e.linear[t[0]],i.linear[t[0]])&&e.app(s[t[0]],i.stringId,!0),D(e.linear[t[1]],i.linear[t[1]])&&e.app(s[t[1]],i.stringId,!0))}})})});var B=a.list.filter(function(e){return!e.anchored&&(d(e,'top')||d(e,'right')||d(e,'bottom')||d(e,'left'))});0===c.length&&0===B.length&&B.push(a.sortAsc('linear.left','linear.top')[0]),B.forEach(function(n){Ke.useConstraintGuideline?e.addGuideline(t,n):e.setAlignParent(n,'',!0)});var P=a.anchors[0];a.list.filter(function(e){return!e.anchored}).forEach(function(n){var r=Math.pow,i=Math.round,o=Math.abs;if(N(n),a.anchors.forEach(function(e){return N(e,n.stringId)}),n.constraint.horizontal=d(n,'left')||d(n,'right'),n.constraint.vertical=d(n,'top')||d(n,'bottom'),Ke.useConstraintGuideline)e.addGuideline(t,n);else{var l=n.center,s=P.center,u=o(l.x-s.x),p=o(l.y-s.y),c=i(Math.atan(Te(u,p)/ve(u,p))*(180/Math.PI)),h=i(Math.sqrt(r(u,2)+r(p,2)));l.y>s.y?l.x>s.x?u>p?c+=90:c=180-c:u>p?c=270-c:c+=180:l.y<s.y?s.x>l.x?u>p?c+=270:c=360-c:u>p&&(c=90-c):c=l.x>s.x?90:270,n.app('layout_constraintCircle',P.stringId),n.app('layout_constraintCircleRadius',z(''+n.tagName,'constraintcircleradius',y(h))),n.app('layout_constraintCircleAngle',c.toString()),n.constraint.horizontal=!0,n.constraint.vertical=!0}}),a.list.forEach(function(e){d(e,'right')&&!d(e,'left')&&null==e.app(s.leftRight)&&(t.constraint.layoutWidth=!0),d(e,'bottom')&&!d(e,'top')&&null==e.app(s.topBottom)&&(t.constraint.layoutHeight=!0)})}else a.list.forEach(function(n){var a='true'===n.android(pe('layout_alignParentRight')),r='true'===n.android('layout_alignParentBottom');if(!c.includes(n)){if(N(n),n.constraint.horizontal='true'===n.android(pe('layout_alignParentLeft'))||a,n.constraint.vertical='true'===n.android('layout_alignParentTop')||r,!n.constraint.horizontal){var i=y(ve(0,n.linear.left-t.box.left));'0px'!==i&&(n.css(pe('marginLeft'),i),n.android(pe('layout_marginLeft'),i)),n.android(pe('layout_alignParentLeft'),'true'),n.constraint.horizontal=!0}if(!n.constraint.vertical){var o=y(ve(0,n.linear.top-t.box.top));'0px'!==o&&(n.css('marginTop',o),n.android('layout_marginTop',o)),n.android('layout_alignParentTop','true'),n.constraint.vertical=!0}}else e.adjustMargins([n]);a&&null==n.android(s.leftRight)&&(t.constraint.layoutWidth=!0),r&&null==n.android(s.topBottom)&&(t.constraint.layoutHeight=!0)})}}()})}},{key:'setMarginPadding',value:function(){this.cache.list.forEach(function(e){if(e.is(Je.LINEAR,Je.RADIO_GROUP))switch(e.android('orientation')){case'horizontal':var t=e.box.left;F(e.renderChildren,'linear.left').forEach(function(e){if(!e.floating){var n=Ee(e.linear.left-t);1<=n&&e.modifyBox($e.MARGIN_LEFT,n)}t=(e.label||e).linear.right});break;case'vertical':var n=e.box.top;F(e.renderChildren,'linear.top').forEach(function(e){var t=Ee(e.linear.top-n);1<=t&&e.modifyBox($e.MARGIN_TOP,t),n=e.linear.bottom});}})}},{key:'renderGroup',value:function(e,t,n,a){var r=this,i='',o='',d=t;if('number'==typeof n&&(n=ht.getViewName(n)),e.setViewId(n),0!==e.overflow){var l=[];e.overflowX&&l.push(Ve.SCROLL_HORIZONTAL),e.overflowY&&l.push(e.ascend().some(function(e){return 0!==e.overflow})?Ve.SCROLL_NESTED:Ve.SCROLL_VERTICAL);var s=e,u=t.renderDepth+l.length;l.map(function(t){var n=new gt(r.cache.nextId,s,null,[s]),a=n;n.setViewId(t),n.setBounds(),n.inheritGrid(s),n.android('fadeScrollbars','false'),r.cache.list.push(a),t===Ve.SCROLL_HORIZONTAL?(n.css('width',e.styleMap.width),n.css('minWidth',e.styleMap.minWidth),n.css('overflowX',e.styleMap.overflowX)):(n.css('height',e.styleMap.height),n.css('minHeight',e.styleMap.minHeight),n.css('overflowY',e.styleMap.overflowY));var l=R(u--);return i=l+('<'+t+'{@'+n.id+'}>\n')+i,o+=l+('</'+t+'>\n'),s===e&&(e.parent=a,d=a),s=a,n}).reverse().forEach(function(e,n){0===n?(e.parent=t,e.render(t)):1===n?(e.parent=s,e.render(s)):void 0,s=e})}return e.apply(a),e.render(d),this.setGridSpace(e),this.getEnclosingTag(e.renderDepth,n,e.id,'{:'+e.id+'}',i,o)}},{key:'renderView',value:function(e,t,n){var a=this,r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],i=e.element;switch('number'==typeof n&&(n=ht.getViewName(n)),e.setViewId(n),i.tagName){case'IMG':switch(i.style.objectFit){case'contain':e.android('scaleType','centerInside');break;case'cover':e.android('scaleType','centerCrop');break;case'fill':e.android('scaleType','fitXY');break;case'scale-down':e.android('scaleType','fitCenter');}break;case'TEXTAREA':e.android('minLines','2'),2<i.rows&&e.android('maxLines',i.rows.toString()),0<i.maxLength&&e.android('maxLength',i.maxLength.toString()),e.android('hint',i.placeholder),e.android('scrollbars','vertical'),e.android('inputType','textMultiLine'),e.overflowX&&e.android('scrollHorizontally','true');break;case'INPUT':switch(i.type){case'radio':if(!r){var o=e.documentParent.children.filter(function(e){return'radio'===e.element.type&&e.element.name===i.name}),d='';if(1<o.length){var l=new gt(this.cache.nextId,e,t,o),s=l,u='';return this.cache.list.push(s),l.setViewId(Ve.RADIO_GROUP),l.render(t),o.forEach(function(e){l.inheritGrid(e),e.element.checked&&(u=e.stringId),e.parent=l,e.render(l),d+=a.renderView(e,s,Je.RADIO,!0)}),l.android('orientation',He.linearX(l.children)?'horizontal':'vertical'),''!==u&&l.android('checkedButton',u),l.setBounds(),this.setGridSpace(s),this.getEnclosingTag(l.renderDepth,Ve.RADIO_GROUP,l.id,d)}}break;case'password':e.android('inputType','textPassword');break;case'text':e.android('inputType','text');break;case'range':k(i.min)&&e.android('min',i.min),k(i.max)&&e.android('max',i.max),k(i.value)&&e.android('progess',i.value);}}switch(e.viewName){case Ve.TEXT:if(0!==e.overflow){var p=[];e.overflowX&&p.push('horizontal'),e.overflowY&&p.push('vertical'),e.android('scrollbars',p.join('|'))}}return e.render(t),f(e.excludeProcedure,Qe.ACCESSIBILITY)||e.setAccessibility(),e.cascade().forEach(function(e){return e.hide()}),this.setGridSpace(e),this.getEnclosingTag(e.renderDepth,e.viewName,e.id)}},{key:'createGroup',value:function(e,t,n){var a=new gt(this.cache.nextId,e,t,n);return n.forEach(function(e){e.parent=a,a.inheritGrid(e)}),a.setBounds(),this.cache.list.push(a),a}},{key:'getViewStatic',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:'',i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,o=!!(6<arguments.length&&void 0!==arguments[6])&&arguments[6],d=!1;null==i&&(i=new ht(0,Ke.targetAPI),d=!0);var l=ve(0,t),s='number'==typeof e?ht.getViewName(e):e;e=null!=i&&i.hasElement?i.tagName:s,i.setViewId(s),k(a)&&(!isNaN(parseInt(a))&&(a=z(e,'width',a)),i.android('layout_width',a)),k(r)&&(!isNaN(parseInt(r))&&(r=z(e,'height',r)),i.android('layout_height',r)),i.renderDepth=l,i.apply(n);var u=this.getEnclosingTag(0===t&&d?-1:t,s,i.id,o?'{:'+i.id+'}':'');if(Ke.showAttributes&&0===i.id){var p=R(l+1),c=i.combine().map(function(e){return'\n'+(p+e)}).join('');u=u.replace('{@'+i.id+'}',c)}return n.stringId=i.stringId,u}},{key:'setAttributes',value:function(e){var t=this,n=e.cache.filter(function(e){return e.visible}).map(function(e){return{pattern:'{@'+e.id+'}',attributes:t.parseAttributes(e)}});[].concat(Me(e.views),Me(e.includes)).forEach(function(e){n.forEach(function(t){return e.content=e.content.replace(t.pattern,t.attributes)}),e.content=e.content.replace('{#0}',t.getRootNamespace(e.content))})}},{key:'insertAttributes',value:function(e,t){return e.replace('{@'+t.id+'}',this.parseAttributes(t))}},{key:'setDimensions',value:function(e){var t=this,n={};if(e.cache.filter(function(e){return e.visible}).forEach(function(e){if(e.setGridSpan(),e.setBoxSpacing(),Ke.dimensResourceValue){var a=e.tagName.toLowerCase();null==n[a]&&(n[a]={});var r=n[a],i=!0,o=!1,d=void 0;try{for(var l=Object.keys($e)[Symbol.iterator](),s;!(i=(s=l.next()).done);i=!0){var u=s.value,p=e.boxValue(parseInt(u));if(''!==p[0]&&'0px'!==p[1]){var c=$e[u].toLowerCase()+'-'+p[0]+'-'+p[1];t.addDimenGroup(r,e,c)}}}catch(e){o=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw d}}['android:layout_width:width','android:layout_height:height','android:minWidth:minwidth','android:minHeight:minheight','app:layout_constraintWidth_min:constraintwidth_min','app:layout_constraintHeight_min:constraintheight_min'].forEach(function(n){var a=n.split(':'),i=Pe(a,3),o=i[0],d=i[1],l=i[2];t.addDimenGroup(r,e,l,d,e[o](d))})}}),Ke.dimensResourceValue){var a=ut.STORED.DIMENS;for(var r in n){var i=n[r],o=function(e){var n=e.split('-'),o=Pe(n,3),d=o[0],l=o[1],s=o[2],u=t.getDimenResourceKey(a,r+'_'+pe(d),s);i[e].forEach(function(e){return e[-1===l.indexOf('constraint')?'android':'app'](l,'@dimen/'+u)}),a.set(u,s)};for(var d in i)o(d)}}}},{key:'parseDimensions',value:function(e){for(var t=ut.STORED.DIMENS,n=/\s+\w+:\w+="({%(\w+)-(\w+)-(\w+)})"/g,a=void 0,r;null!=(a=n.exec(e));)r=this.getDimenResourceKey(t,a[2]+'_'+pe(a[3]),a[4]),t.set(r,a[4]),e=e.replace(new RegExp(a[1],'g'),'@dimen/'+r);return e}},{key:'addXmlNamespace',value:function(e,t){We[e]=t}},{key:'getViewName',value:function(e){return ht.getViewName(e)}},{key:'parseAttributes',value:function(e){var t=e.combine(),n=R(e.renderDepth+1),a=t.map(function(e){return'\n'+(n+e)}).join('');return a}},{key:'getRootNamespace',value:function(e){var t='';for(var n in We)new RegExp('\\s+'+n+':').test(e)&&(t+='\n\txmlns:'+n+'="'+We[n]+'"');return t}},{key:'addDimenGroup',value:function(e,t,n,a,r){var i=n;if(5===arguments.length)if(r&&/(px|dp|sp)$/.test(r))i=n+'-'+a+'-'+r;else return;null==e[i]&&(e[i]=[]),e[i].push(t)}},{key:'getDimenResourceKey',value:function(e,t,n){return e.has(t)&&e.get(t)!==n&&(t=a('dimens',t+'_1')),t}},{key:'setGridSpace',value:function(e){if(e.parent.is(Je.GRID)){var t=Q(e.documentParent.element,!0),n={android:{layout_columnSpan:e.renderParent.gridColumnCount}};if(e.gridFirst){var a=t.paddingTop+t.marginTop;0<a&&(e.parent.gridPadding.top=a)}if(e.gridRowStart){var r=t.marginLeft+t.paddingLeft;0<r&&e.parent.gridPadding.left.push(r)}if(e.gridRowEnd){var i=t.marginBottom+t.paddingBottom+(e.gridLast?0:t.marginTop+t.paddingTop);0<i&&(e.gridLast?e.parent.gridPadding.bottom=i:this.appendAfter(e.id,this.getViewStatic(Je.SPACE,e.renderDepth,n,'match_parent',p(i))));var o=t.marginRight+t.paddingRight;0<o&&e.parent.gridPadding.right.push(o)}}}},{key:'setAlignParent',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],a=ft.constraint;['horizontal','vertical'].forEach(function(r,i){e.constraint[r]||''!==t&&r!==t||(e.app(a[0===i?'left':'top'],'parent'),e.app(a[0===i?'right':'bottom'],'parent'),e.constraint[r]=!0,n&&e.app('layout_constraint'+(r.charAt(0).toUpperCase()+r.substring(1))+'_bias',e[r+'Bias']))})}},{key:'partitionChain',value:function(e,t,n,a){var r=n.map(function(n){var r=new Set([t]),i=e.list.filter(function(e){return L(t,e,n)}),o=void 0;do o=!1,Array.from(r).some(function(e){return i.some(function(t){return!(r.has(t)||t.app(a[0])!==e.stringId&&t.app(a[1])!==e.stringId)&&(r.add(t),o=!0,!0)})});while(o);return Array.from(r)}).reduce(function(e,t){return e.length>=t.length?e:t});return r}},{key:'addGuideline',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',a=this,r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:-1,o=ft.constraint,d='layout_constraintGuide_'+(-1===i?'begin':'percent');['horizontal','vertical'].forEach(function(l,s){if(!t.constraint[l]&&(''===n||l===n)){var u=0===s?'left':'top',p={android:{orientation:0===s?'vertical':'horizontal'},app:Oe({},d,-1===i?z(t.tagName,'constraintguide_begin',y(ve(t.linear[u]-e.box[u],0))):i)},c=0===s?r?'right':'left':r?'bottom':'top',h=0===s?r?'left':'right':r?'top':'bottom',g=a.getViewStatic(Ve.GUIDELINE,t.renderDepth,p,'wrap_content','wrap_content');a.appendAfter(t.id,g),t.app(o[c],p.stringId),t.delete('app',o[h]),t.constraint[l]=!0}})}},{key:'findByAndroidId',value:function(e){return this.cache.list.find(function(t){return t.android('id')===e})}},{key:'adjustMargins',value:function(e){var t=!0,n=!1,a=void 0;try{for(var r=e[Symbol.iterator](),i,o;!(t=(i=r.next()).done);t=!0){if(o=i.value,null!=o.constraint.marginHorizontal){var d=this.findByAndroidId(o.constraint.marginHorizontal);if(null!=d){var l=o.linear.left-d.linear.right;1<=l&&o.modifyBox($e.MARGIN_LEFT,l)}}if(null!=o.constraint.marginVertical){var s=this.findByAndroidId(o.constraint.marginVertical);if(null!=s){var u=o.linear.top-s.linear.bottom;1<=u&&o.modifyBox($e.MARGIN_TOP,u)}}}}catch(e){n=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw a}}}}]),t}(st),bt=['!0','<?xml version="1.0" encoding="utf-8"?>','<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">','!1','\t<stroke android:width="{&width}" {borderStyle} />','!1','!2','!3','\t<solid android:color="@color/{&color}" />','!3','!4','\t<corners android:radius="{&radius}" />','!4','!5','\t<corners android:topLeftRadius="{&topLeftRadius}" android:topRightRadius="{&topRightRadius}" android:bottomRightRadius="{&bottomRightRadius}" android:bottomLeftRadius="{&bottomLeftRadius}" />','!5','!2','</shape>','!0'].join('\n'),xt=['!0','<?xml version="1.0" encoding="utf-8"?>','<layer-list xmlns:android="http://schemas.android.com/apk/res/android">','!1','\t<item android:top="{@top}" android:right="{@right}" android:bottom="{@bottom}" android:left="{@left}">','\t\t<shape android:shape="rectangle">','!2','\t\t\t<stroke android:width="{&width}" {borderStyle} />','!2','!3','\t\t\t<solid android:color="@color/{&color}" />','!3','!4','\t\t\t<corners android:radius="{&radius}" />','!4','!5','\t\t\t<corners android:topLeftRadius="{@topLeftRadius}" android:topRightRadius="{@topRightRadius}" android:bottomRightRadius="{@bottomRightRadius}" android:bottomLeftRadius="{@bottomLeftRadius}" />','!5','\t\t</shape>','\t</item>','!1','!6','\t<item android:drawable="@drawable/{image}" width="{@width}" height="{@height}" />','!6','</layer-list>','!0'].join('\n'),Tt={STRINGS:new Map,ARRAYS:new Map,FONTS:new Map,COLORS:new Map,STYLES:new Map,DIMENS:new Map,DRAWABLES:new Map,IMAGES:new Map},vt;Object.assign(Tt,ut.STORED);var Et={boxSpacing:{margin:'android:layout_margin="{0}"',marginTop:'android:layout_marginTop="{0}"',marginRight:'android:layout_marginRight="{0}"',marginBottom:'android:layout_marginBottom="{0}"',marginLeft:'android:layout_marginLeft="{0}"',padding:'android:padding="{0}"',paddingTop:'android:paddingTop="{0}"',paddingRight:'android:paddingRight="{0}"',paddingBottom:'android:paddingBottom="{0}"',paddingLeft:'android:paddingLeft="{0}"'},boxStyle:{background:'android:background="@drawable/{0}"',backgroundColor:'android:background="@color/{0}"'},fontStyle:{fontFamily:'android:fontFamily="{0}"',fontStyle:'android:textStyle="{0}"',fontWeight:'android:fontWeight="{0}"',fontSize:'android:textSize="{0}"',color:'android:textColor="{0}"',backgroundColor:'android:background="{0}"'},valueString:{text:'android:text="{0}"'},optionArray:{entries:'android:entries="@array/{0}"'},imageSource:{src:'android:src="@drawable/{0}"'}},At=function(e){function t(e){Le(this,t);var n=De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tagStyle={},n.tagCount={},n.file.stored=Tt,n}return Ce(t,e),we(t,[{key:'finalize',value:function(e){this.processFontStyle(e)}},{key:'reset',value:function(){ke(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'reset',this).call(this),Tt.ARRAYS=new Map,Tt.FONTS=new Map,Tt.STYLES=new Map,Tt.DRAWABLES=new Map,Object.assign(Tt,ut.STORED),this.file.reset(),this.tagStyle={},this.tagCount={}}},{key:'setBoxSpacing',value:function(){ke(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setBoxSpacing',this).call(this),this.cache.elements.forEach(function(e){if(!f(e.excludeResource,Ze.BOX_SPACING)){var t=e.element.__boxSpacing;if(null!=t){var n=Et.boxSpacing;for(var a in t)e.attr(r(pe(n[a]),t[a]),null==e.renderExtension)}}})}},{key:'setBoxStyle',value:function(){var e=this;ke(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setBoxStyle',this).call(this),this.cache.elements.forEach(function(t){if(!f(t.excludeResource,Ze.BOX_STYLE)){var n=t.element,a=n,i=a.__boxStyle;if(null!=i){var o=Et.boxStyle,d=t.label;if(d&&!Z(d.element,'backgroundColor')&&(i.backgroundColor=d.element.__boxStyle.backgroundColor),e.borderVisible(i.borderTop)||e.borderVisible(i.borderRight)||e.borderVisible(i.borderBottom)||e.borderVisible(i.borderLeft)||''!==i.backgroundImage||0<i.borderRadius.length){var l=null,s=void 0,u='';if(null==i.border){l=U(xt),s={0:[{1:[],6:''!==i.backgroundImage&&[{image:i.backgroundImage,width:i.backgroundSize[0],height:i.backgroundSize[1]}]}]};var p=W(s,'0'),c=[i.borderTop,i.borderRight,i.borderBottom,i.borderLeft],h=!0,g='',m='',_='';c.some(function(t,n){if(e.borderVisible(t)){if(''!==g&&g!==t.width&&''!==m&&m!==e.getBorderStyle(t)&&''!==_&&_!==i.borderRadius[n])return h=!1,!1;var a=[t.width,e.getBorderStyle(t),i.borderRadius[n]];g=a[0],m=a[1],_=a[2]}return!0});var b={};if(1<i.borderRadius.length&&Object.assign(b,{topLeftRadius:i.borderRadius[0],topRightRadius:i.borderRadius[1],bottomRightRadius:i.borderRadius[2],bottomLeftRadius:i.borderRadius[3]}),h){var x='-'+y(2*parseInt(g)),T={top:e.borderVisible(i.borderTop)?'':x,right:e.borderVisible(i.borderRight)?'':x,bottom:e.borderVisible(i.borderBottom)?'':x,left:e.borderVisible(i.borderLeft)?'':x,2:[{width:g,borderStyle:m}],3:e.getShapeAttribute(i,'backgroundColor'),4:e.getShapeAttribute(i,'radius'),5:e.getShapeAttribute(i,'radiusInit')};1<i.borderRadius.length&&T[5].push(b),p[1].push(T)}else c.forEach(function(t,n){if(e.borderVisible(t)){var a='-'+t.width,r={top:a,right:a,bottom:a,left:a,2:[{width:t.width,borderStyle:e.getBorderStyle(t)}],3:e.getShapeAttribute(i,'backgroundColor'),4:e.getShapeAttribute(i,'radius'),5:e.getShapeAttribute(i,'radiusInit')};r[['top','right','bottom','left'][n]]=t.width,1<i.borderRadius.length&&r[5].push(b),p[1].push(r)}});0===p[1].length&&(p[1]=!1)}else if(''===i.backgroundImage){if(l=U(bt),s={0:[{1:e.getShapeAttribute(i,'stroke'),2:!!(0<i.backgroundColor.length||0<i.borderRadius.length)&&[{3:e.getShapeAttribute(i,'backgroundColor'),4:e.getShapeAttribute(i,'radius'),5:e.getShapeAttribute(i,'radiusInit')}]}]},1<i.borderRadius.length){var v=W(s,'0','2'),E=e.getShapeAttribute(i,'radiusAll');v[5].push(E)}}else if(''!==i.backgroundImage&&('none'===i.border.style||'0px'===i.border.size))u=i.backgroundImage;else if(l=U(xt),s={0:[{1:[{2:e.getShapeAttribute(i,'stroke'),3:e.getShapeAttribute(i,'backgroundColor'),4:e.getShapeAttribute(i,'radius'),5:e.getShapeAttribute(i,'radiusInit')}],6:''!==i.backgroundImage&&[{image:i.backgroundImage,width:i.backgroundSize[0],height:i.backgroundSize[1]}]}]},1<i.borderRadius.length){var A=W(s,'0','1'),R=e.getShapeAttribute(i,'radiusAll');A[5].push(R)}if(null!=l){var I=Y(l,s),S=!0,L=!1,w=void 0;try{for(var O=Tt.DRAWABLES.entries()[Symbol.iterator](),N;!(S=(N=O.next()).done);S=!0){var k=N.value,C=Pe(k,2),D=C[0],B=C[1];if(B===I){u=D;break}}}catch(e){L=!0,w=e}finally{try{!S&&O.return&&O.return()}finally{if(L)throw w}}''===u&&(u=t.tagName.toLowerCase()+'_'+t.viewId,Tt.DRAWABLES.set(u,I))}t.attr(r(o.background,u),null==t.renderExtension)}else null==a.__fontStyle&&0<i.backgroundColor.length&&t.attr(r(o.backgroundColor,i.backgroundColor[0]),null==t.renderExtension)}}})}},{key:'setFontStyle',value:function(){var e=this;ke(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setFontStyle',this).call(this);var n={};this.cache.list.forEach(function(e){f(e.excludeResource,Ze.FONT_STYLE)||null==e.element.__fontStyle||(null==n[e.tagName]&&(n[e.tagName]=[]),n[e.tagName].push(e))});var a=function(t){var a=n[t],o=[];if(a.forEach(function(e){if(null==e.labelFor){var t=!1,n=null;null!=e.label&&(n=e,e=e.label);var a=e.element,d=(n||e).id,l=Object.assign({},a.__fontStyle);if(null!=l.fontFamily){var s=l.fontFamily.toLowerCase().split(',')[0].replace(/"/g,'').trim(),u='',p='';if(Ke.useFontAlias&&null!=je[s]&&(s=je[s]),Ue[s]&&Ke.targetAPI>=Ue[s]||Ke.useFontAlias&&Ye[s]&&Ke.targetAPI>=Ue[Ye[s]]?(t=!0,l.fontFamily=s,'normal'===l.fontStyle&&delete l.fontStyle,'400'===l.fontWeight&&delete l.fontWeight):(s=_(s),l.fontFamily='@font/'+(s+('normal'===l.fontStyle?'':'_'+l.fontStyle)+('400'===l.fontWeight?'':'_'+(qe[l.fontWeight]||l.fontWeight))),u=l.fontStyle,p=l.fontWeight,delete l.fontStyle,delete l.fontWeight),!t){var c=Tt.FONTS.get(s)||{};Object.assign(c,Oe({},u+'-'+p,!0)),Tt.FONTS.set(s,c)}}for(var h=Et.fontStyle,g=Object.keys(h),m=0;m<g.length;m++){null==o[m]&&(o[m]={});var f=l[g[m]];if(k(f)&&e.supported('android',g[m])){var y=r(h[g[m]],f);null==o[m][y]&&(o[m][y]=[]),o[m][y].push(d)}}}}),null!=e.tagStyle[t]){for(var d=e.tagStyle[t],l=0;l<d.length;l++)for(var s in d[l])if(null!=o[l][s]){var u;(u=o[l][s]).push.apply(u,Me(d[l][s]))}else o[l][s]=d[l][s];e.tagCount[t]+=a.filter(function(e){return e.visible}).length}else e.tagCount[t]=a.filter(function(e){return e.visible}).length;e.tagStyle[t]=o};for(var i in n)a(i)}},{key:'setImageSource',value:function(){ke(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setImageSource',this).call(this),this.cache.list.filter(function(e){return'IMG'===e.tagName}).forEach(function(e){if(!f(e.excludeResource,Ze.IMAGE_SOURCE)){var t=e.element,n=t.__imageSource;if(null!=n){var a=Et.imageSource;e.attr(r(a.src,n),null==e.renderExtension)}}})}},{key:'setOptionArray',value:function(){ke(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setOptionArray',this).call(this),this.cache.list.filter(function(e){return'SELECT'===e.tagName}).forEach(function(e){if(!f(e.excludeResource,Ze.OPTION_ARRAY)){var t=e.element.__optionArray,n=Et.optionArray,a=[];null!=t.stringArray&&(a=t.stringArray.map(function(e){return'@string/'+e})),null!=t.numberArray&&(a=t.numberArray);var i='',o=a.join('-'),d=!0,l=!1,s=void 0;try{for(var u=Tt.ARRAYS.entries()[Symbol.iterator](),p;!(d=(p=u.next()).done);d=!0){var c=p.value,h=Pe(c,2),g=h[0],m=h[1];if(o===m.join('-')){i=g;break}}}catch(e){l=!0,s=e}finally{try{!d&&u.return&&u.return()}finally{if(l)throw s}}''===i&&(i=e.viewId+'_array',Tt.ARRAYS.set(i,a)),e.attr(r(n.entries,i),null==e.renderExtension)}})}},{key:'setValueString',value:function(){ke(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setValueString',this).call(this),this.cache.list.forEach(function(e){if(!f(e.excludeResource,Ze.VALUE_STRING)){var t=null==e.label?e.element:e.label.element,n=t.__valueString;if(null!=n){var a=Et.valueString,i=Tt.STRINGS.get(n);if(e.is(Je.TEXT)&&null!=e.style){var o=e.style.textDecoration.match(/(underline|line-through)/);if(null!=o){switch(o[0]){case'underline':i='<u>'+i+'</u>';break;case'line-through':i='<strike>'+i+'</strike>';}Tt.STRINGS.set(n,i)}}e.attr(r(a.text,(parseInt(n)||'').toString()===n?n:'@string/'+n),null==e.renderExtension)}}})}},{key:'addResourceTheme',value:function(e,t,n){var a=U(e);if(null!=n.item){var r=W(t,'0');for(var i in n.item){var o=n.item[i],d=ue(o);''!==d&&(o='@color/'+ut.addColor(d)),r[1].push({name:i,value:o})}}var l=Y(a,t);this.addFile(n.output.path,n.output.file,l)}},{key:'processFontStyle',value:function(e){var t=this,n={},a={};for(var r in this.tagStyle){n[r]={},a[r]={};var o=this.tagStyle[r].filter(function(e){return 0<Object.keys(e).length}).sort(function(e,t){var n=0,a=0,r=0,i=0;for(var o in e)n=ve(e[o].length,n),r+=e[o].length;for(var d in t)null!=t[d]&&(a=ve(t[d].length,a),i+=t[d].length);return n===a?r>=i?-1:1:n>a?-1:1}),d=this.tagCount[r];do if(1===o.length){for(var s in o[0]){var u=o[0][s];2<u.length?n[r][s]=u:a[r][s]=u}o.length=0}else{for(var p={},c={},h=function(e){var a={},i={},l=new Set;for(var s in o[e])if(null!=o[e]){var u=o[e][s],h=!1;if(null==u||0===u.length)continue;else u.length===d?(p[s]=u,o[e]=null,h=!0):1===u.length&&(c[s]=u,o[e][s]=null,h=!0);if(!h){for(var g={},m=!1,f=0;f<o.length;f++)if(e!==f)for(var y in o[f]){var _=o[f][y],b=!0,x=!1,T=void 0;try{for(var v=u[Symbol.iterator](),E,A;!(b=(E=v.next()).done);b=!0)A=E.value,_.includes(A)&&(null==g[y]&&(g[y]=[]),g[y].push(A))}catch(e){x=!0,T=e}finally{try{!b&&v.return&&v.return()}finally{if(x)throw T}}}for(var R in g)1<g[R].length&&(a[[s,R].sort().join(';')]=g[R],m=!0);m||(a[s]=u)}}for(var I in a)for(var S in a)if(I!==S&&a[I].join('')===a[S].join('')){var L=a[I].join(',');i[L]=null==i[L]?new Set([].concat(Me(I.split(';')),Me(S.split(';')))):new Set([].concat(Me(i[L]),Me(S.split(';')))),l.add(I).add(S)}for(var w in l.forEach(function(e){return delete a[e]}),a)t.deleteStyleAttribute(o,w,a[w]),n[r][w]=a[w];for(var O in i){var N=Array.from(i[O]).sort().join(';'),k=O.split(',').map(function(e){return parseInt(e)});t.deleteStyleAttribute(o,N,k),n[r][N]=k}},g=0;g<o.length;g++)h(g);var m=Object.keys(p);for(var f in 0<m.length&&(1<m.length||1<p[m[0]].length?n[r][m.join(';')]=p[m[0]]:Object.assign(c,p)),c)a[r][f]=c[f];for(var g=0;g<o.length;g++)o[g]&&0===Object.keys(o[g]).length&&delete o[g];o=o.filter(function(e){return e&&0<e.length})}while(0<o.length)}var y={},_=function(e){var t=n[e],a=[];for(var r in t)a.push({attributes:r,ids:t[r]});a.sort(function(e,t){var n=[e.ids.length,t.ids.length],a=n[0],r=n[1];if(a===r){var i=[e.attributes.split(';').length,t.attributes.split(';').length];a=i[0],r=i[1]}return a>=r?-1:1}),a.forEach(function(t,n){return t.name=l(e)+(0<n?'_'+n:'')}),y[e]=a};for(var b in n)_(b);var x=new Set,T={};for(var b in y){var v=!0,E=!1,A=void 0;try{for(var I=y[b][Symbol.iterator](),S;!(v=(S=I.next()).done);v=!0){var L=S.value,w=!0,O=!1,N=void 0;try{for(var k=L.ids[Symbol.iterator](),C,D;!(w=(C=k.next()).done);w=!0)D=C.value,null==T[D]&&(T[D]={styles:[],attributes:[]}),T[D].styles.push(L.name)}catch(e){O=!0,N=e}finally{try{!w&&k.return&&k.return()}finally{if(O)throw N}}}}catch(e){E=!0,A=e}finally{try{!v&&I.return&&I.return()}finally{if(E)throw A}}var B=a[b];if(null!=B)for(var F in B){var P=function(t){if(F.startsWith('android:background=')){var n=e.cache.find(function(e){return e.id===t});if(n&&null!=n.android('background'))return'continue'}null==T[t]&&(T[t]={styles:[],attributes:[]}),T[t].attributes.push(F)},M=!0,H=!1,X=void 0;try{for(var z=B[F][Symbol.iterator](),W;!(M=(W=z.next()).done);M=!0){var U=W.value,Y=P(U)}}catch(e){H=!0,X=e}finally{try{!M&&z.return&&z.return()}finally{if(H)throw X}}}}var j=function(t){var n=e.cache.find(function(e){return e.id===parseInt(t)});if(null!=n){var a=T[t].styles,r=T[t].attributes,i=R(n.renderDepth+1),o='';0<a.length&&(x.add(a.join('.')),o+='\n'+(i+(11<=n.viewType?'android:theme="':'style="'))+'@style/'+a.pop()+'"'),0<r.length&&r.sort().forEach(function(e){return o+='\n'+i+V(e,!0)});var d=!1;if([n,n.parent].some(function(e){if(null!=e.renderExtension){var n=e.renderExtension.name+':insert',a=e.data(n);if(a){if(-1!==a.indexOf('{&'+t+'}'))return a=a.replace('{&'+t+'}',G(o)),e.data(n,a),d=!0,!0}}return!1}),!d)for(var l=[].concat(Me(e.views),Me(e.includes)),s=0;s<l.length;s++){var u=l[s].content,p='{&'+t+'}';if(-1!==u.indexOf(p)){l[s].content=u.replace(p,o);break}}}};for(var q in T)j(q);var K=function(e){var t='';e.split('.').forEach(function(e){var n=e.match(/^(\w*?)(?:_([0-9]+))?$/);if(null!=n){var a=y[n[1].toUpperCase()][null==n[2]?0:parseInt(n[2])];Tt.STYLES.set(e,{parent:t,attributes:a.attributes}),t=e}})},J=!0,Z=!1,Q=void 0;try{for(var $=x[Symbol.iterator](),ee,te;!(J=(ee=$.next()).done);J=!0)te=ee.value,K(te)}catch(e){Z=!0,Q=e}finally{try{!J&&$.return&&$.return()}finally{if(Z)throw Q}}}},{key:'deleteStyleAttribute',value:function(e,t,n){t.split(';').forEach(function(t){for(var a=0;a<e.length;a++)if(null!=e[a]){var r=-1,o='';for(var d in e[a])if(d===t){r=a,o=d,a=e.length;break}if(-1!==r){e[r][o]=e[r][o].filter(function(e){return!n.includes(e)}),0===e[r][o].length&&delete e[r][o];break}}})}},{key:'getShapeAttribute',value:function(e,t){switch(t){case'stroke':return'0px'!==e.border.width&&[{width:e.border.width,borderStyle:this.getBorderStyle(e.border)}];case'backgroundColor':return!!(0<e.backgroundColor.length)&&[{color:e.backgroundColor[0]}];case'radius':return 1===e.borderRadius.length&&'0px'!==e.borderRadius[0]&&[{radius:e.borderRadius[0]}];case'radiusInit':return!!(1<e.borderRadius.length)&&[];case'radiusAll':var n={};return e.borderRadius.forEach(function(e,t){return n[['topLeft','topRight','bottomRight','bottomLeft'][t]+'Radius']=e}),n;}}}]),t}(ut),Rt=function(){function e(t,n,a){Le(this,e),this.directory=t,this.processingTime=n,this.appName='',this.queue=[],this.compression='zip',k(a)&&(this.compression=a)}return we(e,[{key:'addFile',value:function(e,t,n,a){if(''!==n||''!==a){var r=this.queue.findIndex(function(n){return n.pathname===e&&n.filename===t});-1===r?this.queue.push({pathname:e,filename:t,content:n,uri:a}):(this.queue[r].content=n||'',this.queue[r].uri=a||'')}}},{key:'reset',value:function(){this.queue=[]}},{key:'saveToDisk',value:function(e){var t=this;return location.protocol.startsWith('http')?void(null!=e&&0<e.length&&(e.push.apply(e,Me(this.queue)),fetch('/api/savetodisk?directory='+encodeURIComponent(A(this.directory,'/'))+'&appname='+encodeURIComponent(this.appName.trim())+'&filetype='+this.compression.toLocaleLowerCase()+'&processingtime='+this.processingTime.toString().trim(),{method:'POST',body:JSON.stringify(e),headers:new Headers({Accept:'application/json, text/plain, */*',"Content-Type":'application/json'})}).then(function(e){return e.json()}).then(function(e){e&&(null==e.zipname?null!=e.system&&alert(e.application+'\n\n'+e.system):fetch('/api/downloadtobrowser?filename='+encodeURIComponent(e.zipname)).then(function(e){return e.blob()}).then(function(n){return t.downloadToDisk(n,S(e.zipname))}))}).catch(function(e){return alert('ERROR: '+e)}))):void alert('SERVER (required): See README for instructions')}},{key:'downloadToDisk',value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',a=new Blob([e],{type:n||'application/octet-stream'});if('undefined'!=typeof window.navigator.msSaveBlob)return void window.navigator.msSaveBlob(a,t);var r=window.URL.createObjectURL(a),i=document.createElement('a');i.style.display='none',i.href=r,i.setAttribute('download',t),'undefined'==typeof i.download&&i.setAttribute('target','_blank'),document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout(function(){return window.URL.revokeObjectURL(r)},100)}}]),e}(),It=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<string name="{name}">{value}</string>','!1','</resources>','<!-- filename: res/values/strings.xml -->','!0'].join('\n'),St=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<string-array name="{name}">','!2','\t\t<item>{value}</item>','!2','\t</string-array>','!1','</resources>','<!-- filename: res/values/string_arrays.xml -->','!0'].join('\n'),Lt=['!0','<?xml version="1.0" encoding="utf-8"?>','<font-family xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="{#app=http://schemas.android.com/apk/res-auto}">','!1','\t<font android:fontStyle="{style}" android:fontWeight="{weight}" android:font="{font}" app:fontStyle="{#app=style}" app:fontWeight="{#app=weight}" app:font="{#app=font}" />','!1','</font-family>','<!-- filename: res/font/{name}.xml -->','!0'].join('\n'),wt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<color name="{value}">{name}</color>','!1','</resources>','<!-- filename: res/values/colors.xml -->','!0'].join('\n'),Ot=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<style name="{name1}" parent="{@parent}">','!2','\t\t<item name="{name2}">{value}</item>','!2','\t</style>','!1','</resources>','<!-- filename: res/values/styles.xml -->','!0'].join('\n'),Nt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','!1','\t<dimen name="{name}">{value}</dimen>','!1','</resources>','<!-- filename: res/values/dimens.xml -->','!0'].join('\n'),kt=['!0','{value}','<!-- filename: {name} -->','!0'].join('\n'),Ct=function(t){function n(){return Le(this,n),De(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,Ke.outputDirectory,Ke.outputMaxProcessingTime,Ke.outputArchiveFileType))}return Ce(n,t),we(n,[{key:'saveAllToDisk',value:function(e){for(var t=[],n=[].concat(Me(e.views),Me(e.includes)),a=0,r;a<n.length;a++)r=n[a],t.push(this.getLayoutFile(r.pathname,0===a?Ke.outputActivityMainFileName:r.filename+'.xml',r.content));var o=this.resourceDrawableToXml();t.push.apply(t,Me(this.parseFileDetails(this.resourceStringToXml()))),t.push.apply(t,Me(this.parseFileDetails(this.resourceStringArrayToXml()))),t.push.apply(t,Me(this.parseFileDetails(this.resourceFontToXml()))),t.push.apply(t,Me(this.parseFileDetails(this.resourceColorToXml()))),t.push.apply(t,Me(this.parseFileDetails(this.resourceStyleToXml()))),t.push.apply(t,Me(this.parseFileDetails(this.resourceDimenToXml()))),t.push.apply(t,Me(this.parseImageDetails(o)).concat(Me(this.parseFileDetails(o)))),this.saveToDisk(t)}},{key:'layoutAllToXml',value:function(e){for(var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n={},a=[],r=[].concat(Me(e.views),Me(e.includes)),o=0,d;o<r.length;o++)d=r[o],n[d.filename]=d.content,t&&a.push(this.getLayoutFile(d.pathname,0===o?Ke.outputActivityMainFileName:d.filename+'.xml',d.content));return t&&this.saveToDisk(a),n}},{key:'resourceAllToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml()};for(var n in t)''===t[n]&&delete t[n];if(e){var a=[];for(var r in t)'drawable'==r&&a.push.apply(a,Me(this.parseImageDetails(t[r]))),a.push.apply(a,Me(this.parseFileDetails(t[r])));this.saveToDisk(a)}return t}},{key:'resourceStringToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.STRINGS=new Map([].concat(Me(this.stored.STRINGS.entries())).sort(B));var t='';if(0<this.stored.STRINGS.size){var n=U(It),a={0:[{1:[]}]},r=W(a,'0');k(this.appName)&&!this.stored.STRINGS.has('app_name')&&r[1].push({name:'app_name',value:this.appName});var i=!0,o=!1,d=void 0;try{for(var l=this.stored.STRINGS.entries()[Symbol.iterator](),s;!(i=(s=l.next()).done);i=!0){var u=s.value,p=Pe(u,2),c=p[0],h=p[1];r[1].push({name:c,value:h})}}catch(e){o=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw d}}t=Y(n,a),t=X(t,!0),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceStringArrayToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.ARRAYS=new Map([].concat(Me(this.stored.ARRAYS.entries())).sort());var t='';if(0<this.stored.ARRAYS.size){var n=U(St),a={0:[{1:[]}]},r=W(a,'0'),i=!0,o=!1,d=void 0;try{for(var l=this.stored.ARRAYS.entries()[Symbol.iterator](),s;!(i=(s=l.next()).done);i=!0){var u=s.value,p=Pe(u,2),c=p[0],h=p[1],g={name:c,2:[]},m=g[2],f=!0,y=!1,_=void 0;try{for(var b=h[Symbol.iterator](),x,T;!(f=(x=b.next()).done);f=!0)T=x.value,m.push({value:T})}catch(e){y=!0,_=e}finally{try{!f&&b.return&&b.return()}finally{if(y)throw _}}r[1].push(g)}}catch(e){o=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw d}}t=Y(n,a),t=X(t,!0),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceFontToXml',value:function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.FONTS=new Map([].concat(Me(this.stored.FONTS.entries())).sort());var n='';if(0<this.stored.FONTS.size){var a=U(Lt),r=!0,i=!1,o=void 0;try{for(var d=this.stored.FONTS.entries()[Symbol.iterator](),l;!(r=(l=d.next()).done);r=!0){var s=l.value,u=Pe(s,2),p=u[0],c=u[1],h={"#include":{},"#exclude":{},0:[{name:p,1:[]}]};h[Ke.targetAPI<e.build.OREO?'#include':'#exclude'].app=!0;var g=W(h,'0');for(var m in c){var f=m.split('-'),y=Pe(f,2),_=y[0],b=y[1];g[1].push({style:_,weight:b,font:'@font/'+(p+('normal'===_&&'400'===b?'_'+_:('normal'===_?'':'_'+_)+('400'===b?'':'_'+(qe[b]||b))))})}n+='\n\n'+Y(a,h)}}catch(e){i=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw o}}n=X(n),t&&this.saveToDisk(this.parseFileDetails(n))}return n.trim()}},{key:'resourceColorToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.COLORS.size){this.stored.COLORS=new Map([].concat(Me(this.stored.COLORS.entries())).sort());var n=U(wt),a={0:[{1:[]}]},r=W(a,'0'),i=!0,o=!1,d=void 0;try{for(var l=this.stored.COLORS.entries()[Symbol.iterator](),s;!(i=(s=l.next()).done);i=!0){var u=s.value,p=Pe(u,2),c=p[0],h=p[1];r[1].push({name:c,value:h})}}catch(e){o=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw d}}t=Y(n,a),t=X(t),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceStyleToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.STYLES.size){this.stored.STYLES=new Map([].concat(Me(this.stored.STYLES.entries())).sort());var n=U(Ot),a={0:[{1:[]}]},r=W(a,'0'),i=function(e,t){var n={name1:e,parent:t.parent||'',2:[]};t.attributes.split(';').sort().forEach(function(e){var t=e.split('='),a=Pe(t,2),r=a[0],i=a[1];n[2].push({name2:r,value:i.replace(/"/g,'')})}),r[1].push(n)},o=!0,d=!1,l=void 0;try{for(var s=this.stored.STYLES.entries()[Symbol.iterator](),u;!(o=(u=s.next()).done);o=!0){var p=u.value,c=Pe(p,2),h=c[0],g=c[1];i(h,g)}}catch(e){d=!0,l=e}finally{try{!o&&s.return&&s.return()}finally{if(d)throw l}}t=Y(n,a),t=V(t,!0),t=X(t),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceDimenToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.stored.DIMENS=new Map([].concat(Me(this.stored.DIMENS.entries())).sort());var t='';if(0<this.stored.DIMENS.size){var n=U(Nt),a={0:[{1:[]}]},r=W(a,'0'),i=!0,o=!1,d=void 0;try{for(var l=this.stored.DIMENS.entries()[Symbol.iterator](),s;!(i=(s=l.next()).done);i=!0){var u=s.value,p=Pe(u,2),c=p[0],h=p[1];r[1].push({name:c,value:h})}}catch(e){o=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw d}}t=Y(n,a),t=V(t),t=X(t),e&&this.saveToDisk(this.parseFileDetails(t))}return t}},{key:'resourceDrawableToXml',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],t='';if(0<this.stored.DRAWABLES.size||0<this.stored.IMAGES.size){var n=U(kt),a={0:[]},r=a[0],i=!0,o=!1,d=void 0;try{for(var l=this.stored.DRAWABLES.entries()[Symbol.iterator](),s;!(i=(s=l.next()).done);i=!0){var u=s.value,p=Pe(u,2),c=p[0],h=p[1];r.push({name:'res/drawable/'+c+'.xml',value:h})}}catch(e){o=!0,d=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw d}}var g=!0,m=!1,f=void 0;try{for(var y=this.stored.IMAGES.entries()[Symbol.iterator](),_;!(g=(_=y.next()).done);g=!0){var b=_.value,x=Pe(b,2),T=x[0],v=x[1];if(1<Object.keys(v).length)for(var E in v)r.push({name:'res/drawable-'+E+'/'+T+'.'+S(v[E],'.'),value:'<!-- image: '+v[E]+' -->'});else null!=v.mdpi&&r.push({name:'res/drawable/'+T+'.'+S(v.mdpi,'.'),value:'<!-- image: '+v.mdpi+' -->'})}}catch(e){m=!0,f=e}finally{try{!g&&y.return&&y.return()}finally{if(m)throw f}}t=Y(n,a),t=V(t),t=X(t),e&&this.saveToDisk([].concat(Me(this.parseImageDetails(t)),Me(this.parseFileDetails(t))))}return t}},{key:'parseImageDetails',value:function(e){for(var t=[],n=/<!-- image: (.+) -->\n<!-- filename: (.+)\/(.*?\.\w+) -->/,a=null;null!=(a=n.exec(e));)t.push({uri:a[1],pathname:a[2],filename:a[3],content:''}),e=e.replace(a[0],'');return t}},{key:'parseFileDetails',value:function(e){for(var t=[],n=/<\?xml[\w\W]*?(<!-- filename: (.+)\/(.*?\.xml) -->)/,a=null;null!=(a=n.exec(e));)t.push({content:a[0].replace(a[1],'').trim(),pathname:a[2],filename:a[3]}),e=e.replace(a[0],'');return t}},{key:'getLayoutFile',value:function(e,t,n){return{pathname:e,filename:t,content:n}}}]),n}(Rt),Dt=function(e){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=arguments[2];return Le(this,t),De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return Ce(t,e),we(t,[{key:'beforeInit',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if((e||this.included())&&null!=this.element){var t=this.element;if(null==t.__andromeExternalDisplay){for(var n=[],a=this.element;null!=a;)n.push(J(a).display),a.style.display='block',a=a.parentElement;t.__andromeExternalDisplay=n}}}},{key:'init',value:function(e){return this.included(e)&&this.application.elements.add(e),!1}},{key:'afterInit',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];if((e||this.included())&&null!=this.element){var t=this.element;if(null!=t.__andromeExternalDisplay){for(var n=t.__andromeExternalDisplay,a=this.element,r=0;null!=a;)a.style.display=n[r],a=a.parentElement,r++;delete t.__andromeExternalDisplay}}}},{key:'is',value:function(){return!1}},{key:'condition',value:function(){return!1}}]),t}(dt),Bt=function(e){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=arguments[2];Le(this,t);var r=De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return r.require(lt.EXTERNAL,!0),r}return Ce(t,e),we(t,[{key:'processNode',value:function(){var e=this.node,t=this.parent,n=this.application.controllerHandler,a=this.getData(),r='';return a.tag&&(0<e.children.length?r=n.renderGroup(e,t,a.tag):r=n.renderView(e,t,a.tag)),{xml:r}}},{key:'afterInsert',value:function(){var e=this.node,t=Object.assign({},this.options[e.element.id]);e.apply(t)}}]),t}(dt),Ft=function(e){function t(e,n,a){return Le(this,t),De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return Ce(t,e),we(t,[{key:'processNode',value:function(){var e=this.node,t=[],n=e.children.find(function(e){return'THEAD'===e.tagName}),a=e.children.find(function(e){return'TBODY'===e.tagName}),r=e.children.find(function(e){return'TFOOT'===e.tagName});null!=n&&(n.cascade().filter(function(e){return'TH'===e.tagName||'TD'===e.tagName}).forEach(function(e){return e.inheritStyleMap(n)}),t.push.apply(t,Me(n.children)),n.hide()),null!=a&&(t.push.apply(t,Me(a.children)),a.hide()),null!=r&&(r.cascade().filter(function(e){return'TH'===e.tagName||'TD'===e.tagName}).forEach(function(e){return e.inheritStyleMap(r)}),t.push.apply(t,Me(r.children)),r.hide());for(var o=t.length,d=0,l=0,s;l<t.length;l++){s=t[l],s.hide(),d=ve(s.children.map(function(e){return e.element}).reduce(function(e,t){return e+t.colSpan},0),d);for(var u=0;u<s.children.length;u++){var p=s.children[u],c=p.element.style,h=p.element;1<h.rowSpan&&(p.gridRowSpan=h.rowSpan),1<h.colSpan&&(p.gridColumnSpan=h.colSpan),null!=p.styleMap.textAlign||'left'===c.textAlign||'start'===c.textAlign||(p.styleMap.textAlign=c.textAlign),null==p.styleMap.verticalAlign&&''===c.verticalAlign&&(p.styleMap.verticalAlign='middle');var g='collapse'===e.style.borderCollapse?['0px','0px']:e.style.borderSpacing.split(' '),m=Pe(g,2),f=m[0],y=m[1];delete p.styleMap.margin,p.styleMap.marginTop=y,p.styleMap.marginRight=f,p.styleMap.marginBottom=y,p.styleMap.marginLeft=f,p.parent=e}}var _=this.application.writeGridLayout(e,this.parent,d,o);return{xml:_}}}]),t}(dt),Pt=function(e){function t(e,n,a){return Le(this,t),De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return Ce(t,e),we(t,[{key:'condition',value:function(){var e=this.node;return this.included()||e.hasElement&&null==e.element.dataset.ext&&!e.flex.enabled&&1<e.children.length&&tt.includes(e.children[0].tagName)&&e.children.some(function(e){return 1<e.children.length})&&e.children.every(function(t){return!t.flex.enabled&&e.children[0].tagName===t.tagName&&He.linearX(t.children)})}},{key:'processNode',value:function(e){var t=this.node,a=this.parent,r='',i=[],o=this.options.balanceColumns;if(o){for(var d=[],s=0,u;s<t.children.length;s++){u=t.children[s].children,d[s]=[];for(var p=0;p<u.length;p++)d[s].push(u[p].bounds.width);i.push(u)}var c=i[d.findIndex(function(e){return e===d.reduce(function(e,t){return e.length===t.length?e.reduce(function(e,t){return e+t},0)<t.reduce(function(e,t){return e+t},0)?e:t:e.length<t.length?e:t})})];if(1<c.length)for(var h=-1,g=[],f=!1,y=function(e){var t=c[e].bounds,n=[];if(e<c.length-1)for(var a=function(a){if(i[a]===c)n.push(e);else{var r=i[a].findIndex(function(n,r){return r>=e&&Ae(n.bounds.width)===Ae(t.width)&&r<i[a].length-1});if(-1!==r)n.push(r);else return n.length=0,'break'}},r=0,o;r<i.length&&(o=a(r),'break'!==o);r++);else for(var d=0;d<i.length;d++)if(i[d].length>c.length){var l=i[d].splice(g[d]+(f?2:1),i[d].length-c.length);i[d][g[d]+(f?1:0)].gridSiblings=[].concat(Me(l))}if(n.length===i.length){var s=n.reduce(function(e,t){return Te(e,t)});if(h=n.reduce(function(e,t){return ve(e,t)}),h>s)for(var u=0;u<i.length;u++)if(n[u]>s){var p=i[u].splice(s,n[u]-s);i[u][g[u]].gridSiblings=[].concat(Me(p))}g=n,f=!0}else g=Array(i.length).fill(e),f=!1},_=0;_<c.length;_++)y(_);else i.length=0}else{var b=e[t.depth+2],x=b?Object.keys(b):[],T=[];if(1<x.length){for(var v=[],E=0,A;E<x.length;E++){A=F(b[parseInt(x[E])].filter(function(e){return e.parent.parent&&e.parent.parent.id===t.id}),'linear.top'),v[E]=0===E?0:v[E-1];for(var R=function(e){function a(){return i[0].findIndex(function(e){return D(e.linear.top,r.linear.top)||r.linear.top>=e.linear.top&&r.linear.bottom<=e.linear.bottom})}var r=A[e],o=[r.linear.left,r.linear.right],d=o[0],l=o[1],s=E;if(0<s&&'right'===r.css('float')){var u=r.element.style;u.float='left';var p=r.element.getBoundingClientRect();if(d!==p.left-t.marginLeft){d=p.left-t.marginLeft,l=p.right+t.marginRight;for(var c=1;c<v.length&&(s=c,!(d>v[c-1]));c++);}u.float='right'}if(!(0===s||d>=v[s-1])){var h=i.length-1,g=i[h].reduce(function(e,t){return Te(e,t.linear.left)},Number.MAX_VALUE),m=i[h].reduce(function(e,t){return ve(e,t.linear.right)},0);if(d>g&&l>m){var f=i.filter(function(e){return e}),y=a();-1!==y&&null==f[f.length-1][y]&&(i[h]=null)}}else if(null==i[s]&&(i[s]=[]),0===s||i[0].length===A.length)i[s][e]=r;else{var _=a();-1!==_&&(i[s][_]=r)}v[E]=ve(r.linear.right,v[E])},I=0;I<A.length;I++)R(I)}for(var S=0,L=-1;S<v.length;S++)if(-1===L&&null==i[S])L=S-1;else if(null==i[S]){-1!=L&&S===v.length-1&&(v[L]=v[S]);continue}else-1!=L&&(v[L]=v[S-1],L=-1);for(var w=0;w<i.length;w++)null!=i[w]&&T.push(v[w]);i=i.filter(function(e){return e});for(var O=i.reduce(function(e,t){return ve(e,t.length)},0),N=0;N<O;N++)for(var k=0;k<i.length;k++)null==i[k][N]&&(i[k][N]={spacer:1})}0<T.length&&(t.gridColumnEnd=T,t.gridColumnEnd[t.gridColumnEnd.length-1]=t.box.right)}if(1<i.length){t.gridColumnCount=o?i[0].length:i.length,r=this.application.writeGridLayout(t,a,t.gridColumnCount);for(var C=0,B=0,P;C<i.length;C++){P=0;for(var M=0,G=0,H;M<i[C].length;M++)if(H=i[C][M],!!H.spacer)1===H.spacer&&P++;else if(H.parent.hide(),H.parent=t,o)H.gridRowStart=0===M,H.gridRowEnd=M===i[C].length-1,H.gridFirst=0===C&&0===M,H.gridLast=C===i.length-1&&H.gridRowEnd,H.gridIndex=M;else{for(var V=1,X=1+P,z=C+1;z<i.length&&1===i[z][M].spacer;z++)X++,i[z][M].spacer=2;if(1===X)for(var W=M+1;W<i[C].length&&1===i[C][W].spacer;W++)V++,i[C][W].spacer=2;H.gridRowSpan=V,H.gridColumnSpan=X,H.gridRowStart=0==G++,H.gridRowEnd=X+C===i.length,H.gridFirst=0==B++,H.gridLast=H.gridRowEnd&&M===i[C].length-1,H.gridIndex=C,P=0}}t.render(a)}return{xml:r}}},{key:'processChild',value:function(){var e=this.node,t=this.parent,n=void 0,a='';if(this.options.balanceColumns)n=e.gridSiblings;else{var r=t.gridColumnEnd[Te(e.gridIndex+(e.gridColumnSpan-1),t.gridColumnEnd.length-1)];n=e.documentParent.children.filter(function(t){return!t.renderParent&&t.linear.left>=e.linear.right&&t.linear.right<=r})}if(null!=n&&0<n.length){n.unshift(e),F(n,'linear.left');var i=this.application.controllerHandler.createGroup(e,t,n),o=[He.linearX(n),He.linearY(n)],d=o[0],l=o[1];return a=d||l?this.application.writeLinearLayout(i,t,l):this.application.writeDefaultLayout(i,t),{xml:a,parent:i}}return{xml:a}}}]),t}(dt),Mt=function(e){function t(e,n,a){return Le(this,t),De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return Ce(t,e),we(t,[{key:'condition',value:function(){return ke(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'condition',this).call(this)&&this.node.children.every(function(e){return'LI'===e.tagName})&&this.node.children.some(function(e){return'list-item'===e.css('display')&&'none'!==e.css('listStyleType')})&&(He.linearX(this.node.children)||He.linearY(this.node.children))}},{key:'processNode',value:function(){var e=this.node,t=this.parent,n='';n=He.linearY(e.children)?this.application.writeGridLayout(e,t,2):this.application.writeLinearLayout(e,t,He.linearY(e.children));for(var a=0,r=0;a<e.children.length;a++){var o=e.children[a],d='0';if('list-item'===o.css('display')){var l=o.css('listStyleType');d='disc'===l?'\u25CF':'square'===l?'\u25A0':'lower-alpha'===l||'lower-latin'===l?h(r).toLowerCase()+'.':'upper-alpha'===l||'upper-latin'===l?h(r)+'.':'lower-roman'===l?g(r+1).toLowerCase()+'.':'upper-roman'===l?g(r+1)+'.':'OL'===e.tagName?(('decimal-leading-zero'===l&&9>r?'0':'')&&(r+1).toString())+'.':'\u25CB',r++}o.data(lt.LIST+':listStyle',d)}return{xml:n}}}]),t}(dt),Gt=function(e){function t(e,n,a){return Le(this,t),De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return Ce(t,e),we(t,[{key:'processChild',value:function(){var e=this.node,t=this.application.controllerHandler,n=e.data(lt.LIST+':listStyle');if(null!=n){var a;t.prependBefore(e.id,t.getViewStatic('0'===n?Je.SPACE:Je.TEXT,e.depth+e.renderDepth,{android:(a={gravity:pe('right'),layout_gravity:'fill',layout_columnWeight:'0'},Oe(a,pe('layout_marginRight'),z(e.tagName,pe('margin_right'),'8px')),Oe(a,'text','0'===n?'':n),a)},'wrap_content','wrap_content')),e.android('layout_columnWeight','1')}return{xml:''}}},{key:'afterInsert',value:function(){var e=this.node;e.is(Je.GRID)&&e.android('layout_width','match_parent')}}]),t}(Mt),Ht=function(e){function t(e,n,a){return Le(this,t),De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return Ce(t,e),we(t,[{key:'is',value:function(e){return ke(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'is',this).call(this,e)&&('INPUT'!==e.element.tagName||['button','file','image','reset','search','submit'].includes(e.element.type))}},{key:'init',value:function(e){if(this.included(e)){var t=J(e).position;e.__nodeIsolated='static'!==t&&'initial'!==t}return!1}},{key:'condition',value:function(){return ke(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'condition',this).call(this)&&this.included()}}]),t}(dt),Vt={FAB:'androme.widget.floatingactionbutton',MENU:'androme.widget.menu',COORDINATOR:'androme.widget.coordinator',TOOLBAR:'androme.widget.toolbar',DRAWER:'androme.widget.drawer',BOTTOM_NAVIGATION:'androme.widget.bottomnavigation'},Xt={DRAWER:'android.support.v4.widget.DrawerLayout',NAVIGATION_VIEW:'android.support.design.widget.NavigationView',COORDINATOR:'android.support.design.widget.CoordinatorLayout',APPBAR:'android.support.design.widget.AppBarLayout',COLLAPSING_TOOLBAR:'android.support.design.widget.CollapsingToolbarLayout',TOOLBAR:'android.support.v7.widget.Toolbar',FLOATING_ACTION_BUTTON:'android.support.design.widget.FloatingActionButton',BOTTOM_NAVIGATION:'android.support.design.widget.BottomNavigationView'},zt={MENU:'menu',ITEM:'item',GROUP:'group'},Wt={MENU:'ic_menu_',DIALOG:'ic_dialog_'},Ut=function(e){function t(e,n,a){return Le(this,t),De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return Ce(t,e),we(t,[{key:'processNode',value:function(){var e=this.node,t=this.parent,n=e.element,a=Object.assign({},this.options[n.id]),r=e.css('backgroundColor');ge(a,'android','backgroundTint',r?'@color/'+ut.addColor(de(r)[0]):'?attr/colorAccent'),ge(a,'android','focusable','true');var i='';switch(n.tagName){case'IMG':i=ut.addImageSrcSet(n,Wt.DIALOG);break;case'INPUT':i='image'===n.type?ut.addImage({mdpi:n.src},Wt.DIALOG):ut.addImageURL(e.css('backgroundImage'),Wt.DIALOG);break;case'BUTTON':i=ut.addImageURL(e.css('backgroundImage'),Wt.DIALOG);}''!==i&&ge(a,'app','srcCompat','@drawable/'+i);var o=!1;if(e.isolated){var d=v(e,'parent.element.dataset.target');if(''!==d&&e.parent.viewName!==Xt.COORDINATOR){var l=document.getElementById(d);null!=l&&(o=!0)}}e.depth=o?0:e.parent.renderDepth+1;var s=this.application.controllerHandler.getViewStatic(Xt.FLOATING_ACTION_BUTTON,o?-1:e.parent.renderDepth+1,a,'wrap_content','wrap_content',e);e.excludeResource=Ze.BOX_STYLE|Ze.ASSET;var u=!1;return e.isolated?(me(e),o?(e.app('layout_anchor',t.stringId),e.app('layout_anchorGravity',e.android('layout_gravity')),e.delete('android','layout_gravity'),e.data(Vt.FAB+':insert',s),e.render(e),s='',u=!0):e.render(t)):e.render(t),{xml:s,proceed:u}}},{key:'insert',value:function(){var e=this.node,t=v(e,'parent.element.dataset.target');if(''!==t){var n=this.application.findByDomId(t);if(null!=n&&n.viewName===Xt.COORDINATOR){var a=e.data(Vt.FAB+':insert')||'';''!==a&&(e.renderDepth=n.renderDepth+1,a=H(a,e.renderDepth)),this.application.addInsertQueue(n.id,[a])}}}},{key:'afterInsert',value:function(){var e=this.node;e.android('layout_width','wrap_content'),e.android('layout_height','wrap_content')}}]),t}(Ht),Yt=function(e){function t(e,n,a){Le(this,t);var r=De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return r.require(lt.EXTERNAL,!0),r}return Ce(t,e),we(t,[{key:'init',value:function(e){if(this.included(e)){var t=!1;if(0<e.children.length){var n=e.children[0].tagName;t=tt.includes(n)&&Array.from(e.children).every(function(e){return e.tagName===n});for(var a=e.parentElement;null!=a;){if('NAV'===a.tagName&&this.application.elements.has(a)){t=!1;break}a=a.parentElement}}t&&(Array.from(e.querySelectorAll('NAV')).forEach(function(t){var n=J(e);'none'===n.display&&(t.__andromeExternalDisplay='none',t.style.display='block')}),this.application.elements.add(e))}return!1}},{key:'afterRender',value:function(){this.included(this.node.element)&&Array.from(this.node.element.querySelectorAll('NAV')).forEach(function(e){var t=e.__andromeExternalDisplay;null!=t&&(e.style.display=t)})}}]),t}(dt),jt={id:/^@\+id\/\w+$/,title:/^.+$/,titleCondensed:/^.+$/,icon:/^@drawable\/.+$/,onClick:/^.+$/,showAsAction:/^(ifRoom|never|withText|always|collapseActionView)$/,actionLayout:/^@layout\/.+$/,actionViewClass:/^.+$/,actionProviderClass:/^.+$/,alphabeticShortcut:/^[a-zA-Z]+$/,alphabeticModifiers:/(META|CTRL|ALT|SHIFT|SYM|FUNCTION)+/g,numericShortcut:/^[0-9]+$/,numericModifiers:/(META|CTRL|ALT|SHIFT|SYM|FUNCTION)+/g,checkable:/^(true|false)$/,visible:/^(true|false)$/,enabled:/^(true|false)$/,menuCategory:/^(container|system|secondary|alternative)$/,orderInCategory:/^[0-9]+$/},qt={id:/^@\+id\/\w+$/,checkableBehavior:/^(none|all|single)$/,visible:/^(true|false)$/,enabled:/^(true|false)$/,menuCategory:/^(container|system|secondary|alternative)$/,orderInCategory:/^[0-9]+$/},Kt=['showAsAction','actionViewClass','actionProviderClass'],Jt=function(e){function t(e,n,a){return Le(this,t),De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return Ce(t,e),we(t,[{key:'processNode',value:function(){var e=this,t=this.node,n=this.application.controllerHandler.getViewStatic(zt.MENU,0,{},'','',t,!0);return t.renderParent=!0,t.cascade().forEach(function(t){return t.renderExtension=e}),t.excludeResource=Ze.ALL,{xml:n}}},{key:'processChild',value:function(){var e=this,t=this.node,n=t.element;if('#text'===n.nodeName)return t.hide(),{xml:'',proceed:!0};var a=this.parent;t.excludeResource=Ze.ALL,t.renderDepth=a.renderDepth+1,t.renderParent=!0;var r={android:{},app:{}},i=Array.from(t.element.children),o=zt.ITEM,d='',l=!1,s=!1;if(i.some(function(e){return tt.includes(e.tagName)&&0<e.children.length})){if(i.some(function(e){return'NAV'===e.tagName}))''===n.title?Array.from(t.element.childNodes).some(function(e){return'#text'===e.nodeName?null!=e.textContent&&''!==e.textContent.trim()&&(d=e.textContent.trim(),!0):'NAV'!==e.tagName&&(d=e.innerText.trim(),!0)}):d=n.title.trim(),t.children.forEach(function(e){return'NAV'!==e.tagName&&e.hide()});else if('NAV'===t.tagName)o=zt.MENU,s=!0;else{o=zt.GROUP;var u='';t.children.every(function(t){return e.hasInputType(t,'radio')})?u='single':t.children.every(function(t){return e.hasInputType(t,'checkbox')})&&(u='all'),r.android.checkableBehavior=u}l=!0}else null==a.android('checkableBehavior')&&this.hasInputType(t,'checkbox')&&(r.android.checkable='true'),d=(''===n.title?n.innerText:n.title).trim();switch(o){case zt.ITEM:if(this.parseDataSet(jt,n,r),null==t.android('icon')){var p=ut.addImageURL(n.style.backgroundImage,Wt.MENU);if(''!==p)r.android.icon='@drawable/'+p;else{var c=t.children.find(function(e){return'IMG'===e.element.tagName});null!=c&&(p=ut.addImageSrcSet(c.element,Wt.MENU),''!==p&&(r.android.icon='@drawable/'+p))}}break;case zt.GROUP:this.parseDataSet(qt,n,r);}if(null==t.android('title')&&''!==d){var h=ut.addString(d);''!==h&&(d='@string/'+h),r.android.title=d}null==r.android.id?t.setViewId(o):t.viewName=o;var g=this.application.controllerHandler.getViewStatic(o,t.depth,r,'','',t,l);return{xml:g,proceed:s}}},{key:'afterRender',value:function(){if(ke(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'afterRender',this).call(this),this.included(this.node.element)){var e=this.application.current;e.pathname='res/menu'}}},{key:'parseDataSet',value:function(e,t,n){for(var a in t.dataset){var r=t.dataset[a];if(null!=r&&null!=e[a]){var i=r.match(e[a]);if(null!=i){var o=(null==this.options.appCompat||this.options.appCompat)&&Kt.includes(a)?'app':'android';n[o][a]=Array.from(new Set(i)).join('|')}}}}},{key:'hasInputType',value:function(e,t){return 0<e.children.length&&e.children.some(function(e){return e.element.type===t})}}]),t}(Yt),Zt=function(e){function t(e,n,a){return Le(this,t),De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return Ce(t,e),we(t,[{key:'processNode',value:function(){var e=this,t=this.application,n=this.application.controllerHandler,a=this.node,r=this.parent,i=n.renderGroup(a,r,Xt.COORDINATOR);a.apply(this.options[a.element.id]),a.excludeResource=Ze.FONT_STYLE;var o=a.children.filter(function(e){return!e.isolated});if(0<o.length){var d=this.getToolbar(a),l=0,s=0,u=null;if(null!=d){var p=this.application.findExtension(Vt.TOOLBAR);null!=p&&(l=d.linear.bottom,s=d.bounds.height,Ae(d.linear.top)===a.box.top&&(a.bounds.bottom-=s,a.setBounds(!0)),u=p.options[d.element.id].collapsingToolbar)}var c=a.viewId+'_content',h='';(null==this.options.includes||this.options.includes)&&(h=n.getViewStatic('include',a.depth+1,{layout:'@layout/'+c}));var g=new ht(t.cache.nextId,Ke.targetAPI,a.element);g.parent=a,g.inheritBase(a),g.excludeResource=Ze.ALL,o.forEach(function(t){t.parent=g,t.depth++,0<s&&t.linear.top>=l&&(e.adjustBounds(t,s),t.cascade().forEach(function(t){return e.adjustBounds(t,s)})),g.children.push(t)}),a.children=a.children.filter(function(e){return e.isolated}),t.cache.list.push(g);var m={android:{}},f=Object.assign({},u),y=[mt.linearX(o),mt.linearY(o)],_=y[0],b=y[1],x='';t.isLinearXY(_,b,a,o)?(x=Ve.LINEAR,m.android.orientation=b?'vertical':'horizontal'):x=Ve.CONSTRAINT,null!=u&&(ge(f,'app','layout_behavior','@string/appbar_scrolling_view_behavior'),a.android('fitsSystemWindows','true')),ge(null==u?m:f,'android','id',a.stringId+'_content');var T=''===h?a.depth+1:0,v=n.getViewStatic(x,T+(u?1:0),m,'match_parent','wrap_content',g,!0);null!=u&&(v=n.getViewStatic(Ve.SCROLL_NESTED,T,f,'match_parent','match_parent',new ht(0,Ke.targetAPI),!0).replace('{:0}',v)),''!==h&&(t.addInclude(c,v),v=h),i=i.replace('{:'+a.id+'}',v+'{:'+a.id+'}')}return{xml:i}}},{key:'afterInsert',value:function(){var e=this.node;e.documentRoot&&(e.android('layout_width','match_parent'),e.android('layout_height','match_parent'))}},{key:'getToolbar',value:function(e){var t=Array.from(e.element.children).find(function(e){return T(v(e,'dataset.ext'),Vt.TOOLBAR)});return null==t?null:t.__node}},{key:'adjustBounds',value:function(e,t){e.bounds.top-=t,e.bounds.bottom-=t,e.setBounds(!0)}}]),t}(dt),Qt=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','\t<style name="{@appTheme}" parent="{@parentTheme}">','!1','\t\t<item name="{name}">{value}</item>','!1','\t</style>','\t<style name="{@appTheme}.NoActionBar">','\t\t<item name="windowActionBar">false</item>','\t\t<item name="windowNoTitle">true</item>','\t</style>','\t<style name="AppTheme.AppBarOverlay" parent="{@appBarOverlay}" />','\t<style name="AppTheme.PopupOverlay" parent="{@popupOverlay}" />','</resources>','!0'].join('\n'),$t=function(e){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=arguments[2];Le(this,t);var r=De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return r.require(Vt.MENU),r}return Ce(t,e),we(t,[{key:'init',value:function(e){if(this.included(e)){if(Array.from(e.children).forEach(function(e){'NAV'===e.tagName&&null==e.dataset.ext&&(e.dataset.ext=lt.EXTERNAL)}),null!=e.dataset.target){var t=document.getElementById(e.dataset.target);null==t||e.parentElement===t||T(v(t,'dataset.ext'),Vt.COORDINATOR)||this.application.elements.add(e)}T(v(e,'parentElement.dataset.ext'),Vt.COORDINATOR)&&(e.__nodeIsolated=!0)}return!1}},{key:'condition',value:function(){return ke(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'condition',this).call(this)&&this.included()}},{key:'processNode',value:function(){var e=this.application.controllerHandler,t=this.node,n=t.hasElement&&null!=t.element.dataset.target&&document.getElementById(t.element.dataset.target)!==t.parent.element,a=Object.assign({},null==this.element?{}:this.options[this.element.id]),r=Object.assign({},a.toolbar),i=Object.assign({},a.appBar),o=Object.assign({},a.collapsingToolbar),d=null!=a.collapsingToolbar,l=n||null!=a.appBar,s=n?0:t.depth+t.renderDepth,u=t.children.filter(function(e){return e.isolated}).length;Array.from(t.element.children).forEach(function(e){if('IMG'===e.tagName){if(null!=e.dataset.navigationIcon){var t=ut.addImageSrcSet(e,Wt.MENU);''!==t&&(ge(toolbar,'app','navigationIcon','@drawable/'+t),'none'!==J(e).display&&u++)}if(null!=e.dataset.collapseIcon){var n=ut.addImageSrcSet(e,Wt.MENU);''!==n&&(ge(toolbar,'app','collapseIcon','@drawable/'+n),'none'!==J(e).display&&u++)}}});var c='',h='';n&&(ge(r,'android','layout_height','?attr/actionBarSize'),ge(r,'android','background','?attr/colorPrimary')),d?(ge(r,'app','layout_collapseMode','pin'),null!=r.app.popupTheme&&(h=r.app.popupTheme),r.app.popupTheme='@style/AppTheme.PopupOverlay'):ge(r,'app','popupTheme','@style/ThemeOverlay.AppCompat.Light'),null!=ce(t)&&ge(r,'app','menu','@menu/{'+t.id+':'+Vt.TOOLBAR+':menu}'),t.depth=s+(l?1:0)+(a.collapsingToolbar?1:0);var g=e.getViewStatic(Xt.TOOLBAR,t.depth,{android:r.android,app:r.app},'match_parent','wrap_content',t,0<t.children.length-u);if(d){var m=t.element.style;if(m.backgroundImage){var f=Object.assign({},a.backgroundImage),y='center';switch(m.backgroundSize){case'cover':case'100% auto':case'auto 100%':y='centerCrop';break;case'contain':case'100% 100%':y='fitXY';break;case'auto':y='matrix';}ge(f,'android','id',t.stringId+'_image'),ge(f,'android','src','@drawable/'+ut.addImageURL(m.backgroundImage)),ge(f,'android','scaleType',y),ge(f,'android','fitsSystemWindows','true'),ge(f,'app','layout_collapseMode','parallax'),g+=e.getViewStatic(Ve.IMAGE,t.depth,{android:f.android,app:f.app},'match_parent','match_parent'),t.excludeResource|=Ze.IMAGE_SOURCE}}var _='';l&&(ge(i,'android','id',t.stringId+'_appbar'),ge(i,'android','layout_height',0<t.viewHeight?z('appbar','height',p(t.viewHeight)):'wrap_content'),d?(ge(i,'android','fitsSystemWindows','true'),null!=i.android.theme&&(c=i.android.theme),i.android.theme='@style/AppTheme.AppBarOverlay'):ge(i,'android','theme','@style/ThemeOverlay.AppCompat.Dark.ActionBar'),_=e.getViewStatic(Xt.APPBAR,n?-1:s,{android:i.android,app:i.app},'match_parent','wrap_content',null,!0),d&&(ge(o,'android','id',t.stringId+'_collapsing'),ge(o,'android','fitsSystemWindows','true'),ge(o,'app','contentScrim','?attr/colorPrimary'),ge(o,'app','layout_scrollFlags','scroll|exitUntilCollapsed'),ge(o,'app','toolbarId',t.stringId),_=_.replace('{:0}',e.getViewStatic(Xt.COLLAPSING_TOOLBAR,++s,{android:o.android,app:o.app},'match_parent','match_parent',null,!0)),this.createResourceTheme(c,h)),t.viewId=i.android.id.replace('@+id/','')),''!==_&&(g=_.replace('{:0}',g));var b=!1;return n?(t.data(Vt.TOOLBAR+':insert',g),t.render(t),g='',b=!0):(t.render(this.parent),t.renderDepth=t.depth),t.excludeResource|=Ze.FONT_STYLE,{xml:g,proceed:b}}},{key:'processChild',value:function(){var e=this.element;return null!=e&&'IMG'===e.tagName&&(null!=e.dataset.navigationIcon||null!=e.dataset.collapseIcon)?(this.node.hide(),{xml:'',proceed:!0}):{xml:''}}},{key:'insert',value:function(){var e=this.application,t=this.node,n=v(t,'element.dataset.target');if(''!==n){var a=e.findByDomId(n),r=e.cacheInternal.list.find(function(e){return e.isolated&&e.parent===a&&e.viewName===Xt.COORDINATOR});if(null!=r){var i=t.data(Vt.TOOLBAR+':insert')||'';''!==i&&(i=H(i,t.renderDepth),t.renderDepth=t.depth+1,e.addInsertQueue(r.id,[i]))}}}},{key:'afterInsert',value:function(){var e=this.node;e.android('layout_height','?attr/actionBarSize')}},{key:'finalize',value:function(){var e=this.node,t=ce(e);if(null!=t)for(var n=this.application.layouts,a=0;a<n.length;a++)n[a].content=n[a].content.replace('{'+e.id+':'+Vt.TOOLBAR+':menu}',t.dataset.currentId)}},{key:'createResourceTheme',value:function(e,t){var n=Object.assign({},this.options.resource);ge(n,'','appTheme','AppTheme'),ge(n,'','parentTheme','Theme.AppCompat.Light.DarkActionBar');var a={0:[{appTheme:n.appTheme,parentTheme:n.parentTheme,appBarOverlay:e||'ThemeOverlay.AppCompat.Dark.ActionBar',popupOverlay:t||'ThemeOverlay.AppCompat.Light',1:[]}]};ge(n,'output','path','res/values'),ge(n,'output','file',Vt.TOOLBAR+'.xml'),this.application.resourceHandler.addResourceTheme(Qt,a,n)}}]),t}(dt),en=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','\t<style name="{@appTheme}" parent="{@parentTheme}">','!1','\t\t<item name="{name}">{value}</item>','!1','\t</style>','</resources>','!0'].join('\n'),tn=function(e){function t(e,n,a){Le(this,t);var r=De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return r.require(Vt.MENU),r}return Ce(t,e),we(t,[{key:'processNode',value:function(){var e=this,t=this.node,n=this.parent,a=Object.assign({},this.options[t.element.id]);ge(a,'android','background','?android:attr/windowBackground'),ge(a,'app','menu','@menu/{'+t.id+':'+Vt.BOTTOM_NAVIGATION+':menu}');for(var r=this.application.controllerHandler.getViewStatic(Xt.BOTTOM_NAVIGATION,t.depth,a,n.is(Je.CONSTRAINT)?'0px':'match_parent','wrap_content',t),o=5;o<t.children.length;o++)t.children[o].hide(),t.children[o].cascade().forEach(function(e){return e.hide()});return t.cascade().forEach(function(t){return t.renderExtension=e}),t.excludeResource=Ze.ASSET,t.render(n),this.createResourceTheme(),{xml:r}}},{key:'afterInsert',value:function(){var e=this.node;0===e.renderParent.viewHeight&&e.renderParent.android('layout_height','match_parent')}},{key:'finalize',value:function(){var e=this.node;if(null!=ce(e)){var t='';Array.from(this.application.elements).some(function(n){return!!(n.parentElement===e.element&&T(v(n,'dataset.ext'),Vt.MENU))&&(t=n.dataset.currentId,!0)}),''!==t&&this.application.layouts.forEach(function(n){return n.content=n.content.replace('{'+e.id+':'+Vt.BOTTOM_NAVIGATION+':menu}',t)})}}},{key:'createResourceTheme',value:function(){var e=Object.assign({},this.options.resource);ge(e,'','appTheme','AppTheme'),ge(e,'','parentTheme','Theme.AppCompat.Light.DarkActionBar');var t={0:[{appTheme:e.appTheme,parentTheme:e.parentTheme,1:[]}]};ge(e,'output','path','res/values'),ge(e,'output','file',Vt.BOTTOM_NAVIGATION+'.xml'),this.application.resourceHandler.addResourceTheme(en,t,e)}}]),t}(dt),nn=['!0','<?xml version="1.0" encoding="utf-8"?>','<resources>','\t<style name="{@appTheme}" parent="{@parentTheme}">','\t\t<item name="android:windowDrawsSystemBarBackgrounds">true</item>','\t\t<item name="android:statusBarColor">@android:color/transparent</item>','\t\t<item name="android:windowTranslucentStatus">true</item>','!1','\t\t<item name="{name}">{value}</item>','!1','\t</style>','</resources>','!0'].join('\n'),an=function(e){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=arguments[2];Le(this,t);var r=De(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return r.documentRoot=!0,r.require(lt.EXTERNAL,!0),r.require(Vt.MENU),r.require(Vt.COORDINATOR),r}return Ce(t,e),we(t,[{key:'init',value:function(e){return!!(this.included(e)&&0<e.children.length)&&(Array.from(e.children).forEach(function(e){'NAV'===e.tagName&&null==e.dataset.ext&&(e.dataset.ext=lt.EXTERNAL)}),this.application.elements.add(e),!0)}},{key:'condition',value:function(){return ke(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'condition',this).call(this)&&this.included()}},{key:'processNode',value:function(){var e=this.application,t=e.controllerHandler,n=this.node,a=n.depth+n.renderDepth,r=Object.assign({},this.options.drawer),i=ce(n);null!=i&&ge(r,'android','fitsSystemWindows','true');var o=t.getViewStatic(Xt.DRAWER,a,{android:r.android,app:r.app},'match_parent','match_parent',n,!0),d=n.viewId+'_content',l='';(null==this.options.includes||this.options.includes)&&(l=t.getViewStatic('include',a+1,{layout:'@layout/'+d}),a=-1);var s=new ht(e.cache.nextId,Ke.targetAPI,n.element);s.parent=n,s.inheritBase(n),s.renderExtension=e.findExtension(Vt.COORDINATOR),s.excludeResource=Ze.ALL,s.isolated=!0,e.cache.list.push(s);var u=t.getViewStatic(Xt.COORDINATOR,a+1,{android:{id:n.stringId+'_content'}},'match_parent','match_parent',s,!0);if(r=Object.assign({},this.options.navigation),ge(r,'android','layout_gravity',pe('left')),null!=i){this.createResourceTheme(),ge(r,'android','id',n.stringId+'_view'),ge(r,'android','fitsSystemWindows','true'),ge(r,'app','menu','@menu/{'+n.id+':'+Vt.DRAWER+':menu}'),ge(r,'app','headerLayout','@layout/{'+n.id+':'+Vt.DRAWER+':headerLayout}');var p=t.getViewStatic(Xt.NAVIGATION_VIEW,n.depth+1,{android:r.android,app:r.app},'wrap_content','match_parent');o=o.replace('{:'+n.id+'}',(''===l?u:l)+p)}else{var c=n.children[n.children.length-1];c.android('layout_gravity',r.android.layout_gravity),c.android('layout_height','match_parent'),c.isolated=!0,t.prependBefore(c.id,''===l?u:l),i=c.element}return n.children.forEach(function(e){i.__node!==e&&(e.parent=s,s.children.push(e))}),''!==l&&e.addInclude(d,u),n.renderParent=!0,n.excludeResource=Ze.FONT_STYLE,{xml:o}}},{key:'afterInsert',value:function(){var e=he(this.node,lt.EXTERNAL);if(null!=e){var t=e.__node;0===t.viewHeight&&t.android('layout_height','wrap_content')}}},{key:'finalize',value:function(){var e=this.node,t=v(he(e,Vt.MENU),'dataset.currentId'),n=v(he(e,lt.EXTERNAL),'dataset.currentId');''!==t&&this.application.layouts.forEach(function(n){return n.content=n.content.replace('{'+e.id+':'+Vt.DRAWER+':menu}',t)}),''!==n&&this.application.layouts.forEach(function(t){return t.content=t.content.replace('{'+e.id+':'+Vt.DRAWER+':headerLayout}',n)})}},{key:'createResourceTheme',value:function(){var e=Object.assign({},this.options.resource);ge(e,'','appTheme','AppTheme'),ge(e,'','parentTheme','Theme.AppCompat.Light.NoActionBar');var t={0:[{appTheme:e.appTheme,parentTheme:e.parentTheme,1:[]}]};ge(e,'output','path','res/values-v21'),ge(e,'output','file',Vt.DRAWER+'.xml'),this.application.resourceHandler.addResourceTheme(nn,t,e)}}]),t}(dt),rn=!1,on=new Set,dn=(cn={},Oe(cn,lt.EXTERNAL,new Dt(lt.EXTERNAL)),Oe(cn,lt.CUSTOM,new Bt(lt.CUSTOM)),Oe(cn,lt.LIST,new Gt(lt.LIST,['UL','OL'])),Oe(cn,lt.TABLE,new Ft(lt.TABLE,['TABLE'])),Oe(cn,lt.GRID,new Pt(lt.GRID,['FORM','UL','OL','DL','DIV','TABLE','NAV','SECTION','ASIDE','MAIN','HEADER','FOOTER','P','ARTICLE','FIELDSET','SPAN'])),Oe(cn,Vt.FAB,new Ut(Vt.FAB,['BUTTON','INPUT','IMG'])),Oe(cn,Vt.MENU,new Jt(Vt.MENU,['NAV'])),Oe(cn,Vt.COORDINATOR,new Zt(Vt.COORDINATOR)),Oe(cn,Vt.TOOLBAR,new $t(Vt.TOOLBAR)),Oe(cn,Vt.BOTTOM_NAVIGATION,new tn(Vt.BOTTOM_NAVIGATION)),Oe(cn,Vt.DRAWER,new an(Vt.DRAWER)),cn),ln=new _t,sn=new Ct,un=new At(sn),pn=new j(ht,mt),cn;pn.registerController(ln),pn.registerResource(un),function(){var e=new Set,t=!0,n=!1,a=void 0;try{for(var r=Ke.builtInExtensions[Symbol.iterator](),i,o;!(t=(i=r.next()).done);t=!0)for(var d in o=i.value,o=o.toLowerCase().trim(),dn)(o===d||d.startsWith(o+'.'))&&e.add(dn[d])}catch(e){n=!0,a=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw a}}e.forEach(function(e){return pn.registerExtension(e)})}(),e.parseDocument=function(){function e(){rn=!1,pn.elements.forEach(function(e){''===pn.appName?(''===e.id&&(e.id='untitled'),pn.appName=e.id):''===e.id&&(e.id='view_'+pn.size),e.dataset.views=(v(e,'dataset.views','number')+1).toString(),e.dataset.currentId=_('1'===e.dataset.views?e.id:e.id+'_'+e.dataset.views),pn.createNodeCache(e)&&(pn.createLayoutXml(),pn.setResources(),pn.setMarginPadding(),pn.setConstraints(),on.add(e))}),'function'==typeof r&&r.call(pn)}if(!pn.closed){rn=!1,pn.resetController(),pn.setStyleMap(),pn.elements.clear();for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];''===pn.appName&&0===n.length&&n.push(document.body),n.forEach(function(e){'string'==typeof e&&(e=document.getElementById(e)),e instanceof HTMLElement&&pn.elements.add(e)});var r=void 0,i=Array.from(pn.elements).map(function(e){return Array.from(e.querySelectorAll('IMG'))}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return!e.complete});if(0===i.length)e();else{rn=!0;var o=i.map(function(e){return new Promise(function(t,n){e.onload=t,e.onerror=n})});Promise.all(o).then(function(){return e()})}return{then:function(e){rn?r=e:e()}}}},e.registerExtension=function(e){e instanceof dt&&e.name&&Array.isArray(e.tagNames)&&pn.registerExtension(e)},e.configureExtension=function(e,t){if(null!=t){var n=pn.findExtension(e);null!=n&&Object.assign(n.options,t)}},e.getExtension=function(e){return pn.findExtension(e)},e.ready=fe,e.close=ye,e.reset=function(){on.forEach(function(e){delete e.dataset.views,delete e.dataset.currentId}),on.clear(),pn.reset()},e.saveAllToDisk=_e,e.writeLayoutAllXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return be(),pn.closed?pn.resourceHandler.file.layoutAllToXml(pn.viewData,e):''},e.writeResourceAllXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return be(),pn.closed?pn.resourceHandler.file.resourceAllToXml(e):''},e.writeResourceStringXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return be(),pn.closed?pn.resourceHandler.file.resourceStringToXml(e):''},e.writeResourceArrayXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return be(),pn.closed?pn.resourceHandler.file.resourceStringArrayToXml(e):''},e.writeResourceFontXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return be(),pn.closed?pn.resourceHandler.file.resourceFontToXml(e):''},e.writeResourceColorXml=function(){var e=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return pn.closed?pn.resourceHandler.file.resourceColorToXml(e):''},e.writeResourceStyleXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return be(),pn.closed?pn.resourceHandler.file.resourceStyleToXml(e):''},e.writeResourceDimenXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return be(),pn.closed?pn.resourceHandler.file.resourceDimenToXml(e):''},e.writeResourceDrawableXml=function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];return be(),pn.closed?pn.resourceHandler.file.resourceDrawableToXml(e):''},e.customize=function(e,t,n){if(null!=ct[e]){var a=ct[e].customizations;null==a[t]&&(a[t]={}),Object.assign(a[t],n)}},e.addXmlNamespace=function(e,t){pn.addXmlNamespace(e,t)},e.toString=function(){return pn.toString()},e.settings=Ke,e.Extension=dt,Object.defineProperty(e,'__esModule',{value:!0})});
